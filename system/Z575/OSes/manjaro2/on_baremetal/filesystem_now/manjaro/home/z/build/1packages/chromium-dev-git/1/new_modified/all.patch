diff --git a/ash/accelerators/accelerator_commands.cc b/ash/accelerators/accelerator_commands.cc
index c49ed50..0f02245 100644
--- a/ash/accelerators/accelerator_commands.cc
+++ b/ash/accelerators/accelerator_commands.cc
@@ -11,5 +11,5 @@
 #include "ash/wm/window_util.h"
 #include "ash/wm/wm_event.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 
 namespace ash {
diff --git a/ash/accelerators/accelerator_controller.cc b/ash/accelerators/accelerator_controller.cc
index 0dd6085..6533f97 100644
--- a/ash/accelerators/accelerator_controller.cc
+++ b/ash/accelerators/accelerator_controller.cc
@@ -55,5 +55,5 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "ui/aura/env.h"
 #include "ui/base/accelerators/accelerator.h"
diff --git a/ash/ash.gyp b/ash/ash.gyp
index 61a576f..0480c81 100644
--- a/ash/ash.gyp
+++ b/ash/ash.gyp
@@ -125,6 +125,6 @@
       'frame/default_header_painter.cc',
       'frame/default_header_painter.h',
-      'frame/frame_border_hit_test_controller.cc',
-      'frame/frame_border_hit_test_controller.h',
+#      'frame/frame_border_hit_test_controller.cc',
+#      'frame/frame_border_hit_test_controller.h',
       'frame/frame_util.cc',
       'frame/frame_util.h',
@@ -640,39 +640,39 @@
       'wm/workspace_controller.h',
     ],
-    'ash_test_support_sources': [
-      'desktop_background/desktop_background_controller_test_api.cc',
-      'desktop_background/desktop_background_controller_test_api.h',
+#    'ash_test_support_sources': [
+#      'desktop_background/desktop_background_controller_test_api.cc',
+#      'desktop_background/desktop_background_controller_test_api.h',
       'shell/keyboard_controller_proxy_stub.cc',
       'shell/keyboard_controller_proxy_stub.h',
       'shell/toplevel_window.cc',
       'shell/toplevel_window.h',
-      'test/app_list_controller_test_api.cc',
-      'test/app_list_controller_test_api.h',
-      'test/ash_test_base.cc',
-      'test/ash_test_base.h',
-      'test/ash_test_helper.cc',
-      'test/ash_test_helper.h',
-      'test/ash_test_views_delegate.cc',
-      'test/ash_test_views_delegate.h',
+#      'test/app_list_controller_test_api.cc',
+#      'test/app_list_controller_test_api.h',
+#      'test/ash_test_base.cc',
+#      'test/ash_test_base.h',
+#      'test/ash_test_helper.cc',
+#      'test/ash_test_helper.h',
+#      'test/ash_test_views_delegate.cc',
+#      'test/ash_test_views_delegate.h',
       'test/child_modal_window.cc',
       'test/child_modal_window.h',
-      'test/cursor_manager_test_api.cc',
-      'test/cursor_manager_test_api.h',
-      'test/display_manager_test_api.cc',
-      'test/display_manager_test_api.h',
-      'test/mirror_window_test_api.cc',
-      'test/mirror_window_test_api.h',
-      'test/overflow_bubble_view_test_api.cc',
-      'test/overflow_bubble_view_test_api.h',
-      'test/shelf_item_delegate_manager_test_api.cc',
-      'test/shelf_item_delegate_manager_test_api.h',
-      'test/shelf_test_api.cc',
-      'test/shelf_test_api.h',
-      'test/shelf_view_test_api.cc',
-      'test/shelf_view_test_api.h',
-      'test/shell_test_api.cc',
-      'test/shell_test_api.h',
-      'test/status_area_widget_test_helper.cc',
-      'test/status_area_widget_test_helper.h',
+#      'test/cursor_manager_test_api.cc',
+#      'test/cursor_manager_test_api.h',
+#      'test/display_manager_test_api.cc',
+#      'test/display_manager_test_api.h',
+#      'test/mirror_window_test_api.cc',
+#      'test/mirror_window_test_api.h',
+#      'test/overflow_bubble_view_test_api.cc',
+#      'test/overflow_bubble_view_test_api.h',
+#      'test/shelf_item_delegate_manager_test_api.cc',
+#      'test/shelf_item_delegate_manager_test_api.h',
+#      'test/shelf_test_api.cc',
+#      'test/shelf_test_api.h',
+#      'test/shelf_view_test_api.cc',
+#      'test/shelf_view_test_api.h',
+#      'test/shell_test_api.cc',
+#      'test/shell_test_api.h',
+#      'test/status_area_widget_test_helper.cc',
+#      'test/status_area_widget_test_helper.h',
       'test/test_activation_delegate.cc',
       'test/test_activation_delegate.h',
@@ -705,6 +705,6 @@
       'test/ui_controls_factory_ash.cc',
       'test/ui_controls_factory_ash.h',
-      'test/virtual_keyboard_test_helper.cc',
-      'test/virtual_keyboard_test_helper.h',
+#      'test/virtual_keyboard_test_helper.cc',
+#      'test/virtual_keyboard_test_helper.h',
     ],
     'ash_shell_lib_sources': [
@@ -742,125 +742,125 @@
       'shell/window_watcher_shelf_item_delegate.h',
     ],
-    'ash_unittests_sources': [
-      'accelerators/accelerator_commands_unittest.cc',
-      'accelerators/accelerator_controller_unittest.cc',
-      'accelerators/accelerator_filter_unittest.cc',
-      'accelerators/accelerator_table_unittest.cc',
-      'accelerators/magnifier_key_scroller_unittest.cc',
-      'accelerators/spoken_feedback_toggler_unittest.cc',
-      'ash_touch_exploration_manager_chromeos_unittest.cc',
-      'autoclick/autoclick_unittest.cc',
-      'content/display/screen_orientation_controller_chromeos_unittest.cc',
-      'desktop_background/desktop_background_controller_unittest.cc',
-      'dip_unittest.cc',
-      'display/display_change_observer_chromeos_unittest.cc',
-      'display/display_controller_unittest.cc',
-      'display/display_error_observer_chromeos_unittest.cc',
-      'display/display_info_unittest.cc',
-      'display/display_manager_unittest.cc',
-      'display/mirror_window_controller_unittest.cc',
-      'display/mouse_cursor_event_filter_unittest.cc',
-      'display/projecting_observer_chromeos_unittest.cc',
-      'display/resolution_notification_controller_unittest.cc',
-      'display/root_window_transformers_unittest.cc',
-      'display/screen_position_controller_unittest.cc',
-      'drag_drop/drag_drop_controller_unittest.cc',
-      'drag_drop/drag_drop_tracker_unittest.cc',
-      'extended_desktop_unittest.cc',
-      'focus_cycler_unittest.cc',
-      'frame/caption_buttons/frame_caption_button_container_view_unittest.cc',
-      'frame/caption_buttons/frame_size_button_unittest.cc',
-      'frame/custom_frame_view_ash_unittest.cc',
-      'frame/default_header_painter_unittest.cc',
-      'host/ash_window_tree_host_x11_unittest.cc',
-      'keyboard_overlay/keyboard_overlay_delegate_unittest.cc',
-      'keyboard_overlay/keyboard_overlay_view_unittest.cc',
-      'magnifier/magnification_controller_unittest.cc',
-      'root_window_controller_unittest.cc',
-      'screen_util_unittest.cc',
-      'shelf/scoped_observer_with_duplicated_sources_unittest.cc',
-      'shelf/shelf_layout_manager_unittest.cc',
-      'shelf/shelf_model_unittest.cc',
-      'shelf/shelf_navigator_unittest.cc',
-      'shelf/shelf_tooltip_manager_unittest.cc',
-      'shelf/shelf_unittest.cc',
-      'shelf/shelf_view_unittest.cc',
-      'shelf/shelf_widget_unittest.cc',
-      'shelf/shelf_window_watcher_unittest.cc',
-      'shell_unittest.cc',
-      'sticky_keys/sticky_keys_overlay_unittest.cc',
-      'sticky_keys/sticky_keys_unittest.cc',
-      'system/chromeos/brightness/tray_brightness_unittest.cc',
-      'system/chromeos/multi_user/user_switch_util_unittest.cc',
-      'system/chromeos/power/power_event_observer_unittest.cc',
-      'system/chromeos/power/power_status_unittest.cc',
-      'system/chromeos/power/power_status_view_unittest.cc',
-      'system/chromeos/power/tray_power_unittest.cc',
-      'system/chromeos/rotation/tray_rotation_lock_unittest.cc',
-      'system/chromeos/screen_security/screen_tray_item_unittest.cc',
-      'system/chromeos/session/logout_confirmation_controller_unittest.cc',
-      'system/chromeos/session/tray_session_length_limit_unittest.cc',
-      'system/chromeos/supervised/tray_supervised_user_unittest.cc',
-      'system/chromeos/tray_display_unittest.cc',
-      'system/date/date_view_unittest.cc',
-      'system/ime/tray_ime_chromeos_unittest.cc',
-      'system/overview/overview_button_tray_unittest.cc',
-      'system/tray/media_security/multi_profile_media_tray_item_unittest.cc',
-      'system/tray/system_tray_unittest.cc',
-      'system/tray/tray_details_view_unittest.cc',
-      'system/user/tray_user_unittest.cc',
-      'system/web_notification/ash_popup_alignment_delegate_unittest.cc',
-      'system/web_notification/web_notification_tray_unittest.cc',
-      'test/ash_test_helper_unittest.cc',
-      'test/ash_unittests.cc',
-      'tooltips/tooltip_controller_unittest.cc',
-      'touch/touch_observer_hud_unittest.cc',
-      'touch/touch_transformer_controller_unittest.cc',
-      'touch/touchscreen_util_unittest.cc',
-      'utility/partial_screenshot_controller_unittest.cc',
-      'virtual_keyboard_controller_unittest.cc',
-      'wm/always_on_top_controller_unittest.cc',
-      'wm/app_list_controller_unittest.cc',
-      'wm/ash_native_cursor_manager_unittest.cc',
-      'wm/ash_focus_rules_unittest.cc',
-      'wm/dock/docked_window_layout_manager_unittest.cc',
-      'wm/dock/docked_window_resizer_unittest.cc',
-      'wm/drag_window_resizer_unittest.cc',
-      'wm/gestures/overview_gesture_handler_unittest.cc',
-      'wm/immersive_fullscreen_controller_unittest.cc',
-      'wm/lock_layout_manager_unittest.cc',
-      'wm/lock_state_controller_unittest.cc',
-      'wm/maximize_mode/accelerometer_test_data_literals.cc',
-      'wm/maximize_mode/maximize_mode_controller_unittest.cc',
-      'wm/maximize_mode/maximize_mode_window_manager_unittest.cc',
-      'wm/mru_window_tracker_unittest.cc',
-      'wm/overlay_event_filter_unittest.cc',
-      'wm/overview/window_selector_unittest.cc',
-      'wm/panels/panel_layout_manager_unittest.cc',
-      'wm/panels/panel_window_resizer_unittest.cc',
-      'wm/resize_shadow_and_cursor_unittest.cc',
-      'wm/screen_dimmer_unittest.cc',
-      'wm/stacking_controller_unittest.cc',
-      'wm/system_gesture_event_filter_unittest.cc',
-      'wm/system_modal_container_layout_manager_unittest.cc',
-      'wm/toplevel_window_event_handler_unittest.cc',
-      'wm/video_detector_unittest.cc',
-      'wm/window_animations_unittest.cc',
-      'wm/window_cycle_controller_unittest.cc',
-      'wm/window_manager_unittest.cc',
-      'wm/window_modality_controller_unittest.cc',
-      'wm/window_positioner_unittest.cc',
-      'wm/window_state_unittest.cc',
-      'wm/window_util_unittest.cc',
-      'wm/workspace/magnetism_matcher_unittest.cc',
-      'wm/workspace/multi_window_resize_controller_unittest.cc',
-      'wm/workspace/workspace_event_handler_test_helper.cc',
-      'wm/workspace/workspace_event_handler_test_helper.h',
-      'wm/workspace/workspace_event_handler_unittest.cc',
-      'wm/workspace/workspace_layout_manager_unittest.cc',
-      'wm/workspace/workspace_window_resizer_unittest.cc',
-      'wm/workspace_controller_test_helper.cc',
-      'wm/workspace_controller_test_helper.h',
-      'wm/workspace_controller_unittest.cc',
+#    'ash_unittests_sources': [
+#      'accelerators/accelerator_commands_unittest.cc',
+#      'accelerators/accelerator_controller_unittest.cc',
+#      'accelerators/accelerator_filter_unittest.cc',
+#      'accelerators/accelerator_table_unittest.cc',
+#      'accelerators/magnifier_key_scroller_unittest.cc',
+#      'accelerators/spoken_feedback_toggler_unittest.cc',
+#      'ash_touch_exploration_manager_chromeos_unittest.cc',
+#      'autoclick/autoclick_unittest.cc',
+#      'content/display/screen_orientation_controller_chromeos_unittest.cc',
+#      'desktop_background/desktop_background_controller_unittest.cc',
+#      'dip_unittest.cc',
+#      'display/display_change_observer_chromeos_unittest.cc',
+#      'display/display_controller_unittest.cc',
+#      'display/display_error_observer_chromeos_unittest.cc',
+#      'display/display_info_unittest.cc',
+#      'display/display_manager_unittest.cc',
+#      'display/mirror_window_controller_unittest.cc',
+#      'display/mouse_cursor_event_filter_unittest.cc',
+#      'display/projecting_observer_chromeos_unittest.cc',
+#      'display/resolution_notification_controller_unittest.cc',
+#      'display/root_window_transformers_unittest.cc',
+#      'display/screen_position_controller_unittest.cc',
+#      'drag_drop/drag_drop_controller_unittest.cc',
+#      'drag_drop/drag_drop_tracker_unittest.cc',
+#      'extended_desktop_unittest.cc',
+#      'focus_cycler_unittest.cc',
+#      'frame/caption_buttons/frame_caption_button_container_view_unittest.cc',
+#      'frame/caption_buttons/frame_size_button_unittest.cc',
+#      'frame/custom_frame_view_ash_unittest.cc',
+#      'frame/default_header_painter_unittest.cc',
+#      'host/ash_window_tree_host_x11_unittest.cc',
+#      'keyboard_overlay/keyboard_overlay_delegate_unittest.cc',
+#      'keyboard_overlay/keyboard_overlay_view_unittest.cc',
+#      'magnifier/magnification_controller_unittest.cc',
+#      'root_window_controller_unittest.cc',
+#      'screen_util_unittest.cc',
+#      'shelf/scoped_observer_with_duplicated_sources_unittest.cc',
+#      'shelf/shelf_layout_manager_unittest.cc',
+#      'shelf/shelf_model_unittest.cc',
+#      'shelf/shelf_navigator_unittest.cc',
+#      'shelf/shelf_tooltip_manager_unittest.cc',
+#      'shelf/shelf_unittest.cc',
+#      'shelf/shelf_view_unittest.cc',
+#      'shelf/shelf_widget_unittest.cc',
+#      'shelf/shelf_window_watcher_unittest.cc',
+#      'shell_unittest.cc',
+#      'sticky_keys/sticky_keys_overlay_unittest.cc',
+#      'sticky_keys/sticky_keys_unittest.cc',
+#      'system/chromeos/brightness/tray_brightness_unittest.cc',
+#      'system/chromeos/multi_user/user_switch_util_unittest.cc',
+#      'system/chromeos/power/power_event_observer_unittest.cc',
+#      'system/chromeos/power/power_status_unittest.cc',
+#      'system/chromeos/power/power_status_view_unittest.cc',
+#      'system/chromeos/power/tray_power_unittest.cc',
+#      'system/chromeos/rotation/tray_rotation_lock_unittest.cc',
+#      'system/chromeos/screen_security/screen_tray_item_unittest.cc',
+#      'system/chromeos/session/logout_confirmation_controller_unittest.cc',
+#      'system/chromeos/session/tray_session_length_limit_unittest.cc',
+#      'system/chromeos/supervised/tray_supervised_user_unittest.cc',
+#      'system/chromeos/tray_display_unittest.cc',
+#      'system/date/date_view_unittest.cc',
+#      'system/ime/tray_ime_chromeos_unittest.cc',
+#      'system/overview/overview_button_tray_unittest.cc',
+#      'system/tray/media_security/multi_profile_media_tray_item_unittest.cc',
+#      'system/tray/system_tray_unittest.cc',
+#      'system/tray/tray_details_view_unittest.cc',
+#      'system/user/tray_user_unittest.cc',
+#      'system/web_notification/ash_popup_alignment_delegate_unittest.cc',
+#      'system/web_notification/web_notification_tray_unittest.cc',
+#      'test/ash_test_helper_unittest.cc',
+#      'test/ash_unittests.cc',
+#      'tooltips/tooltip_controller_unittest.cc',
+#      'touch/touch_observer_hud_unittest.cc',
+#      'touch/touch_transformer_controller_unittest.cc',
+#      'touch/touchscreen_util_unittest.cc',
+#      'utility/partial_screenshot_controller_unittest.cc',
+#      'virtual_keyboard_controller_unittest.cc',
+#      'wm/always_on_top_controller_unittest.cc',
+#      'wm/app_list_controller_unittest.cc',
+#      'wm/ash_native_cursor_manager_unittest.cc',
+#      'wm/ash_focus_rules_unittest.cc',
+#      'wm/dock/docked_window_layout_manager_unittest.cc',
+#      'wm/dock/docked_window_resizer_unittest.cc',
+#      'wm/drag_window_resizer_unittest.cc',
+#      'wm/gestures/overview_gesture_handler_unittest.cc',
+#      'wm/immersive_fullscreen_controller_unittest.cc',
+#      'wm/lock_layout_manager_unittest.cc',
+#      'wm/lock_state_controller_unittest.cc',
+#      'wm/maximize_mode/accelerometer_test_data_literals.cc',
+#      'wm/maximize_mode/maximize_mode_controller_unittest.cc',
+#      'wm/maximize_mode/maximize_mode_window_manager_unittest.cc',
+#      'wm/mru_window_tracker_unittest.cc',
+#      'wm/overlay_event_filter_unittest.cc',
+#      'wm/overview/window_selector_unittest.cc',
+#      'wm/panels/panel_layout_manager_unittest.cc',
+#      'wm/panels/panel_window_resizer_unittest.cc',
+#      'wm/resize_shadow_and_cursor_unittest.cc',
+#      'wm/screen_dimmer_unittest.cc',
+#      'wm/stacking_controller_unittest.cc',
+#      'wm/system_gesture_event_filter_unittest.cc',
+#      'wm/system_modal_container_layout_manager_unittest.cc',
+#      'wm/toplevel_window_event_handler_unittest.cc',
+#      'wm/video_detector_unittest.cc',
+#      'wm/window_animations_unittest.cc',
+#      'wm/window_cycle_controller_unittest.cc',
+#      'wm/window_manager_unittest.cc',
+#      'wm/window_modality_controller_unittest.cc',
+#      'wm/window_positioner_unittest.cc',
+#      'wm/window_state_unittest.cc',
+#      'wm/window_util_unittest.cc',
+#      'wm/workspace/magnetism_matcher_unittest.cc',
+#      'wm/workspace/multi_window_resize_controller_unittest.cc',
+#      'wm/workspace/workspace_event_handler_test_helper.cc',
+#      'wm/workspace/workspace_event_handler_test_helper.h',
+#      'wm/workspace/workspace_event_handler_unittest.cc',
+#      'wm/workspace/workspace_layout_manager_unittest.cc',
+#      'wm/workspace/workspace_window_resizer_unittest.cc',
+#      'wm/workspace_controller_test_helper.cc',
+#      'wm/workspace_controller_test_helper.h',
+#      'wm/workspace_controller_unittest.cc',
     ],
   },
@@ -1016,6 +1016,6 @@
     },
     {
-      # GN version: //ash:test_support
-      'target_name': 'ash_test_support',
+#      # GN version: //ash:test_support
+#      'target_name': 'ash_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -1023,12 +1023,12 @@
         '../testing/gtest.gyp:gtest',
         '../ui/accessibility/accessibility.gyp:ax_gen',
-        '../ui/app_list/app_list.gyp:app_list_test_support',
+#        '../ui/app_list/app_list.gyp:app_list_test_support',
         '../ui/events/devices/events_devices.gyp:events_devices',
-        '../ui/views/views.gyp:views_test_support',
+#        '../ui/views/views.gyp:views_test_support',
         'ash',
         'ash_resources.gyp:ash_resources',
       ],
       'sources': [
-        '<@(ash_test_support_sources)',
+#        '<@(ash_test_support_sources)',
       ],
       'conditions': [
@@ -1039,5 +1039,5 @@
             '../ui/platform_window/win/win_window.gyp:win_window',
             '../win8/win8.gyp:metro_viewer',
-            '../win8/win8.gyp:test_support_win8',
+#            '../win8/win8.gyp:test_support_win8',
             '../win8/win8_tests.gyp:test_registrar',
           ],
@@ -1050,14 +1050,14 @@
     },
     {
-      # GN version: //ash:ash_unittests
-      'target_name': 'ash_unittests',
+#      # GN version: //ash:ash_unittests
+#      'target_name': 'ash_unittests',
       'type': 'executable',
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../chrome/chrome_resources.gyp:packed_resources',
         '../components/components.gyp:user_manager',
         '../content/content.gyp:content_browser',
-        '../content/content_shell_and_tests.gyp:test_support_content',
+#        '../content/content_shell_and_tests.gyp:test_support_content',
         '../skia/skia.gyp:skia',
         '../testing/gtest.gyp:gtest',
@@ -1067,13 +1067,13 @@
         '../ui/app_list/app_list.gyp:app_list',
         '../ui/aura/aura.gyp:aura',
-        '../ui/aura/aura.gyp:aura_test_support',
+#        '../ui/aura/aura.gyp:aura_test_support',
         '../ui/base/ime/ui_base_ime.gyp:ui_base_ime',
         '../ui/base/ui_base.gyp:ui_base',
-        '../ui/base/ui_base.gyp:ui_base_test_support',
+#        '../ui/base/ui_base.gyp:ui_base_test_support',
         '../ui/compositor/compositor.gyp:compositor',
-        '../ui/compositor/compositor.gyp:compositor_test_support',
+#        '../ui/compositor/compositor.gyp:compositor_test_support',
         '../ui/events/devices/events_devices.gyp:events_devices',
         '../ui/events/events.gyp:events',
-        '../ui/events/events.gyp:events_test_support',
+#        '../ui/events/events.gyp:events_test_support',
         '../ui/events/events.gyp:gesture_detection',
         '../ui/gfx/gfx.gyp:gfx',
@@ -1081,10 +1081,10 @@
         '../ui/keyboard/keyboard.gyp:keyboard',
         '../ui/message_center/message_center.gyp:message_center',
-        '../ui/message_center/message_center.gyp:message_center_test_support',
+#        '../ui/message_center/message_center.gyp:message_center_test_support',
         '../ui/resources/ui_resources.gyp:ui_resources',
-        '../ui/views/controls/webview/webview_tests.gyp:webview_test_support',
+#        '../ui/views/controls/webview/webview_tests.gyp:webview_test_support',
         '../ui/views/views.gyp:views',
-        '../ui/views/views.gyp:views_test_support',
-        '../ui/web_dialogs/web_dialogs.gyp:web_dialogs_test_support',
+#        '../ui/views/views.gyp:views_test_support',
+#        '../ui/web_dialogs/web_dialogs.gyp:web_dialogs_test_support',
         '../ui/wm/wm.gyp:wm',
         '../url/url.gyp:url_lib',
@@ -1092,9 +1092,9 @@
         'ash_resources.gyp:ash_resources',
         'ash_strings.gyp:ash_strings',
-        'ash_test_support',
+#        'ash_test_support',
         'ash_with_content',
       ],
       'sources': [
-        '<@(ash_unittests_sources)',
+#        '<@(ash_unittests_sources)',
       ],
       'conditions': [
@@ -1102,19 +1102,19 @@
           'sources!': [
             # TODO(zork): fix this test to build on Windows. See: crosbug.com/26906
-            'focus_cycler_unittest.cc',
+#            'focus_cycler_unittest.cc',
 
             # All tests for multiple displays: not supported on Windows Ash.
-            'wm/drag_window_resizer_unittest.cc',
+#            'wm/drag_window_resizer_unittest.cc',
 
             # Can't resize on Windows Ash. http://crbug.com/165962
-            'autoclick/autoclick_unittest.cc',
-            'magnifier/magnification_controller_unittest.cc',
-            'sticky_keys/sticky_keys_overlay_unittest.cc',
-            'sticky_keys/sticky_keys_unittest.cc',
-            'system/chromeos/rotation/tray_rotation_lock_unittest.cc',
-            'system/tray/media_security/multi_profile_media_tray_item_unittest.cc',
-            'virtual_keyboard_controller_unittest.cc',
-            'wm/maximize_mode/maximize_mode_controller_unittest.cc',
-            'wm/workspace/workspace_window_resizer_unittest.cc',
+#            'autoclick/autoclick_unittest.cc',
+#            'magnifier/magnification_controller_unittest.cc',
+#            'sticky_keys/sticky_keys_overlay_unittest.cc',
+#            'sticky_keys/sticky_keys_unittest.cc',
+#            'system/chromeos/rotation/tray_rotation_lock_unittest.cc',
+#            'system/tray/media_security/multi_profile_media_tray_item_unittest.cc',
+#            'virtual_keyboard_controller_unittest.cc',
+#            'wm/maximize_mode/maximize_mode_controller_unittest.cc',
+#            'wm/workspace/workspace_window_resizer_unittest.cc',
           ],
           'sources': [
@@ -1131,21 +1131,21 @@
         ['chromeos==1', {
           'dependencies': [
-            '../chromeos/chromeos.gyp:chromeos_test_support_without_gmock',
+#            '../chromeos/chromeos.gyp:chromeos_test_support_without_gmock',
             '../chromeos/chromeos.gyp:power_manager_proto',
             '../device/bluetooth/bluetooth.gyp:device_bluetooth',
             '../ui/display/display.gyp:display',
-            '../ui/display/display.gyp:display_test_util',
+#            '../ui/display/display.gyp:display_test_util',
             '../ui/display/display.gyp:display_types',
           ],
           'sources': [
-            'first_run/first_run_helper_unittest.cc',
+#            'first_run/first_run_helper_unittest.cc',
           ],
         }, { # else: chromeos!=1
           'sources!': [
-            'accelerators/magnifier_key_scroller_unittest.cc',
-            'accelerators/spoken_feedback_toggler_unittest.cc',
-            'display/resolution_notification_controller_unittest.cc',
-            'touch/touch_transformer_controller_unittest.cc',
-            'touch/touchscreen_util_unittest.cc',
+#            'accelerators/magnifier_key_scroller_unittest.cc',
+#            'accelerators/spoken_feedback_toggler_unittest.cc',
+#            'display/resolution_notification_controller_unittest.cc',
+#            'touch/touch_transformer_controller_unittest.cc',
+#            'touch/touchscreen_util_unittest.cc',
           ],
         }],
@@ -1160,5 +1160,5 @@
         ['use_ozone==1', {
           'sources!': [
-            'sticky_keys/sticky_keys_unittest.cc',  # crbug.com/354035
+#            'sticky_keys/sticky_keys_unittest.cc',  # crbug.com/354035
           ],
         }],
@@ -1192,9 +1192,9 @@
         '../ui/views/examples/examples.gyp:views_examples_with_content_lib',
         '../ui/views/views.gyp:views',
-        '../ui/views/views.gyp:views_test_support',
+#        '../ui/views/views.gyp:views_test_support',
         'ash',
         'ash_resources.gyp:ash_resources',
         'ash_strings.gyp:ash_strings',
-        'ash_test_support',
+#        'ash_test_support',
         'ash_with_content',
       ],
@@ -1245,21 +1245,21 @@
     },
     {
-      # GN version: //ash:ash_shell_unittests
-      'target_name': 'ash_shell_unittests',
+#      # GN version: //ash:ash_shell_unittests
+#      'target_name': 'ash_shell_unittests',
       'type': 'executable',
       'dependencies': [
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../components/components.gyp:user_manager',
-        '../content/content_shell_and_tests.gyp:test_support_content',
+#        '../content/content_shell_and_tests.gyp:test_support_content',
         '../skia/skia.gyp:skia',
         '../testing/gtest.gyp:gtest',
         '../ui/accessibility/accessibility.gyp:ax_gen',
         'ash_shell_lib',
-        'ash_test_support',
+#        'ash_test_support',
       ],
       'sources': [
         # Note: file list duplicated in GN build.
-        'shell/window_watcher_unittest.cc',
-        'test/ash_unittests.cc',
+#        'shell/window_watcher_unittest.cc',
+#        'test/ash_unittests.cc',
       ],
       'conditions': [
@@ -1281,8 +1281,8 @@
       'targets': [
         {
-          'target_name': 'ash_unittests_run',
+#          'target_name': 'ash_unittests_run',
           'type': 'none',
           'dependencies': [
-            'ash_unittests',
+#            'ash_unittests',
           ],
           'includes': [
@@ -1290,5 +1290,5 @@
           ],
           'sources': [
-            'ash_unittests.isolate',
+#            'ash_unittests.isolate',
           ],
           'conditions': [
diff --git a/ash/BUILD.gn b/ash/BUILD.gn
index 0eae612..481487f 100644
--- a/ash/BUILD.gn
+++ b/ash/BUILD.gn
@@ -5,5 +5,5 @@
 import("//build/config/features.gni")
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 gypi_values = exec_script("//build/gypi_to_gn.py",
@@ -94,5 +94,5 @@ component("ash") {
   if (is_chromeos) {
     deps += [
-      "//device/bluetooth",
+#      "//device/bluetooth",
       "//ui/display",
       "//ui/display/util",
@@ -173,7 +173,7 @@ component("ash_with_content") {
 }
 
-static_library("test_support") {
+#static_library("test_support") {
   testonly = true
-  sources = gypi_values.ash_test_support_sources
+#  sources = gypi_values.ash_test_support_sources
 
   public_deps = [
@@ -182,15 +182,15 @@ static_library("test_support") {
   deps = [
     "//ash/resources",
-    "//content/test:test_support",
+#    "//content/test:test_support",
     "//skia",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//ui/accessibility",
     "//ui/app_list",
-    "//ui/app_list:test_support",
+#    "//ui/app_list:test_support",
     "//ui/events:events_base",
     "//ui/events/devices",
     "//ui/gl",
     "//ui/views",
-    "//ui/views:test_support",
+#    "//ui/views:test_support",
   ]
 
@@ -204,5 +204,5 @@ static_library("test_support") {
       "//ui/metro_viewer",
       "//win8:metro_viewer",
-      "//win8:test_support_win8",
+#      "//win8:test_support_win8",
       "//win8:test_registrar",
     ]
@@ -217,5 +217,5 @@ static_library("ash_shell_lib") {
     ":ash",
     ":ash_with_content",
-    ":test_support",
+#    ":test_support",
     "//ash/resources",
     "//ash/strings",
@@ -242,5 +242,5 @@ static_library("ash_shell_lib") {
     "//ui/resources",
     "//ui/views",
-    "//ui/views:test_support",
+#    "//ui/views:test_support",
     "//ui/views/examples:views_examples_lib",
     "//ui/views/examples:views_examples_with_content_lib",
@@ -249,32 +249,32 @@ static_library("ash_shell_lib") {
 
 test("ash_unittests") {
-  sources = gypi_values.ash_unittests_sources
+#  sources = gypi_values.ash_unittests_sources
 
   deps = [
     ":ash",
     ":ash_with_content",
-    ":test_support",
+#    ":test_support",
     "//ash/resources",
     "//ash/strings",
     "//base",
     "//base/allocator",
-    "//base/test:test_support",
+#    "//base/test:test_support",
     "//components/user_manager",
     "//content/public/browser",
-    "//content/test:test_support",
+#    "//content/test:test_support",
     "//skia",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//third_party/icu",
     "//ui/accessibility",
     "//ui/aura",
-    "//ui/aura:test_support",
+#    "//ui/aura:test_support",
     "//ui/base",
     "//ui/base/ime",
-    "//ui/base:test_support",
+#    "//ui/base:test_support",
     "//ui/compositor",
-    "//ui/compositor:test_support",
+#    "//ui/compositor:test_support",
     "//ui/events",
     "//ui/events/devices",
-    "//ui/events:test_support",
+#    "//ui/events:test_support",
     "//ui/events:gesture_detection",
     "//ui/gfx",
@@ -282,10 +282,10 @@ test("ash_unittests") {
     "//ui/keyboard",
     "//ui/message_center",
-    "//ui/message_center:test_support",
+#    "//ui/message_center:test_support",
     "//ui/resources",
     "//ui/views",
-    "//ui/views:test_support",
-    "//ui/views/controls/webview:test_support",
-    "//ui/web_dialogs:test_support",
+#    "//ui/views:test_support",
+#    "//ui/views/controls/webview:test_support",
+#    "//ui/web_dialogs:test_support",
     "//ui/wm",
     "//url",
@@ -295,19 +295,19 @@ test("ash_unittests") {
     sources -= [
       # TODO(zork): fix this test to build on Windows. See: crosbug.com/26906
-      "focus_cycler_unittest.cc",
+#      "focus_cycler_unittest.cc",
 
       # All tests for multiple displays: not supported on Windows Ash.
-      "wm/drag_window_resizer_unittest.cc",
+#      "wm/drag_window_resizer_unittest.cc",
 
       # Accelerometer is only available on Chrome OS.
-      "wm/maximize_mode/maximize_mode_controller_unittest.cc",
+#      "wm/maximize_mode/maximize_mode_controller_unittest.cc",
 
       # Can't resize on Windows Ash. http://crbug.com/165962
-      "autoclick/autoclick_unittest.cc",
-      "magnifier/magnification_controller_unittest.cc",
-      "sticky_keys/sticky_keys_overlay_unittest.cc",
-      "system/tray/media_security/multi_profile_media_tray_item_unittest.cc",
-      "virtual_keyboard_controller_unittest.cc",
-      "wm/workspace/workspace_window_resizer_unittest.cc",
+#      "autoclick/autoclick_unittest.cc",
+#      "magnifier/magnification_controller_unittest.cc",
+#      "sticky_keys/sticky_keys_overlay_unittest.cc",
+#      "system/tray/media_security/multi_profile_media_tray_item_unittest.cc",
+#      "virtual_keyboard_controller_unittest.cc",
+#      "wm/workspace/workspace_window_resizer_unittest.cc",
     ]
     sources += [
@@ -319,27 +319,27 @@ test("ash_unittests") {
 
   if (!use_x11) {
-    sources -= [ "host/ash_window_tree_host_x11_unittest.cc" ]
+#    sources -= [ "host/ash_window_tree_host_x11_unittest.cc" ]
   }
   if (is_chromeos) {
-    sources += [ "first_run/first_run_helper_unittest.cc" ]
+#    sources += [ "first_run/first_run_helper_unittest.cc" ]
     deps += [
-      "//device/bluetooth",
+#      "//device/bluetooth",
       "//ui/display",
       "//ui/display:test_util",
       "//ui/display/types",
       "//chromeos:power_manager_proto",
-      "//chromeos:test_support_without_gmock",
+#      "//chromeos:test_support_without_gmock",
     ]
   } else {
     sources -= [
-      "accelerators/magnifier_key_scroller_unittest.cc",
-      "accelerators/spoken_feedback_toggler_unittest.cc",
-      "display/resolution_notification_controller_unittest.cc",
-      "touch/touchscreen_util_unittest.cc",
+#      "accelerators/magnifier_key_scroller_unittest.cc",
+#      "accelerators/spoken_feedback_toggler_unittest.cc",
+#      "display/resolution_notification_controller_unittest.cc",
+#      "touch/touchscreen_util_unittest.cc",
     ]
   }
 
   if (!use_x11 || !is_chromeos) {
-    sources -= [ "touch/touch_transformer_controller_unittest.cc" ]
+#    sources -= [ "touch/touch_transformer_controller_unittest.cc" ]
   }
 
@@ -349,5 +349,5 @@ test("ash_unittests") {
 
   if (!is_chromeos || use_ozone) {
-    sources -= [ "sticky_keys/sticky_keys_unittest.cc" ]  # crbug.com/354035
+#    sources -= [ "sticky_keys/sticky_keys_unittest.cc" ]  # crbug.com/354035
   }
 }
@@ -371,5 +371,5 @@ executable("ash_shell") {
 
   if (is_chromeos) {
-    deps += [ "//device/bluetooth" ]
+#    deps += [ "//device/bluetooth" ]
   }
 }
@@ -377,16 +377,16 @@ executable("ash_shell") {
 test("ash_shell_unittests") {
   sources = [
-    "shell/window_watcher_unittest.cc",
-    "test/ash_unittests.cc",
+#    "shell/window_watcher_unittest.cc",
+#    "test/ash_unittests.cc",
   ]
 
   deps = [
     ":ash_shell_lib",
-    ":test_support",
-    "//base/test:test_support",
+#    ":test_support",
+#    "//base/test:test_support",
     "//components/user_manager",
-    "//content/test:test_support",
+#    "//content/test:test_support",
     "//skia",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//ui/accessibility",
   ]
diff --git a/ash/display/display_manager.cc b/ash/display/display_manager.cc
index 449a65a..a5bf75b 100644
--- a/ash/display/display_manager.cc
+++ b/ash/display/display_manager.cc
@@ -20,5 +20,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/ash/drag_drop/drag_drop_controller.cc b/ash/drag_drop/drag_drop_controller.cc
index b57b24c..9786000 100644
--- a/ash/drag_drop/drag_drop_controller.cc
+++ b/ash/drag_drop/drag_drop_controller.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/run_loop.h"
 #include "ui/aura/client/capture_client.h"
diff --git a/ash/keyboard_uma_event_filter.cc b/ash/keyboard_uma_event_filter.cc
index f3864bf..5569be6 100644
--- a/ash/keyboard_uma_event_filter.cc
+++ b/ash/keyboard_uma_event_filter.cc
@@ -5,5 +5,5 @@
 #include "ash/keyboard_uma_event_filter.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "ui/events/event.h"
 
diff --git a/ash/metrics/user_metrics_recorder.cc b/ash/metrics/user_metrics_recorder.cc
index 9fb4e0f..3c539ed 100644
--- a/ash/metrics/user_metrics_recorder.cc
+++ b/ash/metrics/user_metrics_recorder.cc
@@ -10,6 +10,6 @@
 #include "ash/shell.h"
 #include "ash/wm/window_state.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics.h"
 
 namespace ash {
diff --git a/ash/multi_profile_uma.cc b/ash/multi_profile_uma.cc
index 443fc35..b0c139e 100644
--- a/ash/multi_profile_uma.cc
+++ b/ash/multi_profile_uma.cc
@@ -5,5 +5,5 @@
 #include "ash/multi_profile_uma.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace ash {
diff --git a/ash/shelf/shelf_view.cc b/ash/shelf/shelf_view.cc
index 40eafe5..d530d0a 100644
--- a/ash/shelf/shelf_view.cc
+++ b/ash/shelf/shelf_view.cc
@@ -32,5 +32,5 @@
 #include "base/auto_reset.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "grit/ash_strings.h"
 #include "ui/accessibility/ax_view_state.h"
diff --git a/ash/system/chromeos/brightness/brightness_controller_chromeos.cc b/ash/system/chromeos/brightness/brightness_controller_chromeos.cc
index d8accce..e660624 100644
--- a/ash/system/chromeos/brightness/brightness_controller_chromeos.cc
+++ b/ash/system/chromeos/brightness/brightness_controller_chromeos.cc
@@ -5,5 +5,5 @@
 #include "ash/system/chromeos/brightness/brightness_controller_chromeos.h"
 
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "chromeos/dbus/dbus_thread_manager.h"
 #include "chromeos/dbus/power_manager_client.h"
diff --git a/ash/system/chromeos/power/tray_power.cc b/ash/system/chromeos/power/tray_power.cc
index 969a1dd..8c82672 100644
--- a/ash/system/chromeos/power/tray_power.cc
+++ b/ash/system/chromeos/power/tray_power.cc
@@ -16,5 +16,5 @@
 #include "ash/system/tray/tray_utils.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "grit/ash_resources.h"
diff --git a/ash/test/test_session_state_delegate.cc b/ash/test/test_session_state_delegate.cc
index 0d31d45..fcd844b 100644
--- a/ash/test/test_session_state_delegate.cc
+++ b/ash/test/test_session_state_delegate.cc
@@ -14,5 +14,5 @@
 #include "base/strings/utf_string_conversions.h"
 #include "components/user_manager/user_info.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace ash {
diff --git a/ash/test/test_suite.cc b/ash/test/test_suite.cc
index 1b7eb46..ebc64fa 100644
--- a/ash/test/test_suite.cc
+++ b/ash/test/test_suite.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_path.h"
 #include "build/build_config.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/base/resource/resource_bundle.h"
 #include "ui/base/ui_base_paths.h"
diff --git a/ash/touch/touch_uma.cc b/ash/touch/touch_uma.cc
index 9ab7ba4..99fd0ae 100644
--- a/ash/touch/touch_uma.cc
+++ b/ash/touch/touch_uma.cc
@@ -7,5 +7,5 @@
 #include "ash/metrics/user_metrics_recorder.h"
 #include "ash/shell.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "ui/aura/env.h"
diff --git a/ash/wm/dock/docked_window_layout_manager.cc b/ash/wm/dock/docked_window_layout_manager.cc
index dbf6d55..126668f 100644
--- a/ash/wm/dock/docked_window_layout_manager.cc
+++ b/ash/wm/dock/docked_window_layout_manager.cc
@@ -22,5 +22,5 @@
 #include "base/auto_reset.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "grit/ash_resources.h"
 #include "third_party/skia/include/core/SkColor.h"
diff --git a/ash/wm/immersive_fullscreen_controller.cc b/ash/wm/immersive_fullscreen_controller.cc
index 75781d5..562b5ad 100644
--- a/ash/wm/immersive_fullscreen_controller.cc
+++ b/ash/wm/immersive_fullscreen_controller.cc
@@ -11,5 +11,5 @@
 #include "ash/wm/resize_handle_window_targeter.h"
 #include "ash/wm/window_state.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "ui/aura/client/aura_constants.h"
 #include "ui/aura/client/capture_client.h"
diff --git a/ash/wm/maximize_mode/maximize_mode_controller.cc b/ash/wm/maximize_mode/maximize_mode_controller.cc
index e2ea127..535273c 100644
--- a/ash/wm/maximize_mode/maximize_mode_controller.cc
+++ b/ash/wm/maximize_mode/maximize_mode_controller.cc
@@ -13,5 +13,5 @@
 #include "ash/wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/default_tick_clock.h"
 #include "base/time/tick_clock.h"
diff --git a/ash/wm/overview/window_selector.cc b/ash/wm/overview/window_selector.cc
index 6230b9b..58d3e00 100644
--- a/ash/wm/overview/window_selector.cc
+++ b/ash/wm/overview/window_selector.cc
@@ -26,5 +26,5 @@
 #include "base/auto_reset.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "third_party/skia/include/core/SkPaint.h"
 #include "third_party/skia/include/core/SkPath.h"
diff --git a/ash/wm/overview/window_selector_controller.cc b/ash/wm/overview/window_selector_controller.cc
index df14d27..3b0644c 100644
--- a/ash/wm/overview/window_selector_controller.cc
+++ b/ash/wm/overview/window_selector_controller.cc
@@ -16,5 +16,5 @@
 #include "ash/wm/window_state.h"
 #include "ash/wm/window_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "ui/aura/window.h"
 
diff --git a/ash/wm/window_cycle_controller.cc b/ash/wm/window_cycle_controller.cc
index 42f866e..b32661b 100644
--- a/ash/wm/window_cycle_controller.cc
+++ b/ash/wm/window_cycle_controller.cc
@@ -9,5 +9,5 @@
 #include "ash/wm/mru_window_tracker.h"
 #include "ash/wm/window_cycle_list.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "ui/events/event.h"
 #include "ui/events/event_handler.h"
diff --git a/base/allocator/allocator.gyp b/base/allocator/allocator.gyp
index d426c9c..e64e4c3 100644
--- a/base/allocator/allocator.gyp
+++ b/base/allocator/allocator.gyp
@@ -370,5 +370,5 @@
     },
     {
-      # This library is linked in to src/base.gypi:base and allocator_unittests
+#      # This library is linked in to src/base.gypi:base and allocator_unittests
       # It can't depend on either and nothing else should depend on it - all
       # other code should use the interfaced provided by base.
@@ -423,5 +423,5 @@
         },
         {
-          'target_name': 'allocator_unittests',
+#          'target_name': 'allocator_unittests',
           'type': 'executable',
           'dependencies': [
@@ -437,5 +437,5 @@
             '../profiler/alternate_timer.cc',
             '../profiler/alternate_timer.h',
-            'allocator_unittest.cc',
+#            'allocator_unittest.cc',
           ],
         },
@@ -507,5 +507,5 @@
         },
         {
-          'target_name': 'type_profiler_unittests',
+#          'target_name': 'type_profiler_unittests',
           'type': 'executable',
           'dependencies': [
@@ -521,9 +521,9 @@
             'type_profiler_control.cc',
             'type_profiler_control.h',
-            'type_profiler_unittest.cc',
+#            'type_profiler_unittest.cc',
           ],
         },
         {
-          'target_name': 'type_profiler_map_unittests',
+#          'target_name': 'type_profiler_map_unittests',
           'type': 'executable',
           'dependencies': [
@@ -545,5 +545,5 @@
             '<(tcmalloc_dir)/src/gperftools/type_profiler_map.h',
             '<(tcmalloc_dir)/src/type_profiler_map.cc',
-            'type_profiler_map_unittest.cc',
+#            'type_profiler_map_unittest.cc',
           ],
         },
@@ -553,8 +553,8 @@
       'targets': [
          {
-           'target_name': 'tcmalloc_unittest',
+#           'target_name': 'tcmalloc_unittest',
            'type': 'executable',
            'sources': [
-             'tcmalloc_unittest.cc',
+#             'tcmalloc_unittest.cc',
            ],
            'include_dirs': [
diff --git a/base/base.gyp b/base/base.gyp
index 20f9e61..2a21718 100644
--- a/base/base.gyp
+++ b/base/base.gyp
@@ -398,5 +398,5 @@
     },
     {
-      'target_name': 'base_prefs_test_support',
+#      'target_name': 'base_prefs_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -442,254 +442,254 @@
     # and runs a base::TestSuite.
     {
-      'target_name': 'run_all_unittests',
+#      'target_name': 'run_all_unittests',
       'type': 'static_library',
       'dependencies': [
-        'test_support_base',
+#        'test_support_base',
       ],
       'sources': [
-        'test/run_all_unittests.cc',
+#        'test/run_all_unittests.cc',
       ],
     },
     {
-      'target_name': 'base_unittests',
+#      'target_name': 'base_unittests',
       'type': '<(gtest_target_type)',
       'sources': [
-        'android/application_status_listener_unittest.cc',
-        'android/content_uri_utils_unittest.cc',
-        'android/jni_android_unittest.cc',
-        'android/jni_array_unittest.cc',
-        'android/jni_string_unittest.cc',
-        'android/path_utils_unittest.cc',
-        'android/scoped_java_ref_unittest.cc',
-        'android/sys_utils_unittest.cc',
-        'async_socket_io_handler_unittest.cc',
-        'at_exit_unittest.cc',
-        'atomicops_unittest.cc',
-        'barrier_closure_unittest.cc',
-        'base64_unittest.cc',
-        'big_endian_unittest.cc',
-        'bind_unittest.cc',
-        'bind_unittest.nc',
-        'bits_unittest.cc',
-        'build_time_unittest.cc',
-        'callback_helpers_unittest.cc',
-        'callback_list_unittest.cc',
-        'callback_list_unittest.nc',
-        'callback_unittest.cc',
-        'callback_unittest.nc',
-        'cancelable_callback_unittest.cc',
-        'chromeos/memory_pressure_observer_chromeos_unittest.cc',
-        'command_line_unittest.cc',
-        'containers/adapters_unittest.cc',
-        'containers/hash_tables_unittest.cc',
-        'containers/linked_list_unittest.cc',
-        'containers/mru_cache_unittest.cc',
-        'containers/small_map_unittest.cc',
-        'containers/stack_container_unittest.cc',
-        'cpu_unittest.cc',
-        'debug/crash_logging_unittest.cc',
-        'debug/debugger_unittest.cc',
-        'debug/leak_tracker_unittest.cc',
-        'debug/proc_maps_linux_unittest.cc',
-        'debug/stack_trace_unittest.cc',
-        'debug/task_annotator_unittest.cc',
-        'deferred_sequenced_task_runner_unittest.cc',
-        'environment_unittest.cc',
-        'file_version_info_unittest.cc',
-        'files/dir_reader_posix_unittest.cc',
-        'files/file_path_unittest.cc',
-        'files/file_proxy_unittest.cc',
-        'files/file_unittest.cc',
-        'files/file_util_proxy_unittest.cc',
-        'files/file_util_unittest.cc',
-        'files/important_file_writer_unittest.cc',
-        'files/memory_mapped_file_unittest.cc',
-        'files/scoped_temp_dir_unittest.cc',
-        'gmock_unittest.cc',
-        'guid_unittest.cc',
-        'hash_unittest.cc',
-        'i18n/break_iterator_unittest.cc',
-        'i18n/case_conversion_unittest.cc',
-        'i18n/char_iterator_unittest.cc',
-        'i18n/file_util_icu_unittest.cc',
-        'i18n/icu_string_conversions_unittest.cc',
-        'i18n/number_formatting_unittest.cc',
-        'i18n/rtl_unittest.cc',
-        'i18n/streaming_utf8_validator_unittest.cc',
-        'i18n/string_search_unittest.cc',
-        'i18n/time_formatting_unittest.cc',
-        'i18n/timezone_unittest.cc',
-        'id_map_unittest.cc',
-        'ios/crb_protocol_observers_unittest.mm',
-        'ios/device_util_unittest.mm',
-        'ios/weak_nsobject_unittest.mm',
-        'json/json_parser_unittest.cc',
-        'json/json_reader_unittest.cc',
-        'json/json_value_converter_unittest.cc',
-        'json/json_value_serializer_unittest.cc',
-        'json/json_writer_unittest.cc',
-        'json/string_escape_unittest.cc',
-        'lazy_instance_unittest.cc',
-        'logging_unittest.cc',
-        'mac/bind_objc_block_unittest.mm',
-        'mac/foundation_util_unittest.mm',
-        'mac/libdispatch_task_runner_unittest.cc',
-        'mac/mac_util_unittest.mm',
-        'mac/objc_property_releaser_unittest.mm',
-        'mac/scoped_nsobject_unittest.mm',
-        'mac/scoped_objc_class_swizzler_unittest.mm',
-        'mac/scoped_sending_event_unittest.mm',
-        'md5_unittest.cc',
-        'memory/aligned_memory_unittest.cc',
-        'memory/discardable_memory_manager_unittest.cc',
-        'memory/discardable_memory_unittest.cc',
-        'memory/discardable_shared_memory_unittest.cc',
-        'memory/linked_ptr_unittest.cc',
-        'memory/ref_counted_memory_unittest.cc',
-        'memory/ref_counted_unittest.cc',
-        'memory/scoped_ptr_unittest.cc',
-        'memory/scoped_ptr_unittest.nc',
-        'memory/scoped_vector_unittest.cc',
-        'memory/shared_memory_unittest.cc',
-        'memory/singleton_unittest.cc',
-        'memory/weak_ptr_unittest.cc',
-        'memory/weak_ptr_unittest.nc',
-        'message_loop/message_loop_proxy_impl_unittest.cc',
-        'message_loop/message_loop_proxy_unittest.cc',
-        'message_loop/message_loop_unittest.cc',
-        'message_loop/message_pump_glib_unittest.cc',
-        'message_loop/message_pump_io_ios_unittest.cc',
-        'message_loop/message_pump_libevent_unittest.cc',
-        'metrics/bucket_ranges_unittest.cc',
-        'metrics/field_trial_unittest.cc',
-        'metrics/histogram_base_unittest.cc',
-        'metrics/histogram_delta_serialization_unittest.cc',
-        'metrics/histogram_macros_unittest.cc',
-        'metrics/histogram_snapshot_manager_unittest.cc',
-        'metrics/histogram_unittest.cc',
-        'metrics/sample_map_unittest.cc',
-        'metrics/sample_vector_unittest.cc',
-        'metrics/sparse_histogram_unittest.cc',
-        'metrics/statistics_recorder_unittest.cc',
-        'numerics/safe_numerics_unittest.cc',
-        'observer_list_unittest.cc',
-        'os_compat_android_unittest.cc',
-        'path_service_unittest.cc',
-        'pickle_unittest.cc',
-        'posix/file_descriptor_shuffle_unittest.cc',
-        'posix/unix_domain_socket_linux_unittest.cc',
-        'power_monitor/power_monitor_unittest.cc',
-        'prefs/default_pref_store_unittest.cc',
-        'prefs/json_pref_store_unittest.cc',
+#        'android/application_status_listener_unittest.cc',
+#        'android/content_uri_utils_unittest.cc',
+#        'android/jni_android_unittest.cc',
+#        'android/jni_array_unittest.cc',
+#        'android/jni_string_unittest.cc',
+#        'android/path_utils_unittest.cc',
+#        'android/scoped_java_ref_unittest.cc',
+#        'android/sys_utils_unittest.cc',
+#        'async_socket_io_handler_unittest.cc',
+#        'at_exit_unittest.cc',
+#        'atomicops_unittest.cc',
+#        'barrier_closure_unittest.cc',
+#        'base64_unittest.cc',
+#        'big_endian_unittest.cc',
+#        'bind_unittest.cc',
+#        'bind_unittest.nc',
+#        'bits_unittest.cc',
+#        'build_time_unittest.cc',
+#        'callback_helpers_unittest.cc',
+#        'callback_list_unittest.cc',
+#        'callback_list_unittest.nc',
+#        'callback_unittest.cc',
+#        'callback_unittest.nc',
+#        'cancelable_callback_unittest.cc',
+#        'chromeos/memory_pressure_observer_chromeos_unittest.cc',
+#        'command_line_unittest.cc',
+#        'containers/adapters_unittest.cc',
+#        'containers/hash_tables_unittest.cc',
+#        'containers/linked_list_unittest.cc',
+#        'containers/mru_cache_unittest.cc',
+#        'containers/small_map_unittest.cc',
+#        'containers/stack_container_unittest.cc',
+#        'cpu_unittest.cc',
+#        'debug/crash_logging_unittest.cc',
+#        'debug/debugger_unittest.cc',
+#        'debug/leak_tracker_unittest.cc',
+#        'debug/proc_maps_linux_unittest.cc',
+#        'debug/stack_trace_unittest.cc',
+#        'debug/task_annotator_unittest.cc',
+#        'deferred_sequenced_task_runner_unittest.cc',
+#        'environment_unittest.cc',
+#        'file_version_info_unittest.cc',
+#        'files/dir_reader_posix_unittest.cc',
+#        'files/file_path_unittest.cc',
+#        'files/file_proxy_unittest.cc',
+#        'files/file_unittest.cc',
+#        'files/file_util_proxy_unittest.cc',
+#        'files/file_util_unittest.cc',
+#        'files/important_file_writer_unittest.cc',
+#        'files/memory_mapped_file_unittest.cc',
+#        'files/scoped_temp_dir_unittest.cc',
+#        'gmock_unittest.cc',
+#        'guid_unittest.cc',
+#        'hash_unittest.cc',
+#        'i18n/break_iterator_unittest.cc',
+#        'i18n/case_conversion_unittest.cc',
+#        'i18n/char_iterator_unittest.cc',
+#        'i18n/file_util_icu_unittest.cc',
+#        'i18n/icu_string_conversions_unittest.cc',
+#        'i18n/number_formatting_unittest.cc',
+#        'i18n/rtl_unittest.cc',
+#        'i18n/streaming_utf8_validator_unittest.cc',
+#        'i18n/string_search_unittest.cc',
+#        'i18n/time_formatting_unittest.cc',
+#        'i18n/timezone_unittest.cc',
+#        'id_map_unittest.cc',
+#        'ios/crb_protocol_observers_unittest.mm',
+#        'ios/device_util_unittest.mm',
+#        'ios/weak_nsobject_unittest.mm',
+#        'json/json_parser_unittest.cc',
+#        'json/json_reader_unittest.cc',
+#        'json/json_value_converter_unittest.cc',
+#        'json/json_value_serializer_unittest.cc',
+#        'json/json_writer_unittest.cc',
+#        'json/string_escape_unittest.cc',
+#        'lazy_instance_unittest.cc',
+#        'logging_unittest.cc',
+#        'mac/bind_objc_block_unittest.mm',
+#        'mac/foundation_util_unittest.mm',
+#        'mac/libdispatch_task_runner_unittest.cc',
+#        'mac/mac_util_unittest.mm',
+#        'mac/objc_property_releaser_unittest.mm',
+#        'mac/scoped_nsobject_unittest.mm',
+#        'mac/scoped_objc_class_swizzler_unittest.mm',
+#        'mac/scoped_sending_event_unittest.mm',
+#        'md5_unittest.cc',
+#        'memory/aligned_memory_unittest.cc',
+#        'memory/discardable_memory_manager_unittest.cc',
+#        'memory/discardable_memory_unittest.cc',
+#        'memory/discardable_shared_memory_unittest.cc',
+#        'memory/linked_ptr_unittest.cc',
+#        'memory/ref_counted_memory_unittest.cc',
+#        'memory/ref_counted_unittest.cc',
+#        'memory/scoped_ptr_unittest.cc',
+#        'memory/scoped_ptr_unittest.nc',
+#        'memory/scoped_vector_unittest.cc',
+#        'memory/shared_memory_unittest.cc',
+#        'memory/singleton_unittest.cc',
+#        'memory/weak_ptr_unittest.cc',
+#        'memory/weak_ptr_unittest.nc',
+#        'message_loop/message_loop_proxy_impl_unittest.cc',
+#        'message_loop/message_loop_proxy_unittest.cc',
+#        'message_loop/message_loop_unittest.cc',
+#        'message_loop/message_pump_glib_unittest.cc',
+#        'message_loop/message_pump_io_ios_unittest.cc',
+#        'message_loop/message_pump_libevent_unittest.cc',
+#        'metrics/bucket_ranges_unittest.cc',
+#        'metrics/field_trial_unittest.cc',
+#        'metrics/histogram_base_unittest.cc',
+#        'metrics/histogram_delta_serialization_unittest.cc',
+#        'metrics/histogram_macros_unittest.cc',
+#        'metrics/histogram_snapshot_manager_unittest.cc',
+#        'metrics/histogram_unittest.cc',
+#        'metrics/sample_map_unittest.cc',
+#        'metrics/sample_vector_unittest.cc',
+#        'metrics/sparse_histogram_unittest.cc',
+#        'metrics/statistics_recorder_unittest.cc',
+#        'numerics/safe_numerics_unittest.cc',
+#        'observer_list_unittest.cc',
+#        'os_compat_android_unittest.cc',
+#        'path_service_unittest.cc',
+#        'pickle_unittest.cc',
+#        'posix/file_descriptor_shuffle_unittest.cc',
+#        'posix/unix_domain_socket_linux_unittest.cc',
+#        'power_monitor/power_monitor_unittest.cc',
+#        'prefs/default_pref_store_unittest.cc',
+#        'prefs/json_pref_store_unittest.cc',
         'prefs/mock_pref_change_callback.h',
-        'prefs/overlay_user_pref_store_unittest.cc',
-        'prefs/pref_change_registrar_unittest.cc',
-        'prefs/pref_member_unittest.cc',
-        'prefs/pref_notifier_impl_unittest.cc',
-        'prefs/pref_service_unittest.cc',
-        'prefs/pref_value_map_unittest.cc',
-        'prefs/pref_value_store_unittest.cc',
-        'prefs/scoped_user_pref_update_unittest.cc',
-        'process/memory_unittest.cc',
-        'process/memory_unittest_mac.h',
-        'process/memory_unittest_mac.mm',
-        'process/process_metrics_unittest.cc',
-        'process/process_metrics_unittest_ios.cc',
-        'process/process_unittest.cc',
-        'process/process_util_unittest.cc',
-        'profiler/tracked_time_unittest.cc',
-        'rand_util_unittest.cc',
-        'scoped_clear_errno_unittest.cc',
-        'scoped_generic_unittest.cc',
-        'scoped_native_library_unittest.cc',
-        'security_unittest.cc',
-        'sequence_checker_unittest.cc',
-        'sha1_unittest.cc',
-        'stl_util_unittest.cc',
-        'strings/nullable_string16_unittest.cc',
-        'strings/safe_sprintf_unittest.cc',
-        'strings/string16_unittest.cc',
-        'strings/string_number_conversions_unittest.cc',
-        'strings/string_piece_unittest.cc',
-        'strings/string_split_unittest.cc',
-        'strings/string_tokenizer_unittest.cc',
-        'strings/string_util_unittest.cc',
-        'strings/stringize_macros_unittest.cc',
-        'strings/stringprintf_unittest.cc',
-        'strings/sys_string_conversions_mac_unittest.mm',
-        'strings/sys_string_conversions_unittest.cc',
-        'strings/utf_offset_string_conversions_unittest.cc',
-        'strings/utf_string_conversions_unittest.cc',
-        'supports_user_data_unittest.cc',
-        'sync_socket_unittest.cc',
-        'synchronization/cancellation_flag_unittest.cc',
-        'synchronization/condition_variable_unittest.cc',
-        'synchronization/lock_unittest.cc',
-        'synchronization/waitable_event_unittest.cc',
-        'synchronization/waitable_event_watcher_unittest.cc',
-        'sys_info_unittest.cc',
-        'system_monitor/system_monitor_unittest.cc',
-        'task/cancelable_task_tracker_unittest.cc',
-        'task_runner_util_unittest.cc',
-        'template_util_unittest.cc',
-        'test/expectations/expectation_unittest.cc',
-        'test/expectations/parser_unittest.cc',
-        'test/histogram_tester_unittest.cc',
-        'test/test_pending_task_unittest.cc',
-        'test/test_reg_util_win_unittest.cc',
-        'test/trace_event_analyzer_unittest.cc',
-        'threading/non_thread_safe_unittest.cc',
-        'threading/platform_thread_unittest.cc',
-        'threading/sequenced_worker_pool_unittest.cc',
-        'threading/simple_thread_unittest.cc',
-        'threading/thread_checker_unittest.cc',
-        'threading/thread_collision_warner_unittest.cc',
-        'threading/thread_id_name_manager_unittest.cc',
-        'threading/thread_local_storage_unittest.cc',
-        'threading/thread_local_unittest.cc',
-        'threading/thread_unittest.cc',
-        'threading/watchdog_unittest.cc',
-        'threading/worker_pool_posix_unittest.cc',
-        'threading/worker_pool_unittest.cc',
-        'time/pr_time_unittest.cc',
-        'time/time_unittest.cc',
-        'time/time_win_unittest.cc',
-        'timer/hi_res_timer_manager_unittest.cc',
-        'timer/mock_timer_unittest.cc',
-        'timer/timer_unittest.cc',
-        'tools_sanity_unittest.cc',
-        'trace_event/memory_dump_manager_unittest.cc',
-        'trace_event/process_memory_maps_dump_provider_unittest.cc',
-        'trace_event/process_memory_totals_dump_provider_unittest.cc',
-        'trace_event/trace_event_argument_unittest.cc',
-        'trace_event/trace_event_memory_unittest.cc',
-        'trace_event/trace_event_synthetic_delay_unittest.cc',
-        'trace_event/trace_event_system_stats_monitor_unittest.cc',
-        'trace_event/trace_event_unittest.cc',
-        'trace_event/trace_event_win_unittest.cc',
-        'tracked_objects_unittest.cc',
-        'tuple_unittest.cc',
-        'values_unittest.cc',
-        'version_unittest.cc',
-        'vlog_unittest.cc',
+#        'prefs/overlay_user_pref_store_unittest.cc',
+#        'prefs/pref_change_registrar_unittest.cc',
+#        'prefs/pref_member_unittest.cc',
+#        'prefs/pref_notifier_impl_unittest.cc',
+#        'prefs/pref_service_unittest.cc',
+#        'prefs/pref_value_map_unittest.cc',
+#        'prefs/pref_value_store_unittest.cc',
+#        'prefs/scoped_user_pref_update_unittest.cc',
+#        'process/memory_unittest.cc',
+#        'process/memory_unittest_mac.h',
+#        'process/memory_unittest_mac.mm',
+#        'process/process_metrics_unittest.cc',
+#        'process/process_metrics_unittest_ios.cc',
+#        'process/process_unittest.cc',
+#        'process/process_util_unittest.cc',
+#        'profiler/tracked_time_unittest.cc',
+#        'rand_util_unittest.cc',
+#        'scoped_clear_errno_unittest.cc',
+#        'scoped_generic_unittest.cc',
+#        'scoped_native_library_unittest.cc',
+#        'security_unittest.cc',
+#        'sequence_checker_unittest.cc',
+#        'sha1_unittest.cc',
+#        'stl_util_unittest.cc',
+#        'strings/nullable_string16_unittest.cc',
+#        'strings/safe_sprintf_unittest.cc',
+#        'strings/string16_unittest.cc',
+#        'strings/string_number_conversions_unittest.cc',
+#        'strings/string_piece_unittest.cc',
+#        'strings/string_split_unittest.cc',
+#        'strings/string_tokenizer_unittest.cc',
+#        'strings/string_util_unittest.cc',
+#        'strings/stringize_macros_unittest.cc',
+#        'strings/stringprintf_unittest.cc',
+#        'strings/sys_string_conversions_mac_unittest.mm',
+#        'strings/sys_string_conversions_unittest.cc',
+#        'strings/utf_offset_string_conversions_unittest.cc',
+#        'strings/utf_string_conversions_unittest.cc',
+#        'supports_user_data_unittest.cc',
+#        'sync_socket_unittest.cc',
+#        'synchronization/cancellation_flag_unittest.cc',
+#        'synchronization/condition_variable_unittest.cc',
+#        'synchronization/lock_unittest.cc',
+#        'synchronization/waitable_event_unittest.cc',
+#        'synchronization/waitable_event_watcher_unittest.cc',
+#        'sys_info_unittest.cc',
+#        'system_monitor/system_monitor_unittest.cc',
+#        'task/cancelable_task_tracker_unittest.cc',
+#        'task_runner_util_unittest.cc',
+#        'template_util_unittest.cc',
+#        'test/expectations/expectation_unittest.cc',
+#        'test/expectations/parser_unittest.cc',
+#        'test/histogram_tester_unittest.cc',
+#        'test/test_pending_task_unittest.cc',
+#        'test/test_reg_util_win_unittest.cc',
+#        'test/trace_event_analyzer_unittest.cc',
+#        'threading/non_thread_safe_unittest.cc',
+#        'threading/platform_thread_unittest.cc',
+#        'threading/sequenced_worker_pool_unittest.cc',
+#        'threading/simple_thread_unittest.cc',
+#        'threading/thread_checker_unittest.cc',
+#        'threading/thread_collision_warner_unittest.cc',
+#        'threading/thread_id_name_manager_unittest.cc',
+#        'threading/thread_local_storage_unittest.cc',
+#        'threading/thread_local_unittest.cc',
+#        'threading/thread_unittest.cc',
+#        'threading/watchdog_unittest.cc',
+#        'threading/worker_pool_posix_unittest.cc',
+#        'threading/worker_pool_unittest.cc',
+#        'time/pr_time_unittest.cc',
+#        'time/time_unittest.cc',
+#        'time/time_win_unittest.cc',
+#        'timer/hi_res_timer_manager_unittest.cc',
+#        'timer/mock_timer_unittest.cc',
+#        'timer/timer_unittest.cc',
+#        'tools_sanity_unittest.cc',
+#        'trace_event/memory_dump_manager_unittest.cc',
+#        'trace_event/process_memory_maps_dump_provider_unittest.cc',
+#        'trace_event/process_memory_totals_dump_provider_unittest.cc',
+#        'trace_event/trace_event_argument_unittest.cc',
+#        'trace_event/trace_event_memory_unittest.cc',
+#        'trace_event/trace_event_synthetic_delay_unittest.cc',
+#        'trace_event/trace_event_system_stats_monitor_unittest.cc',
+#        'trace_event/trace_event_unittest.cc',
+#        'trace_event/trace_event_win_unittest.cc',
+#        'tracked_objects_unittest.cc',
+#        'tuple_unittest.cc',
+#        'values_unittest.cc',
+#        'version_unittest.cc',
+#        'vlog_unittest.cc',
         'win/dllmain.cc',
-        'win/enum_variant_unittest.cc',
-        'win/event_trace_consumer_unittest.cc',
-        'win/event_trace_controller_unittest.cc',
-        'win/event_trace_provider_unittest.cc',
-        'win/i18n_unittest.cc',
-        'win/iunknown_impl_unittest.cc',
-        'win/message_window_unittest.cc',
-        'win/object_watcher_unittest.cc',
-        'win/pe_image_unittest.cc',
-        'win/registry_unittest.cc',
-        'win/scoped_bstr_unittest.cc',
-        'win/scoped_comptr_unittest.cc',
-        'win/scoped_process_information_unittest.cc',
-        'win/scoped_variant_unittest.cc',
-        'win/shortcut_unittest.cc',
-        'win/startup_information_unittest.cc',
-        'win/win_util_unittest.cc',
-        'win/wrapped_window_proc_unittest.cc',
+#        'win/enum_variant_unittest.cc',
+#        'win/event_trace_consumer_unittest.cc',
+#        'win/event_trace_controller_unittest.cc',
+#        'win/event_trace_provider_unittest.cc',
+#        'win/i18n_unittest.cc',
+#        'win/iunknown_impl_unittest.cc',
+#        'win/message_window_unittest.cc',
+#        'win/object_watcher_unittest.cc',
+#        'win/pe_image_unittest.cc',
+#        'win/registry_unittest.cc',
+#        'win/scoped_bstr_unittest.cc',
+#        'win/scoped_comptr_unittest.cc',
+#        'win/scoped_process_information_unittest.cc',
+#        'win/scoped_variant_unittest.cc',
+#        'win/shortcut_unittest.cc',
+#        'win/startup_information_unittest.cc',
+#        'win/win_util_unittest.cc',
+#        'win/wrapped_window_proc_unittest.cc',
       ],
       'dependencies': [
@@ -698,8 +698,8 @@
         'base_message_loop_tests',
         'base_prefs',
-        'base_prefs_test_support',
+#        'base_prefs_test_support',
         'base_static',
-        'run_all_unittests',
-        'test_support_base',
+#        'run_all_unittests',
+#        'test_support_base',
         'third_party/dynamic_annotations/dynamic_annotations.gyp:dynamic_annotations',
         '../testing/gmock.gyp:gmock',
@@ -717,5 +717,5 @@
           'dependencies': [
             'android/jni_generator/jni_generator.gyp:jni_generator_tests',
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -723,14 +723,14 @@
           'sources/': [
             # Only test the iOS-meaningful portion of process_utils.
-            ['exclude', '^process/memory_unittest'],
-            ['exclude', '^process/process_unittest\\.cc$'],
-            ['exclude', '^process/process_util_unittest\\.cc$'],
-            ['include', '^process/process_util_unittest_ios\\.cc$'],
+#            ['exclude', '^process/memory_unittest'],
+#            ['exclude', '^process/process_unittest\\.cc$'],
+#            ['exclude', '^process/process_util_unittest\\.cc$'],
+#            ['include', '^process/process_util_unittest_ios\\.cc$'],
             # iOS does not use message_pump_libevent.
-            ['exclude', '^message_loop/message_pump_libevent_unittest\\.cc$'],
+#            ['exclude', '^message_loop/message_pump_libevent_unittest\\.cc$'],
           ],
           'actions': [
             {
-              'action_name': 'copy_test_data',
+#              'action_name': 'copy_test_data',
               'variables': {
                 'test_data_files': [
@@ -739,5 +739,5 @@
                 'test_data_prefix': 'base',
               },
-              'includes': [ '../build/copy_test_data_ios.gypi' ],
+#              'includes': [ '../build/copy_test_data_ios.gypi' ],
             },
           ],
@@ -748,10 +748,10 @@
           ],
           'sources!': [
-            'file_version_info_unittest.cc',
+#            'file_version_info_unittest.cc',
           ],
           'conditions': [
             [ 'desktop_linux==1', {
               'sources': [
-                'nix/xdg_util_unittest.cc',
+#                'nix/xdg_util_unittest.cc',
               ],
             }],
@@ -764,10 +764,10 @@
         }, {  # use_glib == 0
           'sources!': [
-            'message_loop/message_pump_glib_unittest.cc',
+#            'message_loop/message_pump_glib_unittest.cc',
           ]
         }],
         ['use_ozone == 1', {
           'sources!': [
-            'message_loop/message_pump_glib_unittest.cc',
+#            'message_loop/message_pump_glib_unittest.cc',
           ]
         }],
@@ -780,8 +780,8 @@
         ['OS == "win"', {
           'sources!': [
-            'file_descriptor_shuffle_unittest.cc',
-            'files/dir_reader_posix_unittest.cc',
-            'message_loop/message_pump_libevent_unittest.cc',
-            'threading/worker_pool_posix_unittest.cc',
+#            'file_descriptor_shuffle_unittest.cc',
+#            'files/dir_reader_posix_unittest.cc',
+#            'message_loop/message_pump_libevent_unittest.cc',
+#            'threading/worker_pool_posix_unittest.cc',
           ],
           # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
@@ -790,5 +790,5 @@
           ],
           'conditions': [
-            # This is needed so base_unittests uses the allocator shim, as
+#            # This is needed so base_unittests uses the allocator shim, as
             # SecurityTest.MemoryAllocationRestriction* tests are dependent
             # on tcmalloc.
@@ -827,19 +827,19 @@
             # Pull in specific Mac files for iOS (which have been filtered out
             # by file name rules).
-            ['include', '^mac/bind_objc_block_unittest\\.mm$'],
-            ['include', '^mac/foundation_util_unittest\\.mm$',],
-            ['include', '^mac/objc_property_releaser_unittest\\.mm$'],
-            ['include', '^mac/scoped_nsobject_unittest\\.mm$'],
-            ['include', '^sys_string_conversions_mac_unittest\\.mm$'],
+#            ['include', '^mac/bind_objc_block_unittest\\.mm$'],
+#            ['include', '^mac/foundation_util_unittest\\.mm$',],
+#            ['include', '^mac/objc_property_releaser_unittest\\.mm$'],
+#            ['include', '^mac/scoped_nsobject_unittest\\.mm$'],
+#            ['include', '^sys_string_conversions_mac_unittest\\.mm$'],
           ],
         }],
         ['OS == "android" and _toolset == "target"', {
           'sources': [
-            'memory/discardable_memory_ashmem_allocator_unittest.cc',
+#            'memory/discardable_memory_ashmem_allocator_unittest.cc',
           ],
         }],
         ['OS == "android"', {
           'sources/': [
-            ['include', '^debug/proc_maps_linux_unittest\\.cc$'],
+#            ['include', '^debug/proc_maps_linux_unittest\\.cc$'],
           ],
         }],
@@ -852,15 +852,15 @@
     },
     {
-      # GN: //base:base_perftests
-      'target_name': 'base_perftests',
+#      # GN: //base:base_perftests
+#      'target_name': 'base_perftests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         'base',
-        'test_support_base',
+#        'test_support_base',
         '../testing/gtest.gyp:gtest',
       ],
       'sources': [
         'message_loop/message_pump_perftest.cc',
-        'test/run_all_unittests.cc',
+#        'test/run_all_unittests.cc',
         'threading/thread_perftest.cc',
         '../testing/perf/perf_test.cc'
@@ -875,10 +875,10 @@
     },
     {
-      # GN: //base:base_i18n_perftests
-      'target_name': 'base_i18n_perftests',
+#      # GN: //base:base_i18n_perftests
+#      'target_name': 'base_i18n_perftests',
       'type': '<(gtest_target_type)',
       'dependencies': [
-        'test_support_base',
-        'test_support_perf',
+#        'test_support_base',
+#        'test_support_perf',
         '../testing/gtest.gyp:gtest',
         'base_i18n',
@@ -890,6 +890,6 @@
     },
     {
-      # GN: //base/test:test_support
-      'target_name': 'test_support_base',
+#      # GN: //base/test:test_support
+#      'target_name': 'test_support_base',
       'type': 'static_library',
       'dependencies': [
@@ -920,6 +920,6 @@
         ['OS == "android"', {
           'dependencies': [
-            'base_unittests_jni_headers',
-            'base_java_unittest_support',
+#            'base_unittests_jni_headers',
+#            'base_java_unittest_support',
           ],
         }],
@@ -945,7 +945,7 @@
         'test/launcher/test_results_tracker.cc',
         'test/launcher/test_results_tracker.h',
-        'test/launcher/unit_test_launcher.cc',
-        'test/launcher/unit_test_launcher.h',
-        'test/launcher/unit_test_launcher_ios.cc',
+#        'test/launcher/unit_test_launcher.cc',
+#        'test/launcher/unit_test_launcher.h',
+#        'test/launcher/unit_test_launcher_ios.cc',
         'test/mock_chrome_application_mac.h',
         'test/mock_chrome_application_mac.mm',
@@ -956,5 +956,5 @@
         'test/multiprocess_test.cc',
         'test/multiprocess_test.h',
-        'test/multiprocess_test_android.cc',
+#        'test/multiprocess_test_android.cc',
         'test/null_task_runner.cc',
         'test/null_task_runner.h',
@@ -963,24 +963,24 @@
         'test/perf_log.cc',
         'test/perf_log.h',
-        'test/perf_test_suite.cc',
-        'test/perf_test_suite.h',
+#        'test/perf_test_suite.cc',
+#        'test/perf_test_suite.h',
         'test/perf_time_logger.cc',
         'test/perf_time_logger.h',
-        'test/power_monitor_test_base.cc',
-        'test/power_monitor_test_base.h',
+#        'test/power_monitor_test_base.cc',
+#        'test/power_monitor_test_base.h',
         'test/scoped_locale.cc',
         'test/scoped_locale.h',
         'test/scoped_path_override.cc',
         'test/scoped_path_override.h',
-        'test/sequenced_task_runner_test_template.cc',
-        'test/sequenced_task_runner_test_template.h',
+#        'test/sequenced_task_runner_test_template.cc',
+#        'test/sequenced_task_runner_test_template.h',
         'test/sequenced_worker_pool_owner.cc',
         'test/sequenced_worker_pool_owner.h',
-        'test/simple_test_clock.cc',
-        'test/simple_test_clock.h',
-        'test/simple_test_tick_clock.cc',
-        'test/simple_test_tick_clock.h',
-        'test/task_runner_test_template.cc',
-        'test/task_runner_test_template.h',
+#        'test/simple_test_clock.cc',
+#        'test/simple_test_clock.h',
+#        'test/simple_test_tick_clock.cc',
+#        'test/simple_test_tick_clock.h',
+#        'test/task_runner_test_template.cc',
+#        'test/task_runner_test_template.h',
         'test/test_file_util.cc',
         'test/test_file_util.h',
@@ -1006,20 +1006,20 @@
         'test/test_suite.cc',
         'test/test_suite.h',
-        'test/test_support_android.cc',
-        'test/test_support_android.h',
-        'test/test_support_ios.h',
-        'test/test_support_ios.mm',
+#        'test/test_support_android.cc',
+#        'test/test_support_android.h',
+#        'test/test_support_ios.h',
+#        'test/test_support_ios.mm',
         'test/test_switches.cc',
         'test/test_switches.h',
         'test/test_timeouts.cc',
         'test/test_timeouts.h',
-        'test/thread_test_helper.cc',
-        'test/thread_test_helper.h',
+#        'test/thread_test_helper.cc',
+#        'test/thread_test_helper.h',
         'test/trace_event_analyzer.cc',
         'test/trace_event_analyzer.h',
         'test/trace_to_file.cc',
         'test/trace_to_file.h',
-        'test/values_test_util.cc',
-        'test/values_test_util.h',
+#        'test/values_test_util.cc',
+#        'test/values_test_util.h',
       ],
       'target_conditions': [
@@ -1034,12 +1034,12 @@
           'sources!': [
             # iOS uses its own unit test launcher.
-            'test/launcher/unit_test_launcher.cc',
+#            'test/launcher/unit_test_launcher.cc',
           ],
         }],
         ['OS == "ios" and _toolset == "host"', {
           'sources!': [
-            'test/launcher/unit_test_launcher_ios.cc',
-            'test/test_support_ios.h',
-            'test/test_support_ios.mm',
+#            'test/launcher/unit_test_launcher_ios.cc',
+#            'test/test_support_ios.h',
+#            'test/test_support_ios.mm',
           ],
         }],
@@ -1047,13 +1047,13 @@
     },
     {
-      'target_name': 'test_support_perf',
+#      'target_name': 'test_support_perf',
       'type': 'static_library',
       'dependencies': [
         'base',
-        'test_support_base',
+#        'test_support_base',
         '../testing/gtest.gyp:gtest',
       ],
       'sources': [
-        'test/run_all_perftests.cc',
+#        'test/run_all_perftests.cc',
       ],
       'direct_dependent_settings': {
@@ -1072,5 +1072,5 @@
           'type': 'executable',
           'dependencies': [
-            'test_support_base',
+#            'test_support_base',
           ],
           'sources': [
@@ -1379,5 +1379,5 @@
         {
           # TODO(GN)
-          'target_name': 'base_unittests_jni_headers',
+#          'target_name': 'base_unittests_jni_headers',
           'type': 'none',
           'sources': [
@@ -1436,6 +1436,6 @@
         },
         {
-          # GN: //base:base_java_unittest_support
-          'target_name': 'base_java_unittest_support',
+#          # GN: //base:base_java_unittest_support
+#          'target_name': 'base_java_unittest_support',
           'type': 'none',
           'dependencies': [
@@ -1475,6 +1475,6 @@
         },
         {
-          # GN: //base:base_java_test_support
-          'target_name': 'base_java_test_support',
+#          # GN: //base:base_java_test_support
+#          'target_name': 'base_java_test_support',
           'type': 'none',
           'dependencies': [
@@ -1492,5 +1492,5 @@
           'dependencies': [
             'base_java',
-            'base_java_test_support',
+#            'base_java_test_support',
           ],
           'variables': {
@@ -1526,24 +1526,24 @@
         {
           # TODO(GN)
-          'target_name': 'base_perftests_apk',
+#          'target_name': 'base_perftests_apk',
           'type': 'none',
           'dependencies': [
-            'base_perftests',
+#            'base_perftests',
           ],
           'variables': {
-            'test_suite_name': 'base_perftests',
+#            'test_suite_name': 'base_perftests',
           },
           'includes': [ '../build/apk_test.gypi' ],
         },
         {
-          # GN: //base:base_unittests_apk
-          'target_name': 'base_unittests_apk',
+#          # GN: //base:base_unittests_apk
+#          'target_name': 'base_unittests_apk',
           'type': 'none',
           'dependencies': [
             'base_java',
-            'base_unittests',
+#            'base_unittests',
           ],
           'variables': {
-            'test_suite_name': 'base_unittests',
+#            'test_suite_name': 'base_unittests',
           },
           'includes': [ '../build/apk_test.gypi' ],
@@ -1592,8 +1592,8 @@
       'targets': [
         {
-          'target_name': 'base_unittests_run',
+#          'target_name': 'base_unittests_run',
           'type': 'none',
           'dependencies': [
-            'base_unittests',
+#            'base_unittests',
           ],
           'includes': [
@@ -1601,5 +1601,5 @@
           ],
           'sources': [
-            'base_unittests.isolate',
+#            'base_unittests.isolate',
           ],
           'conditions': [
diff --git a/base/base.gypi b/base/base.gypi
index 0f8fff2..131e63d8 100644
--- a/base/base.gypi
+++ b/base/base.gypi
@@ -372,29 +372,29 @@
           'message_loop/message_pump_win.h',
           'message_loop/timer_slack.h',
-          'metrics/bucket_ranges.cc',
-          'metrics/bucket_ranges.h',
-          'metrics/histogram.cc',
-          'metrics/histogram.h',
-          'metrics/histogram_base.cc',
-          'metrics/histogram_base.h',
-          'metrics/histogram_delta_serialization.cc',
-          'metrics/histogram_delta_serialization.h',
-          'metrics/histogram_flattener.h',
-          'metrics/histogram_macros.h',
-          'metrics/histogram_samples.cc',
-          'metrics/histogram_samples.h',
-          'metrics/histogram_snapshot_manager.cc',
-          'metrics/histogram_snapshot_manager.h',
-          'metrics/sample_map.cc',
-          'metrics/sample_map.h',
-          'metrics/sample_vector.cc',
-          'metrics/sample_vector.h',
-          'metrics/sparse_histogram.cc',
-          'metrics/sparse_histogram.h',
-          'metrics/statistics_recorder.cc',
-          'metrics/statistics_recorder.h',
-          'metrics/user_metrics.cc',
-          'metrics/user_metrics.h',
-          'metrics/user_metrics_action.h',
+#          'metrics/bucket_ranges.cc',
+#          'metrics/bucket_ranges.h',
+#          'metrics/histogram.cc',
+#          'metrics/histogram.h',
+#          'metrics/histogram_base.cc',
+#          'metrics/histogram_base.h',
+#          'metrics/histogram_delta_serialization.cc',
+#          'metrics/histogram_delta_serialization.h',
+#          'metrics/histogram_flattener.h',
+#          'metrics/histogram_macros.h',
+#          'metrics/histogram_samples.cc',
+#          'metrics/histogram_samples.h',
+#          'metrics/histogram_snapshot_manager.cc',
+#          'metrics/histogram_snapshot_manager.h',
+#          'metrics/sample_map.cc',
+#          'metrics/sample_map.h',
+#          'metrics/sample_vector.cc',
+#          'metrics/sample_vector.h',
+#          'metrics/sparse_histogram.cc',
+#          'metrics/sparse_histogram.h',
+#          'metrics/statistics_recorder.cc',
+#          'metrics/statistics_recorder.h',
+#          'metrics/user_metrics.cc',
+#          'metrics/user_metrics.h',
+#          'metrics/user_metrics_action.h',
           'move.h',
           'native_library.h',
@@ -928,7 +928,7 @@
             'sources/': [
               # Copied filename_rules to switch from iOS to Mac inclusions.
-              ['include', '_(cocoa|mac)(_unittest)?\\.(h|cc|mm?)$'],
+#              ['include', '_(cocoa|mac)(_unittest)?\\.(h|cc|mm?)$'],
               ['include', '(^|/)(cocoa|mac)/'],
-              ['exclude', '_ios(_unittest)?\\.(h|cc|mm?)$'],
+#              ['exclude', '_ios(_unittest)?\\.(h|cc|mm?)$'],
               ['exclude', '(^|/)ios/'],
               ['exclude', 'files/file_path_watcher_fsevents.cc'],
diff --git a/base/BUILD.gn b/base/BUILD.gn
index b34335c..b25342f 100644
--- a/base/BUILD.gn
+++ b/base/BUILD.gn
@@ -4,8 +4,8 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -381,31 +381,31 @@ component("base") {
     "message_loop/message_pump_win.cc",
     "message_loop/message_pump_win.h",
-    "metrics/bucket_ranges.cc",
-    "metrics/bucket_ranges.h",
-    "metrics/field_trial.cc",
-    "metrics/field_trial.h",
-    "metrics/histogram.cc",
-    "metrics/histogram.h",
-    "metrics/histogram_base.cc",
-    "metrics/histogram_base.h",
-    "metrics/histogram_delta_serialization.",
-    "metrics/histogram_delta_serialization.cc",
-    "metrics/histogram_flattener.h",
-    "metrics/histogram_macros.h",
-    "metrics/histogram_samples.cc",
-    "metrics/histogram_samples.h",
-    "metrics/histogram_snapshot_manager.cc",
-    "metrics/histogram_snapshot_manager.h",
-    "metrics/sample_map.cc",
-    "metrics/sample_map.h",
-    "metrics/sample_vector.cc",
-    "metrics/sample_vector.h",
-    "metrics/sparse_histogram.cc",
-    "metrics/sparse_histogram.h",
-    "metrics/statistics_recorder.cc",
-    "metrics/statistics_recorder.h",
-    "metrics/user_metrics.cc",
-    "metrics/user_metrics.h",
-    "metrics/user_metrics_action.h",
+#    "metrics/bucket_ranges.cc",
+#    "metrics/bucket_ranges.h",
+#    "metrics/field_trial.cc",
+#    "metrics/field_trial.h",
+#    "metrics/histogram.cc",
+#    "metrics/histogram.h",
+#    "metrics/histogram_base.cc",
+#    "metrics/histogram_base.h",
+#    "metrics/histogram_delta_serialization.",
+#    "metrics/histogram_delta_serialization.cc",
+#    "metrics/histogram_flattener.h",
+#    "metrics/histogram_macros.h",
+#    "metrics/histogram_samples.cc",
+#    "metrics/histogram_samples.h",
+#    "metrics/histogram_snapshot_manager.cc",
+#    "metrics/histogram_snapshot_manager.h",
+#    "metrics/sample_map.cc",
+#    "metrics/sample_map.h",
+#    "metrics/sample_vector.cc",
+#    "metrics/sample_vector.h",
+#    "metrics/sparse_histogram.cc",
+#    "metrics/sparse_histogram.h",
+#    "metrics/statistics_recorder.cc",
+#    "metrics/statistics_recorder.h",
+#    "metrics/user_metrics.cc",
+#    "metrics/user_metrics.h",
+#    "metrics/user_metrics_action.h",
     "move.h",
     "native_library.h",
@@ -1068,36 +1068,4 @@ component("i18n") {
 if (is_linux && !is_chromeos) {
   # TODO(GYP): Figure out which of these work and are needed on other platforms.
-  test("base_perftests") {
-    sources = [
-      "message_loop/message_pump_perftest.cc",
-
-      # "test/run_all_unittests.cc",
-      "threading/thread_perftest.cc",
-    ]
-    deps = [
-      ":base",
-      "//base/test:test_support",
-      "//base/test:test_support_perf",
-      "//testing/perf",
-      "//testing/gtest",
-    ]
-
-    if (is_android) {
-      deps += [ "//testing/android:native_test_native_code" ]
-    }
-  }
-
-  test("base_i18n_perftests") {
-    sources = [
-      "i18n/streaming_utf8_validator_perftest.cc",
-    ]
-    deps = [
-      ":base",
-      ":i18n",
-      "//base/test:test_support",
-      "//base/test:test_support_perf",
-      "//testing/gtest",
-    ]
-  }
 
   if (!is_ios) {
@@ -1175,39 +1143,5 @@ source_set("prefs") {
 }
 
-source_set("prefs_test_support") {
-  testonly = true
-  sources = [
-    "prefs/mock_pref_change_callback.cc",
-    "prefs/mock_pref_change_callback.h",
-    "prefs/pref_store_observer_mock.cc",
-    "prefs/pref_store_observer_mock.h",
-    "prefs/testing_pref_service.cc",
-    "prefs/testing_pref_service.h",
-    "prefs/testing_pref_store.cc",
-    "prefs/testing_pref_store.h",
-  ]
 
-  public_deps = [
-    ":prefs",
-  ]
-  deps = [
-    ":base",
-    "//testing/gmock",
-    "//testing/gtest",
-  ]
-}
-
-source_set("message_loop_tests") {
-  testonly = true
-  sources = [
-    "message_loop/message_loop_test.cc",
-    "message_loop/message_loop_test.h",
-  ]
-
-  deps = [
-    ":base",
-    "//testing/gtest",
-  ]
-}
 
 # TODO(pasko): Remove this target when crbug.com/424562 is fixed.
@@ -1222,445 +1156,3 @@ source_set("protect_file_posix") {
 }
 
-if (is_win) {
-  # Target to manually rebuild pe_image_test.dll which is checked into
-  # base/test/data/pe_image.
-  shared_library("pe_image_test") {
-    sources = [
-      "win/pe_image_test.cc",
-    ]
-    ldflags = [
-      "/DELAYLOAD:cfgmgr32.dll",
-      "/DELAYLOAD:shell32.dll",
-      "/SUBSYSTEM:WINDOWS",
-    ]
-    libs = [
-      "cfgmgr32.lib",
-      "shell32.lib",
-    ]
-  }
-}
-
-test("base_unittests") {
-  sources = [
-    "android/application_status_listener_unittest.cc",
-    "android/content_uri_utils_unittest.cc",
-    "android/jni_android_unittest.cc",
-    "android/jni_array_unittest.cc",
-    "android/jni_string_unittest.cc",
-    "android/path_utils_unittest.cc",
-    "android/scoped_java_ref_unittest.cc",
-    "android/sys_utils_unittest.cc",
-    "async_socket_io_handler_unittest.cc",
-    "at_exit_unittest.cc",
-    "atomicops_unittest.cc",
-    "barrier_closure_unittest.cc",
-    "base64_unittest.cc",
-    "big_endian_unittest.cc",
-    "bind_unittest.cc",
-    "bind_unittest.nc",
-    "bits_unittest.cc",
-    "build_time_unittest.cc",
-    "callback_helpers_unittest.cc",
-    "callback_list_unittest.cc",
-    "callback_list_unittest.nc",
-    "callback_unittest.cc",
-    "callback_unittest.nc",
-    "cancelable_callback_unittest.cc",
-    "chromeos/memory_pressure_observer_chromeos_unittest.cc",
-    "command_line_unittest.cc",
-    "containers/adapters_unittest.cc",
-    "containers/hash_tables_unittest.cc",
-    "containers/linked_list_unittest.cc",
-    "containers/mru_cache_unittest.cc",
-    "containers/small_map_unittest.cc",
-    "containers/stack_container_unittest.cc",
-    "cpu_unittest.cc",
-    "debug/crash_logging_unittest.cc",
-    "debug/debugger_unittest.cc",
-    "debug/leak_tracker_unittest.cc",
-    "debug/proc_maps_linux_unittest.cc",
-    "debug/stack_trace_unittest.cc",
-    "debug/task_annotator_unittest.cc",
-    "deferred_sequenced_task_runner_unittest.cc",
-    "environment_unittest.cc",
-    "file_version_info_unittest.cc",
-    "files/dir_reader_posix_unittest.cc",
-    "files/file_path_unittest.cc",
-    "files/file_proxy_unittest.cc",
-    "files/file_unittest.cc",
-    "files/file_util_proxy_unittest.cc",
-    "files/file_util_unittest.cc",
-    "files/important_file_writer_unittest.cc",
-    "files/scoped_temp_dir_unittest.cc",
-    "gmock_unittest.cc",
-    "guid_unittest.cc",
-    "hash_unittest.cc",
-    "i18n/break_iterator_unittest.cc",
-    "i18n/case_conversion_unittest.cc",
-    "i18n/char_iterator_unittest.cc",
-    "i18n/file_util_icu_unittest.cc",
-    "i18n/icu_string_conversions_unittest.cc",
-    "i18n/number_formatting_unittest.cc",
-    "i18n/rtl_unittest.cc",
-    "i18n/streaming_utf8_validator_unittest.cc",
-    "i18n/string_search_unittest.cc",
-    "i18n/time_formatting_unittest.cc",
-    "i18n/timezone_unittest.cc",
-    "id_map_unittest.cc",
-    "ios/device_util_unittest.mm",
-    "ios/weak_nsobject_unittest.mm",
-    "json/json_parser_unittest.cc",
-    "json/json_reader_unittest.cc",
-    "json/json_value_converter_unittest.cc",
-    "json/json_value_serializer_unittest.cc",
-    "json/json_writer_unittest.cc",
-    "json/string_escape_unittest.cc",
-    "lazy_instance_unittest.cc",
-    "logging_unittest.cc",
-    "mac/bind_objc_block_unittest.mm",
-    "mac/foundation_util_unittest.mm",
-    "mac/libdispatch_task_runner_unittest.cc",
-    "mac/mac_util_unittest.mm",
-    "mac/objc_property_releaser_unittest.mm",
-    "mac/scoped_nsobject_unittest.mm",
-    "mac/scoped_objc_class_swizzler_unittest.mm",
-    "mac/scoped_sending_event_unittest.mm",
-    "md5_unittest.cc",
-    "memory/aligned_memory_unittest.cc",
-    "memory/discardable_memory_manager_unittest.cc",
-    "memory/discardable_memory_unittest.cc",
-    "memory/discardable_shared_memory_unittest.cc",
-    "memory/linked_ptr_unittest.cc",
-    "memory/ref_counted_memory_unittest.cc",
-    "memory/ref_counted_unittest.cc",
-    "memory/scoped_ptr_unittest.cc",
-    "memory/scoped_ptr_unittest.nc",
-    "memory/scoped_vector_unittest.cc",
-    "memory/shared_memory_unittest.cc",
-    "memory/singleton_unittest.cc",
-    "memory/weak_ptr_unittest.cc",
-    "memory/weak_ptr_unittest.nc",
-    "message_loop/message_loop_proxy_impl_unittest.cc",
-    "message_loop/message_loop_proxy_unittest.cc",
-    "message_loop/message_loop_unittest.cc",
-    "message_loop/message_pump_glib_unittest.cc",
-    "message_loop/message_pump_io_ios_unittest.cc",
-    "metrics/bucket_ranges_unittest.cc",
-    "metrics/field_trial_unittest.cc",
-    "metrics/histogram_base_unittest.cc",
-    "metrics/histogram_delta_serialization_unittest.cc",
-    "metrics/histogram_snapshot_manager_unittest.cc",
-    "metrics/histogram_unittest.cc",
-    "metrics/sample_map_unittest.cc",
-    "metrics/sample_vector_unittest.cc",
-    "metrics/sparse_histogram_unittest.cc",
-    "metrics/statistics_recorder_unittest.cc",
-    "numerics/safe_numerics_unittest.cc",
-    "observer_list_unittest.cc",
-    "os_compat_android_unittest.cc",
-    "path_service_unittest.cc",
-    "pickle_unittest.cc",
-    "posix/file_descriptor_shuffle_unittest.cc",
-    "posix/unix_domain_socket_linux_unittest.cc",
-    "power_monitor/power_monitor_unittest.cc",
-    "prefs/default_pref_store_unittest.cc",
-    "prefs/json_pref_store_unittest.cc",
-    "prefs/overlay_user_pref_store_unittest.cc",
-    "prefs/pref_change_registrar_unittest.cc",
-    "prefs/pref_member_unittest.cc",
-    "prefs/pref_notifier_impl_unittest.cc",
-    "prefs/pref_service_unittest.cc",
-    "prefs/pref_value_map_unittest.cc",
-    "prefs/pref_value_store_unittest.cc",
-    "prefs/scoped_user_pref_update_unittest.cc",
-    "process/memory_unittest.cc",
-    "process/memory_unittest_mac.h",
-    "process/memory_unittest_mac.mm",
-    "process/process_metrics_unittest.cc",
-    "process/process_metrics_unittest_ios.cc",
-    "process/process_unittest.cc",
-    "process/process_util_unittest.cc",
-    "process/process_util_unittest_ios.cc",
-    "profiler/tracked_time_unittest.cc",
-    "rand_util_unittest.cc",
-    "scoped_clear_errno_unittest.cc",
-    "scoped_generic_unittest.cc",
-    "scoped_native_library_unittest.cc",
-    "security_unittest.cc",
-    "sequence_checker_unittest.cc",
-    "sha1_unittest.cc",
-    "stl_util_unittest.cc",
-    "strings/nullable_string16_unittest.cc",
-    "strings/safe_sprintf_unittest.cc",
-    "strings/string16_unittest.cc",
-    "strings/string_number_conversions_unittest.cc",
-    "strings/string_piece_unittest.cc",
-    "strings/string_split_unittest.cc",
-    "strings/string_tokenizer_unittest.cc",
-    "strings/string_util_unittest.cc",
-    "strings/stringize_macros_unittest.cc",
-    "strings/stringprintf_unittest.cc",
-    "strings/sys_string_conversions_mac_unittest.mm",
-    "strings/sys_string_conversions_unittest.cc",
-    "strings/utf_offset_string_conversions_unittest.cc",
-    "strings/utf_string_conversions_unittest.cc",
-    "supports_user_data_unittest.cc",
-    "sync_socket_unittest.cc",
-    "synchronization/cancellation_flag_unittest.cc",
-    "synchronization/condition_variable_unittest.cc",
-    "synchronization/lock_unittest.cc",
-    "synchronization/waitable_event_unittest.cc",
-    "synchronization/waitable_event_watcher_unittest.cc",
-    "sys_info_unittest.cc",
-    "system_monitor/system_monitor_unittest.cc",
-    "task/cancelable_task_tracker_unittest.cc",
-    "task_runner_util_unittest.cc",
-    "template_util_unittest.cc",
-    "test/expectations/expectation_unittest.cc",
-    "test/expectations/parser_unittest.cc",
-    "test/histogram_tester_unittest.cc",
-    "test/test_reg_util_win_unittest.cc",
-    "test/trace_event_analyzer_unittest.cc",
-    "threading/non_thread_safe_unittest.cc",
-    "threading/platform_thread_unittest.cc",
-    "threading/sequenced_worker_pool_unittest.cc",
-    "threading/simple_thread_unittest.cc",
-    "threading/thread_checker_unittest.cc",
-    "threading/thread_collision_warner_unittest.cc",
-    "threading/thread_id_name_manager_unittest.cc",
-    "threading/thread_local_storage_unittest.cc",
-    "threading/thread_local_unittest.cc",
-    "threading/thread_unittest.cc",
-    "threading/watchdog_unittest.cc",
-    "threading/worker_pool_posix_unittest.cc",
-    "threading/worker_pool_unittest.cc",
-    "time/pr_time_unittest.cc",
-    "time/time_unittest.cc",
-    "time/time_win_unittest.cc",
-    "timer/hi_res_timer_manager_unittest.cc",
-    "timer/mock_timer_unittest.cc",
-    "timer/timer_unittest.cc",
-    "tools_sanity_unittest.cc",
-    "trace_event/memory_dump_manager_unittest.cc",
-    "trace_event/process_memory_maps_dump_provider_unittest.cc",
-    "trace_event/process_memory_totals_dump_provider_unittest.cc",
-    "trace_event/trace_event_argument_unittest.cc",
-    "trace_event/trace_event_memory_unittest.cc",
-    "trace_event/trace_event_synthetic_delay_unittest.cc",
-    "trace_event/trace_event_system_stats_monitor_unittest.cc",
-    "trace_event/trace_event_unittest.cc",
-    "trace_event/trace_event_win_unittest.cc",
-    "tracked_objects_unittest.cc",
-    "tuple_unittest.cc",
-    "values_unittest.cc",
-    "version_unittest.cc",
-    "vlog_unittest.cc",
-    "win/dllmain.cc",
-    "win/enum_variant_unittest.cc",
-    "win/event_trace_consumer_unittest.cc",
-    "win/event_trace_controller_unittest.cc",
-    "win/event_trace_provider_unittest.cc",
-    "win/i18n_unittest.cc",
-    "win/iunknown_impl_unittest.cc",
-    "win/message_window_unittest.cc",
-    "win/object_watcher_unittest.cc",
-    "win/pe_image_unittest.cc",
-    "win/registry_unittest.cc",
-    "win/scoped_bstr_unittest.cc",
-    "win/scoped_comptr_unittest.cc",
-    "win/scoped_process_information_unittest.cc",
-    "win/scoped_variant_unittest.cc",
-    "win/shortcut_unittest.cc",
-    "win/startup_information_unittest.cc",
-    "win/win_util_unittest.cc",
-    "win/wrapped_window_proc_unittest.cc",
-  ]
-
-  defines = []
-
-  deps = [
-    ":base",
-    ":i18n",
-    ":message_loop_tests",
-    ":prefs",
-    ":prefs_test_support",
-    "//base/allocator",
-    "//base/test:run_all_unittests",
-    "//base/test:test_support",
-    "//base/third_party/dynamic_annotations",
-    "//base/third_party/nspr",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/icu",
-  ]
-
-  # Allow more direct string conversions on platforms with native utf8
-  # strings
-  if (is_mac || is_ios || is_chromeos) {
-    defines += [ "SYSTEM_NATIVE_UTF8" ]
-  }
 
-  if (is_android) {
-    apk_deps = [
-      ":base_java",
-      ":base_java_unittest_support",
-    ]
-  }
-
-  if (is_ios) {
-    sources -= [
-      "process/memory_unittest.cc",
-      "process/memory_unittest_mac.h",
-      "process/memory_unittest_mac.mm",
-      "process/process_unittest.cc",
-      "process/process_util_unittest.cc",
-    ]
-
-    # Pull in specific Mac files for iOS (which have been filtered out by file
-    # name rules).
-    set_sources_assignment_filter([])
-    sources += [
-      "mac/bind_objc_block_unittest.mm",
-      "mac/foundation_util_unittest.mm",
-      "mac/objc_property_releaser_unittest.mm",
-      "mac/scoped_nsobject_unittest.mm",
-      "sys_string_conversions_mac_unittest.mm",
-    ]
-    set_sources_assignment_filter(sources_assignment_filter)
-
-    # TODO(GYP): dep on copy_test_data_ios action.
-  }
-
-  if (is_linux) {
-    sources -= [ "file_version_info_unittest.cc" ]
-    sources += [ "nix/xdg_util_unittest.cc" ]
-    defines += [ "USE_SYMBOLIZE" ]
-    if (use_glib) {
-      configs += [ "//build/config/linux:glib" ]
-    }
-  }
-
-  if (!is_linux || use_ozone) {
-    sources -= [ "message_loop/message_pump_glib_unittest.cc" ]
-  }
-
-  if (is_posix || is_ios) {
-    sources += [ "message_loop/message_pump_libevent_unittest.cc" ]
-    deps += [ "//third_party/libevent" ]
-  }
-
-  if (is_android) {
-    deps += [ "//testing/android:native_test_native_code" ]
-    set_sources_assignment_filter([])
-    sources += [ "debug/proc_maps_linux_unittest.cc" ]
-    set_sources_assignment_filter(sources_assignment_filter)
-  }
-
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-}
-
-if (is_android) {
-  # GYP: //base.gyp:base_jni_headers
-  generate_jni("base_jni_headers") {
-    sources = [
-      "android/java/src/org/chromium/base/AnimationFrameTimeHistogram.java",
-      "android/java/src/org/chromium/base/ApplicationStatus.java",
-      "android/java/src/org/chromium/base/BuildInfo.java",
-      "android/java/src/org/chromium/base/CommandLine.java",
-      "android/java/src/org/chromium/base/ContentUriUtils.java",
-      "android/java/src/org/chromium/base/CpuFeatures.java",
-      "android/java/src/org/chromium/base/EventLog.java",
-      "android/java/src/org/chromium/base/FieldTrialList.java",
-      "android/java/src/org/chromium/base/ImportantFileWriterAndroid.java",
-      "android/java/src/org/chromium/base/JNIUtils.java",
-      "android/java/src/org/chromium/base/JavaHandlerThread.java",
-      "android/java/src/org/chromium/base/LocaleUtils.java",
-      "android/java/src/org/chromium/base/MemoryPressureListener.java",
-      "android/java/src/org/chromium/base/PathService.java",
-      "android/java/src/org/chromium/base/PathUtils.java",
-      "android/java/src/org/chromium/base/PowerMonitor.java",
-      "android/java/src/org/chromium/base/SysUtils.java",
-      "android/java/src/org/chromium/base/SystemMessageHandler.java",
-      "android/java/src/org/chromium/base/ThreadUtils.java",
-      "android/java/src/org/chromium/base/TraceEvent.java",
-      "android/java/src/org/chromium/base/library_loader/LibraryLoader.java",
-      "android/java/src/org/chromium/base/metrics/RecordHistogram.java",
-    ]
-    jni_package = "base"
-  }
-
-  # GYP: //base.gyp:base_java
-  android_library("base_java") {
-    srcjar_deps = [
-      ":base_android_java_enums_srcjar",
-      ":base_native_libraries_gen",
-    ]
-
-    deps = [
-      "//third_party/jsr-305:jsr_305_javalib",
-    ]
-
-    DEPRECATED_java_in_dir = "android/java/src"
-
-    # A new version of NativeLibraries.java (with the actual correct values)
-    # will be created when creating an apk.
-    jar_excluded_patterns = [
-      "*/NativeLibraries.class",
-      "*/NativeLibraries##*.class",
-    ]
-  }
-
-  # GYP: //base.gyp:base_javatests
-  android_library("base_javatests") {
-    deps = [
-      ":base_java",
-      ":base_java_test_support",
-    ]
-    DEPRECATED_java_in_dir = "android/javatests/src"
-  }
-
-  # GYP: //base.gyp:base_java_test_support
-  android_library("base_java_test_support") {
-    deps = [
-      ":base_java",
-    ]
-    DEPRECATED_java_in_dir = "test/android/javatests/src"
-  }
-
-  # GYP: //base.gyp:base_java_application_state
-  # GYP: //base.gyp:base_java_library_load_from_apk_status_codes
-  # GYP: //base.gyp:base_java_library_process_type
-  # GYP: //base.gyp:base_java_memory_pressure_level
-  java_cpp_enum("base_android_java_enums_srcjar") {
-    sources = [
-      "android/application_status_listener.h",
-      "android/library_loader/library_load_from_apk_status_codes.h",
-      "android/library_loader/library_loader_hooks.h",
-      "memory/memory_pressure_listener.h",
-    ]
-    outputs = [
-      "org/chromium/base/ApplicationState.java",
-      "org/chromium/base/library_loader/LibraryLoadFromApkStatusCodes.java",
-      "org/chromium/base/library_loader/LibraryProcessType.java",
-      "org/chromium/base/MemoryPressureLevel.java",
-    ]
-  }
-
-  # GYP: //base/base.gyp:base_native_libraries_gen
-  java_cpp_template("base_native_libraries_gen") {
-    sources = [
-      "android/java/templates/NativeLibraries.template",
-    ]
-    package_name = "org/chromium/base/library_loader"
-  }
-
-  # GYP: //base.gyp:base_java_unittest_support
-  android_library("base_java_unittest_support") {
-    deps = [
-      ":base_java",
-    ]
-    java_files =
-        [ "test/android/java/src/org/chromium/base/ContentUriTestUtils.java" ]
-  }
-}
diff --git a/base/chromeos/memory_pressure_observer_chromeos.cc b/base/chromeos/memory_pressure_observer_chromeos.cc
index 5691eb8..f6d3acb 100644
--- a/base/chromeos/memory_pressure_observer_chromeos.cc
+++ b/base/chromeos/memory_pressure_observer_chromeos.cc
@@ -6,5 +6,5 @@
 
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/process/process_metrics.h"
 #include "base/time/time.h"
diff --git a/base/files/file_posix.cc b/base/files/file_posix.cc
index 245ea6a..42e686f 100644
--- a/base/files/file_posix.cc
+++ b/base/files/file_posix.cc
@@ -13,5 +13,5 @@
 #include "base/files/file_posix_hooks_internal.h"
 #include "base/logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/posix/eintr_wrapper.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/base/files/file_util_win.cc b/base/files/file_util_win.cc
index e254232..9c0b69d 100644
--- a/base/files/file_util_win.cc
+++ b/base/files/file_util_win.cc
@@ -19,5 +19,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process_handle.h"
 #include "base/rand_util.h"
diff --git a/base/files/file_win.cc b/base/files/file_win.cc
index 727b5ce..764830b 100644
--- a/base/files/file_win.cc
+++ b/base/files/file_win.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/threading/thread_restrictions.h"
 
diff --git a/base/files/important_file_writer.cc b/base/files/important_file_writer.cc
index 47b0b09..b8cc109 100644
--- a/base/files/important_file_writer.cc
+++ b/base/files/important_file_writer.cc
@@ -16,5 +16,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/base/gtest_prod_util.h b/base/gtest_prod_util.h
index 3289e63..c381289 100644
--- a/base/gtest_prod_util.h
+++ b/base/gtest_prod_util.h
@@ -6,5 +6,5 @@
 #define BASE_GTEST_PROD_UTIL_H_
 
-#include "testing/gtest/include/gtest/gtest_prod.h"
+//#include "testing/gtest/include/gtest/gtest_prod.h"
 
 // This is a wrapper for gtest's FRIEND_TEST macro that friends
diff --git a/base/i18n/streaming_utf8_validator_perftest.cc b/base/i18n/streaming_utf8_validator_perftest.cc
index 6b8c17b..7ac5b42 100644
--- a/base/i18n/streaming_utf8_validator_perftest.cc
+++ b/base/i18n/streaming_utf8_validator_perftest.cc
@@ -21,5 +21,5 @@
 #include "base/strings/stringprintf.h"
 #include "base/test/perf_time_logger.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace base {
diff --git a/base/message_loop/incoming_task_queue.cc b/base/message_loop/incoming_task_queue.cc
index c1ce939..41abedc 100644
--- a/base/message_loop/incoming_task_queue.cc
+++ b/base/message_loop/incoming_task_queue.cc
@@ -9,5 +9,5 @@
 #include "base/location.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/synchronization/waitable_event.h"
 #include "base/time/time.h"
diff --git a/base/message_loop/message_loop.cc b/base/message_loop/message_loop.cc
index daa7782..3b76df4 100644
--- a/base/message_loop/message_loop.cc
+++ b/base/message_loop/message_loop.cc
@@ -13,6 +13,6 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_pump_default.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/run_loop.h"
 #include "base/third_party/dynamic_annotations/dynamic_annotations.h"
@@ -43,5 +43,5 @@ namespace {
 LazyInstance<base::ThreadLocalPointer<MessageLoop> >::Leaky lazy_tls_ptr =
     LAZY_INSTANCE_INITIALIZER;
-
+/*
 // Logical events for Histogram profiling. Run with -message-loop-histogrammer
 // to get an accounting of messages and actions taken on each thread.
@@ -84,5 +84,5 @@ const LinearHistogram::DescriptionPair event_descriptions_[] = {
 
 bool enable_histogrammer_ = false;
-
+*/
 MessageLoop::MessagePumpFactory* message_pump_for_ui_factory_ = NULL;
 
@@ -126,5 +126,5 @@ MessageLoop::MessageLoop(Type type)
       os_modal_loop_(false),
 #endif  // OS_WIN
-      message_histogram_(NULL),
+//      message_histogram_(NULL),
       run_loop_(NULL) {
   Init();
@@ -144,5 +144,5 @@ MessageLoop::MessageLoop(scoped_ptr<MessagePump> pump)
       os_modal_loop_(false),
 #endif  // OS_WIN
-      message_histogram_(NULL),
+//      message_histogram_(NULL),
       run_loop_(NULL) {
   DCHECK(pump_.get());
@@ -204,7 +204,7 @@ MessageLoop* MessageLoop::current() {
 
 // static
-void MessageLoop::EnableHistogrammer(bool enable) {
+/*void MessageLoop::EnableHistogrammer(bool enable) {
   enable_histogrammer_ = enable;
-}
+}*/
 
 // static
@@ -402,5 +402,5 @@ void MessageLoop::RunHandler() {
   DCHECK_EQ(this, current());
 
-  StartHistogrammer();
+//  StartHistogrammer();
 
 #if defined(OS_WIN)
@@ -442,5 +442,5 @@ void MessageLoop::RunTask(const PendingTask& pending_task) {
   nestable_tasks_allowed_ = false;
 
-  HistogramEvent(kTaskRunEvent);
+//  HistogramEvent(kTaskRunEvent);
 
   FOR_EACH_OBSERVER(TaskObserver, task_observers_,
@@ -524,5 +524,5 @@ void MessageLoop::ScheduleWork() {
 // Method and data for histogramming events and actions taken by each instance
 // on each thread.
-
+/*
 void MessageLoop::StartHistogrammer() {
 #if !defined(OS_NACL)  // NaCl build has no metrics code.
@@ -546,5 +546,5 @@ void MessageLoop::HistogramEvent(int event) {
 #endif
 }
-
+*/
 bool MessageLoop::DoWork() {
   if (!nestable_tasks_allowed_) {
diff --git a/base/message_loop/message_loop.h b/base/message_loop/message_loop.h
index 7c76616..e57589a 100644
--- a/base/message_loop/message_loop.h
+++ b/base/message_loop/message_loop.h
@@ -39,5 +39,5 @@
 namespace base {
 
-class HistogramBase;
+//class HistogramBase;
 class RunLoop;
 class ThreadTaskRunnerHandle;
@@ -121,5 +121,5 @@ class BASE_EXPORT MessageLoop : public MessagePump::Delegate {
   static MessageLoop* current();
 
-  static void EnableHistogrammer(bool enable_histogrammer);
+//  static void EnableHistogrammer(bool enable_histogrammer);
 
   typedef scoped_ptr<MessagePump> (MessagePumpFactory)();
@@ -435,10 +435,10 @@ class BASE_EXPORT MessageLoop : public MessagePump::Delegate {
   // Start recording histogram info about events and action IF it was enabled
   // and IF the statistics recorder can accept a registration of our histogram.
-  void StartHistogrammer();
+//  void StartHistogrammer();
 
   // Add occurrence of event to our histogram, so that we can see what is being
   // done in a specific MessageLoop instance (i.e., specific thread).
   // If message_histogram_ is NULL, this is a no-op.
-  void HistogramEvent(int event);
+//  void HistogramEvent(int event);
 
   // MessagePump::Delegate methods:
@@ -488,5 +488,5 @@ class BASE_EXPORT MessageLoop : public MessagePump::Delegate {
   std::string thread_name_;
   // A profiling histogram showing the counts of various messages and events.
-  HistogramBase* message_histogram_;
+//  HistogramBase* message_histogram_;
 
   RunLoop* run_loop_;
diff --git a/base/message_loop/message_loop_test.h b/base/message_loop/message_loop_test.h
index 3d9889c..4df83f0 100644
--- a/base/message_loop/message_loop_test.h
+++ b/base/message_loop/message_loop_test.h
@@ -7,5 +7,5 @@
 
 #include "base/message_loop/message_loop.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 // This file consists of tests meant to exercise the combination of MessageLoop
diff --git a/base/message_loop/message_pump_perftest.cc b/base/message_loop/message_pump_perftest.cc
index b3e5604..3db6c26 100644
--- a/base/message_loop/message_pump_perftest.cc
+++ b/base/message_loop/message_pump_perftest.cc
@@ -13,6 +13,6 @@
 #include "base/time/time.h"
 #include "build/build_config.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 #if defined(OS_ANDROID)
diff --git a/base/message_loop/message_pump_win.cc b/base/message_loop/message_pump_win.cc
index 8226495..2f0fbf9 100644
--- a/base/message_loop/message_pump_win.cc
+++ b/base/message_loop/message_pump_win.cc
@@ -9,5 +9,5 @@
 
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/memory.h"
 #include "base/profiler/scoped_tracker.h"
diff --git a/base/prefs/json_pref_store.cc b/base/prefs/json_pref_store.cc
index 47cd424..691987a 100644
--- a/base/prefs/json_pref_store.cc
+++ b/base/prefs/json_pref_store.cc
@@ -14,5 +14,5 @@
 #include "base/json/json_string_value_serializer.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_filter.h"
 #include "base/sequenced_task_runner.h"
@@ -91,5 +91,5 @@ PersistentPrefStore::PrefReadError HandleReadErrors(
   return PersistentPrefStore::PREF_READ_ERROR_NONE;
 }
-
+/*
 // Records a sample for |size| in the Settings.JsonDataReadSizeKilobytes
 // histogram suffixed with the base name of the JSON file under |path|.
@@ -106,5 +106,5 @@ void RecordJsonDataSizeHistogram(const base::FilePath& path, size_t size) {
       base::HistogramBase::kUmaTargetedHistogramFlag);
   histogram->Add(static_cast<int>(size) / 1024);
-}
+}*/
 
 scoped_ptr<JsonPrefStore::ReadResult> ReadPrefsFromDisk(
@@ -126,6 +126,6 @@ scoped_ptr<JsonPrefStore::ReadResult> ReadPrefsFromDisk(
   read_result->no_dir = !base::PathExists(path.DirName());
 
-  if (read_result->error == PersistentPrefStore::PREF_READ_ERROR_NONE)
-    RecordJsonDataSizeHistogram(path, deserializer.get_last_read_size());
+//  if (read_result->error == PersistentPrefStore::PREF_READ_ERROR_NONE)
+//    RecordJsonDataSizeHistogram(path, deserializer.get_last_read_size());
 
   return read_result.Pass();
diff --git a/base/prefs/mock_pref_change_callback.h b/base/prefs/mock_pref_change_callback.h
index 3030fab..99d76d8 100644
--- a/base/prefs/mock_pref_change_callback.h
+++ b/base/prefs/mock_pref_change_callback.h
@@ -10,5 +10,5 @@
 #include "base/prefs/pref_change_registrar.h"
 #include "base/prefs/pref_service.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::Pointee;
diff --git a/base/prefs/pref_service.cc b/base/prefs/pref_service.cc
index 5afb5ea..df355d7 100644
--- a/base/prefs/pref_service.cc
+++ b/base/prefs/pref_service.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/default_pref_store.h"
 #include "base/prefs/pref_notifier_impl.h"
diff --git a/base/prefs/pref_store_observer_mock.cc b/base/prefs/pref_store_observer_mock.cc
index f1a31bb..ed25f32 100644
--- a/base/prefs/pref_store_observer_mock.cc
+++ b/base/prefs/pref_store_observer_mock.cc
@@ -5,5 +5,5 @@
 #include "base/prefs/pref_store_observer_mock.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 PrefStoreObserverMock::PrefStoreObserverMock()
diff --git a/base/prefs/testing_pref_service.cc b/base/prefs/testing_pref_service.cc
index 5899376..c6b888f 100644
--- a/base/prefs/testing_pref_service.cc
+++ b/base/prefs/testing_pref_service.cc
@@ -11,5 +11,5 @@
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_value_store.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 template <>
diff --git a/base/process/launch_win.cc b/base/process/launch_win.cc
index c2bd295..d1c5099 100644
--- a/base/process/launch_win.cc
+++ b/base/process/launch_win.cc
@@ -22,5 +22,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/kill.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/base/process/process_win.cc b/base/process/process_win.cc
index 32da8ab..6c79995 100644
--- a/base/process/process_win.cc
+++ b/base/process/process_win.cc
@@ -7,5 +7,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/process/kill.h"
diff --git a/base/threading/sequenced_worker_pool.cc b/base/threading/sequenced_worker_pool.cc
index f20d997..e7c921a 100644
--- a/base/threading/sequenced_worker_pool.cc
+++ b/base/threading/sequenced_worker_pool.cc
@@ -38,5 +38,5 @@
 
 #if !defined(OS_NACL)
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #endif
 
diff --git a/base/threading/thread_perftest.cc b/base/threading/thread_perftest.cc
index b94f942..2f212ad 100644
--- a/base/threading/thread_perftest.cc
+++ b/base/threading/thread_perftest.cc
@@ -14,6 +14,6 @@
 #include "base/time/time.h"
 #include "build/build_config.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 #if defined(OS_POSIX)
diff --git a/breakpad/breakpad.gyp b/breakpad/breakpad.gyp
index 2e2e709..aaf901d 100644
--- a/breakpad/breakpad.gyp
+++ b/breakpad/breakpad.gyp
@@ -638,6 +638,6 @@
         },
         {
-          # GN version: //breakpad:breakpad_unittests
-          'target_name': 'breakpad_unittests',
+#          # GN version: //breakpad:breakpad_unittests
+#          'target_name': 'breakpad_unittests',
           'type': 'executable',
           'dependencies': [
@@ -647,5 +647,5 @@
             'breakpad_client',
             'breakpad_processor_support',
-            'linux_dumper_unittest_helper',
+#            'linux_dumper_unittest_helper',
           ],
           'variables': {
@@ -658,16 +658,16 @@
           'sources': [
             'linux/breakpad_googletest_includes.h',
-            'src/client/linux/handler/exception_handler_unittest.cc',
-            'src/client/linux/minidump_writer/cpu_set_unittest.cc',
-            'src/client/linux/minidump_writer/directory_reader_unittest.cc',
-            'src/client/linux/minidump_writer/line_reader_unittest.cc',
-            'src/client/linux/minidump_writer/linux_core_dumper_unittest.cc',
-            'src/client/linux/minidump_writer/linux_ptrace_dumper_unittest.cc',
-            'src/client/linux/minidump_writer/minidump_writer_unittest.cc',
-            'src/client/linux/minidump_writer/minidump_writer_unittest_utils.cc',
-            'src/client/linux/minidump_writer/proc_cpuinfo_reader_unittest.cc',
-            'src/common/linux/elf_core_dump_unittest.cc',
-            'src/common/linux/file_id_unittest.cc',
-            'src/common/linux/linux_libc_support_unittest.cc',
+#            'src/client/linux/handler/exception_handler_unittest.cc',
+#            'src/client/linux/minidump_writer/cpu_set_unittest.cc',
+#            'src/client/linux/minidump_writer/directory_reader_unittest.cc',
+#            'src/client/linux/minidump_writer/line_reader_unittest.cc',
+#            'src/client/linux/minidump_writer/linux_core_dumper_unittest.cc',
+#            'src/client/linux/minidump_writer/linux_ptrace_dumper_unittest.cc',
+#            'src/client/linux/minidump_writer/minidump_writer_unittest.cc',
+#            'src/client/linux/minidump_writer/minidump_writer_unittest_utils.cc',
+#            'src/client/linux/minidump_writer/proc_cpuinfo_reader_unittest.cc',
+#            'src/common/linux/elf_core_dump_unittest.cc',
+#            'src/common/linux/file_id_unittest.cc',
+#            'src/common/linux/linux_libc_support_unittest.cc',
             'src/common/linux/synth_elf.cc',
             'src/common/linux/tests/auto_testfile.h',
@@ -675,11 +675,11 @@
             'src/common/linux/tests/crash_generator.h',
             'src/common/memory_range.h',
-            'src/common/memory_unittest.cc',
-            'src/common/simple_string_dictionary_unittest.cc',
+#            'src/common/memory_unittest.cc',
+#            'src/common/simple_string_dictionary_unittest.cc',
             'src/common/test_assembler.cc',
             'src/common/tests/file_utils.cc',
             'src/common/tests/file_utils.h',
             'src/tools/linux/md2core/minidump_memory_range.h',
-            'src/tools/linux/md2core/minidump_memory_range_unittest.cc',
+#            'src/tools/linux/md2core/minidump_memory_range_unittest.cc',
           ],
 
@@ -699,5 +699,5 @@
               ],
               'sources': [
-                'src/common/android/breakpad_getcontext_unittest.cc',
+#                'src/common/android/breakpad_getcontext_unittest.cc',
               ],
             }],
@@ -705,6 +705,6 @@
         },
         {
-          # GN version: //breakpad:linux_dumper_unittest_helper
-          'target_name': 'linux_dumper_unittest_helper',
+#          # GN version: //breakpad:linux_dumper_unittest_helper
+#          'target_name': 'linux_dumper_unittest_helper',
           'type': 'executable',
           'dependencies': [
@@ -712,5 +712,5 @@
           ],
           'sources': [
-            'src/client/linux/minidump_writer/linux_dumper_unittest_helper.cc',
+#            'src/client/linux/minidump_writer/linux_dumper_unittest_helper.cc',
           ],
 
@@ -728,6 +728,6 @@
         },
         {
-          # GN version: //breakpad:generate_test_dump
-          'target_name': 'generate_test_dump',
+#          # GN version: //breakpad:generate_test_dump
+#          'target_name': 'generate_test_dump',
           'type': 'executable',
 
@@ -947,26 +947,26 @@
       'targets': [
         {
-          'target_name': 'breakpad_unittests_stripped',
+#          'target_name': 'breakpad_unittests_stripped',
           'type': 'none',
-          'dependencies': [ 'breakpad_unittests' ],
+#          'dependencies': [ 'breakpad_unittests' ],
           'actions': [{
-            'action_name': 'strip breakpad_unittests',
-            'inputs': [ '<(PRODUCT_DIR)/breakpad_unittests' ],
-            'outputs': [ '<(PRODUCT_DIR)/breakpad_unittests_stripped' ],
+#            'action_name': 'strip breakpad_unittests',
+#            'inputs': [ '<(PRODUCT_DIR)/breakpad_unittests' ],
+#            'outputs': [ '<(PRODUCT_DIR)/breakpad_unittests_stripped' ],
             'action': [ '<(android_strip)', '<@(_inputs)', '-o', '<@(_outputs)' ],
           }],
         },
         {
-          'target_name': 'breakpad_unittests_deps',
+#          'target_name': 'breakpad_unittests_deps',
           'type': 'none',
           'dependencies': [
-            'breakpad_unittests_stripped',
+#            'breakpad_unittests_stripped',
           ],
           # For the component build, ensure dependent shared libraries are
-          # stripped and put alongside breakpad_unittest to simplify pushing to
+#          # stripped and put alongside breakpad_unittest to simplify pushing to
           # the device.
           'variables': {
-             'output_dir': '<(PRODUCT_DIR)/breakpad_unittests_deps/',
-             'native_binary': '<(PRODUCT_DIR)/breakpad_unittests_stripped',
+#             'output_dir': '<(PRODUCT_DIR)/breakpad_unittests_deps/',
+#             'native_binary': '<(PRODUCT_DIR)/breakpad_unittests_stripped',
              'include_main_binary': 0,
           },
diff --git a/breakpad/BUILD.gn b/breakpad/BUILD.gn
index 8103bb1..5733b03 100644
--- a/breakpad/BUILD.gn
+++ b/breakpad/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 config("tools_config") {
@@ -560,101 +560,5 @@ if (is_linux || is_android) {
 
 if (is_linux) {
-  test("breakpad_unittests") {
-    sources = [
-      "linux/breakpad_googletest_includes.h",
-      "src/client/linux/handler/exception_handler_unittest.cc",
-      "src/client/linux/minidump_writer/cpu_set_unittest.cc",
-      "src/client/linux/minidump_writer/directory_reader_unittest.cc",
-      "src/client/linux/minidump_writer/line_reader_unittest.cc",
-      "src/client/linux/minidump_writer/linux_core_dumper_unittest.cc",
-      "src/client/linux/minidump_writer/linux_ptrace_dumper_unittest.cc",
-      "src/client/linux/minidump_writer/minidump_writer_unittest.cc",
-      "src/client/linux/minidump_writer/minidump_writer_unittest_utils.cc",
-      "src/client/linux/minidump_writer/proc_cpuinfo_reader_unittest.cc",
-      "src/common/linux/elf_core_dump_unittest.cc",
-      "src/common/linux/file_id_unittest.cc",
-      "src/common/linux/linux_libc_support_unittest.cc",
-      "src/common/linux/synth_elf.cc",
-      "src/common/linux/tests/auto_testfile.h",
-      "src/common/linux/tests/crash_generator.cc",
-      "src/common/linux/tests/crash_generator.h",
-      "src/common/memory_range.h",
-      "src/common/memory_unittest.cc",
-      "src/common/simple_string_dictionary_unittest.cc",
-      "src/common/test_assembler.cc",
-      "src/common/tests/file_utils.cc",
-      "src/common/tests/file_utils.h",
-      "src/tools/linux/md2core/minidump_memory_range.h",
-      "src/tools/linux/md2core/minidump_memory_range_unittest.cc",
-    ]
-
-    deps = [
-      ":client",
-      ":processor_support",
-      ":linux_dumper_unittest_helper",
-      "//testing/gtest",
-      "//testing/gtest:gtest_main",
-      "//testing/gmock",
-    ]
-
-    include_dirs = [
-      "linux",  # Use our copy of breakpad_googletest_includes.h
-      "src",
-      ".",
-    ]
-
-    # There are some warnings in this code.
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-
-    if (is_clang) {
-      # See http://crbug.com/138571#c18
-      cflags = [ "-Wno-unused-value" ]
-    }
-
-    if (is_android) {
-      sources += [ "src/common/android/breakpad_getcontext_unittest.cc" ]
-      libs = [ "log" ]
-      include_dirs += [ "src/common/android/include" ]
-    }
-  }
-
-  executable("linux_dumper_unittest_helper") {
-    testonly = true
-    sources = [
-      "src/client/linux/minidump_writer/linux_dumper_unittest_helper.cc",
-    ]
-    deps = [
-      ":processor_support",
-    ]
-
-    include_dirs = [ "src" ]
-
-    if (current_cpu == "mipsel" && is_android) {
-      include_dirs += [ "src/common/android/include" ]
-    }
-  }
-
-  executable("generate_test_dump") {
-    testonly = true
-    sources = [
-      "linux/generate-test-dump.cc",
-    ]
 
-    # This file has an unused variable warning.
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-
-    deps = [
-      ":client",
-    ]
-
-    include_dirs = [ "src" ]
-
-    if (is_android) {
-      libs = [ "log" ]
-      include_dirs += [ "src/common/android/include" ]
-    }
-  }
 
   executable("minidump-2-core") {
diff --git a/breakpad/linux/breakpad_googletest_includes.h b/breakpad/linux/breakpad_googletest_includes.h
index aeab315..fac3439 100644
--- a/breakpad/linux/breakpad_googletest_includes.h
+++ b/breakpad/linux/breakpad_googletest_includes.h
@@ -31,6 +31,6 @@
 #define BREAKPAD_GOOGLETEST_INCLUDES_H__
 
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 #endif  // BREAKPAD_GOOGLETEST_INCLUDES_H__
diff --git a/breakpad_googletest_includes.h b/breakpad_googletest_includes.h
index 1cc324b..b1b62d1 100644
--- a/breakpad/src/breakpad_googletest_includes.h
+++ b/breakpad/src/breakpad_googletest_includes.h
@@ -31,6 +31,6 @@
 #define BREAKPAD_GOOGLETEST_INCLUDES_H__
 
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/include/gmock/gmock.h"
 
 // If AddressSanitizer is used, NULL pointer dereferences generate SIGILL
diff --git a/common/common.gyp b/common/common.gyp
index f01ede5..7a9d817 100644
--- a/breakpad/src/common/common.gyp
+++ b/breakpad/src/common/common.gyp
@@ -70,5 +70,5 @@
         'dwarf/dwarf2reader.cc',
         'dwarf/dwarf2reader.h',
-        'dwarf/dwarf2reader_test_common.h',
+#        'dwarf/dwarf2reader_test_common.h',
         'dwarf/functioninfo.cc',
         'dwarf/functioninfo.h',
@@ -189,40 +189,40 @@
     },
     {
-      'target_name': 'common_unittests',
+#      'target_name': 'common_unittests',
       'type': 'executable',
       'sources': [
-        'android/breakpad_getcontext_unittest.cc',
-        'byte_cursor_unittest.cc',
-        'dwarf/bytereader_unittest.cc',
-        'dwarf/dwarf2diehandler_unittest.cc',
-        'dwarf/dwarf2reader_cfi_unittest.cc',
-        'dwarf/dwarf2reader_die_unittest.cc',
-        'dwarf_cfi_to_module_unittest.cc',
-        'dwarf_cu_to_module_unittest.cc',
-        'dwarf_line_to_module_unittest.cc',
-        'linux/dump_symbols_unittest.cc',
-        'linux/elf_core_dump_unittest.cc',
-        'linux/elf_symbols_to_module_unittest.cc',
-        'linux/file_id_unittest.cc',
+#        'android/breakpad_getcontext_unittest.cc',
+#        'byte_cursor_unittest.cc',
+#        'dwarf/bytereader_unittest.cc',
+#        'dwarf/dwarf2diehandler_unittest.cc',
+#        'dwarf/dwarf2reader_cfi_unittest.cc',
+#        'dwarf/dwarf2reader_die_unittest.cc',
+#        'dwarf_cfi_to_module_unittest.cc',
+#        'dwarf_cu_to_module_unittest.cc',
+#        'dwarf_line_to_module_unittest.cc',
+#        'linux/dump_symbols_unittest.cc',
+#        'linux/elf_core_dump_unittest.cc',
+#        'linux/elf_symbols_to_module_unittest.cc',
+#        'linux/file_id_unittest.cc',
         'linux/google_crashdump_uploader_test.cc',
-        'linux/linux_libc_support_unittest.cc',
-        'linux/memory_mapped_file_unittest.cc',
-        'linux/safe_readlink_unittest.cc',
-        'linux/synth_elf_unittest.cc',
+#        'linux/linux_libc_support_unittest.cc',
+#        'linux/memory_mapped_file_unittest.cc',
+#        'linux/safe_readlink_unittest.cc',
+#        'linux/synth_elf_unittest.cc',
         'linux/tests/auto_testfile.h',
         'linux/tests/crash_generator.cc',
         'linux/tests/crash_generator.h',
-        'mac/macho_reader_unittest.cc',
-        'memory_range_unittest.cc',
-        'memory_unittest.cc',
-        'module_unittest.cc',
-        'simple_string_dictionary_unittest.cc',
-        'stabs_reader_unittest.cc',
-        'stabs_to_module_unittest.cc',
-        'test_assembler_unittest.cc',
+#        'mac/macho_reader_unittest.cc',
+#        'memory_range_unittest.cc',
+#        'memory_unittest.cc',
+#        'module_unittest.cc',
+#        'simple_string_dictionary_unittest.cc',
+#        'stabs_reader_unittest.cc',
+#        'stabs_to_module_unittest.cc',
+#        'test_assembler_unittest.cc',
         'tests/auto_tempdir.h',
         'tests/file_utils.cc',
         'tests/file_utils.h',
-        'windows/omap_unittest.cc',
+#        'windows/omap_unittest.cc',
       ],
       'include_dirs': [
diff --git a/common/windows/common_windows.gyp b/common/windows/common_windows.gyp
index aadc21a..942db93 100644
--- a/breakpad/src/common/windows/common_windows.gyp
+++ b/breakpad/src/common/windows/common_windows.gyp
@@ -73,8 +73,8 @@
     },
     {
-      'target_name': 'common_windows_unittests',
+#      'target_name': 'common_windows_unittests',
       'type': 'executable',
       'sources': [
-        'omap_unittest.cc',
+#        'omap_unittest.cc',
       ],
       'dependencies': [
diff --git a/processor/processor.gyp b/processor/processor.gyp
index 3e1bcb5..929371c 100644
--- a/breakpad/src/processor/processor.gyp
+++ b/breakpad/src/processor/processor.gyp
@@ -135,35 +135,35 @@
     },
     {
-      'target_name': 'processor_unittests',
+#      'target_name': 'processor_unittests',
       'type': 'executable',
       'sources': [
-        'address_map_unittest.cc',
-        'basic_source_line_resolver_unittest.cc',
-        'binarystream_unittest.cc',
-        'cfi_frame_info_unittest.cc',
-        'contained_range_map_unittest.cc',
-        'disassembler_x86_unittest.cc',
-        'exploitability_unittest.cc',
-        'fast_source_line_resolver_unittest.cc',
-        'map_serializers_unittest.cc',
-        'microdump_processor_unittest.cc',
-        'minidump_processor_unittest.cc',
-        'minidump_unittest.cc',
-        'pathname_stripper_unittest.cc',
-        'postfix_evaluator_unittest.cc',
-        'range_map_unittest.cc',
-        'stackwalker_address_list_unittest.cc',
-        'stackwalker_amd64_unittest.cc',
-        'stackwalker_arm64_unittest.cc',
-        'stackwalker_arm_unittest.cc',
-        'stackwalker_mips_unittest.cc',
-        'stackwalker_unittest_utils.h',
-        'stackwalker_x86_unittest.cc',
-        'static_address_map_unittest.cc',
-        'static_contained_range_map_unittest.cc',
-        'static_map_unittest.cc',
-        'static_range_map_unittest.cc',
-        'synth_minidump_unittest.cc',
-        'synth_minidump_unittest_data.h',
+#        'address_map_unittest.cc',
+#        'basic_source_line_resolver_unittest.cc',
+#        'binarystream_unittest.cc',
+#        'cfi_frame_info_unittest.cc',
+#        'contained_range_map_unittest.cc',
+#        'disassembler_x86_unittest.cc',
+#        'exploitability_unittest.cc',
+#        'fast_source_line_resolver_unittest.cc',
+#        'map_serializers_unittest.cc',
+#        'microdump_processor_unittest.cc',
+#        'minidump_processor_unittest.cc',
+#        'minidump_unittest.cc',
+#        'pathname_stripper_unittest.cc',
+#        'postfix_evaluator_unittest.cc',
+#        'range_map_unittest.cc',
+#        'stackwalker_address_list_unittest.cc',
+#        'stackwalker_amd64_unittest.cc',
+#        'stackwalker_arm64_unittest.cc',
+#        'stackwalker_arm_unittest.cc',
+#        'stackwalker_mips_unittest.cc',
+#        'stackwalker_unittest_utils.h',
+#        'stackwalker_x86_unittest.cc',
+#        'static_address_map_unittest.cc',
+#        'static_contained_range_map_unittest.cc',
+#        'static_map_unittest.cc',
+#        'static_range_map_unittest.cc',
+#        'synth_minidump_unittest.cc',
+#        'synth_minidump_unittest_data.h',
       ],
       'include_dirs': [
diff --git a/tools/windows/dump_syms/dump_syms.gyp b/tools/windows/dump_syms/dump_syms.gyp
index b815574..cecbc38 100644
--- a/breakpad/src/tools/windows/dump_syms/dump_syms.gyp
+++ b/breakpad/src/tools/windows/dump_syms/dump_syms.gyp
@@ -43,8 +43,8 @@
     },
     {
-      'target_name': 'dump_syms_unittest',
+#      'target_name': 'dump_syms_unittest',
       'type': 'executable',
       'sources': [
-        'dump_syms_unittest.cc',
+#        'dump_syms_unittest.cc',
       ],
       'dependencies': [
diff --git a/build/all.gyp b/build/all.gyp
index 4108962..8f0ac74 100644
--- a/build/all.gyp
+++ b/build/all.gyp
@@ -15,5 +15,5 @@
       'target_name': 'All',
       'type': 'none',
-      'xcode_create_dependents_test_runner': 1,
+#      'xcode_create_dependents_test_runner': 1,
       'dependencies': [
         '<@(app_targets)',
@@ -35,5 +35,5 @@
         '../ui/accessibility/accessibility.gyp:*',
         '../ui/base/ui_base.gyp:*',
-        '../ui/display/display.gyp:display_unittests',
+#        '../ui/display/display.gyp:display_unittests',
         '../ui/snapshot/snapshot.gyp:*',
         '../url/url.gyp:*',
@@ -54,18 +54,18 @@
             # javascript-related targets cause v8 to be built.
             '../mojo/mojo_base.gyp:mojo_common_lib',
-            '../mojo/mojo_base.gyp:mojo_common_unittests',
-            '../google_apis/google_apis.gyp:google_apis_unittests',
-            '../skia/skia_tests.gyp:skia_unittests',
+#            '../mojo/mojo_base.gyp:mojo_common_unittests',
+#            '../google_apis/google_apis.gyp:google_apis_unittests',
+#            '../skia/skia_tests.gyp:skia_unittests',
             '../third_party/mojo/mojo_edk.gyp:mojo_system_impl',
-            '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_bindings_unittests',
-            '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_environment_unittests',
-            '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_system_unittests',
-            '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_utility_unittests',
-            '../third_party/mojo/mojo_edk_tests.gyp:mojo_system_unittests',
+#            '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_bindings_unittests',
+#            '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_environment_unittests',
+#            '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_system_unittests',
+#            '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_utility_unittests',
+#            '../third_party/mojo/mojo_edk_tests.gyp:mojo_system_unittests',
             '../third_party/mojo/mojo_public.gyp:mojo_cpp_bindings',
-            '../third_party/mojo/mojo_public.gyp:mojo_public_test_utils',
+#            '../third_party/mojo/mojo_public.gyp:mojo_public_test_utils',
             '../third_party/mojo/mojo_public.gyp:mojo_system',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
           ],
         }],
@@ -91,5 +91,5 @@
               'dependencies': [
                 # The relocation packer only works on ARM or ARM64.
-                '../tools/relocation_packer/relocation_packer.gyp:relocation_packer_unittests#host',
+#                '../tools/relocation_packer/relocation_packer.gyp:relocation_packer_unittests#host',
               ],
             }],
@@ -293,56 +293,56 @@
       'type': 'none',
       'dependencies': [
-        '../base/base.gyp:base_unittests',
-        '../components/components_tests.gyp:components_unittests',
-        '../crypto/crypto.gyp:crypto_unittests',
-        '../net/net.gyp:net_unittests',
-        '../skia/skia_tests.gyp:skia_unittests',
-        '../sql/sql.gyp:sql_unittests',
-        '../sync/sync.gyp:sync_unit_tests',
-        '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-        '../ui/display/display.gyp:display_unittests',
-        '../ui/gfx/gfx_tests.gyp:gfx_unittests',
-        '../url/url.gyp:url_unittests',
+#        '../base/base.gyp:base_unittests',
+#        '../components/components_tests.gyp:components_unittests',
+#        '../crypto/crypto.gyp:crypto_unittests',
+#        '../net/net.gyp:net_unittests',
+#        '../skia/skia_tests.gyp:skia_unittests',
+#        '../sql/sql.gyp:sql_unittests',
+#        '../sync/sync.gyp:sync_unit_tests',
+#        '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#        '../ui/display/display.gyp:display_unittests',
+#        '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#        '../url/url.gyp:url_unittests',
       ],
       'conditions': [
         ['OS!="ios" and OS!="mac"', {
           'dependencies': [
-            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
+#            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
           ],
         }],
         ['OS!="ios" and OS!="android"', {
           'dependencies': [
-            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
-            '../cc/cc_tests.gyp:cc_unittests',
+#            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
+#            '../cc/cc_tests.gyp:cc_unittests',
             '../chrome/chrome.gyp:browser_tests',
             '../chrome/chrome.gyp:chromedriver_tests',
-            '../chrome/chrome.gyp:chromedriver_unittests',
+#            '../chrome/chrome.gyp:chromedriver_unittests',
             '../chrome/chrome.gyp:interactive_ui_tests',
             '../chrome/chrome.gyp:sync_integration_tests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
             '../content/content_shell_and_tests.gyp:content_shell',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../device/device_tests.gyp:device_unittests',
-            '../extensions/extensions_tests.gyp:extensions_browsertests',
-            '../extensions/extensions_tests.gyp:extensions_unittests',
-            '../gin/gin.gyp:gin_unittests',
-            '../google_apis/google_apis.gyp:google_apis_unittests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../device/device_tests.gyp:device_unittests',
+#            '../extensions/extensions_tests.gyp:extensions_browsertests',
+#            '../extensions/extensions_tests.gyp:extensions_unittests',
+#            '../gin/gin.gyp:gin_unittests',
+#            '../google_apis/google_apis.gyp:google_apis_unittests',
             '../gpu/gles2_conform_support/gles2_conform_support.gyp:gles2_conform_support',
-            '../gpu/gpu.gyp:gpu_unittests',
+#            '../gpu/gpu.gyp:gpu_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../media/cast/cast.gyp:cast_unittests',
-            '../media/media.gyp:media_unittests',
+#            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../media/cast/cast.gyp:cast_unittests',
+#            '../media/media.gyp:media_unittests',
             '../mojo/mojo.gyp:mojo',
-            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
+#            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
             '../third_party/WebKit/public/all.gyp:all_blink',
-            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
             '../tools/telemetry/telemetry.gyp:*',
           ],
@@ -351,16 +351,16 @@
           'dependencies': [
             '../chrome/chrome.gyp:app_installer',
-            '../chrome/chrome.gyp:app_installer_unittests',
+#            '../chrome/chrome.gyp:app_installer_unittests',
             '../chrome/chrome.gyp:crash_service',
-            '../chrome/chrome.gyp:installer_util_unittests',
+#            '../chrome/chrome.gyp:installer_util_unittests',
             # ../chrome/test/mini_installer requires mini_installer.
             '../chrome/installer/mini_installer.gyp:mini_installer',
-            '../chrome_elf/chrome_elf.gyp:chrome_elf_unittests',
-            '../content/content_shell_and_tests.gyp:copy_test_netscape_plugin',
-            '../courgette/courgette.gyp:courgette_unittests',
+#            '../chrome_elf/chrome_elf.gyp:chrome_elf_unittests',
+#            '../content/content_shell_and_tests.gyp:copy_test_netscape_plugin',
+#            '../courgette/courgette.gyp:courgette_unittests',
             '../sandbox/sandbox.gyp:sbox_integration_tests',
-            '../sandbox/sandbox.gyp:sbox_unittests',
+#            '../sandbox/sandbox.gyp:sbox_unittests',
             '../sandbox/sandbox.gyp:sbox_validation_tests',
-            '../ui/app_list/app_list.gyp:app_list_unittests',
+#            '../ui/app_list/app_list.gyp:app_list_unittests',
           ],
           'conditions': [
@@ -401,16 +401,16 @@
         ['chromeos==1', {
           'dependencies': [
-            '../ui/chromeos/ui_chromeos.gyp:ui_chromeos_unittests',
+#            '../ui/chromeos/ui_chromeos.gyp:ui_chromeos_unittests',
           ],
         }],
         ['OS=="linux"', {
           'dependencies': [
-            '../dbus/dbus.gyp:dbus_unittests',
-            '../sandbox/sandbox.gyp:sandbox_linux_unittests',
+#            '../dbus/dbus.gyp:dbus_unittests',
+#            '../sandbox/sandbox.gyp:sandbox_linux_unittests',
           ],
         }],
         ['OS=="mac"', {
           'dependencies': [
-            '../ui/app_list/app_list.gyp:app_list_unittests',
+#            '../ui/app_list/app_list.gyp:app_list_unittests',
             '../ui/message_center/message_center.gyp:*',
           ],
@@ -423,34 +423,34 @@
         ['OS!="android"', {
           'dependencies': [
-            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
           ],
         }],
         ['enable_basic_printing==1 or enable_print_preview==1', {
           'dependencies': [
-            '../printing/printing.gyp:printing_unittests',
+#            '../printing/printing.gyp:printing_unittests',
           ],
         }],
         ['use_aura==1', {
           'dependencies': [
-            '../ui/app_list/app_list.gyp:app_list_unittests',
-            '../ui/aura/aura.gyp:aura_unittests',
-            '../ui/compositor/compositor.gyp:compositor_unittests',
-            '../ui/keyboard/keyboard.gyp:keyboard_unittests',
-            '../ui/views/views.gyp:views_unittests',
+#            '../ui/app_list/app_list.gyp:app_list_unittests',
+#            '../ui/aura/aura.gyp:aura_unittests',
+#            '../ui/compositor/compositor.gyp:compositor_unittests',
+#            '../ui/keyboard/keyboard.gyp:keyboard_unittests',
+#            '../ui/views/views.gyp:views_unittests',
           ],
         }],
         ['use_aura==1 or toolkit_views==1', {
           'dependencies': [
-            '../ui/events/events.gyp:events_unittests',
+#            '../ui/events/events.gyp:events_unittests',
           ],
         }],
         ['use_ash==1', {
           'dependencies': [
-            '../ash/ash.gyp:ash_unittests',
+#            '../ash/ash.gyp:ash_unittests',
           ],
         }],
         ['disable_nacl==0', {
           'dependencies': [
-            '../components/nacl.gyp:nacl_loader_unittests',
+#            '../components/nacl.gyp:nacl_loader_unittests',
           ],
         }],
@@ -496,5 +496,5 @@
               'dependencies': [
                 '../content/content_shell_and_tests.gyp:content_shell_crash_service',
-                '../content/content_shell_and_tests.gyp:layout_test_helper',
+#                '../content/content_shell_and_tests.gyp:layout_test_helper',
               ],
             }],
@@ -507,5 +507,5 @@
               'dependencies': [
                 '../breakpad/breakpad.gyp:dump_syms#host',
-                '../content/content_shell_and_tests.gyp:layout_test_helper',
+#                '../content/content_shell_and_tests.gyp:layout_test_helper',
               ],
             }],
@@ -532,5 +532,5 @@
           'type': 'none',
           'dependencies': [
-            '../cc/cc_tests.gyp:cc_perftests',
+#            '../cc/cc_tests.gyp:cc_perftests',
             '../chrome/chrome.gyp:chrome',
             '../chrome/chrome.gyp:load_library_perf_tests',
@@ -538,6 +538,6 @@
             '../chrome/chrome.gyp:sync_performance_tests',
             '../content/content_shell_and_tests.gyp:content_shell',
-            '../gpu/gpu.gyp:gpu_perftests',
-            '../media/media.gyp:media_perftests',
+#            '../gpu/gpu.gyp:gpu_perftests',
+#            '../media/media.gyp:media_perftests',
             '../tools/perf/clear_system_cache/clear_system_cache.gyp:*',
             '../tools/telemetry/telemetry.gyp:*',
@@ -572,11 +572,11 @@
             '../chrome/chrome.gyp:chrome',
             '../chrome/chrome.gyp:performance_browser_tests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
             '../content/content_shell_and_tests.gyp:content_gl_tests',
             '../gpu/gles2_conform_support/gles2_conform_test.gyp:gles2_conform_test',
             '../gpu/khronos_glcts_support/khronos_glcts_test.gyp:khronos_glcts_test',
             '../gpu/gpu.gyp:gl_tests',
-            '../gpu/gpu.gyp:angle_unittests',
-            '../gpu/gpu.gyp:gpu_unittests',
+#            '../gpu/gpu.gyp:angle_unittests',
+#            '../gpu/gpu.gyp:gpu_unittests',
             '../tools/telemetry/telemetry.gyp:*',
           ],
@@ -609,11 +609,11 @@
           'dependencies': [
             '../chrome/chrome.gyp:chrome',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
             '../content/content_shell_and_tests.gyp:content_gl_tests',
             '../gpu/gles2_conform_support/gles2_conform_test.gyp:gles2_conform_test',
             '../gpu/khronos_glcts_support/khronos_glcts_test.gyp:khronos_glcts_test',
             '../gpu/gpu.gyp:gl_tests',
-            '../gpu/gpu.gyp:angle_unittests',
-            '../gpu/gpu.gyp:gpu_unittests',
+#            '../gpu/gpu.gyp:angle_unittests',
+#            '../gpu/gpu.gyp:gpu_unittests',
             '../tools/telemetry/telemetry.gyp:*',
           ],
@@ -644,5 +644,5 @@
           # This target contains everything we need to run tests on the special
           # device-equipped WebRTC bots. We have device-requiring tests in
-          # browser_tests and content_browsertests.
+#          # browser_tests and content_browsertests.
           'target_name': 'chromium_builder_webrtc',
           'type': 'none',
@@ -650,7 +650,7 @@
             'chromium_builder_perf',
             '../chrome/chrome.gyp:browser_tests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../media/media.gyp:media_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../media/media.gyp:media_unittests',
             '../third_party/webrtc/tools/tools.gyp:frame_analyzer',
             '../third_party/webrtc/tools/tools.gyp:rgba_to_i420_converter',
@@ -670,5 +670,5 @@
             '../chrome/chrome.gyp:chromedriver',
             '../chrome/chrome.gyp:chromedriver_tests',
-            '../chrome/chrome.gyp:chromedriver_unittests',
+#            '../chrome/chrome.gyp:chromedriver_unittests',
           ],
         },  # target_name: chromium_builder_chromedriver
@@ -680,5 +680,5 @@
 
             # We refer to content_shell directly rather than blink_tests
-            # because we don't want the _unittests binaries.
+#            # because we don't want the _unittests binaries.
             '../content/content_shell_and_tests.gyp:content_shell',
           ],
@@ -759,8 +759,8 @@
           'type': 'none',
           'dependencies': [
-            '../android_webview/android_webview.gyp:android_webview_unittests',
+#            '../android_webview/android_webview.gyp:android_webview_unittests',
             '../base/android/jni_generator/jni_generator.gyp:jni_generator_tests',
-            '../base/base.gyp:base_unittests',
-            '../breakpad/breakpad.gyp:breakpad_unittests_deps',
+#            '../base/base.gyp:base_unittests',
+#            '../breakpad/breakpad.gyp:breakpad_unittests_deps',
             # Also compile the tools needed to deal with minidumps, they are
             # needed to run minidump tests upstream.
@@ -769,68 +769,68 @@
             '../breakpad/breakpad.gyp:minidump_dump#host',
             '../breakpad/breakpad.gyp:minidump_stackwalk#host',
-            '../build/android/tests/multiple_proguards/multiple_proguards.gyp:multiple_proguards_test_apk',
+#            '../build/android/tests/multiple_proguards/multiple_proguards.gyp:multiple_proguards_test_apk',
             '../build/android/pylib/device/commands/commands.gyp:chromium_commands',
-            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
-            '../cc/cc_tests.gyp:cc_perftests_apk',
-            '../cc/cc_tests.gyp:cc_unittests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../components/components_tests.gyp:components_unittests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
+#            '../cc/cc_tests.gyp:cc_perftests_apk',
+#            '../cc/cc_tests.gyp:cc_unittests',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../components/components_tests.gyp:components_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
             '../content/content_shell_and_tests.gyp:content_gl_tests',
-            '../content/content_shell_and_tests.gyp:chromium_linker_test_apk',
-            '../content/content_shell_and_tests.gyp:content_shell_test_apk',
-            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../content/content_shell_and_tests.gyp:chromium_linker_test_apk',
+#            '../content/content_shell_and_tests.gyp:content_shell_test_apk',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
             '../gpu/gpu.gyp:gl_tests',
-            '../gpu/gpu.gyp:gpu_perftests_apk',
-            '../gpu/gpu.gyp:gpu_unittests',
+#            '../gpu/gpu.gyp:gpu_perftests_apk',
+#            '../gpu/gpu.gyp:gpu_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../media/media.gyp:media_perftests_apk',
-            '../media/media.gyp:media_unittests',
-            '../net/net.gyp:net_unittests',
-            '../sandbox/sandbox.gyp:sandbox_linux_unittests_deps',
-            '../skia/skia_tests.gyp:skia_unittests',
-            '../sql/sql.gyp:sql_unittests',
-            '../sync/sync.gyp:sync_unit_tests',
-            '../testing/android/junit/junit_test.gyp:junit_unit_tests',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../media/media.gyp:media_perftests_apk',
+#            '../media/media.gyp:media_unittests',
+#            '../net/net.gyp:net_unittests',
+#            '../sandbox/sandbox.gyp:sandbox_linux_unittests_deps',
+#            '../skia/skia_tests.gyp:skia_unittests',
+#            '../sql/sql.gyp:sql_unittests',
+#            '../sync/sync.gyp:sync_unit_tests',
+#            '../testing/android/junit/junit_test.gyp:junit_unit_tests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
             '../third_party/WebKit/public/all.gyp:*',
             '../tools/android/android_tools.gyp:android_tools',
             '../tools/android/android_tools.gyp:memconsumer',
             '../tools/android/findbugs_plugin/findbugs_plugin.gyp:findbugs_plugin_test',
-            '../ui/android/ui_android.gyp:ui_android_unittests',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-            '../ui/events/events.gyp:events_unittests',
-            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
+#            '../ui/android/ui_android.gyp:ui_android_unittests',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#            '../ui/events/events.gyp:events_unittests',
+#            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
             # Unit test bundles packaged as an apk.
-            '../android_webview/android_webview.gyp:android_webview_test_apk',
-            '../android_webview/android_webview.gyp:android_webview_unittests_apk',
-            '../base/base.gyp:base_unittests_apk',
-            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests_apk',
-            '../cc/cc_tests.gyp:cc_unittests_apk',
-            '../chrome/chrome.gyp:chrome_shell_test_apk',
-            '../chrome/chrome.gyp:chrome_sync_shell_test_apk',
+#            '../android_webview/android_webview.gyp:android_webview_test_apk',
+#            '../android_webview/android_webview.gyp:android_webview_unittests_apk',
+#            '../base/base.gyp:base_unittests_apk',
+#            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests_apk',
+#            '../cc/cc_tests.gyp:cc_unittests_apk',
+#            '../chrome/chrome.gyp:chrome_shell_test_apk',
+#            '../chrome/chrome.gyp:chrome_sync_shell_test_apk',
             '../chrome/chrome.gyp:chrome_shell_uiautomator_tests',
             '../chrome/chrome.gyp:chromedriver_webview_shell_apk',
-            '../chrome/chrome.gyp:unit_tests_apk',
-            '../components/components_tests.gyp:components_unittests_apk',
-            '../content/content_shell_and_tests.gyp:content_browsertests_apk',
+#            '../chrome/chrome.gyp:unit_tests_apk',
+#            '../components/components_tests.gyp:components_unittests_apk',
+#            '../content/content_shell_and_tests.gyp:content_browsertests_apk',
             '../content/content_shell_and_tests.gyp:content_gl_tests_apk',
-            '../content/content_shell_and_tests.gyp:content_unittests_apk',
-            '../content/content_shell_and_tests.gyp:video_decode_accelerator_unittest_apk',
+#            '../content/content_shell_and_tests.gyp:content_unittests_apk',
+#            '../content/content_shell_and_tests.gyp:video_decode_accelerator_unittest_apk',
             '../gpu/gpu.gyp:gl_tests_apk',
-            '../gpu/gpu.gyp:gpu_unittests_apk',
+#            '../gpu/gpu.gyp:gpu_unittests_apk',
             '../ipc/ipc.gyp:ipc_tests_apk',
-            '../media/media.gyp:media_unittests_apk',
-            '../net/net.gyp:net_unittests_apk',
-            '../sandbox/sandbox.gyp:sandbox_linux_jni_unittests_apk',
-            '../skia/skia_tests.gyp:skia_unittests_apk',
-            '../sql/sql.gyp:sql_unittests_apk',
-            '../sync/sync.gyp:sync_unit_tests_apk',
-            '../tools/android/heap_profiler/heap_profiler.gyp:heap_profiler_unittests_apk',
-            '../ui/android/ui_android.gyp:ui_android_unittests_apk',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests_apk',
-            '../ui/events/events.gyp:events_unittests_apk',
-            '../ui/gfx/gfx_tests.gyp:gfx_unittests_apk',
-            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests_apk',
+#            '../media/media.gyp:media_unittests_apk',
+#            '../net/net.gyp:net_unittests_apk',
+#            '../sandbox/sandbox.gyp:sandbox_linux_jni_unittests_apk',
+#            '../skia/skia_tests.gyp:skia_unittests_apk',
+#            '../sql/sql.gyp:sql_unittests_apk',
+#            '../sync/sync.gyp:sync_unit_tests_apk',
+#            '../tools/android/heap_profiler/heap_profiler.gyp:heap_profiler_unittests_apk',
+#            '../ui/android/ui_android.gyp:ui_android_unittests_apk',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests_apk',
+#            '../ui/events/events.gyp:events_unittests_apk',
+#            '../ui/gfx/gfx_tests.gyp:gfx_unittests_apk',
+#            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests_apk',
           ],
           'conditions': [
@@ -848,10 +848,10 @@
           'dependencies': [
             '../build/android/pylib/device/commands/commands.gyp:chromium_commands',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
             '../tools/android/android_tools.gyp:android_tools',
             '../tools/android/android_tools.gyp:memconsumer',
             # Unit test bundles packaged as an apk.
             '../components/devtools_bridge.gyp:devtools_bridge_tests_apk',
-            '../content/content_shell_and_tests.gyp:content_browsertests_apk',
+#            '../content/content_shell_and_tests.gyp:content_browsertests_apk',
           ],
         },  # target_name: android_builder_chromium_webrtc
@@ -876,37 +876,37 @@
           'type': 'none',
           'dependencies': [
-            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
-            '../cc/cc_tests.gyp:cc_unittests',
+#            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
+#            '../cc/cc_tests.gyp:cc_unittests',
             '../chrome/chrome.gyp:browser_tests',
             '../chrome/chrome.gyp:interactive_ui_tests',
             '../chrome/chrome.gyp:sync_integration_tests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
-            '../components/components_tests.gyp:components_unittests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../device/device_tests.gyp:device_unittests',
-            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
-            '../gpu/gpu.gyp:gpu_unittests',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../components/components_tests.gyp:components_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../device/device_tests.gyp:device_unittests',
+#            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#            '../gpu/gpu.gyp:gpu_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../media/media.gyp:media_unittests',
-            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
-            '../printing/printing.gyp:printing_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
+#            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../media/media.gyp:media_unittests',
+#            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
+#            '../printing/printing.gyp:printing_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
             '../rlz/rlz.gyp:*',
-            '../skia/skia_tests.gyp:skia_unittests',
-            '../sql/sql.gyp:sql_unittests',
-            '../sync/sync.gyp:sync_unit_tests',
-            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../skia/skia_tests.gyp:skia_unittests',
+#            '../sql/sql.gyp:sql_unittests',
+#            '../sync/sync.gyp:sync_unit_tests',
+#            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
             '../tools/perf/clear_system_cache/clear_system_cache.gyp:*',
             '../tools/telemetry/telemetry.gyp:*',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
-            '../url/url.gyp:url_unittests',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#            '../url/url.gyp:url_unittests',
           ],
         },
@@ -915,36 +915,36 @@
           'type': 'none',
           'dependencies': [
-            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
-            '../cc/cc_tests.gyp:cc_unittests',
+#            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
+#            '../cc/cc_tests.gyp:cc_unittests',
             '../chrome/chrome.gyp:browser_tests',
             '../chrome/chrome.gyp:performance_browser_tests',
             '../chrome/chrome.gyp:sync_integration_tests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
-            '../components/components_tests.gyp:components_unittests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../device/device_tests.gyp:device_unittests',
-            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
-            '../gpu/gpu.gyp:gpu_unittests',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../components/components_tests.gyp:components_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../device/device_tests.gyp:device_unittests',
+#            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#            '../gpu/gpu.gyp:gpu_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../media/media.gyp:media_unittests',
-            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
-            '../printing/printing.gyp:printing_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
-            '../skia/skia_tests.gyp:skia_unittests',
-            '../sql/sql.gyp:sql_unittests',
-            '../sync/sync.gyp:sync_unit_tests',
-            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../media/media.gyp:media_unittests',
+#            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
+#            '../printing/printing.gyp:printing_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
+#            '../skia/skia_tests.gyp:skia_unittests',
+#            '../sql/sql.gyp:sql_unittests',
+#            '../sync/sync.gyp:sync_unit_tests',
+#            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
             '../tools/perf/clear_system_cache/clear_system_cache.gyp:*',
             '../tools/telemetry/telemetry.gyp:*',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
-            '../url/url.gyp:url_unittests',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#            '../url/url.gyp:url_unittests',
           ],
         },
@@ -953,17 +953,17 @@
           'type': 'none',
           'dependencies': [
-            '../base/base.gyp:base_unittests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
-            '../crypto/crypto.gyp:crypto_unittests',
+#            '../base/base.gyp:base_unittests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../crypto/crypto.gyp:crypto_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../media/media.gyp:media_unittests',
-            '../net/net.gyp:net_unittests',
-            '../printing/printing.gyp:printing_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
-            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
-            '../url/url.gyp:url_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../media/media.gyp:media_unittests',
+#            '../net/net.gyp:net_unittests',
+#            '../printing/printing.gyp:printing_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
+#            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../url/url.gyp:url_unittests',
           ],
         },
@@ -972,28 +972,28 @@
           'type': 'none',
           'dependencies': [
-            '../base/base.gyp:base_unittests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
-            '../components/components_tests.gyp:components_unittests',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../crypto/crypto.gyp:crypto_unittests',
-            '../device/device_tests.gyp:device_unittests',
+#            '../base/base.gyp:base_unittests',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../components/components_tests.gyp:components_unittests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../crypto/crypto.gyp:crypto_unittests',
+#            '../device/device_tests.gyp:device_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../media/media.gyp:media_unittests',
-            '../net/net.gyp:net_unittests',
-            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
-            '../printing/printing.gyp:printing_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
-            '../skia/skia_tests.gyp:skia_unittests',
-            '../sql/sql.gyp:sql_unittests',
-            '../sync/sync.gyp:sync_unit_tests',
-            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
-            '../url/url.gyp:url_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../media/media.gyp:media_unittests',
+#            '../net/net.gyp:net_unittests',
+#            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#            '../printing/printing.gyp:printing_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
+#            '../skia/skia_tests.gyp:skia_unittests',
+#            '../sql/sql.gyp:sql_unittests',
+#            '../sync/sync.gyp:sync_unit_tests',
+#            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#            '../url/url.gyp:url_unittests',
           ],
         },
@@ -1008,47 +1008,47 @@
           'type': 'none',
           'dependencies': [
-            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
-            '../cc/cc_tests.gyp:cc_unittests',
+#            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
+#            '../cc/cc_tests.gyp:cc_unittests',
             '../chrome/chrome.gyp:browser_tests',
             '../chrome/chrome.gyp:crash_service',
             '../chrome/chrome.gyp:gcapi_test',
-            '../chrome/chrome.gyp:installer_util_unittests',
+#            '../chrome/chrome.gyp:installer_util_unittests',
             '../chrome/chrome.gyp:interactive_ui_tests',
             '../chrome/chrome.gyp:performance_browser_tests',
             '../chrome/chrome.gyp:sync_integration_tests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
-            '../components/components_tests.gyp:components_unittests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../content/content_shell_and_tests.gyp:copy_test_netscape_plugin',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../components/components_tests.gyp:components_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../content/content_shell_and_tests.gyp:copy_test_netscape_plugin',
             # ../chrome/test/mini_installer requires mini_installer.
             '../chrome/installer/mini_installer.gyp:mini_installer',
-            '../courgette/courgette.gyp:courgette_unittests',
-            '../device/device_tests.gyp:device_unittests',
-            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
-            '../gpu/gpu.gyp:gpu_unittests',
+#            '../courgette/courgette.gyp:courgette_unittests',
+#            '../device/device_tests.gyp:device_unittests',
+#            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#            '../gpu/gpu.gyp:gpu_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../media/media.gyp:media_unittests',
-            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
-            '../printing/printing.gyp:printing_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
-            '../skia/skia_tests.gyp:skia_unittests',
-            '../sql/sql.gyp:sql_unittests',
-            '../sync/sync.gyp:sync_unit_tests',
-            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../media/media.gyp:media_unittests',
+#            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
+#            '../printing/printing.gyp:printing_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
+#            '../skia/skia_tests.gyp:skia_unittests',
+#            '../sql/sql.gyp:sql_unittests',
+#            '../sync/sync.gyp:sync_unit_tests',
+#            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
             '../tools/perf/clear_system_cache/clear_system_cache.gyp:*',
             '../tools/telemetry/telemetry.gyp:*',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-            '../ui/events/events.gyp:events_unittests',
-            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
-            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
-            '../ui/views/views.gyp:views_unittests',
-            '../url/url.gyp:url_unittests',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#            '../ui/events/events.gyp:events_unittests',
+#            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
+#            '../ui/views/views.gyp:views_unittests',
+#            '../url/url.gyp:url_unittests',
           ],
           'conditions': [
@@ -1064,21 +1064,21 @@
           'type': 'none',
           'dependencies': [
-            '../base/base.gyp:base_unittests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
-            '../components/components_tests.gyp:components_unittests',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../crypto/crypto.gyp:crypto_unittests',
+#            '../base/base.gyp:base_unittests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../components/components_tests.gyp:components_unittests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../crypto/crypto.gyp:crypto_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../media/media.gyp:media_unittests',
-            '../net/net.gyp:net_unittests',
-            '../printing/printing.gyp:printing_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
-            '../sql/sql.gyp:sql_unittests',
-            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
-            '../url/url.gyp:url_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../media/media.gyp:media_unittests',
+#            '../net/net.gyp:net_unittests',
+#            '../printing/printing.gyp:printing_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
+#            '../sql/sql.gyp:sql_unittests',
+#            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../url/url.gyp:url_unittests',
           ],
         },
@@ -1089,5 +1089,5 @@
             '../content/content_shell_and_tests.gyp:content_shell',
             '../content/content_shell_and_tests.gyp:content_shell_crash_service',
-            '../content/content_shell_and_tests.gyp:layout_test_helper',
+#            '../content/content_shell_and_tests.gyp:layout_test_helper',
           ],
         },
@@ -1096,61 +1096,61 @@
           'type': 'none',
           'dependencies': [
-            '../ash/ash.gyp:ash_shell_unittests',
-            '../ash/ash.gyp:ash_unittests',
-            '../base/base.gyp:base_unittests',
-            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
-            '../cc/cc_tests.gyp:cc_unittests',
+#            '../ash/ash.gyp:ash_shell_unittests',
+#            '../ash/ash.gyp:ash_unittests',
+#            '../base/base.gyp:base_unittests',
+#            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
+#            '../cc/cc_tests.gyp:cc_unittests',
             '../chrome/chrome.gyp:browser_tests',
-            '../chrome/chrome.gyp:chrome_app_unittests',
-            '../chrome/chrome.gyp:chromedriver_unittests',
-            '../chrome/chrome.gyp:installer_util_unittests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../chrome_elf/chrome_elf.gyp:chrome_elf_unittests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
-            '../components/components_tests.gyp:components_unittests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../chrome/chrome.gyp:chrome_app_unittests',
+#            '../chrome/chrome.gyp:chromedriver_unittests',
+#            '../chrome/chrome.gyp:installer_util_unittests',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../chrome_elf/chrome_elf.gyp:chrome_elf_unittests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../components/components_tests.gyp:components_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
             '../content/content_shell_and_tests.gyp:content_shell',
             '../content/content_shell_and_tests.gyp:content_shell_crash_service',
-            '../content/content_shell_and_tests.gyp:layout_test_helper',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../courgette/courgette.gyp:courgette_unittests',
-            '../crypto/crypto.gyp:crypto_unittests',
-            '../device/device_tests.gyp:device_unittests',
-            '../extensions/extensions_tests.gyp:extensions_browsertests',
-            '../extensions/extensions_tests.gyp:extensions_unittests',
+#            '../content/content_shell_and_tests.gyp:layout_test_helper',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../courgette/courgette.gyp:courgette_unittests',
+#            '../crypto/crypto.gyp:crypto_unittests',
+#            '../device/device_tests.gyp:device_unittests',
+#            '../extensions/extensions_tests.gyp:extensions_browsertests',
+#            '../extensions/extensions_tests.gyp:extensions_unittests',
             '../gin/gin.gyp:gin_shell',
-            '../gin/gin.gyp:gin_unittests',
-            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
-            '../google_apis/google_apis.gyp:google_apis_unittests',
-            '../gpu/gpu.gyp:angle_unittests',
-            '../gpu/gpu.gyp:gpu_unittests',
+#            '../gin/gin.gyp:gin_unittests',
+#            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#            '../google_apis/google_apis.gyp:google_apis_unittests',
+#            '../gpu/gpu.gyp:angle_unittests',
+#            '../gpu/gpu.gyp:gpu_unittests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../media/cast/cast.gyp:cast_unittests',
-            '../media/media.gyp:media_unittests',
+#            '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../media/cast/cast.gyp:cast_unittests',
+#            '../media/media.gyp:media_unittests',
             '../mojo/mojo.gyp:mojo',
-            '../net/net.gyp:net_unittests',
-            '../printing/printing.gyp:printing_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
-            '../skia/skia_tests.gyp:skia_unittests',
-            '../sql/sql.gyp:sql_unittests',
-            '../sync/sync.gyp:sync_unit_tests',
-            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
-            '../third_party/WebKit/Source/platform/blink_platform_tests.gyp:blink_heap_unittests',
-            '../third_party/WebKit/Source/platform/blink_platform_tests.gyp:blink_platform_unittests',
-            '../ui/accessibility/accessibility.gyp:accessibility_unittests',
-            '../ui/app_list/app_list.gyp:app_list_unittests',
-            '../ui/aura/aura.gyp:aura_unittests',
-            '../ui/compositor/compositor.gyp:compositor_unittests',
-            '../ui/display/display.gyp:display_unittests',
-            '../ui/events/events.gyp:events_unittests',
-            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
-            '../ui/keyboard/keyboard.gyp:keyboard_unittests',
-            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
-            '../url/url.gyp:url_unittests',
+#            '../net/net.gyp:net_unittests',
+#            '../printing/printing.gyp:printing_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
+#            '../skia/skia_tests.gyp:skia_unittests',
+#            '../sql/sql.gyp:sql_unittests',
+#            '../sync/sync.gyp:sync_unit_tests',
+#            '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../third_party/WebKit/Source/platform/blink_platform_tests.gyp:blink_heap_unittests',
+#            '../third_party/WebKit/Source/platform/blink_platform_tests.gyp:blink_platform_unittests',
+#            '../ui/accessibility/accessibility.gyp:accessibility_unittests',
+#            '../ui/app_list/app_list.gyp:app_list_unittests',
+#            '../ui/aura/aura.gyp:aura_unittests',
+#            '../ui/compositor/compositor.gyp:compositor_unittests',
+#            '../ui/display/display.gyp:display_unittests',
+#            '../ui/events/events.gyp:events_unittests',
+#            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#            '../ui/keyboard/keyboard.gyp:keyboard_unittests',
+#            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
+#            '../url/url.gyp:url_unittests',
           ],
         },
@@ -1163,7 +1163,7 @@
               'type': 'none',
               'dependencies': [
-                '../base/base.gyp:base_unittests',
+#                '../base/base.gyp:base_unittests',
                 '../chrome/chrome.gyp:app_installer',
-                '../chrome/chrome.gyp:app_installer_unittests',
+#                '../chrome/chrome.gyp:app_installer_unittests',
                 '../chrome/chrome.gyp:browser_tests',
                 '../chrome/chrome.gyp:sync_integration_tests',
@@ -1176,16 +1176,16 @@
                 '../courgette/courgette.gyp:courgette64',
                 '../ipc/ipc.gyp:ipc_tests',
-                '../media/media.gyp:media_unittests',
-                '../net/net.gyp:net_unittests_run',
-                '../printing/printing.gyp:printing_unittests',
+#                '../media/media.gyp:media_unittests',
+#                '../net/net.gyp:net_unittests_run',
+#                '../printing/printing.gyp:printing_unittests',
                 '../remoting/remoting.gyp:remoting_webapp',
-                '../sql/sql.gyp:sql_unittests',
-                '../sync/sync.gyp:sync_unit_tests',
+#                '../sql/sql.gyp:sql_unittests',
+#                '../sync/sync.gyp:sync_unit_tests',
                 '../third_party/widevine/cdm/widevine_cdm.gyp:widevinecdmadapter',
-                '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-                '../ui/gfx/gfx_tests.gyp:gfx_unittests',
-                '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
-                '../ui/views/views.gyp:views_unittests',
-                '../url/url.gyp:url_unittests',
+#                '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#                '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#                '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
+#                '../ui/views/views.gyp:views_unittests',
+#                '../url/url.gyp:url_unittests',
               ],
               'conditions': [
@@ -1213,33 +1213,33 @@
           'type': 'none',
           'dependencies': [
-            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
-            '../cc/cc_tests.gyp:cc_unittests',
+#            '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
+#            '../cc/cc_tests.gyp:cc_unittests',
             '../chrome/chrome.gyp:browser_tests',
             '../chrome/chrome.gyp:chrome',
             '../chrome/chrome.gyp:interactive_ui_tests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../components/components_tests.gyp:components_unittests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../device/device_tests.gyp:device_unittests',
-            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
-            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
-            '../remoting/remoting.gyp:remoting_unittests',
-            '../skia/skia_tests.gyp:skia_unittests',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../components/components_tests.gyp:components_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../device/device_tests.gyp:device_unittests',
+#            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
+#            '../remoting/remoting.gyp:remoting_unittests',
+#            '../skia/skia_tests.gyp:skia_unittests',
             '../ui/app_list/app_list.gyp:*',
             '../ui/aura/aura.gyp:*',
             '../ui/aura_extra/aura_extra.gyp:*',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
             '../ui/compositor/compositor.gyp:*',
-            '../ui/display/display.gyp:display_unittests',
+#            '../ui/display/display.gyp:display_unittests',
             '../ui/events/events.gyp:*',
-            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#            '../ui/gfx/gfx_tests.gyp:gfx_unittests',
             '../ui/keyboard/keyboard.gyp:*',
             '../ui/message_center/message_center.gyp:*',
-            '../ui/snapshot/snapshot.gyp:snapshot_unittests',
-            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
+#            '../ui/snapshot/snapshot.gyp:snapshot_unittests',
+#            '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
             '../ui/views/examples/examples.gyp:views_examples_with_content_exe',
             '../ui/views/views.gyp:views',
-            '../ui/views/views.gyp:views_unittests',
+#            '../ui/views/views.gyp:views_unittests',
             '../ui/wm/wm.gyp:*',
             'blink_tests',
@@ -1259,5 +1259,5 @@
               'dependencies': [
                 '../ash/ash.gyp:ash_shell',
-                '../ash/ash.gyp:ash_unittests',
+#                '../ash/ash.gyp:ash_unittests',
               ],
             }],
@@ -1265,14 +1265,14 @@
               # Tests that currently only work on Linux.
               'dependencies': [
-                '../base/base.gyp:base_unittests',
+#                '../base/base.gyp:base_unittests',
                 '../ipc/ipc.gyp:ipc_tests',
-                '../sql/sql.gyp:sql_unittests',
-                '../sync/sync.gyp:sync_unit_tests',
+#                '../sql/sql.gyp:sql_unittests',
+#                '../sync/sync.gyp:sync_unit_tests',
               ],
             }],
             ['chromeos==1', {
               'dependencies': [
-                '../chromeos/chromeos.gyp:chromeos_unittests',
-                '../ui/chromeos/ui_chromeos.gyp:ui_chromeos_unittests',
+#                '../chromeos/chromeos.gyp:chromeos_unittests',
+#                '../ui/chromeos/ui_chromeos.gyp:ui_chromeos_unittests',
               ],
             }],
@@ -1293,12 +1293,12 @@
           'type': 'none',
           'dependencies': [
-            '../base/base.gyp:base_unittests_run',
+#            '../base/base.gyp:base_unittests_run',
             '../chrome/chrome.gyp:browser_tests_run',
             '../chrome/chrome.gyp:interactive_ui_tests_run',
             '../chrome/chrome.gyp:sync_integration_tests_run',
-            '../chrome/chrome.gyp:unit_tests_run',
-            '../content/content_shell_and_tests.gyp:content_browsertests_run',
-            '../content/content_shell_and_tests.gyp:content_unittests_run',
-            '../net/net.gyp:net_unittests_run',
+#            '../chrome/chrome.gyp:unit_tests_run',
+#            '../content/content_shell_and_tests.gyp:content_browsertests_run',
+#            '../content/content_shell_and_tests.gyp:content_unittests_run',
+#            '../net/net.gyp:net_unittests_run',
           ],
         }, # target_name: chromium_swarm_tests
@@ -1324,5 +1324,5 @@
             '../ui/views/examples/examples.gyp:views_examples_with_content_exe',
             '../ui/views/views.gyp:views',
-            '../ui/views/views.gyp:views_unittests',
+#            '../ui/views/views.gyp:views_unittests',
           ],
         },  # target_name: macviews_builder
diff --git a/build/common.gypi b/build/common.gypi
index dcc8a9c..dd049539 100644
--- a/build/common.gypi
+++ b/build/common.gypi
@@ -943,5 +943,5 @@
         # Whether tests targets should be run, archived or just have the
         # dependencies verified. All the tests targets have the '_run' suffix,
-        # e.g. base_unittests_run runs the target base_unittests. The test
+#        # e.g. base_unittests_run runs the target base_unittests. The test
         # target always calls tools/swarming_client/isolate.py. See the script's
         # --help for more information. Meant to be overriden with GYP_DEFINES.
@@ -3972,5 +3972,5 @@
                       # invalid code generation when using the Android NDK's
                       # compiler (r5-r7). This can be verified using
-                      # webkit_unit_tests' WTF.Checked_int8_t test.
+#                      # webkit_unit_tests' WTF.Checked_int8_t test.
                       '-fno-tree-sra',
                       # The following option is disabled to improve binary
diff --git a/build/config/BUILDCONFIG.gn b/build/config/BUILDCONFIG.gn
index 3afba89..837af78 100644
--- a/build/config/BUILDCONFIG.gn
+++ b/build/config/BUILDCONFIG.gn
@@ -227,6 +227,6 @@ if (!is_posix) {
     "*_posix.h",
     "*_posix.cc",
-    "*_posix_unittest.h",
-    "*_posix_unittest.cc",
+#    "*_posix_unittest.h",
+#    "*_posix_unittest.cc",
     "*\bposix/*",
   ]
@@ -236,5 +236,5 @@ if (!is_win) {
     "*_win.cc",
     "*_win.h",
-    "*_win_unittest.cc",
+#    "*_win_unittest.cc",
     "*\bwin/*",
     "*.rc",
@@ -246,14 +246,14 @@ if (!is_mac) {
     "*_mac.cc",
     "*_mac.mm",
-    "*_mac_unittest.h",
-    "*_mac_unittest.cc",
-    "*_mac_unittest.mm",
+#    "*_mac_unittest.h",
+#    "*_mac_unittest.cc",
+#    "*_mac_unittest.mm",
     "*\bmac/*",
     "*_cocoa.h",
     "*_cocoa.cc",
     "*_cocoa.mm",
-    "*_cocoa_unittest.h",
-    "*_cocoa_unittest.cc",
-    "*_cocoa_unittest.mm",
+#    "*_cocoa_unittest.h",
+#    "*_cocoa_unittest.cc",
+#    "*_cocoa_unittest.mm",
     "*\bcocoa/*",
   ]
@@ -264,7 +264,7 @@ if (!is_ios) {
     "*_ios.cc",
     "*_ios.mm",
-    "*_ios_unittest.h",
-    "*_ios_unittest.cc",
-    "*_ios_unittest.mm",
+#    "*_ios_unittest.h",
+#    "*_ios_unittest.cc",
+#    "*_ios_unittest.mm",
     "*\bios/*",
   ]
@@ -277,6 +277,6 @@ if (!is_linux) {
     "*_linux.h",
     "*_linux.cc",
-    "*_linux_unittest.h",
-    "*_linux_unittest.cc",
+#    "*_linux_unittest.h",
+#    "*_linux_unittest.cc",
     "*\blinux/*",
   ]
@@ -286,6 +286,6 @@ if (!is_android) {
     "*_android.h",
     "*_android.cc",
-    "*_android_unittest.h",
-    "*_android_unittest.cc",
+#    "*_android_unittest.h",
+#    "*_android_unittest.cc",
     "*\bandroid/*",
   ]
@@ -295,6 +295,6 @@ if (!is_chromeos) {
     "*_chromeos.h",
     "*_chromeos.cc",
-    "*_chromeos_unittest.h",
-    "*_chromeos_unittest.cc",
+#    "*_chromeos_unittest.h",
+#    "*_chromeos_unittest.cc",
     "*\bchromeos/*",
   ]
@@ -342,5 +342,5 @@ _native_compiler_configs = [
   "//build/config:feature_flags",
   "//build/config/compiler:compiler",
-  "//build/config/compiler:compiler_arm_fpu",
+#  "//build/config/compiler:compiler_arm_fpu",
   "//build/config/compiler:chromium_code",
   "//build/config/compiler:default_include_dirs",
diff --git a/build/config/clang/BUILD.gn b/build/config/clang/BUILD.gn
index 39fe251..3213036 100644
--- a/build/config/clang/BUILD.gn
+++ b/build/config/clang/BUILD.gn
@@ -40,4 +40,7 @@ config("extra_warnings") {
     # Warns when a const char[] is converted to bool.
     "-Wstring-conversion",
+    "-Wno-empty-body",
+    "-Wno-parentheses-equality",
+    "-Wno-error", #this has no effect!
   ]
 }
diff --git a/build/config/compiler/BUILD.gn b/build/config/compiler/BUILD.gn
index 0145175..309ef8d 100644
--- a/build/config/compiler/BUILD.gn
+++ b/build/config/compiler/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/config.gni")
+#import("//build/config/android/config.gni")
 if (current_cpu == "arm") {
   import("//build/config/arm.gni")
@@ -246,94 +246,5 @@ config("compiler") {
         ]
       }
-    } else if (current_cpu == "arm") {
-      # Don't set the compiler flags for the WebView build. These will come
-      # from the Android build system.
-      if (!is_android_webview_build) {
-        cflags += [
-          "-march=$arm_arch",
-          "-mfloat-abi=$arm_float_abi",
-        ]
-        if (arm_tune != "") {
-          cflags += [ "-mtune=$arm_tune" ]
-        }
-        if (arm_use_thumb) {
-          cflags += [ "-mthumb" ]
-          if (is_android && !is_clang) {  # Clang doesn't support this option.
-            cflags += [ "-mthumb-interwork" ]
-          }
-        }
-        if (!is_clang) {
-          # Clang doesn't support these flags.
-          cflags += [
-            # The tree-sra optimization (scalar replacement for
-            # aggregates enabling subsequent optimizations) leads to
-            # invalid code generation when using the Android NDK's
-            # compiler (r5-r7). This can be verified using
-            # webkit_unit_tests' WTF.Checked_int8_t test.
-            "-fno-tree-sra",
-
-            # The following option is disabled to improve binary
-            # size and performance in gcc 4.9.
-            "-fno-caller-saves",
-          ]
-        }
-      }
-    } else if (current_cpu == "mipsel") {
-      # Don't set the compiler flags for the WebView build. These will come
-      # from the Android build system.
-      if (!is_android_webview_build) {
-        if (mips_arch_variant == "r6") {
-          cflags += [
-            "-mips32r6",
-            "-Wa,-mips32r6",
-          ]
-          if (is_android) {
-            ldflags += [
-              "-mips32r6",
-              "-Wl,-melf32ltsmip",
-            ]
-          }
-        } else if (mips_arch_variant == "r2") {
-          cflags += [
-            "-mips32r2",
-            "-Wa,-mips32r2",
-          ]
-          if (mips_float_abi == "hard" && mips_fpu_mode != "") {
-            cflags += [ "-m$mips_fpu_mode" ]
-          }
-        } else if (mips_arch_variant == "r1") {
-          cflags += [
-            "-mips32",
-            "-Wa,-mips32",
-          ]
-        }
-
-        if (mips_dsp_rev == 1) {
-          cflags += [ "-mdsp" ]
-        } else if (mips_dsp_rev == 2) {
-          cflags += [ "-mdspr2" ]
-        }
-
-        cflags += [ "-m${mips_float_abi}-float" ]
-      }
-    } else if (current_cpu == "mips64el") {
-      # Don't set the compiler flags for the WebView build. These will come
-      # from the Android build system.
-      if (!is_android_webview_build) {
-        if (mips_arch_variant == "r6") {
-          cflags += [
-            "-mips64r6",
-            "-Wa,-mips64r6",
-          ]
-          ldflags += [ "-mips64r6" ]
-        } else if (mips_arch_variant == "r2") {
-          cflags += [
-            "-mips64r2",
-            "-Wa,-mips64r2",
-          ]
-          ldflags += [ "-mips64r2" ]
-        }
-      }
-    }
+    } 
 
     defines += [ "_FILE_OFFSET_BITS=64" ]
@@ -424,85 +335,6 @@ config("compiler") {
   # Android-specific flags setup.
   # -----------------------------
-  if (is_android) {
-    cflags += [
-      "-ffunction-sections",
-      "-funwind-tables",
-      "-fno-short-enums",
-    ]
-    if (!is_clang) {
-      # Clang doesn't support these flags.
-      cflags += [ "-finline-limit=64" ]
-    }
-    if (is_android_webview_build) {
-      # Android predefines this as 1; undefine it here so Chromium can redefine
-      # it later to be 2 for chromium code and unset for third party code. This
-      # works because cflags are added before defines.
-      # TODO(brettw) the above comment seems incorrect. We specify defines
-      # before cflags on our compiler command lines.
-      cflags += [ "-U_FORTIFY_SOURCE" ]
-    }
-
-    if (is_asan) {
-      # Android build relies on -Wl,--gc-sections removing unreachable code.
-      # ASan instrumentation for globals inhibits this and results in a library
-      # with unresolvable relocations.
-      # TODO(eugenis): find a way to reenable this.
-      cflags += [ "-mllvm -asan-globals=0" ]
-    }
-
-    defines += [ "ANDROID" ]
-    if (!is_android_webview_build) {
-      # The NDK has these things, but doesn't define the constants
-      # to say that it does. Define them here instead.
-      defines += [ "HAVE_SYS_UIO_H" ]
-    }
-
-    # Use gold for Android for most CPU architectures.
-    if (current_cpu == "x86" || current_cpu == "x64" || current_cpu == "arm") {
-      ldflags += [ "-fuse-ld=gold" ]
-      if (is_clang) {
-        # Let clang find the ld.gold in the NDK.
-        ldflags += [ "--gcc-toolchain=" +
-                     rebase_path(android_toolchain_root, root_build_dir) ]
-      }
-    }
-
-    ldflags += [
-      "-Wl,--no-undefined",
-
-      # Don't allow visible symbols from libgcc or stlport to be
-      # re-exported.
-      "-Wl,--exclude-libs=libgcc.a",
-      "-Wl,--exclude-libs=libstlport_static.a",
-
-      # Don't allow visible symbols from libraries that contain
-      # assembly code with symbols that aren't hidden properly.
-      # http://crbug.com/448386
-      "-Wl,--exclude-libs=libvpx_assembly_arm.a",
-    ]
-    if (current_cpu == "arm") {
-      ldflags += [
-        # Enable identical code folding to reduce size.
-        "-Wl,--icf=safe",
-      ]
-    }
-
-    if (is_clang) {
-      if (current_cpu == "arm") {
-        cflags += [ "-target arm-linux-androideabi" ]
-        ldflags += [ "-target arm-linux-androideabi" ]
-      } else if (current_cpu == "x86") {
-        cflags += [ "-target x86-linux-androideabi" ]
-        ldflags += [ "-target x86-linux-androideabi" ]
-      }
-    }
-  }
 }
 
-config("compiler_arm_fpu") {
-  if (current_cpu == "arm" && !is_android_webview_build) {
-    cflags = [ "-mfpu=$arm_fpu" ]
-  }
-}
 
 # runtime_library -------------------------------------------------------------
@@ -686,17 +518,4 @@ config("no_chromium_code") {
   }
 
-  if (is_android_webview_build) {
-    # There is a class of warning which:
-    #  1) Android always enables and also treats as errors
-    #  2) Chromium ignores in third party code
-    # So we re-enable those warnings when building Android.
-    cflags += [
-      "-Wno-address",
-      "-Wno-format-security",
-      "-Wno-return-type",
-      "-Wno-sequence-point",
-    ]
-    cflags_cc += [ "-Wno-non-virtual-dtor" ]
-  }
 }
 
@@ -806,5 +625,5 @@ config("default_warnings") {
       # Enables.
       "-Wendif-labels",  # Weird old-style text after an #endif.
-      "-Werror",  # Warnings as errors.
+      "-Wno-error",  # Warnings as errors.
 
       # Disables.
@@ -852,11 +671,12 @@ config("default_warnings") {
       # always have different versions. Certain flags may not be recognized by
       # one version or the other.
-      if (!is_nacl) {
-        # Flags NaCl does not recognize.
-        cflags += [
-          # TODO(hans): Get this cleaned up.
-          "-Wno-inconsistent-missing-override",
-        ]
-      }
+#warning: unknown warning option '-Wno-inconsistent-missing-override' [-Wunknown-warning-option]
+#      if (!is_nacl) {
+#        # Flags NaCl does not recognize.
+#        cflags += [
+#          # TODO(hans): Get this cleaned up.
+#          "-Wno-inconsistent-missing-override",
+#        ]
+#      }
     }
     if (gcc_version >= 48) {
diff --git a/build/config/features.gni b/build/config/features.gni
index ee61da5..7de063a 100644
--- a/build/config/features.gni
+++ b/build/config/features.gni
@@ -13,5 +13,5 @@
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
@@ -73,5 +73,5 @@ declare_args() {
 
   enable_one_click_signin = is_win || is_mac || (is_linux && !is_chromeos)
-}
+#}
 
 # Additional dependent variables -----------------------------------------------
@@ -182,2 +182,3 @@ enable_hangout_services_extension = false
 # Whether to back up data before sync.
 enable_pre_sync_backup = is_win || is_mac || (is_linux && !is_chromeos)
+}
diff --git a/build/config/gcc/gcc_version.gni b/build/config/gcc/gcc_version.gni
index f5c1c1a..629b593 100644
--- a/build/config/gcc/gcc_version.gni
+++ b/build/config/gcc/gcc_version.gni
@@ -4,5 +4,5 @@
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
   if (is_android_webview_build) {
     gcc_version = 48
diff --git a/build/config/sysroot.gni b/build/config/sysroot.gni
index 941c77a..8d180bb 100644
--- a/build/config/sysroot.gni
+++ b/build/config/sysroot.gni
@@ -15,5 +15,5 @@ if (current_toolchain == default_toolchain && target_sysroot != "") {
   sysroot = target_sysroot
 } else if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
   if (!is_android_webview_build) {
     if (current_cpu == "x86") {
diff --git a/build/filename_rules.gypi b/build/filename_rules.gypi
index bc657d8..050512c 100644
--- a/build/filename_rules.gypi
+++ b/build/filename_rules.gypi
@@ -10,14 +10,14 @@
   'target_conditions': [
     ['OS!="win" or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_win(_browsertest|_unittest)?\\.(h|cc)$'],
+#      'sources/': [ ['exclude', '_win(_browsertest|_unittest)?\\.(h|cc)$'],
                     ['exclude', '(^|/)win/'],
                     ['exclude', '(^|/)win_[^/]*\\.(h|cc)$'] ],
     }],
     ['OS!="mac" or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_(cocoa|mac)(_unittest)?\\.(h|cc|mm?)$'],
+#      'sources/': [ ['exclude', '_(cocoa|mac)(_unittest)?\\.(h|cc|mm?)$'],
                     ['exclude', '(^|/)(cocoa|mac)/'] ],
     }],
     ['OS!="ios" or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_ios(_unittest)?\\.(h|cc|mm?)$'],
+#      'sources/': [ ['exclude', '_ios(_unittest)?\\.(h|cc|mm?)$'],
                     ['exclude', '(^|/)ios/'] ],
     }],
@@ -32,5 +32,5 @@
     ['OS!="linux" and OS!="openbsd" and OS!="freebsd" or >(nacl_untrusted_build)==1', {
       'sources/': [
-        ['exclude', '_linux(_unittest)?\\.(h|cc)$'],
+#        ['exclude', '_linux(_unittest)?\\.(h|cc)$'],
         ['exclude', '(^|/)linux/'],
       ],
@@ -38,5 +38,5 @@
     ['OS!="android" or _toolset=="host" or >(nacl_untrusted_build)==1', {
       'sources/': [
-        ['exclude', '_android(_unittest)?\\.(h|cc)$'],
+#        ['exclude', '_android(_unittest)?\\.(h|cc)$'],
         ['exclude', '(^|/)android/'],
       ],
@@ -44,5 +44,5 @@
     ['OS=="win" and >(nacl_untrusted_build)==0', {
       'sources/': [
-        ['exclude', '_posix(_unittest)?\\.(h|cc)$'],
+#        ['exclude', '_posix(_unittest)?\\.(h|cc)$'],
         ['exclude', '(^|/)posix/'],
       ],
@@ -50,5 +50,5 @@
     ['<(chromeos)!=1 or >(nacl_untrusted_build)==1', {
       'sources/': [
-        ['exclude', '_chromeos(_unittest)?\\.(h|cc)$'],
+#        ['exclude', '_chromeos(_unittest)?\\.(h|cc)$'],
         ['exclude', '(^|/)chromeos/'],
       ],
@@ -56,15 +56,15 @@
     ['>(nacl_untrusted_build)==0', {
       'sources/': [
-        ['exclude', '_nacl(_unittest)?\\.(h|cc)$'],
+#        ['exclude', '_nacl(_unittest)?\\.(h|cc)$'],
       ],
     }],
     ['OS!="linux" and OS!="openbsd" and OS!="freebsd" or >(nacl_untrusted_build)==1', {
       'sources/': [
-        ['exclude', '_xdg(_unittest)?\\.(h|cc)$'],
+#        ['exclude', '_xdg(_unittest)?\\.(h|cc)$'],
       ],
     }],
     ['<(use_x11)!=1 or >(nacl_untrusted_build)==1', {
       'sources/': [
-        ['exclude', '_(x|x11)(_interactive_uitest|_unittest)?\\.(h|cc)$'],
+#        ['exclude', '_(x|x11)(_interactive_uitest|_unittest)?\\.(h|cc)$'],
         ['exclude', '(^|/)x11_[^/]*\\.(h|cc)$'],
         ['exclude', '(^|/)x11/'],
@@ -73,13 +73,13 @@
     }],
     ['<(toolkit_views)==0 or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_views(_browsertest|_unittest)?\\.(h|cc)$'] ]
+#      'sources/': [ ['exclude', '_views(_browsertest|_unittest)?\\.(h|cc)$'] ]
     }],
     ['<(use_aura)==0 or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_aura(_browsertest|_unittest)?\\.(h|cc)$'],
+#      'sources/': [ ['exclude', '_aura(_browsertest|_unittest)?\\.(h|cc)$'],
                     ['exclude', '(^|/)aura/'],
       ]
     }],
     ['<(use_aura)==0 or <(use_x11)==0 or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_aurax11(_browsertest|_unittest)?\\.(h|cc)$'] ]
+#      'sources/': [ ['exclude', '_aurax11(_browsertest|_unittest)?\\.(h|cc)$'] ]
     }],
     ['<(use_aura)==0 or OS!="win" or >(nacl_untrusted_build)==1', {
@@ -90,5 +90,5 @@
     }],
     ['<(use_ash)==0 or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_ash(_browsertest|_unittest)?\\.(h|cc)$'],
+#      'sources/': [ ['exclude', '_ash(_browsertest|_unittest)?\\.(h|cc)$'],
                     ['exclude', '(^|/)ash/'],
       ]
@@ -98,20 +98,20 @@
     }],
     ['<(use_ozone)==0 or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_ozone(_browsertest|_unittest)?\\.(h|cc)$'],
+#      'sources/': [ ['exclude', '_ozone(_browsertest|_unittest)?\\.(h|cc)$'],
                     ['exclude', '(^|/)ozone/'],
       ]
     }],
     ['<(use_ozone_evdev)==0 or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_evdev(_browsertest|_unittest)?\\.(h|cc)$'],
+#      'sources/': [ ['exclude', '_evdev(_browsertest|_unittest)?\\.(h|cc)$'],
                     ['exclude', '(^|/)evdev/'],
       ]
     }],
     ['<(ozone_platform_dri)==0 or >(nacl_untrusted_build)==1', {
-      'sources/': [ ['exclude', '_dri(_browsertest|_unittest)?\\.(h|cc)$'],
+#      'sources/': [ ['exclude', '_dri(_browsertest|_unittest)?\\.(h|cc)$'],
                     ['exclude', '(^|/)dri/'],
       ]
     }],
     ['<(use_pango)==0', {
-      'sources/': [ ['exclude', '(^|_)pango(_util|_browsertest|_unittest)?\\.(h|cc)$'], ],
+#      'sources/': [ ['exclude', '(^|_)pango(_util|_browsertest|_unittest)?\\.(h|cc)$'], ],
     }],
   ]
diff --git a/BUILD.gn b/BUILD.gn
index b75505b..ab00c56 100644
--- a/BUILD.gn
+++ b/BUILD.gn
@@ -13,5 +13,5 @@ import("//build/config/ui.gni")
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
@@ -38,58 +38,58 @@ group("gn_all") {
 
   deps = [
-    "//base:base_unittests",
-    "//cc:cc_unittests",
+#    "//base:base_unittests",
+#    "//cc:cc_unittests",
     "//chrome",
-    "//chrome/test:browser_tests",
-    "//chrome/test:interactive_ui_tests",
-    "//chrome/test:sync_integration_tests",
-    "//chrome/test:unit_tests",
-    "//chrome/test/chromedriver:chromedriver_unittests",
-    "//components:components_unittests",
+#    "//chrome/test:browser_tests",
+#    "//chrome/test:interactive_ui_tests",
+#    "//chrome/test:sync_integration_tests",
+##    "//chrome/test:unit_tests",
+##    "//chrome/test/chromedriver:chromedriver_unittests",
+#    "//components:components_unittests",
     "//content/shell:content_shell",
-    "//content/test:content_browsertests",
-    "//content/test:content_perftests",
-    "//content/test:content_unittests",
-    "//crypto:crypto_unittests",
-    "//extensions:extensions_browsertests",
-    "//extensions:extensions_unittests",
-    "//google_apis/gcm:gcm_unit_tests",
-    "//gpu:gpu_unittests",
-    "//ipc:ipc_tests",
-    "//ipc/mojo:ipc_mojo_unittests",
-    "//jingle:jingle_unittests",
-    "//media:media_unittests",
-    "//media/cast:cast_unittests",
+#    "//content/test:content_browsertests",
+#    "//content/test:content_perftests",
+#    "//content/test:content_unittests",
+#    "//crypto:crypto_unittests",
+#    "//extensions:extensions_browsertests",
+#    "//extensions:extensions_unittests",
+#    "//google_apis/gcm:gcm_unit_tests",
+#    "//gpu:gpu_unittests",
+#    "//ipc:ipc_tests",
+#    "//ipc/mojo:ipc_mojo_unittests",
+##    "//jingle:jingle_unittests",
+#    "//media:media_unittests",
+#    "//media/cast:cast_unittests",
     "//mojo",
-    "//mojo/common:mojo_common_unittests",
-    "//net:net_unittests",
-    "//ppapi:ppapi_unittests",
+#    "//mojo/common:mojo_common_unittests",
+#    "//net:net_unittests",
+#    "//ppapi:ppapi_unittests",
     "//ppapi/examples",  # TODO(GYP): What's the GYP equivalent?
-    "//printing:printing_unittests",
-    "//skia:skia_unittests",
-    "//sql:sql_unittests",
-    "//sync:sync_unit_tests",
-    "//third_party/WebKit/public:blink_tests",
-    "//third_party/cacheinvalidation:cacheinvalidation_unittests",
+##    "//printing:printing_unittests",
+#    "//skia:skia_unittests",
+#    "//sql:sql_unittests",
+##    "//sync:sync_unit_tests",
+#    "//third_party/WebKit/public:blink_tests",
+#    "//third_party/cacheinvalidation:cacheinvalidation_unittests",
     "//third_party/codesighs",
-    "//third_party/mojo/src/mojo/edk/system:mojo_system_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_bindings_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_environment_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_system_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_utility_unittests",
-    "//third_party/pdfium/samples:pdfium_test",
+#    "//third_party/mojo/src/mojo/edk/system:mojo_system_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_bindings_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_environment_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_system_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_utility_unittests",
+#    "//third_party/pdfium/samples:pdfium_test",
     "//third_party/smhasher:pmurhash",
     "//tools/imagediff($host_toolchain)",
     "//tools/gn",
-    "//tools/gn:gn_unittests",
-    "//tools/telemetry:bitmaptools($host_toolchain)",
-    "//ui/accessibility:accessibility_unittests",
-    "//ui/app_list:app_list_unittests",
-    "//ui/base:ui_base_unittests",
-    "//ui/display:display_unittests",
-    "//ui/events:events_unittests",
-    "//ui/gfx:gfx_unittests",
-    "//ui/touch_selection:ui_touch_selection_unittests",
-    "//url:url_unittests",
+#    "//tools/gn:gn_unittests",
+#    "//tools/telemetry:bitmaptools($host_toolchain)",
+#    "//ui/accessibility:accessibility_unittests",
+#    "//ui/app_list:app_list_unittests",
+#    "//ui/base:ui_base_unittests",
+#    "//ui/display:display_unittests",
+#    "//ui/events:events_unittests",
+#    "//ui/gfx:gfx_unittests",
+#    "//ui/touch_selection:ui_touch_selection_unittests",
+#    "//url:url_unittests",
   ]
 
@@ -98,9 +98,9 @@ group("gn_all") {
   # TODO(GYP): Get this working on the mac?
   if (enable_extensions && !is_mac) {
-    deps += [ "//extensions/shell:app_shell_unittests" ]
+#    deps += [ "//extensions/shell:app_shell_unittests" ]
   }
 
   if (!is_android) {
-    deps += [ "//remoting:remoting_unittests" ]
+##    deps += [ "//remoting:remoting_unittests" ]
   }
 
@@ -114,9 +114,9 @@ group("gn_all") {
 
   if (toolkit_views) {
-    deps += [ "//ui/views:views_unittests" ]
+#    deps += [ "//ui/views:views_unittests" ]
   }
 
   if (use_aura) {
-    deps += [ "//ui/wm:wm_unittests" ]
+#    deps += [ "//ui/wm:wm_unittests" ]
   }
 
@@ -134,17 +134,17 @@ group("gn_all") {
     deps += [
       "//base/android/linker:chromium_android_linker",
-      "//build/android/gyp/test:hello_world",
+#      "//build/android/gyp/test:hello_world",
       "//build/android/rezip",
       "//chrome/android:chrome_shell_apk",
-      "//chrome/test/chromedriver/test/webview_shell:chromedriver_webview_shell_apk",
+#      "//chrome/test/chromedriver/test/webview_shell:chromedriver_webview_shell_apk",
       "//tools/imagediff($host_toolchain)",
 
-      # TODO(GYP): Remove these when the components_unittests work.
-      "//components/history/core/test:test",
-      "//components/policy:policy_component_test_support",
-      "//components/policy:test_support",
-      "//components/rappor:test_support",
-      "//components/signin/core/browser:test_support",
-      "//components/sync_driver:test_support",
+#      # TODO(GYP): Remove these when the components_unittests work.
+#      "//components/history/core/test:test",
+#      "//components/policy:policy_component_test_support",
+#      "//components/policy:test_support",
+#      "//components/rappor:test_support",
+#      "//components/signin/core/browser:test_support",
+#      "//components/sync_driver:test_support",
       "//components/user_manager",
       "//components/wallpaper",
@@ -164,30 +164,30 @@ group("gn_all") {
 
       # TODO(GYP): Are these needed?
-      "//chrome/test:test_support_unit",
+#      "//chrome/test:test_support_unit",
       "//third_party/smhasher:murmurhash3",
-      "//ui/message_center:test_support",
+#      "//ui/message_center:test_support",
     ]
     deps -= [
       "//breakpad:symupload",  # TODO(GYP) ??
       "//chrome",  # TODO(GYP) ??
-      "//chrome/test:browser_tests",  # TODO(GYP) ??
-      "//chrome/test:interactive_ui_tests",  # TODO(GYP) ??
-      "//chrome/test:sync_integration_tests",  # TODO(GYP) ??
-      "//chrome/test:unit_tests",  # TODO(GYP)
+#      "//chrome/test:browser_tests",  # TODO(GYP) ??
+#      "//chrome/test:interactive_ui_tests",  # TODO(GYP) ??
+#      "//chrome/test:sync_integration_tests",  # TODO(GYP) ??
+##      "//chrome/test:unit_tests",  # TODO(GYP)
 
       # Chromedriver shouldn't be compiled on Android.
-      "//chrome/test/chromedriver:chromedriver_unittests",
-      "//extensions:extensions_browsertests",
-      "//extensions:extensions_unittests",
-      "//google_apis/gcm:gcm_unit_tests",
+##      "//chrome/test/chromedriver:chromedriver_unittests",
+#      "//extensions:extensions_browsertests",
+#      "//extensions:extensions_unittests",
+#      "//google_apis/gcm:gcm_unit_tests",
       "//ipc:ipc_tests",  # TODO(GYP) ??
-      "//jingle:jingle_unittests",  # TODO(GYP) ??
-      "//net:net_unittests",
+##      "//jingle:jingle_unittests",  # TODO(GYP) ??
+#      "//net:net_unittests",
       "//ppapi/examples",
-      "//third_party/pdfium/samples:pdfium_test",
+#      "//third_party/pdfium/samples:pdfium_test",
       "//tools/gn",
-      "//tools/gn:gn_unittests",
-      "//ui/app_list:app_list_unittests",
-      "//url:url_unittests",
+#      "//tools/gn:gn_unittests",
+#      "//ui/app_list:app_list_unittests",
+#      "//url:url_unittests",
     ]
 
@@ -200,18 +200,18 @@ group("gn_all") {
     # The following are definitely linux-only.
     deps += [
-      "//breakpad:breakpad_unittests",
+#      "//breakpad:breakpad_unittests",
       "//breakpad:dump_syms",
-      "//breakpad:generate_test_dump",
+#      "//breakpad:generate_test_dump",
       "//breakpad:minidump-2-core",
-      "//dbus:dbus_test_server",
-      "//dbus:dbus_unittests",
+#      "//dbus:dbus_test_server",
+#      "//dbus:dbus_unittests",
       "//net:disk_cache_memory_test",
       "//net:flip_in_mem_edsm_server",
-      "//net:flip_in_mem_edsm_server_unittests",
+#      "//net:flip_in_mem_edsm_server_unittests",
       "//net:quic_client",
       "//net:quic_server",
       "//sandbox/linux:chrome_sandbox",
-      "//sandbox/linux:sandbox_linux_unittests",
-      "//sandbox/linux:sandbox_linux_jni_unittests",
+#      "//sandbox/linux:sandbox_linux_unittests",
+#      "//sandbox/linux:sandbox_linux_jni_unittests",
     ]
   }
@@ -221,6 +221,6 @@ group("gn_all") {
       # TODO(GYP): Figure out which of these should (and can) build
       # under which other conditions.
-      "//base:base_perftests",
-      "//base:base_i18n_perftests",
+#      "//base:base_perftests",
+#      "//base:base_i18n_perftests",
       "//base:check_example",
       "//base:protect_file_posix",
@@ -231,13 +231,13 @@ group("gn_all") {
       "//breakpad:minidump_stackwalk",
       "//build/sanitizers:copy_llvm_symbolizer",
-      "//cc/blink:cc_blink_unittests",
-      "//cc:cc_perftests",
-      "//chrome/test:chrome_app_unittests",
-      "//chrome/test:load_library_perf_tests",
-      "//chrome/test:sync_performance_tests",
-      "//chrome/test/chromedriver:chromedriver",
-      "//chrome/test/chromedriver:chromedriver_tests",
+#      "//cc/blink:cc_blink_unittests",
+#      "//cc:cc_perftests",
+##      "//chrome/test:chrome_app_unittests",
+#      "//chrome/test:load_library_perf_tests",
+#      "//chrome/test:sync_performance_tests",
+#      "//chrome/test/chromedriver:chromedriver",
+#      "//chrome/test/chromedriver:chromedriver_tests",
       "//chrome/tools/profile_reset:jtl_compiler",
-      "//components:components_perftests",
+#      "//components:components_perftests",
       "//components/network_hints/browser",
       "//components/session_manager/core",
@@ -245,30 +245,30 @@ group("gn_all") {
       "//content/public/app:browser",
       "//content/public/app:child",
-      "//content/test:content_gl_tests",
-      "//content/test:content_gl_benchmark",
+#      "//content/test:content_gl_tests",
+#      "//content/test:content_gl_benchmark",
       "//courgette:courgette",
-      "//courgette:courgette_fuzz",
+#      "//courgette:courgette_fuzz",
       "//courgette:courgette_minimal_tool",
-      "//courgette:courgette_unittests",
-      "//device:device_unittests",
+#      "//courgette:courgette_unittests",
+##      "//device:device_unittests",
       "//gin:gin_shell",
       "//gin:gin_v8_snapshot_fingerprint",
-      "//gin:gin_unittests",
-      "//google_apis:google_apis_unittests",
+#      "//gin:gin_unittests",
+#      "//google_apis:google_apis_unittests",
       "//google_apis/gcm:mcs_probe",
-      "//gpu:angle_unittests",
-      "//gpu:gl_tests",
+#      "//gpu:angle_unittests",
+#      "//gpu:gl_tests",
 
       # TODO(GYP): Remove this when the gles2 tests work
       "//gpu/command_buffer/client:gles2_implementation_no_check",
 
-      "//gpu:gpu_perftests",
-      "//ipc:ipc_perftests",
-      "//media:ffmpeg_regression_tests",  # TODO(GYP) this should be conditional on media_use_ffmpeg
-      "//media:media_perftests",
-      "//media/cast:cast_benchmarks",
-      "//media/cast:generate_barcode_video",
-      "//media/cast:generate_timecode_audio",
-      "//media/cast:tap_proxy",
+#      "//gpu:gpu_perftests",
+#      "//ipc:ipc_perftests",
+#      "//media:ffmpeg_regression_tests",  # TODO(GYP) this should be conditional on media_use_ffmpeg
+#      "//media:media_perftests",
+#      "//media/cast:cast_benchmarks",
+#      "//media/cast:generate_barcode_video",
+#      "//media/cast:generate_timecode_audio",
+#      "//media/cast:tap_proxy",
       "//mojo/application",
       "//net:crash_cache",
@@ -281,28 +281,28 @@ group("gn_all") {
       #"//net:hpack_fuzz_mutator",  # TODO(GYP) rockot in progress
       #"//net:hpack_fuzz_wrapper",  # TODO(GYP) rockot in progress
-      #"//net:net_perftests",  # TODO(GYP) rockot in progress
+#      #"//net:net_perftests",  # TODO(GYP) rockot in progress
       "//net:net_watcher",  # TODO(GYP): This should be conditional on use_v8_in_net
       "//net:stress_cache",
       "//net:tld_cleanup",
-      "//net:run_testserver",
+#      "//net:run_testserver",
       "//net:dump_cache",
 
       # "//ppapi:pepper_hash_for_uma",  # TODO(GYP): Implement me.
-      "//ppapi:ppapi_perftests",  # TODO(GYP): Are there other ppapi_* test targets?
+#      "//ppapi:ppapi_perftests",  # TODO(GYP): Are there other ppapi_* test targets?
       "//skia:filter_fuzz_stub",
       "//skia:image_operations_bench",
-      "//sync:run_sync_testserver",
-      "//sync:sync_endtoend_tests",
-      "//sync/tools:sync_client",
-      "//sync/tools:sync_listen_notifications",
-      "//testing/gmock:gmock_main",
+#      "//sync:run_sync_testserver",
+#      "//sync:sync_endtoend_tests",
+#      "//sync/tools:sync_client",
+#      "//sync/tools:sync_listen_notifications",
+#      "//testing/gmock:gmock_main",
       "//third_party/codesighs:maptsvdifftool",
-      "//third_party/libphonenumber:libphonenumber_unittests",
-      "//third_party/mojo/src/mojo/edk/test:mojo_public_system_perftests",
-      "//tools/gn:generate_test_gn_data",
+##      "//third_party/libphonenumber:libphonenumber_unittests",
+#      "//third_party/mojo/src/mojo/edk/test:mojo_public_system_perftests",
+#      "//tools/gn:generate_test_gn_data",
       "//tools/perf/clear_system_cache",
-      "//ui/keyboard:keyboard_unittests",
-      "//ui/message_center:message_center_unittests",
-      "//ui/snapshot:snapshot_unittests",
+#      "//ui/keyboard:keyboard_unittests",
+#      "//ui/message_center:message_center_unittests",
+#      "//ui/snapshot:snapshot_unittests",
       "//ui/views/examples:views_examples_with_content_exe",
 
@@ -311,8 +311,8 @@ group("gn_all") {
 
       "//third_party/codesighs:nm2tsv",
-      "//third_party/leveldatabase:env_chromium_unittests",
-      "//third_party/libaddressinput:libaddressinput_unittests",
+#      "//third_party/leveldatabase:env_chromium_unittests",
+#      "//third_party/libaddressinput:libaddressinput_unittests",
       "//third_party/sqlite:sqlite_shell",
-      "//ui/compositor:compositor_unittests",
+#      "//ui/compositor:compositor_unittests",
     ]
 
@@ -322,5 +322,5 @@ group("gn_all") {
 
     if (enable_nacl) {
-      deps += [ "//components/nacl:nacl_loader_unittests" ]
+#      deps += [ "//components/nacl:nacl_loader_unittests" ]
     }
 
@@ -329,23 +329,23 @@ group("gn_all") {
     }
 
-    if (toolkit_views) {
-      deps += [ "//ui/app_list:app_list_demo" ]
-    }
+#    if (toolkit_views) {
+#      deps += [ "//ui/app_list:app_list_demo" ]
+#    }
 
     if (use_ash) {
       deps += [
         "//ash:ash_shell",
-        "//ash:ash_shell_unittests",
-        "//ash:ash_unittests",
+#        "//ash:ash_shell_unittests",
+#        "//ash:ash_unittests",
       ]
     }
 
-    if (use_aura) {
-      deps += [
-        "//ui/aura:aura_unittests",
-        "//ui/aura:bench",
-        "//ui/aura:demo",
-      ]
-    }
+#    if (use_aura) {
+#      deps += [
+#        "//ui/aura:aura_unittests",
+#        "//ui/aura:bench",
+#        "//ui/aura:demo",
+#      ]
+#    }
 
     if (use_x11) {
@@ -358,67 +358,4 @@ group("gn_all") {
   }
 
-  if (is_mac) {
-    deps += [
-      "//breakpad:crash_inspector",
-      "//breakpad:dump_syms",
-      "//breakpad:symupload",
-      "//third_party/apple_sample_code",
-      "//third_party/molokocacao",
-    ]
-
-    # TODO(GYP): Remove these when the targets below work and these
-    # are pulled in automatically.
-    deps += [
-      "//cc/blink",
-      "//components/ui/zoom:ui_zoom",
-      "//content",
-      "//content/test:test_support",
-      "//device/battery",
-      "//device/bluetooth",
-      "//device/nfc",
-      "//device/usb",
-      "//device/vibration",
-      "//media/blink",
-      "//pdf",
-      "//storage/browser",
-      "//third_party/brotli",
-      "//third_party/flac",
-      "//third_party/hunspell",
-      "//third_party/iccjpeg",
-      "//third_party/libphonenumber",
-      "//third_party/ots",
-      "//third_party/qcms",
-      "//third_party/smhasher:murmurhash3",
-      "//third_party/speex",
-      "//third_party/webrtc/system_wrappers",
-      "//ui/native_theme",
-      "//ui/snapshot",
-      "//ui/surface",
-    ]
-
-    # TODO(dpranke): These are as-yet untriaged but need at least the above.
-    deps -= [
-      "//chrome",  # TODO(GYP)
-      "//chrome/test:browser_tests",  # TODO(GYP)
-      "//chrome/test:interactive_ui_tests",  # TODO(GYP)
-      "//chrome/test:sync_integration_tests",  # TODO(GYP)
-      "//chrome/test:unit_tests",  # TODO(GYP)
-      "//components:components_unittests",  # TODO(GYP)
-      "//content/test:content_browsertests",  # TODO(GYP)
-      "//content/test:content_perftests",  # TODO(GYP)
-      "//content/test:content_unittests",  # TODO(GYP)
-      "//extensions:extensions_browsertests",  # TODO(GYP)
-      "//extensions:extensions_unittests",  # TODO(GYP)
-      "//net:net_unittests",  # TODO(GYP)
-      "//ui/app_list:app_list_unittests",  # TODO(GYP)
-      "//ui/gfx:gfx_unittests",  # TODO(GYP)
-    ]
-  } else if (is_win) {
-    deps += [ "//ui/metro_viewer" ]
-    deps -= [
-      "//crypto:crypto_unittests",  # TODO(GYP)
-      "//net:net_unittests",  # TODO(GYP)
-    ]
-  }
 }
 
@@ -434,18 +371,18 @@ group("gn_only") {
       "//chrome/installer/util:strings",
       "//chrome:main_dll",
-      "//chrome/test:load_library_perf_tests",
+#      "//chrome/test:load_library_perf_tests",
       "//chrome/tools/convert_dict",
-      "//components/constrained_window:unit_tests",
-      "//components/enhanced_bookmarks:test_support",
-      "//components/password_manager/content/renderer:browser_tests",
-      "//components/metrics:serialization",
-      "//components/proximity_auth:proximity_auth_unittests",
-      "//components/rappor:unit_tests",
-      "//components/sessions:unit_tests",
-      "//media/blink:media_blink_unittests",
+#      "//components/constrained_window:unit_tests",
+#      "//components/enhanced_bookmarks:test_support",
+#      "//components/password_manager/content/renderer:browser_tests",
+#      "//components/metrics:serialization",
+##      "//components/proximity_auth:proximity_auth_unittests",
+##      "//components/rappor:unit_tests",
+#      "//components/sessions:unit_tests",
+#      "//media/blink:media_blink_unittests",
       "//media/base:base_for_cast_ios",
-      "//media/cast:udp_proxy",
-      "//native_client/src/trusted/platform_qualify:vcpuid",
-      "//native_client/src/trusted/debug_stub:gdb_rsp_unittest",
+#      "//media/cast:udp_proxy",
+#      "//native_client/src/trusted/platform_qualify:vcpuid",
+#      "//native_client/src/trusted/debug_stub:gdb_rsp_unittest",
       "//storage/browser:dump_file_system",
       "//third_party/angle:libANGLE",
@@ -453,22 +390,22 @@ group("gn_only") {
       "//third_party/angle:libGLESv2",
       "//third_party/cld_2:cld_2_dynamic_data_tool",
-      "//third_party/leveldatabase:leveldb_arena_test",
-      "//third_party/leveldatabase:leveldb_bloom_test",
-      "//third_party/leveldatabase:leveldb_db_test",
-      "//third_party/leveldatabase:leveldb_crc32c_test",
-      "//third_party/leveldatabase:leveldb_cache_test",
-      "//third_party/leveldatabase:leveldb_env_test",
-      "//third_party/leveldatabase:leveldb_write_batch_test",
-      "//third_party/leveldatabase:leveldb_filter_block_test",
-      "//third_party/leveldatabase:leveldb_version_edit_test",
-      "//third_party/leveldatabase:leveldb_db_bench",
-      "//third_party/leveldatabase:leveldb_log_test",
-      "//third_party/leveldatabase:leveldb_corruption_test",
-      "//third_party/leveldatabase:leveldb_table_test",
-      "//third_party/leveldatabase:leveldb_skiplist_test",
-      "//third_party/leveldatabase:leveldb_filename_test",
-      "//third_party/leveldatabase:leveldb_dbformat_test",
-      "//third_party/pdfium/third_party:freetype",
-      "//third_party/libjingle:peerconnnection_server",
+#      "//third_party/leveldatabase:leveldb_arena_test",
+#      "//third_party/leveldatabase:leveldb_bloom_test",
+#      "//third_party/leveldatabase:leveldb_db_test",
+#      "//third_party/leveldatabase:leveldb_crc32c_test",
+#      "//third_party/leveldatabase:leveldb_cache_test",
+#      "//third_party/leveldatabase:leveldb_env_test",
+#      "//third_party/leveldatabase:leveldb_write_batch_test",
+#      "//third_party/leveldatabase:leveldb_filter_block_test",
+#      "//third_party/leveldatabase:leveldb_version_edit_test",
+#      "//third_party/leveldatabase:leveldb_db_bench",
+#      "//third_party/leveldatabase:leveldb_log_test",
+#      "//third_party/leveldatabase:leveldb_corruption_test",
+#      "//third_party/leveldatabase:leveldb_table_test",
+#      "//third_party/leveldatabase:leveldb_skiplist_test",
+#      "//third_party/leveldatabase:leveldb_filename_test",
+#      "//third_party/leveldatabase:leveldb_dbformat_test",
+#      "//third_party/pdfium/third_party:freetype",
+#      "//third_party/libjingle:peerconnnection_server",
       "//third_party/libjpeg_turbo:simd",
       "//third_party/libjpeg_turbo:simd_asm",
@@ -479,27 +416,27 @@ group("gn_only") {
       "//third_party/libsrtp:srtp_driver",
       "//third_party/libsrtp:srtp_driver",
-      "//third_party/libsrtp:srtp_test_kernel_driver",
-      "//third_party/libsrtp:srtp_test_cipher_driver",
-      "//third_party/libsrtp:srtp_test_datatypes_driver",
-      "//third_party/libsrtp:srtp_test_aes_calc",
-      "//third_party/libsrtp:srtp_test_env",
-      "//third_party/libsrtp:srtp_test_rand_gen",
-      "//third_party/libsrtp:srtp_test_sha1_driver",
-      "//third_party/libsrtp:srtp_test_stat_driver",
-      "//third_party/opus:opus_compare",
-      "//third_party/opus:opus_demo",
-      "//third_party/opus:test_opus_decode",
-      "//third_party/opus:test_opus_encode",
-      "//third_party/opus:test_opus_api",
-      "//third_party/opus:test_opus_padding",
-      "//third_party/webrtc/system_wrappers:field_trial_default",
-      "//third_party/webrtc/system_wrappers:metrics_default",
+#      "//third_party/libsrtp:srtp_test_kernel_driver",
+#      "//third_party/libsrtp:srtp_test_cipher_driver",
+#      "//third_party/libsrtp:srtp_test_datatypes_driver",
+#      "//third_party/libsrtp:srtp_test_aes_calc",
+#      "//third_party/libsrtp:srtp_test_env",
+#      "//third_party/libsrtp:srtp_test_rand_gen",
+#      "//third_party/libsrtp:srtp_test_sha1_driver",
+#      "//third_party/libsrtp:srtp_test_stat_driver",
+#      "//third_party/opus:opus_compare",
+#      "//third_party/opus:opus_demo",
+#      "//third_party/opus:test_opus_decode",
+#      "//third_party/opus:test_opus_encode",
+#      "//third_party/opus:test_opus_api",
+#      "//third_party/opus:test_opus_padding",
+#      "//third_party/webrtc/system_wrappers:field_trial_default",
+#      "//third_party/webrtc/system_wrappers:metrics_default",
       "//ui/display/types",
-      "//ui/shell_dialogs:shell_dialogs_unittests",
+#      "//ui/shell_dialogs:shell_dialogs_unittests",
       "//ui/views/examples:views_examples_exe",
       "//v8:d8",
     ]
     if (enable_nacl) {
-      deps += [ "//native_client/src/trusted/service_runtime:sel_ldr" ]
+#      deps += [ "//native_client/src/trusted/service_runtime:sel_ldr" ]
     }
     if (use_ozone) {
@@ -507,5 +444,5 @@ group("gn_only") {
     }
     if (is_android) {
-      deps += [ "//build/android/gyp/test:hello_world" ]
+#      deps += [ "//build/android/gyp/test:hello_world" ]
     }
   }
@@ -524,11 +461,4 @@ group("gn_mojo_targets") {
       "//content/common:mojo_bindings_dart",
       "//content/common:mojo_bindings_python",
-      "//content/test:web_ui_test_mojo_bindings_dart",
-      "//content/test:web_ui_test_mojo_bindings_python",
-      "//device/battery:mojo_bindings_python",
-      "//device/battery:mojo_bindings_dart",
-      "//device/vibration:mojo_bindings_dart",
-      "//device/vibration:mojo_bindings_python",
-      "//ipc/mojo:ipc_mojo_perftests",
       "//ipc/mojo:client_channel_dart",
       "//ipc/mojo:client_channel_python",
@@ -536,13 +466,8 @@ group("gn_mojo_targets") {
       "//media/mojo/interfaces:interfaces_python",
       "//media/mojo/services:cdm_service",
-      "//media/mojo:tests",
       "//net/interfaces:interfaces_dart",
       "//net/interfaces:interfaces_python",
-      "//third_party/mojo/src/mojo/edk/js/test:js_integration_tests",
-      "//third_party/mojo/src/mojo/edk/js/tests:js_to_cpp_bindings_dart",
-      "//third_party/mojo/src/mojo/edk/js/tests:js_to_cpp_bindings_python",
       "//third_party/mojo/src/mojo/public/python:packaged_application",
       "//third_party/mojo/src/mojo/public/python:packaged_bindings",
-      "//third_party/mojo/src/mojo/public/cpp/application:test_support_standalone",
       "//third_party/mojo_services/src/accessibility/public/interfaces:interfaces_dart",
       "//third_party/mojo_services/src/accessibility/public/interfaces:interfaces_python",
@@ -551,88 +476,16 @@ group("gn_mojo_targets") {
     ]
 
-    if (!is_debug) {
-      deps += [
-        "//mojo/services/html_viewer:tests",
-        "//mojo/services/network:apptests",
-      ]
-    }
   }
 }
 
-group("gn_visibility") {
-  deps = [
+#group("gn_visibility") {
+#  deps = [
     # "//build/config/sanitizers:options_sources",
-    # "//third_party/pdfium:pdfium_embeddertests",  # TODO(GYP): visibility?
-    # "//third_party/pdfium:pdfium_unittests",  # TODO(GYP): visibility?
+#    # "//third_party/pdfium:pdfium_embeddertests",  # TODO(GYP): visibility?
+#    # "//third_party/pdfium:pdfium_unittests",  # TODO(GYP): visibility?
     # "//ui/resources:repack_ui_test_mac_locale_pack",
     # "//v8:v8_snapshot",  # TODO(GYP): visibility?
     # "//v8:postmortem-metadata",  # TODO(GYP): visibility?
-  ]
-}
+#  ]
+#}
 
-if (is_linux) {
-  # This group corresponds to the list of tests run on the waterfall for
-  # desktop Linux GYP builds from testing/buildbot/chromium.linux.json. It's
-  # here to help track GYP -> GN conversion progress.
-  group("linux_default_tests") {
-    testonly = true
-    deps = [
-      # components_browsertests  TODO(GYP)
-      # nacl_loader_unittests  TODO(GYP)
-
-      "//base:base_unittests",  # PASSES (*) 2/25/2015
-      "//cc:cc_unittests",  # PASSES 2/25/2015
-      "//chrome/test:browser_tests",
-      "//chrome/test:interactive_ui_tests",
-      "//chrome/test:sync_integration_tests",  # Crashes for brettw in GN and GYP.
-      "//chrome/test:unit_tests",  # PASSES 2/25/2015
-      "//chrome/test/chromedriver:chromedriver_unittests",  # PASSES 2/25/2015
-      "//components:components_unittests",  # PASSES 2/27/2015
-      "//content/test:content_browsertests",
-      "//content/test:content_unittests",  # PASSES 2/25/2015
-      "//crypto:crypto_unittests",  # PASSES 2/25/2015
-      "//dbus:dbus_unittests",  # PASSES 2/25/2015
-      "//device:device_unittests",  # PASSES 3/07/2015
-      "//extensions:extensions_browsertests",  # PASSES 2/25/2015
-      "//extensions:extensions_unittests",  # PASSES 2/25/2015
-      "//extensions/shell:app_shell_unittests",  # PASSES 2/25/2015
-      "//google_apis/gcm:gcm_unit_tests",  # PASSES 2/25/2015
-      "//google_apis:google_apis_unittests",  # PASSES 2/25/2015
-      "//gpu:gpu_unittests",  # PASSES 2/25/2015
-      "//ipc:ipc_tests",  # PASSES 2/25/2015
-      "//ipc/mojo:ipc_mojo_unittests",  # PASSES 2/25/2015
-      "//jingle:jingle_unittests",  # PASSES 2/25/2015
-      "//media/cast:cast_unittests",  # PASSES 2/25/2015
-      "//media:media_unittests",  # PASSES 3/3/2015
-      "//mojo/common:mojo_common_unittests",  # PASSES 2/25/2015
-      "//net:net_unittests",  # PASSES 2/25/2015
-      "//ppapi:ppapi_unittests",  # PASSES 2/26/2015
-      "//printing:printing_unittests",  # PASSES 2/25/2015
-      "//remoting:remoting_unittests",  # Some crashes.
-      "//sandbox/linux:sandbox_linux_unittests",  # PASSES 2/25/2015
-      "//skia:skia_unittests",  # PASSES 2/25/2015
-      "//sql:sql_unittests",  # PASSES 2/25/2015
-      "//sync:sync_unit_tests",  # PASSES 2/25/2015
-      "//third_party/cacheinvalidation:cacheinvalidation_unittests",  # PASSES 2/25/2015
-      "//third_party/mojo/src/mojo/edk/system:mojo_system_unittests",  # PASSES 2/25/2015
-      "//third_party/mojo/src/mojo/edk/test:mojo_public_bindings_unittests",  # PASSES 2/25/2015
-      "//third_party/mojo/src/mojo/edk/test:mojo_public_environment_unittests",  # PASSES 2/25/2015
-      "//third_party/mojo/src/mojo/edk/test:mojo_public_system_unittests",  # PASSES 2/25/2015
-      "//ui/accessibility:accessibility_unittests",  # PASSES 2/25/2015
-      "//ui/app_list:app_list_unittests",  # PASSES 2/25/2015
-      "//ui/aura:aura_unittests",  # PASSES 2/25/2015
-      "//ui/base:ui_base_unittests",  # TODO(GYP) ResourceBundleTest.* fails.
-      "//ui/compositor:compositor_unittests",  # PASSES 2/25/2015
-      "//ui/display:display_unittests",  # PASSES 2/25/2015
-      "//ui/events:events_unittests",  # PASSES 2/25/2015
-      "//ui/gfx:gfx_unittests",  # PASSES 2/25/2015
-      "//ui/touch_selection:ui_touch_selection_unittests",  # PASSES 2/25/2015
-      "//ui/views:views_unittests",  # PASSES (*) 2/25/2015
-      "//ui/wm:wm_unittests",  # PASSES 2/25/2015
-      "//url:url_unittests",  # PASSES 2/25/2015
-
-      # Note:
-      # (*) Fails but failures match GYP build at time of testing.
-    ]
-  }
-}
diff --git a/build/gn_migration.gypi b/build/gn_migration.gypi
index 4ff45c1..04e9ad4 100644
--- a/build/gn_migration.gypi
+++ b/build/gn_migration.gypi
@@ -35,7 +35,7 @@
       'type': 'none',
       'dependencies': [
-        '../base/base.gyp:base_i18n_perftests',
-        '../base/base.gyp:base_perftests',
-        '../base/base.gyp:base_unittests',
+#        '../base/base.gyp:base_i18n_perftests',
+#        '../base/base.gyp:base_perftests',
+#        '../base/base.gyp:base_unittests',
         '../base/base.gyp:build_utf8_validator_tables#host',
         '../base/base.gyp:check_example',
@@ -46,13 +46,13 @@
         '../breakpad/breakpad.gyp:minidump_stackwalk',
         '../build/sanitizers/sanitizers.gyp:llvm-symbolizer',
-        '../cc/cc_tests.gyp:cc_perftests',
-        '../cc/cc_tests.gyp:cc_unittests',
-        '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
+#        '../cc/cc_tests.gyp:cc_perftests',
+#        '../cc/cc_tests.gyp:cc_unittests',
+#        '../cc/blink/cc_blink_tests.gyp:cc_blink_unittests',
         '../chrome/chrome.gyp:chrome',
         '../chrome/chrome.gyp:browser_tests',
-        '../chrome/chrome.gyp:chrome_app_unittests',
+#        '../chrome/chrome.gyp:chrome_app_unittests',
         '../chrome/chrome.gyp:chromedriver',
         '../chrome/chrome.gyp:chromedriver_tests',
-        '../chrome/chrome.gyp:chromedriver_unittests',
+#        '../chrome/chrome.gyp:chromedriver_unittests',
         '../chrome/chrome.gyp:interactive_ui_tests',
         '../chrome/chrome.gyp:load_library_perf_tests',
@@ -60,52 +60,52 @@
         '../chrome/chrome.gyp:sync_integration_tests',
         '../chrome/chrome.gyp:sync_performance_tests',
-        '../chrome/chrome.gyp:unit_tests',
+#        '../chrome/chrome.gyp:unit_tests',
         '../chrome/tools/profile_reset/jtl_compiler.gyp:jtl_compiler',
         '../components/components.gyp:network_hints_browser',
         '../components/components.gyp:session_manager_component',
         '../components/components.gyp:webui_generator',
-        '../components/components_tests.gyp:components_perftests',
-        '../components/components_tests.gyp:components_unittests',
-        '../components/nacl.gyp:nacl_loader_unittests',
+#        '../components/components_tests.gyp:components_perftests',
+#        '../components/components_tests.gyp:components_unittests',
+#        '../components/nacl.gyp:nacl_loader_unittests',
         '../content/content.gyp:content_app_browser',
         '../content/content.gyp:content_app_child',
-        '../content/content_shell_and_tests.gyp:content_browsertests',
+#        '../content/content_shell_and_tests.gyp:content_browsertests',
         '../content/content_shell_and_tests.gyp:content_gl_benchmark',
         '../content/content_shell_and_tests.gyp:content_gl_tests',
-        '../content/content_shell_and_tests.gyp:content_perftests',
+#        '../content/content_shell_and_tests.gyp:content_perftests',
         '../content/content_shell_and_tests.gyp:content_shell',
-        '../content/content_shell_and_tests.gyp:content_unittests',
+#        '../content/content_shell_and_tests.gyp:content_unittests',
         '../courgette/courgette.gyp:courgette',
         '../courgette/courgette.gyp:courgette_fuzz',
         '../courgette/courgette.gyp:courgette_minimal_tool',
-        '../courgette/courgette.gyp:courgette_unittests',
-        '../crypto/crypto.gyp:crypto_unittests',
-        '../extensions/extensions_tests.gyp:extensions_browsertests',
-        '../extensions/extensions_tests.gyp:extensions_unittests',
-        '../device/device_tests.gyp:device_unittests',
+#        '../courgette/courgette.gyp:courgette_unittests',
+#        '../crypto/crypto.gyp:crypto_unittests',
+#        '../extensions/extensions_tests.gyp:extensions_browsertests',
+#        '../extensions/extensions_tests.gyp:extensions_unittests',
+#        '../device/device_tests.gyp:device_unittests',
         '../gin/gin.gyp:gin_v8_snapshot_fingerprint',
         '../gin/gin.gyp:gin_shell',
-        '../gin/gin.gyp:gin_unittests',
-        '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#        '../gin/gin.gyp:gin_unittests',
+#        '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
         '../google_apis/gcm/gcm.gyp:mcs_probe',
-        '../google_apis/google_apis.gyp:google_apis_unittests',
-        '../gpu/gpu.gyp:angle_unittests',
+#        '../google_apis/google_apis.gyp:google_apis_unittests',
+#        '../gpu/gpu.gyp:angle_unittests',
         '../gpu/gpu.gyp:gl_tests',
-        '../gpu/gpu.gyp:gpu_perftests',
-        '../gpu/gpu.gyp:gpu_unittests',
-        '../ipc/ipc.gyp:ipc_perftests',
+#        '../gpu/gpu.gyp:gpu_perftests',
+#        '../gpu/gpu.gyp:gpu_unittests',
+#        '../ipc/ipc.gyp:ipc_perftests',
         '../ipc/ipc.gyp:ipc_tests',
-        '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
-        '../jingle/jingle.gyp:jingle_unittests',
+#        '../ipc/mojo/ipc_mojo.gyp:ipc_mojo_unittests',
+#        '../jingle/jingle.gyp:jingle_unittests',
         '../media/media.gyp:ffmpeg_regression_tests',  # TODO(GYP) this should be conditional on media_use_ffmpeg
-        '../media/media.gyp:media_perftests',
-        '../media/media.gyp:media_unittests',
+#        '../media/media.gyp:media_perftests',
+#        '../media/media.gyp:media_unittests',
         '../media/cast/cast.gyp:cast_benchmarks',
-        '../media/cast/cast.gyp:cast_unittests',
+#        '../media/cast/cast.gyp:cast_unittests',
         '../media/cast/cast.gyp:generate_barcode_video',
         '../media/cast/cast.gyp:generate_timecode_audio',
         '../mojo/mojo.gyp:mojo',
         '../mojo/mojo_base.gyp:mojo_application_chromium',
-        '../mojo/mojo_base.gyp:mojo_common_unittests',
+#        '../mojo/mojo_base.gyp:mojo_common_unittests',
         '../net/net.gyp:crash_cache',
         '../net/net.gyp:crl_set_dump',
@@ -114,5 +114,5 @@
         '../net/net.gyp:gdig',
         '../net/net.gyp:get_server_time',
-        '../net/net.gyp:net_unittests',
+#        '../net/net.gyp:net_unittests',
         '../net/net.gyp:net_watcher',  # TODO(GYP): This should be conditional on use_v8_in_net
         '../net/net.gyp:run_testserver',
@@ -121,51 +121,51 @@
         '../ppapi/ppapi_internal.gyp:*',  # TODO(GYP) - list all of the examples explicitly.
         '../ppapi/ppapi_internal.gyp:ppapi_tests',  # TODO(GYP): Split out the examples and tests
-        '../ppapi/ppapi_internal.gyp:ppapi_unittests',
-        '../printing/printing.gyp:printing_unittests',
-        '../skia/skia_tests.gyp:skia_unittests',
+#        '../ppapi/ppapi_internal.gyp:ppapi_unittests',
+#        '../printing/printing.gyp:printing_unittests',
+#        '../skia/skia_tests.gyp:skia_unittests',
         '../skia/skia.gyp:filter_fuzz_stub',
         '../skia/skia.gyp:image_operations_bench',
-        '../sql/sql.gyp:sql_unittests',
+#        '../sql/sql.gyp:sql_unittests',
         '../sync/sync.gyp:run_sync_testserver',
         '../sync/sync.gyp:sync_endtoend_tests',
-        '../sync/sync.gyp:sync_unit_tests',
+#        '../sync/sync.gyp:sync_unit_tests',
         '../sync/tools/sync_tools.gyp:sync_client',
         '../sync/tools/sync_tools.gyp:sync_listen_notifications',
         '../testing/gmock.gyp:gmock_main',
         '../third_party/WebKit/public/all.gyp:blink_tests',
-        '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
+#        '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests',
         '../third_party/codesighs/codesighs.gyp:codesighs',
         '../third_party/codesighs/codesighs.gyp:maptsvdifftool',
-        '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-        '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
-        '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
-        '../third_party/mojo/mojo_edk_tests.gyp:mojo_system_unittests',
-        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_bindings_unittests',
-        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_environment_unittests',
-        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_system_perftests',
-        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_system_unittests',
-        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_utility_unittests',
+#        '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#        '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#        '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#        '../third_party/mojo/mojo_edk_tests.gyp:mojo_system_unittests',
+#        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_bindings_unittests',
+#        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_environment_unittests',
+#        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_system_perftests',
+#        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_system_unittests',
+#        '../third_party/mojo/mojo_edk_tests.gyp:mojo_public_utility_unittests',
         '../third_party/pdfium/samples/samples.gyp:pdfium_test',
         '../third_party/smhasher/smhasher.gyp:pmurhash',
         '../third_party/sqlite/sqlite.gyp:sqlite_shell',
         '../tools/gn/gn.gyp:gn',
-        '../tools/gn/gn.gyp:generate_test_gn_data',
-        '../tools/gn/gn.gyp:gn_unittests',
+#        '../tools/gn/gn.gyp:generate_test_gn_data',
+#        '../tools/gn/gn.gyp:gn_unittests',
         '../tools/imagediff/image_diff.gyp:image_diff',
         '../tools/perf/clear_system_cache/clear_system_cache.gyp:clear_system_cache',
         '../tools/telemetry/telemetry.gyp:bitmaptools#host',
-        '../ui/accessibility/accessibility.gyp:accessibility_unittests',
-        '../ui/app_list/app_list.gyp:app_list_unittests',
-        '../ui/base/ui_base_tests.gyp:ui_base_unittests',
-        '../ui/compositor/compositor.gyp:compositor_unittests',
-        '../ui/display/display.gyp:display_unittests',
-        '../ui/events/events.gyp:events_unittests',
-        '../ui/gfx/gfx_tests.gyp:gfx_unittests',
-        '../ui/keyboard/keyboard.gyp:keyboard_unittests',
-        '../ui/message_center/message_center.gyp:message_center_unittests',
-        '../ui/snapshot/snapshot.gyp:snapshot_unittests',
-        '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
+#        '../ui/accessibility/accessibility.gyp:accessibility_unittests',
+#        '../ui/app_list/app_list.gyp:app_list_unittests',
+#        '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#        '../ui/compositor/compositor.gyp:compositor_unittests',
+#        '../ui/display/display.gyp:display_unittests',
+#        '../ui/events/events.gyp:events_unittests',
+#        '../ui/gfx/gfx_tests.gyp:gfx_unittests',
+#        '../ui/keyboard/keyboard.gyp:keyboard_unittests',
+#        '../ui/message_center/message_center.gyp:message_center_unittests',
+#        '../ui/snapshot/snapshot.gyp:snapshot_unittests',
+#        '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests',
         '../ui/views/examples/examples.gyp:views_examples_with_content_exe',
-        '../url/url.gyp:url_unittests',
+#        '../url/url.gyp:url_unittests',
         '../v8/tools/gyp/v8.gyp:v8_snapshot',
         '../v8/tools/gyp/v8.gyp:postmortem-metadata',
@@ -175,5 +175,5 @@
           'dependencies': [
             '../extensions/shell/app_shell.gyp:app_shell',
-            '../extensions/shell/app_shell.gyp:app_shell_unittests',
+#            '../extensions/shell/app_shell.gyp:app_shell_unittests',
           ],
         }],
@@ -199,5 +199,5 @@
           'dependencies': [
             '../ui/app_list/app_list.gyp:app_list_demo',
-            '../ui/views/views.gyp:views_unittests',
+#            '../ui/views/views.gyp:views_unittests',
           ],
         }],
@@ -205,6 +205,6 @@
           'dependencies': [
             '../ash/ash.gyp:ash_shell',
-            '../ash/ash.gyp:ash_shell_unittests',
-            '../ash/ash.gyp:ash_unittests',
+#            '../ash/ash.gyp:ash_shell_unittests',
+#            '../ash/ash.gyp:ash_unittests',
           ],
         }],
@@ -213,6 +213,6 @@
             '../ui/aura/aura.gyp:aura_bench',
             '../ui/aura/aura.gyp:aura_demo',
-            '../ui/aura/aura.gyp:aura_unittests',
-            '../ui/wm/wm.gyp:wm_unittests',
+#            '../ui/aura/aura.gyp:aura_unittests',
+#            '../ui/wm/wm.gyp:wm_unittests',
           ],
         }],
@@ -238,11 +238,11 @@
             '../tools/telemetry/telemetry.gyp:bitmaptools#host',
       
-            # TODO(GYP): Remove these when the components_unittests work.
-            #"//components/history/core/test:test",
-            #"//components/policy:policy_component_test_support",
-            #"//components/policy:test_support",
-            #"//components/rappor:test_support",
-            #"//components/signin/core/browser:test_support",
-            #"//components/sync_driver:test_support",
+#            # TODO(GYP): Remove these when the components_unittests work.
+#            #"//components/history/core/test:test",
+#            #"//components/policy:policy_component_test_support",
+#            #"//components/policy:test_support",
+#            #"//components/rappor:test_support",
+#            #"//components/signin/core/browser:test_support",
+#            #"//components/sync_driver:test_support",
             #"//components/user_manager",
             #"//components/wallpaper",
@@ -263,7 +263,7 @@
 
             # TODO(GYP): Are these needed?
-            #"//chrome/test:test_support_unit",
+#            #"//chrome/test:test_support_unit",
             #"//third_party/smhasher:murmurhash3",
-            #"//ui/message_center:test_support",
+#            #"//ui/message_center:test_support",
           ],
           'dependencies!': [
@@ -274,43 +274,43 @@
             '../chrome/chrome.gyp:interactive_ui_tests',
             '../chrome/chrome.gyp:sync_integration_tests',
-            '../chrome/chrome.gyp:unit_tests',
-            '../extensions/extensions_tests.gyp:extensions_browsertests',
-            '../extensions/extensions_tests.gyp:extensions_unittests',
-            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
+#            '../chrome/chrome.gyp:unit_tests',
+#            '../extensions/extensions_tests.gyp:extensions_browsertests',
+#            '../extensions/extensions_tests.gyp:extensions_unittests',
+#            '../google_apis/gcm/gcm.gyp:gcm_unit_tests',
             '../ipc/ipc.gyp:ipc_tests',
-            '../jingle/jingle.gyp:jingle_unittests',
-            '../net/net.gyp:net_unittests',
+#            '../jingle/jingle.gyp:jingle_unittests',
+#            '../net/net.gyp:net_unittests',
             #"//ppapi/examples",
             '../third_party/pdfium/samples/samples.gyp:pdfium_test',
             '../tools/gn/gn.gyp:gn',
-            '../tools/gn/gn.gyp:gn_unittests',
+#            '../tools/gn/gn.gyp:gn_unittests',
             '../tools/imagediff/image_diff.gyp:image_diff',
             '../tools/gn/gn.gyp:gn',
-            '../tools/gn/gn.gyp:gn_unittests',
-            '../ui/app_list/app_list.gyp:app_list_unittests',
-            '../url/url.gyp:url_unittests',
+#            '../tools/gn/gn.gyp:gn_unittests',
+#            '../ui/app_list/app_list.gyp:app_list_unittests',
+#            '../url/url.gyp:url_unittests',
           ],
         }],
         ['OS=="linux"', {
           'dependencies': [
-            '../breakpad/breakpad.gyp:breakpad_unittests',
+#            '../breakpad/breakpad.gyp:breakpad_unittests',
             '../breakpad/breakpad.gyp:dump_syms',
-            '../breakpad/breakpad.gyp:generate_test_dump',
+#            '../breakpad/breakpad.gyp:generate_test_dump',
             '../breakpad/breakpad.gyp:minidump-2-core',
-            '../dbus/dbus.gyp:dbus_test_server',
-            '../dbus/dbus.gyp:dbus_unittests',
+#            '../dbus/dbus.gyp:dbus_test_server',
+#            '../dbus/dbus.gyp:dbus_unittests',
             '../media/cast/cast.gyp:tap_proxy',
             '../net/net.gyp:disk_cache_memory_test',
             '../net/net.gyp:flip_in_mem_edsm_server',
-            '../net/net.gyp:flip_in_mem_edsm_server_unittests',
+#            '../net/net.gyp:flip_in_mem_edsm_server_unittests',
             '../net/net.gyp:hpack_example_generator',
             '../net/net.gyp:hpack_fuzz_mutator',
             '../net/net.gyp:hpack_fuzz_wrapper',
-            '../net/net.gyp:net_perftests',
+#            '../net/net.gyp:net_perftests',
             '../net/net.gyp:quic_client',
             '../net/net.gyp:quic_server',
             '../sandbox/sandbox.gyp:chrome_sandbox',
-            '../sandbox/sandbox.gyp:sandbox_linux_unittests',
-            '../sandbox/sandbox.gyp:sandbox_linux_jni_unittests',
+#            '../sandbox/sandbox.gyp:sandbox_linux_unittests',
+#            '../sandbox/sandbox.gyp:sandbox_linux_jni_unittests',
          ],
         }],
@@ -327,10 +327,10 @@
             #"//components/ui/zoom:ui_zoom",
             #"//content",
-            #"//content/test:test_support",
-            #"//device/battery",
-            #"//device/bluetooth",
-            #"//device/nfc",
-            #"//device/usb",
-            #"//device/vibration",
+#            #"//content/test:test_support",
+#            #"//device/battery",
+#            #"//device/bluetooth",
+#            #"//device/nfc",
+#            #"//device/usb",
+#            #"//device/vibration",
             #"//media/blink",
             #"//pdf",
@@ -345,5 +345,5 @@
             #"//third_party/smhasher:murmurhash3",
             #"//third_party/speex",
-            #"//third_party/webrtc/system_wrappers",
+#            #"//third_party/webrtc/system_wrappers",
             #"//ui/native_theme",
             #"//ui/snapshot",
@@ -352,18 +352,18 @@
           'dependencies!': [
             #"//chrome",  # TODO(GYP)
-            #"//chrome/test:browser_tests",  # TODO(GYP)
-            #"//chrome/test:interactive_ui_tests",  # TODO(GYP)
-            #"//chrome/test:sync_integration_tests",  # TODO(GYP)
-            #"//chrome/test:unit_tests",  # TODO(GYP)
-            #"//components:components_unittests",  # TODO(GYP)
-            #"//content/test:content_browsertests",  # TODO(GYP)
-            #"//content/test:content_perftests",  # TODO(GYP)
-            #"//content/test:content_unittests",  # TODO(GYP)
-            #"//extensions:extensions_browsertests",  # TODO(GYP)
-            #"//extensions:extensions_unittests",  # TODO(GYP)
-            #"//net:net_unittests",  # TODO(GYP)
+#            #"//chrome/test:browser_tests",  # TODO(GYP)
+#            #"//chrome/test:interactive_ui_tests",  # TODO(GYP)
+#            #"//chrome/test:sync_integration_tests",  # TODO(GYP)
+#            #"//chrome/test:unit_tests",  # TODO(GYP)
+#            #"//components:components_unittests",  # TODO(GYP)
+#            #"//content/test:content_browsertests",  # TODO(GYP)
+#            #"//content/test:content_perftests",  # TODO(GYP)
+#            #"//content/test:content_unittests",  # TODO(GYP)
+#            #"//extensions:extensions_browsertests",  # TODO(GYP)
+#            #"//extensions:extensions_unittests",  # TODO(GYP)
+#            #"//net:net_unittests",  # TODO(GYP)
             #"//third_party/usrsctp",  # TODO(GYP)
-            #"//ui/app_list:app_list_unittests",  # TODO(GYP)
-            #"//ui/gfx:gfx_unittests",  # TODO(GYP)
+#            #"//ui/app_list:app_list_unittests",  # TODO(GYP)
+#            #"//ui/gfx:gfx_unittests",  # TODO(GYP)
           ],
         }],
@@ -374,6 +374,6 @@
           ],
           'dependencies!': [
-            "//crypto:crypto_unittests",  # TODO(GYP)
-            "//net:net_unittests",  # TODO(GYP)
+#            "//crypto:crypto_unittests",  # TODO(GYP)
+#            "//net:net_unittests",  # TODO(GYP)
           ],
         }, {
@@ -396,8 +396,8 @@
           'dependencies': [
             '../chrome/chrome.gyp:performance_browser_tests',
-            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
+#            '../cloud_print/cloud_print.gyp:cloud_print_unittests',
             '../components/components.gyp:policy_templates',
-            '../components/components_tests.gyp:components_browsertests',
-            '../components/components_tests.gyp:components_perftests',
+#            '../components/components_tests.gyp:components_browsertests',
+#            '../components/components_tests.gyp:components_perftests',
             '../content/content.gyp:content_app_browser',
             '../content/content.gyp:content_app_child',
@@ -406,6 +406,6 @@
             '../courgette/courgette.gyp:courgette',
             '../courgette/courgette.gyp:courgette_fuzz',
-            '../dbus/dbus.gyp:dbus_test_server',
-            '../device/device_tests.gyp:device_unittests',
+#            '../dbus/dbus.gyp:dbus_test_server',
+#            '../device/device_tests.gyp:device_unittests',
             '../gin/gin.gyp:gin_v8_snapshot_fingerprint',
             '../gin/gin.gyp:gin_shell',
@@ -423,8 +423,8 @@
             '../net/net.gyp:hpack_fuzz_mutator',
             '../net/net.gyp:hpack_fuzz_wrapper',
-            '../net/net.gyp:net_perftests',
-            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
+#            '../net/net.gyp:net_perftests',
+#            '../ppapi/ppapi_internal.gyp:ppapi_unittests',
             '../ppapi/tools/ppapi_tools.gyp:pepper_hash_for_uma',
-            '../sandbox/sandbox.gyp:sandbox_linux_jni_unittests',
+#            '../sandbox/sandbox.gyp:sandbox_linux_jni_unittests',
             '../skia/skia.gyp:filter_fuzz_stub',
             '../skia/skia.gyp:image_operations_bench',
@@ -434,14 +434,14 @@
             '../sync/tools/sync_tools.gyp:sync_listen_notifications',
             '../testing/gmock.gyp:gmock_main',
-            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
-            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
-            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
+#            '../third_party/leveldatabase/leveldatabase.gyp:env_chromium_unittests',
+#            '../third_party/libphonenumber/libphonenumber.gyp:libphonenumber_unittests',
+#            '../third_party/libaddressinput/libaddressinput.gyp:libaddressinput_unittests',
             '../third_party/webrtc/tools/tools.gyp:frame_analyzer',
             '../third_party/webrtc/tools/tools.gyp:rgba_to_i420_converter',
-            '../tools/gn/gn.gyp:generate_test_gn_data',
+#            '../tools/gn/gn.gyp:generate_test_gn_data',
             '../tools/perf/clear_system_cache/clear_system_cache.gyp:clear_system_cache',
             #'../tools/telemetry/telemetry.gyp:bitmaptools', TODO(GYP) should this be #host ?
-            '../ui/compositor/compositor.gyp:compositor_unittests',
-            '../ui/message_center/message_center.gyp:message_center_unittests',
+#            '../ui/compositor/compositor.gyp:compositor_unittests',
+#            '../ui/message_center/message_center.gyp:message_center_unittests',
             '../ui/views/examples/examples.gyp:views_examples_with_content_exe',
             '../v8/tools/gyp/v8.gyp:v8_snapshot',
@@ -454,5 +454,5 @@
             ['disable_nacl==0 and disable_nacl_untrusted==0', {
               'dependencies': [
-                '../components/nacl.gyp:nacl_loader_unittests',
+#                '../components/nacl.gyp:nacl_loader_unittests',
                 '../mojo/mojo_nacl.gyp:monacl_shell',  # TODO(GYP) This will be deleted; don't port
                 '../remoting/remoting.gyp:remoting_key_tester',
@@ -479,7 +479,7 @@
                 '../remoting/remoting.gyp:remoting_me2me_native_messaging_host',
                 '../remoting/remoting.gyp:remoting_native_messaging_manifests',
-                '../remoting/remoting.gyp:remoting_perftests',
+#                '../remoting/remoting.gyp:remoting_perftests',
                 '../remoting/remoting.gyp:remoting_start_host',
-                '../remoting/remoting.gyp:remoting_unittests',
+#                '../remoting/remoting.gyp:remoting_unittests',
               ],
             }],
@@ -491,34 +491,34 @@
             ['test_isolation_mode!="noop"', {
               'dependencies': [
-                '../base/base.gyp:base_unittests_run',
-                '../cc/cc_tests.gyp:cc_unittests_run',
+#                '../base/base.gyp:base_unittests_run',
+#                '../cc/cc_tests.gyp:cc_unittests_run',
                 '../chrome/chrome.gyp:browser_tests_run',
                 '../chrome/chrome.gyp:chrome_run',
                 '../chrome/chrome.gyp:interactive_ui_tests_run',
                 '../chrome/chrome.gyp:sync_integration_tests_run',
-                '../chrome/chrome.gyp:unit_tests_run',
-                '../components/components_tests.gyp:components_browsertests_run',
-                '../components/components_tests.gyp:components_unittests_run',
-                '../content/content_shell_and_tests.gyp:content_browsertests_run',
-                '../content/content_shell_and_tests.gyp:content_unittests_run',
-                '../crypto/crypto.gyp:crypto_unittests_run',
-                '../courgette/courgette.gyp:courgette_unittests_run',
-                '../gpu/gpu.gyp:gpu_unittests_run',
-                '../media/cast/cast.gyp:cast_unittests_run',
-                '../media/media.gyp:media_unittests_run',
-                '../net/net.gyp:net_unittests_run',
-                '../sandbox/sandbox.gyp:sandbox_linux_unittests_run',
-                '../sql/sql.gyp:sql_unittests_run',
-                '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests_run',
-                '../ui/accessibility/accessibility.gyp:accessibility_unittests_run',
-                '../ui/app_list/app_list.gyp:app_list_unittests_run',
-                '../ui/events/events.gyp:events_unittests_run',
-                '../ui/message_center/message_center.gyp:message_center_unittests_run',
-                '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests_run',
+#                '../chrome/chrome.gyp:unit_tests_run',
+#                '../components/components_tests.gyp:components_browsertests_run',
+#                '../components/components_tests.gyp:components_unittests_run',
+#                '../content/content_shell_and_tests.gyp:content_browsertests_run',
+#                '../content/content_shell_and_tests.gyp:content_unittests_run',
+#                '../crypto/crypto.gyp:crypto_unittests_run',
+#                '../courgette/courgette.gyp:courgette_unittests_run',
+#                '../gpu/gpu.gyp:gpu_unittests_run',
+#                '../media/cast/cast.gyp:cast_unittests_run',
+#                '../media/media.gyp:media_unittests_run',
+#                '../net/net.gyp:net_unittests_run',
+#                '../sandbox/sandbox.gyp:sandbox_linux_unittests_run',
+#                '../sql/sql.gyp:sql_unittests_run',
+#                '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_unittests_run',
+#                '../ui/accessibility/accessibility.gyp:accessibility_unittests_run',
+#                '../ui/app_list/app_list.gyp:app_list_unittests_run',
+#                '../ui/events/events.gyp:events_unittests_run',
+#                '../ui/message_center/message_center.gyp:message_center_unittests_run',
+#                '../ui/touch_selection/ui_touch_selection.gyp:ui_touch_selection_unittests_run',
               ],
               'conditions': [
                 ['use_ash==1', {
                   'dependencies': [
-                    '../ash/ash.gyp:ash_unittests_run',
+#                    '../ash/ash.gyp:ash_unittests_run',
                   ],
                 }],
diff --git a/build/java_apk.gypi b/build/java_apk.gypi
index c5e7ae3..55bcb7f 100644
--- a/build/java_apk.gypi
+++ b/build/java_apk.gypi
@@ -83,5 +83,5 @@
     'additional_res_packages': [],
     'additional_bundled_libs%': [],
-    'is_test_apk%': 0,
+#    'is_test_apk%': 0,
     'extensions_to_not_compress%': '',
     'resource_input_paths': [],
@@ -146,5 +146,5 @@
         'use_relocation_packer%' : 0,
         'enable_chromium_linker_tests%': 0,
-        'is_test_apk%': 0,
+#        'is_test_apk%': 0,
       },
       'conditions': [
@@ -159,5 +159,5 @@
           'apk_package_native_libs_dir': '<(intermediate_dir)/libs',
         }],
-        ['is_test_apk == 0 and emma_coverage != 0', {
+#        ['is_test_apk == 0 and emma_coverage != 0', {
           'emma_instrument%': 1,
         },{
@@ -553,5 +553,5 @@
       ],
     }],
-    ['is_test_apk == 1', {
+#    ['is_test_apk == 1', {
       'dependencies': [
         '<(DEPTH)/build/android/pylib/device/commands/commands.gyp:chromium_commands',
@@ -573,5 +573,5 @@
         'process_resources_options': [],
         'conditions': [
-          ['is_test_apk == 1', {
+#          ['is_test_apk == 1', {
             'dependencies_res_zip_paths=': [],
             'additional_res_packages=': [],
@@ -717,10 +717,10 @@
         ],
         'target_conditions': [
-          ['is_test_apk == 1', {
+#          ['is_test_apk == 1', {
             'additional_obfuscate_options': [
               '--testapp',
             ],
           }],
-          ['is_test_apk == 1 and tested_apk_obfuscated_jar_path != "/"', {
+#          ['is_test_apk == 1 and tested_apk_obfuscated_jar_path != "/"', {
             'additional_obfuscate_options': [
               '--tested-apk-obfuscated-jar-path', '>(tested_apk_obfuscated_jar_path)',
@@ -742,5 +742,5 @@
       },
       'conditions': [
-        ['is_test_apk == 1', {
+#        ['is_test_apk == 1', {
           'outputs': [
             '<(test_jar_path)',
@@ -809,5 +809,5 @@
           },
         }],
-        ['is_test_apk == 1 and tested_apk_dex_path != "/"', {
+#        ['is_test_apk == 1 and tested_apk_dex_path != "/"', {
           'variables': {
             'dex_additional_options': [
@@ -843,5 +843,5 @@
       },
       'conditions': [
-        ['is_test_apk == 1', {
+#        ['is_test_apk == 1', {
           'variables': {
             'dependencies_res_zip_paths=': [],
diff --git a/build/json_schema_api.gni b/build/json_schema_api.gni
index 68a9fdd..a0a2d4b 100644
--- a/build/json_schema_api.gni
+++ b/build/json_schema_api.gni
@@ -76,5 +76,7 @@ template("json_schema_api") {
   }
 
-  sources = invoker.sources
+#  if (bundle_registration) {
+    sources = invoker.sources
+#  }
   root_namespace = invoker.root_namespace
 
diff --git a/build/linux/unbundle/protobuf.gyp b/build/linux/unbundle/protobuf.gyp
index 7bcd992..63a3e8d 100644
--- a/build/linux/unbundle/protobuf.gyp
+++ b/build/linux/unbundle/protobuf.gyp
@@ -54,5 +54,5 @@
           'google/protobuf/compiler/cpp/cpp_service.h',
           'google/protobuf/compiler/cpp/cpp_string_field.h',
-          'google/protobuf/compiler/cpp/cpp_unittest.h',
+#          'google/protobuf/compiler/cpp/cpp_unittest.h',
           'google/protobuf/compiler/importer.h',
           'google/protobuf/compiler/java/java_doc_comment.h',
diff --git a/build/module_args/v8.gni b/build/module_args/v8.gni
index df6a4a3..38a84b8b 100644
--- a/build/module_args/v8.gni
+++ b/build/module_args/v8.gni
@@ -4,5 +4,5 @@
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
diff --git a/build/secondary/third_party/android_tools/BUILD.gn b/build/secondary/third_party/android_tools/BUILD.gn
index 92a088a..5e264df 100644
--- a/build/secondary/third_party/android_tools/BUILD.gn
+++ b/build/secondary/third_party/android_tools/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 config("cpu_features_include") {
diff --git a/build/secondary/third_party/cacheinvalidation/BUILD.gn b/build/secondary/third_party/cacheinvalidation/BUILD.gn
index 17e4d1c..338c8a1 100644
--- a/build/secondary/third_party/cacheinvalidation/BUILD.gn
+++ b/build/secondary/third_party/cacheinvalidation/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 config("cacheinvalidation_config") {
@@ -91,31 +91,8 @@ static_library("cacheinvalidation") {
 }
 
-test("cacheinvalidation_unittests") {
-  sources = [
-    "src/google/cacheinvalidation/impl/invalidation-client-impl_test.cc",
-    "src/google/cacheinvalidation/impl/protocol-handler_test.cc",
-    "src/google/cacheinvalidation/impl/recurring-task_test.cc",
-    "src/google/cacheinvalidation/impl/throttle_test.cc",
-    "src/google/cacheinvalidation/test/deterministic-scheduler.cc",
-    "src/google/cacheinvalidation/test/deterministic-scheduler.h",
-    "src/google/cacheinvalidation/test/test-logger.cc",
-    "src/google/cacheinvalidation/test/test-logger.h",
-    "src/google/cacheinvalidation/test/test-utils.cc",
-    "src/google/cacheinvalidation/test/test-utils.h",
-  ]
-
-  deps = [
-    ":cacheinvalidation",
-    "src/google/cacheinvalidation:cacheinvalidation_proto_cpp",
-    "//base",
-    "//base/test:run_all_unittests",
-    "//testing/gmock",
-    "//testing/gtest",
-  ]
-}
 
 # TODO(GYP) Test isolation stuff.
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 
   # GYP: //third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_proto_java
diff --git a/build/secondary/third_party/cacheinvalidation/src/google/cacheinvalidation/BUILD.gn b/build/secondary/third_party/cacheinvalidation/src/google/cacheinvalidation/BUILD.gn
index 3bbb844..c58b1e6 100644
--- a/build/secondary/third_party/cacheinvalidation/src/google/cacheinvalidation/BUILD.gn
+++ b/build/secondary/third_party/cacheinvalidation/src/google/cacheinvalidation/BUILD.gn
@@ -13,5 +13,5 @@ proto_library("cacheinvalidation_proto_cpp") {
     "client_gateway.proto",
     "client_protocol.proto",
-    "client_test_internal.proto",
+#    "client_test_internal.proto",
     "types.proto",
   ]
diff --git a/build/secondary/third_party/leveldatabase/BUILD.gn b/build/secondary/third_party/leveldatabase/BUILD.gn
index 067af30..a28e878 100644
--- a/build/secondary/third_party/leveldatabase/BUILD.gn
+++ b/build/secondary/third_party/leveldatabase/BUILD.gn
@@ -6,5 +6,5 @@
 # TODO(brettw) It's not clear why this needs to be parameterized.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 use_snappy = true
@@ -128,211 +128,2 @@ static_library("leveldatabase") {
 }
 
-if (!is_android) {
-  test("env_chromium_unittests") {
-    sources = [
-      "env_chromium_unittest.cc",
-    ]
-    deps = [
-      ":leveldatabase",
-      "//base/test:test_support",
-      "//testing/gtest",
-    ]
-  }
-
-  static_library("leveldb_testutil") {
-    sources = [
-      "src/util/histogram.cc",
-      "src/util/histogram.h",
-      "src/util/testharness.cc",
-      "src/util/testharness.h",
-      "src/util/testutil.cc",
-      "src/util/testutil.h",
-    ]
-
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-
-    public_deps = [
-      ":leveldatabase",
-    ]
-    deps = [
-      "//base",
-    ]
-  }
-
-  test("leveldb_arena_test") {
-    sources = [
-      "src/util/arena_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_bloom_test") {
-    sources = [
-      "src/util/bloom_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_cache_test") {
-    sources = [
-      "src/util/cache_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_corruption_test") {
-    sources = [
-      "src/db/corruption_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_crc32c_test") {
-    sources = [
-      "src/util/crc32c_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_db_bench") {
-    sources = [
-      "src/db/db_bench.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_db_test") {
-    sources = [
-      "src/db/db_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_dbformat_test") {
-    sources = [
-      "src/db/dbformat_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_env_test") {
-    sources = [
-      "src/util/env_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_filename_test") {
-    sources = [
-      "src/db/filename_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_filter_block_test") {
-    sources = [
-      "src/table/filter_block_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_log_test") {
-    sources = [
-      "src/db/log_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_skiplist_test") {
-    sources = [
-      "src/db/skiplist_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_table_test") {
-    sources = [
-      "src/table/table_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_version_edit_test") {
-    sources = [
-      "src/db/version_edit_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-
-  test("leveldb_write_batch_test") {
-    sources = [
-      "src/db/write_batch_test.cc",
-    ]
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-    deps = [
-      ":leveldb_testutil",
-    ]
-  }
-}
diff --git a/build/secondary/third_party/libsrtp/BUILD.gn b/build/secondary/third_party/libsrtp/BUILD.gn
index 8b9647c..422edd6 100644
--- a/build/secondary/third_party/libsrtp/BUILD.gn
+++ b/build/secondary/third_party/libsrtp/BUILD.gn
@@ -326,12 +326,12 @@ if (use_system_libsrtp) {
         ":replay_driver",
         ":rtpw",
-        ":srtp_test_cipher_driver",
-        ":srtp_test_datatypes_driver",
-        ":srtp_test_stat_driver",
-        ":srtp_test_sha1_driver",
-        ":srtp_test_kernel_driver",
-        ":srtp_test_aes_calc",
-        ":srtp_test_rand_gen",
-        ":srtp_test_env",
+#        ":srtp_test_cipher_driver",
+#        ":srtp_test_datatypes_driver",
+#        ":srtp_test_stat_driver",
+#        ":srtp_test_sha1_driver",
+#        ":srtp_test_kernel_driver",
+#        ":srtp_test_aes_calc",
+#        ":srtp_test_rand_gen",
+#        ":srtp_test_env",
       ]
     }
diff --git a/build/toolchain/linux/BUILD.gn b/build/toolchain/linux/BUILD.gn
index 7bcd9d0..3d670b8 100644
--- a/build/toolchain/linux/BUILD.gn
+++ b/build/toolchain/linux/BUILD.gn
@@ -62,13 +62,15 @@ gcc_toolchain("x86") {
 
 gcc_toolchain("clang_x64") {
-  if (use_clang_type_profiler) {
-    prefix = rebase_path("//third_party/llvm-allocated-type/Linux_x64/bin",
-                         root_build_dir)
-  } else {
-    prefix = rebase_path("//third_party/llvm-build/Release+Asserts/bin",
-                         root_build_dir)
-  }
-  cc = "${compiler_prefix}$prefix/clang"
-  cxx = "${compiler_prefix}$prefix/clang++"
+#  if (use_clang_type_profiler) {
+#    prefix = rebase_path("//third_party/llvm-allocated-type/Linux_x64/bin",
+#                         root_build_dir)
+#  } else {
+#    prefix = rebase_path("//third_party/llvm-build/Release+Asserts/bin",
+#                         root_build_dir)
+#  }
+#  cc = "${compiler_prefix}$prefix/clang"
+#  cxx = "${compiler_prefix}$prefix/clang++"
+  cc = "${compiler_prefix}clang"
+  cxx = "${compiler_prefix}clang++"
 
   ar = "ar"
diff --git a/cc/base/invalidation_region.cc b/cc/base/invalidation_region.cc
index 5fbca8d..738fa9e 100644
--- a/cc/base/invalidation_region.cc
+++ b/cc/base/invalidation_region.cc
@@ -5,5 +5,5 @@
 #include "cc/base/invalidation_region.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace {
diff --git a/cc/blink/BUILD.gn b/cc/blink/BUILD.gn
index 1769efb..a9cf60d 100644
--- a/cc/blink/BUILD.gn
+++ b/cc/blink/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 # GYP version: //cc/blink/cc_blink.gyp:cc_blink
@@ -71,25 +71,2 @@ component("blink") {
 }
 
-# GYP version: //cc/blink/cc_blink_tests.gyp:cc_blink_unittests
-# TODO(GYP): make linking work on the mac.
-if (!is_mac) {
-  test("cc_blink_unittests") {
-    sources = [
-      "web_animation_unittest.cc",
-      "web_float_animation_curve_unittest.cc",
-      "web_layer_impl_fixed_bounds_unittest.cc",
-    ]
-
-    deps = [
-      ":blink",
-      "//base/test:run_all_unittests",
-      "//base/third_party/dynamic_annotations",
-      "//skia",
-      "//testing/gtest",
-      "//ui/gfx/geometry",
-      "//ui/gfx:test_support",
-      "//cc",
-      "//cc:test_support",
-    ]
-  }
-}
diff --git a/cc/BUILD.gn b/cc/BUILD.gn
index 83e012a..47cde8e 100644
--- a/cc/BUILD.gn
+++ b/cc/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("cc") {
@@ -566,365 +566,2 @@ component("cc") {
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "test/animation_test_common.cc",
-    "test/animation_test_common.h",
-    "test/begin_frame_args_test.cc",
-    "test/begin_frame_args_test.h",
-    "test/failure_output_surface.cc",
-    "test/failure_output_surface.h",
-    "test/fake_content_layer.cc",
-    "test/fake_content_layer.h",
-    "test/fake_content_layer_client.cc",
-    "test/fake_content_layer_client.h",
-    "test/fake_content_layer_impl.cc",
-    "test/fake_content_layer_impl.h",
-    "test/fake_delegated_renderer_layer.cc",
-    "test/fake_delegated_renderer_layer.h",
-    "test/fake_delegated_renderer_layer_impl.cc",
-    "test/fake_delegated_renderer_layer_impl.h",
-    "test/fake_external_begin_frame_source.cc",
-    "test/fake_external_begin_frame_source.h",
-    "test/fake_impl_proxy.h",
-    "test/fake_layer_tree_host.cc",
-    "test/fake_layer_tree_host.h",
-    "test/fake_layer_tree_host_client.cc",
-    "test/fake_layer_tree_host_client.h",
-    "test/fake_layer_tree_host_impl.cc",
-    "test/fake_layer_tree_host_impl.h",
-    "test/fake_layer_tree_host_impl_client.cc",
-    "test/fake_layer_tree_host_impl_client.h",
-    "test/fake_output_surface.cc",
-    "test/fake_output_surface.h",
-    "test/fake_output_surface_client.cc",
-    "test/fake_output_surface_client.h",
-    "test/fake_painted_scrollbar_layer.cc",
-    "test/fake_painted_scrollbar_layer.h",
-    "test/fake_picture_layer.cc",
-    "test/fake_picture_layer.h",
-    "test/fake_picture_layer_impl.cc",
-    "test/fake_picture_layer_impl.h",
-    "test/fake_picture_layer_tiling_client.cc",
-    "test/fake_picture_layer_tiling_client.h",
-    "test/fake_picture_pile.cc",
-    "test/fake_picture_pile.h",
-    "test/fake_picture_pile_impl.cc",
-    "test/fake_picture_pile_impl.h",
-    "test/fake_proxy.cc",
-    "test/fake_proxy.h",
-    "test/fake_renderer_client.cc",
-    "test/fake_renderer_client.h",
-    "test/fake_rendering_stats_instrumentation.h",
-    "test/fake_scoped_ui_resource.cc",
-    "test/fake_scoped_ui_resource.h",
-    "test/fake_scrollbar.cc",
-    "test/fake_scrollbar.h",
-    "test/fake_tile_manager.cc",
-    "test/fake_tile_manager.h",
-    "test/fake_tile_manager_client.cc",
-    "test/fake_tile_manager_client.h",
-    "test/fake_ui_resource_layer_tree_host_impl.cc",
-    "test/fake_ui_resource_layer_tree_host_impl.h",
-    "test/fake_video_frame_provider.cc",
-    "test/fake_video_frame_provider.h",
-    "test/geometry_test_utils.cc",
-    "test/geometry_test_utils.h",
-    "test/impl_side_painting_settings.h",
-    "test/layer_test_common.cc",
-    "test/layer_test_common.h",
-    "test/layer_tree_host_common_test.cc",
-    "test/layer_tree_host_common_test.h",
-    "test/layer_tree_json_parser.cc",
-    "test/layer_tree_json_parser.h",
-    "test/layer_tree_pixel_resource_test.cc",
-    "test/layer_tree_pixel_resource_test.h",
-    "test/layer_tree_pixel_test.cc",
-    "test/layer_tree_pixel_test.h",
-    "test/layer_tree_test.cc",
-    "test/layer_tree_test.h",
-    "test/mock_occlusion_tracker.h",
-    "test/ordered_simple_task_runner.cc",
-    "test/ordered_simple_task_runner.h",
-    "test/ordered_texture_map.cc",
-    "test/ordered_texture_map.h",
-    "test/paths.cc",
-    "test/paths.h",
-    "test/pixel_comparator.cc",
-    "test/pixel_comparator.h",
-    "test/pixel_test.cc",
-    "test/pixel_test.h",
-    "test/pixel_test_output_surface.cc",
-    "test/pixel_test_output_surface.h",
-    "test/pixel_test_software_output_device.cc",
-    "test/pixel_test_software_output_device.h",
-    "test/pixel_test_utils.cc",
-    "test/pixel_test_utils.h",
-    "test/render_pass_test_common.cc",
-    "test/render_pass_test_common.h",
-    "test/render_pass_test_utils.cc",
-    "test/render_pass_test_utils.h",
-    "test/scheduler_test_common.cc",
-    "test/scheduler_test_common.h",
-    "test/skia_common.cc",
-    "test/skia_common.h",
-    "test/solid_color_content_layer_client.cc",
-    "test/solid_color_content_layer_client.h",
-    "test/test_context_provider.cc",
-    "test/test_context_provider.h",
-    "test/test_context_support.cc",
-    "test/test_context_support.h",
-    "test/test_gles2_interface.cc",
-    "test/test_gles2_interface.h",
-    "test/test_gpu_memory_buffer_manager.cc",
-    "test/test_gpu_memory_buffer_manager.h",
-    "test/test_image_factory.cc",
-    "test/test_image_factory.h",
-    "test/test_in_process_context_provider.cc",
-    "test/test_in_process_context_provider.h",
-    "test/test_now_source.cc",
-    "test/test_now_source.h",
-    "test/test_occlusion_tracker.h",
-    "test/test_shared_bitmap_manager.cc",
-    "test/test_shared_bitmap_manager.h",
-    "test/test_texture.cc",
-    "test/test_texture.h",
-    "test/test_tile_priorities.cc",
-    "test/test_tile_priorities.h",
-    "test/test_web_graphics_context_3d.cc",
-    "test/test_web_graphics_context_3d.h",
-    "test/tiled_layer_test_common.cc",
-    "test/tiled_layer_test_common.h",
-  ]
-
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  include_dirs = [
-    ".",
-    "test",
-  ]
-
-  public_deps = [
-    ":cc",
-    "//gpu:test_support",
-  ]
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "//base/third_party/dynamic_annotations",
-    "//gpu/command_buffer/client:gles2_c_lib",
-    "//gpu/command_buffer/client:gles2_implementation",
-    "//gpu/command_buffer/client:gpu_memory_buffer_manager",
-    "//gpu/command_buffer/client:gl_in_process_context",
-    "//gpu/command_buffer/common:gles2_utils",
-    "//gpu/skia_bindings",
-    "//media",
-    "//skia",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gfx:test_support",
-    "//ui/gl",
-  ]
-
-  if (!is_android) {  # TODO(GYP) Enable on Android when osmesa links.
-    deps += [ "//third_party/mesa:osmesa" ]
-  }
-}
-
-test("cc_unittests") {
-  sources = [
-    "animation/animation_unittest.cc",
-    "animation/keyframed_animation_curve_unittest.cc",
-    "animation/layer_animation_controller_unittest.cc",
-    "animation/scroll_offset_animation_curve_unittest.cc",
-    "animation/scrollbar_animation_controller_linear_fade_unittest.cc",
-    "animation/scrollbar_animation_controller_thinning_unittest.cc",
-    "animation/transform_operations_unittest.cc",
-    "base/float_quad_unittest.cc",
-    "base/math_util_unittest.cc",
-    "base/region_unittest.cc",
-    "base/rolling_time_delta_history_unittest.cc",
-    "base/scoped_ptr_vector_unittest.cc",
-    "base/simple_enclosed_region_unittest.cc",
-    "base/tiling_data_unittest.cc",
-    "base/util_unittest.cc",
-    "debug/frame_timing_tracker_unittest.cc",
-    "debug/micro_benchmark_controller_unittest.cc",
-    "input/top_controls_manager_unittest.cc",
-    "layers/contents_scaling_layer_unittest.cc",
-    "layers/delegated_frame_provider_unittest.cc",
-    "layers/delegated_frame_resource_collection_unittest.cc",
-    "layers/delegated_renderer_layer_impl_unittest.cc",
-    "layers/delegated_renderer_layer_unittest.cc",
-    "layers/heads_up_display_layer_impl_unittest.cc",
-    "layers/heads_up_display_unittest.cc",
-    "layers/io_surface_layer_impl_unittest.cc",
-    "layers/layer_impl_unittest.cc",
-    "layers/layer_iterator_unittest.cc",
-    "layers/layer_position_constraint_unittest.cc",
-    "layers/layer_unittest.cc",
-    "layers/layer_utils_unittest.cc",
-    "layers/nine_patch_layer_impl_unittest.cc",
-    "layers/nine_patch_layer_unittest.cc",
-    "layers/painted_scrollbar_layer_impl_unittest.cc",
-    "layers/picture_image_layer_impl_unittest.cc",
-    "layers/picture_image_layer_unittest.cc",
-    "layers/picture_layer_impl_unittest.cc",
-    "layers/picture_layer_unittest.cc",
-    "layers/render_surface_impl_unittest.cc",
-    "layers/render_surface_unittest.cc",
-    "layers/scrollbar_layer_unittest.cc",
-    "layers/solid_color_layer_impl_unittest.cc",
-    "layers/solid_color_scrollbar_layer_impl_unittest.cc",
-    "layers/surface_layer_impl_unittest.cc",
-    "layers/surface_layer_unittest.cc",
-    "layers/texture_layer_impl_unittest.cc",
-    "layers/texture_layer_unittest.cc",
-    "layers/tiled_layer_impl_unittest.cc",
-    "layers/tiled_layer_unittest.cc",
-    "layers/ui_resource_layer_impl_unittest.cc",
-    "layers/ui_resource_layer_unittest.cc",
-    "layers/video_layer_impl_unittest.cc",
-    "output/begin_frame_args_unittest.cc",
-    "output/delegating_renderer_unittest.cc",
-    "output/filter_operations_unittest.cc",
-    "output/gl_renderer_unittest.cc",
-    "output/output_surface_unittest.cc",
-    "output/overlay_unittest.cc",
-    "output/renderer_pixeltest.cc",
-    "output/renderer_unittest.cc",
-    "output/shader_unittest.cc",
-    "output/software_renderer_unittest.cc",
-    "quads/draw_quad_unittest.cc",
-    "quads/list_container_unittest.cc",
-    "quads/render_pass_unittest.cc",
-    "resources/display_item_list_unittest.cc",
-    "resources/layer_quad_unittest.cc",
-    "resources/picture_layer_tiling_set_unittest.cc",
-    "resources/picture_layer_tiling_unittest.cc",
-    "resources/picture_pile_impl_unittest.cc",
-    "resources/picture_pile_unittest.cc",
-    "resources/picture_unittest.cc",
-    "resources/pixel_ref_map_unittest.cc",
-    "resources/platform_color_unittest.cc",
-    "resources/prioritized_resource_unittest.cc",
-    "resources/resource_provider_unittest.cc",
-    "resources/resource_update_controller_unittest.cc",
-    "resources/scoped_gpu_raster_unittest.cc",
-    "resources/scoped_resource_unittest.cc",
-    "resources/task_graph_runner_unittest.cc",
-    "resources/texture_mailbox_deleter_unittest.cc",
-    "resources/texture_uploader_unittest.cc",
-    "resources/tile_manager_unittest.cc",
-    "resources/tile_priority_unittest.cc",
-    "resources/tile_task_worker_pool_unittest.cc",
-    "resources/video_resource_updater_unittest.cc",
-    "scheduler/begin_frame_source_unittest.cc",
-    "scheduler/delay_based_time_source_unittest.cc",
-    "scheduler/scheduler_state_machine_unittest.cc",
-    "scheduler/scheduler_unittest.cc",
-    "test/layer_tree_json_parser_unittest.cc",
-    "test/test_web_graphics_context_3d_unittest.cc",
-    "trees/blocking_task_runner_unittest.cc",
-    "trees/damage_tracker_unittest.cc",
-    "trees/layer_sorter_unittest.cc",
-    "trees/layer_tree_host_common_unittest.cc",
-    "trees/layer_tree_host_impl_unittest.cc",
-    "trees/layer_tree_host_pixeltest_blending.cc",
-    "trees/layer_tree_host_pixeltest_filters.cc",
-    "trees/layer_tree_host_pixeltest_masks.cc",
-    "trees/layer_tree_host_pixeltest_readback.cc",
-    "trees/layer_tree_host_pixeltest_synchronous.cc",
-    "trees/layer_tree_host_unittest.cc",
-    "trees/layer_tree_host_unittest_animation.cc",
-    "trees/layer_tree_host_unittest_context.cc",
-    "trees/layer_tree_host_unittest_copyrequest.cc",
-    "trees/layer_tree_host_unittest_damage.cc",
-    "trees/layer_tree_host_unittest_delegated.cc",
-    "trees/layer_tree_host_unittest_no_message_loop.cc",
-    "trees/layer_tree_host_unittest_occlusion.cc",
-    "trees/layer_tree_host_unittest_picture.cc",
-    "trees/layer_tree_host_unittest_proxy.cc",
-    "trees/layer_tree_host_unittest_scroll.cc",
-    "trees/layer_tree_host_unittest_video.cc",
-    "trees/layer_tree_impl_unittest.cc",
-    "trees/occlusion_tracker_unittest.cc",
-    "trees/occlusion_unittest.cc",
-    "trees/property_tree_unittest.cc",
-    "trees/tree_synchronizer_unittest.cc",
-
-    # Surfaces test files.
-    "surfaces/surface_aggregator_test_helpers.cc",
-    "surfaces/surface_aggregator_test_helpers.h",
-    "surfaces/surface_aggregator_unittest.cc",
-    "surfaces/surface_unittest.cc",
-    "surfaces/surfaces_pixeltest.cc",
-
-    # Setup.
-    "test/cc_test_suite.cc",
-    "test/run_all_unittests.cc",
-  ]
-
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":cc",
-    ":test_support",
-    "//base/test:test_support",
-    "//cc/surfaces",
-    "//cc/surfaces:surface_id",
-    "//gpu",
-    "//gpu:test_support",
-    "//gpu/command_buffer/client:gles2_interface",
-    "//gpu/command_buffer/common:gles2_utils",
-    "//media",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//ui/events:events_base",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gfx:test_support",
-    "//ui/gl",
-  ]
-}
-
-test("cc_perftests") {
-  sources = [
-    "layers/layer_perftest.cc",
-    "layers/picture_layer_impl_perftest.cc",
-    "resources/picture_layer_tiling_perftest.cc",
-    "resources/picture_pile_impl_perftest.cc",
-    "resources/task_graph_runner_perftest.cc",
-    "resources/tile_manager_perftest.cc",
-    "resources/tile_task_worker_pool_perftest.cc",
-    "test/cc_test_suite.cc",
-    "test/run_all_perftests.cc",
-    "trees/layer_tree_host_common_perftest.cc",
-    "trees/layer_tree_host_perftest.cc",
-    "trees/occlusion_tracker_perftest.cc",
-  ]
-
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":cc",
-    ":test_support",
-    "//base",
-    "//base/test:test_support",
-    "//gpu",
-    "//gpu:test_support",
-    "//gpu/command_buffer/common:gles2_utils",
-    "//media",
-    "//skia",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//testing/perf",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-  ]
-}
-# When adding support for isolates, please have a look at run-time dependencies
-# in the cc_unittests_run target in cc_tests.gyp.
diff --git a/cc/debug/frame_rate_counter.cc b/cc/debug/frame_rate_counter.cc
index 2f3b291..465f170 100644
--- a/cc/debug/frame_rate_counter.cc
+++ b/cc/debug/frame_rate_counter.cc
@@ -8,5 +8,5 @@
 #include <limits>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "cc/trees/proxy.h"
 
diff --git a/cc/debug/frame_timing_tracker.cc b/cc/debug/frame_timing_tracker.cc
index 009d298..a6c9747 100644
--- a/cc/debug/frame_timing_tracker.cc
+++ b/cc/debug/frame_timing_tracker.cc
@@ -8,5 +8,5 @@
 #include <limits>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "cc/trees/proxy.h"
 
diff --git a/cc/layers/content_layer.cc b/cc/layers/content_layer.cc
index d1ff842..d56efaa 100644
--- a/cc/layers/content_layer.cc
+++ b/cc/layers/content_layer.cc
@@ -6,5 +6,5 @@
 
 #include "base/auto_reset.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "cc/layers/content_layer_client.h"
diff --git a/cc/layers/layer.cc b/cc/layers/layer.cc
index bf2f26a4..7fb7d9c 100644
--- a/cc/layers/layer.cc
+++ b/cc/layers/layer.cc
@@ -9,5 +9,5 @@
 #include "base/atomic_sequence_num.h"
 #include "base/location.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/single_thread_task_runner.h"
 #include "base/time/time.h"
diff --git a/cc/layers/layer_perftest.cc b/cc/layers/layer_perftest.cc
index 0b4c852..e12a76c 100644
--- a/cc/layers/layer_perftest.cc
+++ b/cc/layers/layer_perftest.cc
@@ -12,6 +12,6 @@
 #include "cc/test/fake_layer_tree_host_impl.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace cc {
diff --git a/cc/layers/picture_layer_impl_perftest.cc b/cc/layers/picture_layer_impl_perftest.cc
index ea73cb2..6fcd17f 100644
--- a/cc/layers/picture_layer_impl_perftest.cc
+++ b/cc/layers/picture_layer_impl_perftest.cc
@@ -15,6 +15,6 @@
 #include "cc/test/test_shared_bitmap_manager.h"
 #include "cc/trees/layer_tree_impl.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace cc {
diff --git a/cc/output/direct_renderer.cc b/cc/output/direct_renderer.cc
index 5867fce..98e050e 100644
--- a/cc/output/direct_renderer.cc
+++ b/cc/output/direct_renderer.cc
@@ -10,5 +10,5 @@
 #include "base/containers/hash_tables.h"
 #include "base/containers/scoped_ptr_hash_map.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event.h"
 #include "cc/base/math_util.h"
diff --git a/cc/resources/gpu_rasterizer.cc b/cc/resources/gpu_rasterizer.cc
index 6e318ed..8931609 100644
--- a/cc/resources/gpu_rasterizer.cc
+++ b/cc/resources/gpu_rasterizer.cc
@@ -8,5 +8,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event.h"
 #include "cc/debug/devtools_instrumentation.h"
diff --git a/cc/resources/picture_layer_tiling_perftest.cc b/cc/resources/picture_layer_tiling_perftest.cc
index 4db7fe6..fc271d9 100644
--- a/cc/resources/picture_layer_tiling_perftest.cc
+++ b/cc/resources/picture_layer_tiling_perftest.cc
@@ -14,6 +14,6 @@
 #include "cc/test/test_shared_bitmap_manager.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace cc {
diff --git a/cc/resources/picture_pile_impl_perftest.cc b/cc/resources/picture_pile_impl_perftest.cc
index 7e24724..014eb14 100644
--- a/cc/resources/picture_pile_impl_perftest.cc
+++ b/cc/resources/picture_pile_impl_perftest.cc
@@ -7,6 +7,6 @@
 #include "cc/debug/lap_timer.h"
 #include "cc/test/fake_picture_pile_impl.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace cc {
diff --git a/cc/resources/resource_provider.cc b/cc/resources/resource_provider.cc
index 25f6597..b5f6acb 100644
--- a/cc/resources/resource_provider.cc
+++ b/cc/resources/resource_provider.cc
@@ -9,5 +9,5 @@
 
 #include "base/containers/hash_tables.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_split.h"
diff --git a/cc/resources/task_graph_runner_perftest.cc b/cc/resources/task_graph_runner_perftest.cc
index cbd5c5c..2ae2f1d 100644
--- a/cc/resources/task_graph_runner_perftest.cc
+++ b/cc/resources/task_graph_runner_perftest.cc
@@ -11,6 +11,6 @@
 #include "cc/base/completion_event.h"
 #include "cc/debug/lap_timer.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace cc {
diff --git a/cc/resources/texture_uploader.cc b/cc/resources/texture_uploader.cc
index 601fa8f..91e5d63 100644
--- a/cc/resources/texture_uploader.cc
+++ b/cc/resources/texture_uploader.cc
@@ -8,5 +8,5 @@
 #include <vector>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event.h"
 #include "cc/base/util.h"
diff --git a/cc/resources/tile_manager.cc b/cc/resources/tile_manager.cc
index 00ae3da..1782b33 100644
--- a/cc/resources/tile_manager.cc
+++ b/cc/resources/tile_manager.cc
@@ -12,5 +12,5 @@
 #include "base/json/json_writer.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event_argument.h"
 #include "cc/debug/devtools_instrumentation.h"
diff --git a/cc/resources/tile_manager_perftest.cc b/cc/resources/tile_manager_perftest.cc
index 87d1837..2310dd0 100644
--- a/cc/resources/tile_manager_perftest.cc
+++ b/cc/resources/tile_manager_perftest.cc
@@ -22,6 +22,6 @@
 #include "cc/trees/layer_tree_impl.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 #include "ui/gfx/frame_time.h"
diff --git a/cc/resources/tile_task_worker_pool_perftest.cc b/cc/resources/tile_task_worker_pool_perftest.cc
index 71da7b1..e68544c 100644
--- a/cc/resources/tile_task_worker_pool_perftest.cc
+++ b/cc/resources/tile_task_worker_pool_perftest.cc
@@ -26,6 +26,6 @@
 #include "cc/test/test_shared_bitmap_manager.h"
 #include "cc/test/test_web_graphics_context_3d.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 #include "third_party/khronos/GLES2/gl2.h"
 #include "third_party/skia/include/gpu/GrContext.h"
diff --git a/cc/surfaces/surfaces_pixeltest.cc b/cc/surfaces/surfaces_pixeltest.cc
index 528684b..3b54c28 100644
--- a/cc/surfaces/surfaces_pixeltest.cc
+++ b/cc/surfaces/surfaces_pixeltest.cc
@@ -15,5 +15,5 @@
 #include "cc/test/pixel_comparator.h"
 #include "cc/test/pixel_test.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if !defined(OS_ANDROID)
diff --git a/cc/test/begin_frame_args_test.h b/cc/test/begin_frame_args_test.h
index 73aaf02..722361d 100644
--- a/cc/test/begin_frame_args_test.h
+++ b/cc/test/begin_frame_args_test.h
@@ -11,5 +11,5 @@
 #include "cc/output/begin_frame_args.h"
 #include "cc/test/test_now_source.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace cc {
diff --git a/cc/test/fake_output_surface.cc b/cc/test/fake_output_surface.cc
index 0279421..e70d58c 100644
--- a/cc/test/fake_output_surface.cc
+++ b/cc/test/fake_output_surface.cc
@@ -11,5 +11,5 @@
 #include "cc/resources/returned_resource.h"
 #include "cc/test/begin_frame_args_test.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace cc {
diff --git a/cc/test/fake_picture_pile.cc b/cc/test/fake_picture_pile.cc
index 4db6c58..0a1fd6a 100644
--- a/cc/test/fake_picture_pile.cc
+++ b/cc/test/fake_picture_pile.cc
@@ -8,5 +8,5 @@
 
 #include "cc/test/fake_picture_pile_impl.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace cc {
diff --git a/cc/test/fake_picture_pile_impl.cc b/cc/test/fake_picture_pile_impl.cc
index ab255cc..f6155ae 100644
--- a/cc/test/fake_picture_pile_impl.cc
+++ b/cc/test/fake_picture_pile_impl.cc
@@ -12,5 +12,5 @@
 #include "cc/resources/picture_pile.h"
 #include "cc/test/impl_side_painting_settings.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace cc {
diff --git a/cc/test/layer_tree_host_common_test.h b/cc/test/layer_tree_host_common_test.h
index d899bab..74c0da8 100644
--- a/cc/test/layer_tree_host_common_test.h
+++ b/cc/test/layer_tree_host_common_test.h
@@ -11,5 +11,5 @@
 #include "cc/layers/layer_lists.h"
 #include "cc/test/fake_layer_tree_host_client.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace gfx {
diff --git a/cc/test/layer_tree_test.cc b/cc/test/layer_tree_test.cc
index 3c6ff57..2fb3ac8 100644
--- a/cc/test/layer_tree_test.cc
+++ b/cc/test/layer_tree_test.cc
@@ -30,5 +30,5 @@
 #include "cc/trees/single_thread_proxy.h"
 #include "cc/trees/thread_proxy.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "ui/gfx/frame_time.h"
 #include "ui/gfx/geometry/size_conversions.h"
diff --git a/cc/test/layer_tree_test.h b/cc/test/layer_tree_test.h
index c2b18b15..82f1243 100644
--- a/cc/test/layer_tree_test.h
+++ b/cc/test/layer_tree_test.h
@@ -11,5 +11,5 @@
 #include "cc/trees/layer_tree_host.h"
 #include "cc/trees/layer_tree_host_impl.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace cc {
diff --git a/cc/test/pixel_test.cc b/cc/test/pixel_test.cc
index c2dc5b5..8c3364d 100644
--- a/cc/test/pixel_test.cc
+++ b/cc/test/pixel_test.cc
@@ -29,5 +29,5 @@
 #include "cc/trees/blocking_task_runner.h"
 #include "gpu/command_buffer/client/gles2_interface.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace cc {
diff --git a/cc/test/pixel_test.h b/cc/test/pixel_test.h
index 3562699..f904482 100644
--- a/cc/test/pixel_test.h
+++ b/cc/test/pixel_test.h
@@ -8,5 +8,5 @@
 #include "cc/quads/render_pass.h"
 #include "cc/test/pixel_comparator.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/gfx/geometry/size.h"
 #include "ui/gl/gl_implementation.h"
diff --git a/cc/test/test_web_graphics_context_3d.cc b/cc/test/test_web_graphics_context_3d.cc
index 6d8ccf7..d7cafc9 100644
--- a/cc/test/test_web_graphics_context_3d.cc
+++ b/cc/test/test_web_graphics_context_3d.cc
@@ -14,5 +14,5 @@
 #include "cc/test/test_context_support.h"
 #include "gpu/GLES2/gl2extchromium.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/khronos/GLES2/gl2ext.h"
 
diff --git a/cc/trees/layer_tree_host.cc b/cc/trees/layer_tree_host.cc
index 5b656a8..56ac48e 100644
--- a/cc/trees/layer_tree_host.cc
+++ b/cc/trees/layer_tree_host.cc
@@ -13,5 +13,5 @@
 #include "base/command_line.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/cc/trees/layer_tree_host_common_perftest.cc b/cc/trees/layer_tree_host_common_perftest.cc
index 73d5c1d..3ceb618 100644
--- a/cc/trees/layer_tree_host_common_perftest.cc
+++ b/cc/trees/layer_tree_host_common_perftest.cc
@@ -28,5 +28,5 @@
 #include "cc/trees/layer_sorter.h"
 #include "cc/trees/layer_tree_impl.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/perf/perf_test.h"
 
 namespace cc {
diff --git a/cc/trees/layer_tree_host_impl.cc b/cc/trees/layer_tree_host_impl.cc
index 0bd757d..05c7fb0 100644
--- a/cc/trees/layer_tree_host_impl.cc
+++ b/cc/trees/layer_tree_host_impl.cc
@@ -11,5 +11,5 @@
 #include "base/containers/hash_tables.h"
 #include "base/json/json_writer.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/cc/trees/layer_tree_host_perftest.cc b/cc/trees/layer_tree_host_perftest.cc
index c8e2a8c..2f34b51 100644
--- a/cc/trees/layer_tree_host_perftest.cc
+++ b/cc/trees/layer_tree_host_perftest.cc
@@ -24,5 +24,5 @@
 #include "cc/test/paths.h"
 #include "cc/trees/layer_tree_impl.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/perf/perf_test.h"
 
 namespace cc {
diff --git a/cc/trees/occlusion_tracker_perftest.cc b/cc/trees/occlusion_tracker_perftest.cc
index e53a05f..1656d2f 100644
--- a/cc/trees/occlusion_tracker_perftest.cc
+++ b/cc/trees/occlusion_tracker_perftest.cc
@@ -17,6 +17,6 @@
 #include "cc/trees/layer_tree_impl.h"
 #include "cc/trees/single_thread_proxy.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace cc {
diff --git a/cc/trees/proxy_timing_history.cc b/cc/trees/proxy_timing_history.cc
index 90abad1..93f48a7 100644
--- a/cc/trees/proxy_timing_history.cc
+++ b/cc/trees/proxy_timing_history.cc
@@ -5,5 +5,5 @@
 #include "cc/trees/proxy_timing_history.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 const size_t kDurationHistorySize = 60;
diff --git a/chrome/android/BUILD.gn b/chrome/android/BUILD.gn
index 59a6c5b..e761e56 100644
--- a/chrome/android/BUILD.gn
+++ b/chrome/android/BUILD.gn
@@ -3,9 +3,9 @@
 # found in the LICENSE file.
 
-import("//build/config/android/config.gni")
-import("//build/config/android/rules.gni")
+#import("//build/config/android/config.gni")
+#import("//build/config/android/rules.gni")
 import("//build/module_args/v8.gni")
 import("//chrome/version.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/icu/config.gni")
 import("channel.gni")
@@ -90,6 +90,6 @@ android_library("chrome_java") {
     "//components/web_contents_delegate_android:web_contents_delegate_android_java",
     "//content/public/android:content_java",
-    "//printing:printing_java",
-    "//sync/android:sync_java",
+#    "//printing:printing_java",
+#    "//sync/android:sync_java",
     "//third_party/android_data_chart:android_data_chart_java",
     "//third_party/android_protobuf:protobuf_nano_javalib",
@@ -204,5 +204,5 @@ shared_library("chrome_sync_shell") {
   ]
   deps = [
-    "//sync:test_support_sync_fake_server_android",
+#    "//sync:test_support_sync_fake_server_android",
   ]
   datadeps = [
@@ -231,7 +231,7 @@ android_library("chrome_shell_java") {
     "//components/dom_distiller/android:dom_distiller_core_java",
     "//components/web_contents_delegate_android:web_contents_delegate_android_java",
-    "//printing:printing_java",
+#    "//printing:printing_java",
     "//net/android:net_java",
-    "//sync/android:sync_java",
+#    "//sync/android:sync_java",
     "//third_party/android_tools:android_support_v13_java",
     "//third_party/android_tools:android_support_v7_appcompat_java",
@@ -383,16 +383,16 @@ android_library("chrome_javatests") {
     ":chrome_shell_java",
     ":chrome_shell_resources",
-    ":chrome_shell_test_java",
+#    ":chrome_shell_test_java",
     "//base:base_java",
-    "//base:base_java_test_support",
-    "//chrome/test/android:chrome_java_test_support",
+#    "//base:base_java_test_support",
+#    "//chrome/test/android:chrome_java_test_support",
     "//components/bookmarks/common/android:bookmarks_java",
     "//components/dom_distiller/android:dom_distiller_core_java",
     "//components/invalidation:java",
     "//content/public/android:content_java",
-    "//content/public/test/android:content_java_test_support",
-    "//printing:printing_java",
-    "//sync/android:sync_java",
-    "//sync:sync_java_test_support",
+#    "//content/public/test/android:content_java_test_support",
+#    "//printing:printing_java",
+#    "//sync/android:sync_java",
+#    "//sync:sync_java_test_support",
     "//third_party/android_tools:android_support_v13_java",
     "//third_party/android_tools:android_support_v7_appcompat_java",
@@ -410,8 +410,8 @@ android_library("chrome_shell_test_java") {
     ":chrome_shell_java",
     "//base:base_java",
-    "//base:base_java_test_support",
-    "//chrome/test/android:chrome_java_test_support",
+#    "//base:base_java_test_support",
+#    "//chrome/test/android:chrome_java_test_support",
     "//content/public/android:content_java",
-    "//content/public/test/android:content_java_test_support",
+#    "//content/public/test/android:content_java_test_support",
     "//third_party/android_tools:android_support_v13_java",
     "//third_party/android_tools:android_support_v7_appcompat_java",
@@ -422,10 +422,10 @@ android_library("chrome_shell_test_java") {
 
 # GYP: //chrome/chrome_tests.gypi:chrome_shell_test_apk
-android_apk("chrome_shell_test_apk") {
+#android_apk("chrome_shell_test_apk") {
   testonly = true
   deps = [
     ":chrome_javatests",
-    ":chrome_shell_test_java",
-    "//sync/android:sync_javatests",
+#    ":chrome_shell_test_java",
+#    "//sync/android:sync_javatests",
     "//ui/android:ui_javatests",
   ]
@@ -435,18 +435,18 @@ android_apk("chrome_shell_test_apk") {
 
 # GYP: //chrome/chrome_tests.gypi:chrome_sync_shell_test_apk
-android_apk("chrome_sync_shell_test_apk") {
+#android_apk("chrome_sync_shell_test_apk") {
   testonly = true
   deps = [
     ":chrome_java",
     ":chrome_shell_java",
-    ":chrome_shell_test_java",
+#    ":chrome_shell_test_java",
     "//base:base_java",
-    "//base:base_java_test_support",
-    "//chrome/test/android:chrome_java_test_support",
+#    "//base:base_java_test_support",
+#    "//chrome/test/android:chrome_java_test_support",
     "//components/invalidation:java",
     "//content/public/android:content_java",
-    "//content/public/test/android:content_java_test_support",
-    "//sync/android:sync_java",
-    "//sync:sync_java_test_support",
+#    "//content/public/test/android:content_java_test_support",
+#    "//sync/android:sync_java",
+#    "//sync:sync_java_test_support",
     "//third_party/android_tools:android_support_v13_java",
     "//third_party/android_tools:android_support_v7_appcompat_java",
@@ -463,5 +463,5 @@ android_library("uiautomator_tests_java") {
   DEPRECATED_java_in_dir = "uiautomator_tests/src"
   deps = [
-    "//base:base_java_test_support",
+#    "//base:base_java_test_support",
     "//third_party/android_tools:uiautomator_java",
   ]
diff --git a/chrome/app/BUILD.gn b/chrome/app/BUILD.gn
index b7dfb20..a28f543 100644
--- a/chrome/app/BUILD.gn
+++ b/chrome/app/BUILD.gn
@@ -6,5 +6,5 @@ import("//tools/grit/grit_rule.gni")
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
   android_generated_java_resources = [
     "java/res/values-am/generated_resources.xml",
@@ -133,31 +133,31 @@ if (is_android) {
 
 # GYP version: chrome/chrome_resources.gyp:chrome_strings_map
-action("make_generated_resources_map") {
-  # Targets should depend on generated_resources_map instead.
-  visibility = [ ":generated_resources_map" ]
-
-  script = "//chrome/browser/metrics/variations/generate_resources_map.py"
-
-  inputs = [
-    "$root_gen_dir/chrome/grit/generated_resources.h",
-  ]
-  outputs = [
-    "$root_gen_dir/chrome/generated_resources_map.cc",
-  ]
-
-  args =
-      rebase_path(inputs, root_build_dir) + rebase_path(outputs, root_build_dir)
-
-  deps = [
-    ":generated_resources",
-  ]
-}
+#action("make_generated_resources_map") {
+#  # Targets should depend on generated_resources_map instead.
+#  visibility = [ ":generated_resources_map" ]
+#
+#  script = "//chrome/browser/metrics/variations/generate_resources_map.py"
+#
+#  inputs = [
+#    "$root_gen_dir/chrome/grit/generated_resources.h",
+#  ]
+#  outputs = [
+#    "$root_gen_dir/chrome/generated_resources_map.cc",
+#  ]
+#
+#  args =
+#      rebase_path(inputs, root_build_dir) + rebase_path(outputs, root_build_dir)
+#
+#  deps = [
+#    ":generated_resources",
+#  ]
+#}
 
 # Collect the generated .cc file from make_generated_resources_map and put it
 # in a source set so targets that depend on it will link the source rather than
 # specifying it manually. This doesn't happen in the GYP build.
-source_set("generated_resources_map") {
-  sources = get_target_outputs(":make_generated_resources_map")
-}
+#source_set("generated_resources_map") {
+#  sources = get_target_outputs(":make_generated_resources_map")
+#}
 
 # GYP version: chrome/chrome_resources.gyp:chrome_strings
@@ -293,5 +293,5 @@ grit("chromium_strings") {
 source_set("test_support") {
   testonly = true
-  visibility = [ "//chrome/test:test_support" ]
+#  visibility = [ "//chrome/test:test_support" ]
 
   sources = [
diff --git a/chrome/app/chrome_main_delegate.cc b/chrome/app/chrome_main_delegate.cc
index c1fabd5..d65149c 100644
--- a/chrome/app/chrome_main_delegate.cc
+++ b/chrome/app/chrome_main_delegate.cc
@@ -12,5 +12,5 @@
 #include "base/lazy_instance.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/path_service.h"
 #include "base/process/memory.h"
diff --git a/chrome/app/generated_resources.grd b/chrome/app/generated_resources.grd
index 95ec761..7663ac8 100644
--- a/chrome/app/generated_resources.grd
+++ b/chrome/app/generated_resources.grd
@@ -5597,5 +5597,5 @@ Keep your key file in a safe place. You will need it to create new versions of y
 
       <!-- Plugins -->
-      <if expr="enable_plugins">
+      <if expr="enable_plugins or not enable_plugins">
         <message name="IDS_PLUGINS_TITLE" desc="Title for the chrome://plugins page.">
           Plug-ins
@@ -15235,5 +15235,5 @@ Do you accept?
           Push notifications
       </message>
-      <if expr="enable_notifications">
+      <if expr="enable_notifications or not enable_notifications">
         <message name="IDS_PUSH_MESSAGING_GENERIC_NOTIFICATION_BODY" desc="Body text of an auto-generated notification informing the user that the site may have received an update in the background, in case the site did not satisfy the visible notification requirement itself.">
           This site has been updated in the background.
diff --git a/chrome/app_installer/app_installer.gypi b/chrome/app_installer/app_installer.gypi
index 8bc96fe..2e387aa 100644
--- a/chrome/app_installer/app_installer.gypi
+++ b/chrome/app_installer/app_installer.gypi
@@ -58,11 +58,11 @@
         },
         {
-          'target_name': 'app_installer_unittests',
+#          'target_name': 'app_installer_unittests',
           'type': 'executable',
           'dependencies': [
             'app_installer_util',
             '../base/base.gyp:base',
-            '../base/base.gyp:run_all_unittests',
-            '../net/net.gyp:net_test_support',
+#            '../base/base.gyp:run_all_unittests',
+#            '../net/net.gyp:net_test_support',
             '../testing/gtest.gyp:gtest',
           ],
@@ -72,5 +72,5 @@
           ],
           'sources': [
-            'win/app_installer_util_unittest.cc',
+#            'win/app_installer_util_unittest.cc',
           ],
           'msvs_settings': {
diff --git a/chrome/browser/about_flags.cc b/chrome/browser/about_flags.cc
index 45b2545..ac85ebf 100644
--- a/chrome/browser/about_flags.cc
+++ b/chrome/browser/about_flags.cc
@@ -12,5 +12,5 @@
 #include "base/command_line.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
@@ -1972,4 +1972,5 @@ const Experiment kExperiments[] = {
   },
 #if !defined(OS_ANDROID)
+#if !defined(OS_LINUX)
   {
     "enable-message-center-always-scroll-up-upon-notification-removal",
@@ -1980,4 +1981,5 @@ const Experiment kExperiments[] = {
         switches::kEnableMessageCenterAlwaysScrollUpUponNotificationRemoval)
   },
+#endif
   {
     "enable-md-settings",
diff --git a/chrome/browser/about_flags.h b/chrome/browser/about_flags.h
index 055d8b5..4a1a01f 100644
--- a/chrome/browser/about_flags.h
+++ b/chrome/browser/about_flags.h
@@ -13,5 +13,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram_base.h"
+//#include "base/metrics/histogram_base.h"
 #include "base/strings/string16.h"
 
diff --git a/chrome/browser/android/appmenu/app_menu_drag_helper.cc b/chrome/browser/android/appmenu/app_menu_drag_helper.cc
index 7d285d5..3fe56d8 100644
--- a/chrome/browser/android/appmenu/app_menu_drag_helper.cc
+++ b/chrome/browser/android/appmenu/app_menu_drag_helper.cc
@@ -3,5 +3,5 @@
 // found in the LICENSE file.
 
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "chrome/browser/android/appmenu/app_menu_drag_helper.h"
 #include "jni/AppMenuDragHelper_jni.h"
diff --git a/chrome/browser/android/banners/app_banner_manager.cc b/chrome/browser/android/banners/app_banner_manager.cc
index 0283d2e..d7fdfcf 100644
--- a/chrome/browser/android/banners/app_banner_manager.cc
+++ b/chrome/browser/android/banners/app_banner_manager.cc
@@ -9,6 +9,6 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "chrome/browser/android/banners/app_banner_infobar_delegate.h"
diff --git a/chrome/browser/android/metrics/launch_metrics.cc b/chrome/browser/android/metrics/launch_metrics.cc
index 5817261..4209a65 100644
--- a/chrome/browser/android/metrics/launch_metrics.cc
+++ b/chrome/browser/android/metrics/launch_metrics.cc
@@ -6,6 +6,6 @@
 
 #include "base/android/jni_string.h"
-#include "base/metrics/histogram_macros.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/user_metrics.h"
 #include "chrome/browser/metrics/rappor/sampling.h"
 #include "jni/LaunchMetrics_jni.h"
diff --git a/chrome/browser/android/metrics/uma_bridge.cc b/chrome/browser/android/metrics/uma_bridge.cc
index 9577106..65b17de 100644
--- a/chrome/browser/android/metrics/uma_bridge.cc
+++ b/chrome/browser/android/metrics/uma_bridge.cc
@@ -7,5 +7,5 @@
 #include <jni.h>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/public/browser/user_metrics.h"
 #include "jni/UmaBridge_jni.h"
diff --git a/chrome/browser/android/metrics/uma_session_stats.cc b/chrome/browser/android/metrics/uma_session_stats.cc
index f4b2981..91ca1a5 100644
--- a/chrome/browser/android/metrics/uma_session_stats.cc
+++ b/chrome/browser/android/metrics/uma_session_stats.cc
@@ -7,5 +7,5 @@
 #include "base/android/jni_string.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/android/most_visited_sites.cc b/chrome/browser/android/most_visited_sites.cc
index 3e01aaf..fc3656a 100644
--- a/chrome/browser/android/most_visited_sites.cc
+++ b/chrome/browser/android/most_visited_sites.cc
@@ -13,6 +13,6 @@
 #include "base/android/scoped_java_ref.h"
 #include "base/callback.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/android/password_ui_view_android.cc b/chrome/browser/android/password_ui_view_android.cc
index e657bc6..89fb289 100644
--- a/chrome/browser/android/password_ui_view_android.cc
+++ b/chrome/browser/android/password_ui_view_android.cc
@@ -8,5 +8,5 @@
 #include "base/android/jni_weak_ref.h"
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "chrome/browser/profiles/profile_manager.h"
 #include "chrome/common/url_constants.h"
diff --git a/chrome/browser/android/tab_android.cc b/chrome/browser/android/tab_android.cc
index e9289de..8286fac 100644
--- a/chrome/browser/android/tab_android.cc
+++ b/chrome/browser/android/tab_android.cc
@@ -8,5 +8,5 @@
 #include "base/android/jni_array.h"
 #include "base/android/jni_string.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event.h"
 #include "cc/layers/layer.h"
diff --git a/chrome/browser/apps/app_window_intercept_all_keys_uitest.cc b/chrome/browser/apps/app_window_intercept_all_keys_uitest.cc
index 6d61972..0475ecd 100644
--- a/chrome/browser/apps/app_window_intercept_all_keys_uitest.cc
+++ b/chrome/browser/apps/app_window_intercept_all_keys_uitest.cc
@@ -11,5 +11,5 @@
 #include "extensions/browser/app_window/native_app_window.h"
 #include "extensions/test/extension_test_message_listener.h"
-#include "testing/gtest/include/gtest/gtest-spi.h"
+//#include "testing/gtest/include/gtest/gtest-spi.h"
 
 using extensions::NativeAppWindow;
diff --git a/chrome/browser/apps/ephemeral_app_launcher.cc b/chrome/browser/apps/ephemeral_app_launcher.cc
index 469602c..9fdf963 100644
--- a/chrome/browser/apps/ephemeral_app_launcher.cc
+++ b/chrome/browser/apps/ephemeral_app_launcher.cc
@@ -340,8 +340,8 @@ void EphemeralAppLauncher::OnInstallChecked(int check_failures) {
   }
 
-  if (install_checker_->blacklist_state() == extensions::BLACKLISTED_MALWARE) {
+/*  if (install_checker_->blacklist_state() == extensions::BLACKLISTED_MALWARE) {
     AbortLaunch(webstore_install::BLACKLISTED, kBlacklistedError);
     return;
-  }
+  }*/
 
   if (!install_checker_->requirement_errors().empty()) {
diff --git a/chrome/browser/autocomplete/autocomplete_controller.cc b/chrome/browser/autocomplete/autocomplete_controller.cc
index 65a53c7..e65141a 100644
--- a/chrome/browser/autocomplete/autocomplete_controller.cc
+++ b/chrome/browser/autocomplete/autocomplete_controller.cc
@@ -10,5 +10,5 @@
 #include "base/format_macros.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/autocomplete/history_quick_provider.cc b/chrome/browser/autocomplete/history_quick_provider.cc
index 74f59f6..6c0d97c 100644
--- a/chrome/browser/autocomplete/history_quick_provider.cc
+++ b/chrome/browser/autocomplete/history_quick_provider.cc
@@ -11,6 +11,6 @@
 #include "base/i18n/break_iterator.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/autocomplete/history_url_provider.cc b/chrome/browser/autocomplete/history_url_provider.cc
index 1bf3261..6a8f0e8 100644
--- a/chrome/browser/autocomplete/history_url_provider.cc
+++ b/chrome/browser/autocomplete/history_url_provider.cc
@@ -11,5 +11,5 @@
 #include "base/command_line.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/autocomplete/scored_history_match_builder_impl.cc b/chrome/browser/autocomplete/scored_history_match_builder_impl.cc
index b5b8676..3b080bd 100644
--- a/chrome/browser/autocomplete/scored_history_match_builder_impl.cc
+++ b/chrome/browser/autocomplete/scored_history_match_builder_impl.cc
@@ -11,5 +11,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/autocomplete/scored_history_match_builder_impl.h b/chrome/browser/autocomplete/scored_history_match_builder_impl.h
index 658785c..35fcb97 100644
--- a/chrome/browser/autocomplete/scored_history_match_builder_impl.h
+++ b/chrome/browser/autocomplete/scored_history_match_builder_impl.h
@@ -11,5 +11,5 @@
 #include "chrome/browser/autocomplete/scored_history_match.h"
 #include "components/history/core/browser/history_types.h"
-#include "testing/gtest/include/gtest/gtest_prod.h"
+//#include "testing/gtest/include/gtest/gtest_prod.h"
 
 class ScoredHistoryMatchBuilderImplTest;
diff --git a/chrome/browser/autocomplete/shortcuts_provider.cc b/chrome/browser/autocomplete/shortcuts_provider.cc
index 1ab57e4..b6198459 100644
--- a/chrome/browser/autocomplete/shortcuts_provider.cc
+++ b/chrome/browser/autocomplete/shortcuts_provider.cc
@@ -13,5 +13,5 @@
 #include "base/i18n/case_conversion.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/autocomplete/url_index_private_data.cc b/chrome/browser/autocomplete/url_index_private_data.cc
index 7565ee1..a4dc517 100644
--- a/chrome/browser/autocomplete/url_index_private_data.cc
+++ b/chrome/browser/autocomplete/url_index_private_data.cc
@@ -16,5 +16,5 @@
 #include "base/i18n/break_iterator.h"
 #include "base/i18n/case_conversion.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/autocomplete/zero_suggest_provider.cc b/chrome/browser/autocomplete/zero_suggest_provider.cc
index ddd8a76..fa10b62 100644
--- a/chrome/browser/autocomplete/zero_suggest_provider.cc
+++ b/chrome/browser/autocomplete/zero_suggest_provider.cc
@@ -8,6 +8,6 @@
 #include "base/i18n/case_conversion.h"
 #include "base/json/json_string_value_serializer.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string16.h"
diff --git a/chrome/browser/auto_launch_trial.cc b/chrome/browser/auto_launch_trial.cc
index ae53d7b..d0a1f15 100644
--- a/chrome/browser/auto_launch_trial.cc
+++ b/chrome/browser/auto_launch_trial.cc
@@ -6,5 +6,5 @@
 
 #include "base/files/file_path.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_util.h"
 #include "chrome/browser/first_run/first_run.h"
diff --git a/chrome/browser/background/background_contents_service.cc b/chrome/browser/background/background_contents_service.cc
index 90a5107..23daae2 100644
--- a/chrome/browser/background/background_contents_service.cc
+++ b/chrome/browser/background/background_contents_service.cc
@@ -11,5 +11,5 @@
 #include "base/compiler_specific.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/background/background_mode_manager.cc b/chrome/browser/background/background_mode_manager.cc
index 4e4a2e7..5c622b7 100644
--- a/chrome/browser/background/background_mode_manager.cc
+++ b/chrome/browser/background/background_mode_manager.cc
@@ -13,5 +13,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/banners/app_banner_metrics.cc b/chrome/browser/banners/app_banner_metrics.cc
index 57a7d0f..0dd8f8d 100644
--- a/chrome/browser/banners/app_banner_metrics.cc
+++ b/chrome/browser/banners/app_banner_metrics.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/banners/app_banner_metrics.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace banners {
diff --git a/chrome/browser/bookmarks/bookmark_stats.cc b/chrome/browser/bookmarks/bookmark_stats.cc
index ed238cb..0350b39 100644
--- a/chrome/browser/bookmarks/bookmark_stats.cc
+++ b/chrome/browser/bookmarks/bookmark_stats.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/bookmarks/bookmark_stats.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "components/bookmarks/browser/bookmark_model.h"
 #include "content/public/browser/user_metrics.h"
diff --git a/chrome/browser/bookmarks/enhanced_bookmarks_features.cc b/chrome/browser/bookmarks/enhanced_bookmarks_features.cc
index 1992640..3e26bc9 100644
--- a/chrome/browser/bookmarks/enhanced_bookmarks_features.cc
+++ b/chrome/browser/bookmarks/enhanced_bookmarks_features.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/browser_process_impl.cc b/chrome/browser/browser_process_impl.cc
index 7b65c6d..e689aa5 100644
--- a/chrome/browser/browser_process_impl.cc
+++ b/chrome/browser/browser_process_impl.cc
@@ -16,6 +16,6 @@
 #include "base/debug/leak_annotations.h"
 #include "base/files/file_path.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/path_service.h"
 #include "base/prefs/json_pref_store.h"
@@ -106,5 +106,6 @@
 
 #if !defined(OS_ANDROID)
-#include "chrome/browser/chrome_device_client.h"
+//#include "chrome/browser/chrome_device_client.h"
+//TODO: what is this gcm? wasn't it some kind of cypher?
 #include "chrome/browser/services/gcm/gcm_desktop_utils.h"
 #include "components/gcm_driver/gcm_client_factory.h"
@@ -202,5 +203,5 @@ BrowserProcessImpl::BrowserProcessImpl(
 
 #if !defined(OS_ANDROID)
-  device_client_.reset(new ChromeDeviceClient);
+//  device_client_.reset(new ChromeDeviceClient);
 #endif
 
diff --git a/chrome/browser/browser_process_impl.h b/chrome/browser/browser_process_impl.h
index d58aa98..45e3657 100644
--- a/chrome/browser/browser_process_impl.h
+++ b/chrome/browser/browser_process_impl.h
@@ -22,5 +22,5 @@
 #include "chrome/browser/browser_process.h"
 
-class ChromeDeviceClient;
+//class ChromeDeviceClient;
 class ChromeNetLog;
 class ChromeResourceDispatcherHostDelegate;
@@ -303,5 +303,5 @@ class BrowserProcessImpl : public BrowserProcess,
 
 #if !defined(OS_ANDROID)
-  scoped_ptr<ChromeDeviceClient> device_client_;
+//  scoped_ptr<ChromeDeviceClient> device_client_;
 #endif
 
diff --git a/chrome/browser/browser_shutdown.cc b/chrome/browser/browser_shutdown.cc
index 8974bd5..231dbb7 100644
--- a/chrome/browser/browser_shutdown.cc
+++ b/chrome/browser/browser_shutdown.cc
@@ -12,5 +12,5 @@
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/chrome/browser/browsing_data/mock_browsing_data_appcache_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_appcache_helper.cc
index c60420d..a378dc5 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_appcache_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_appcache_helper.cc
@@ -6,5 +6,5 @@
 
 #include "base/callback.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataAppCacheHelper::MockBrowsingDataAppCacheHelper(
diff --git a/chrome/browser/browsing_data/mock_browsing_data_channel_id_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_channel_id_helper.cc
index dd20a8c..d45f7c8 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_channel_id_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_channel_id_helper.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataChannelIDHelper::MockBrowsingDataChannelIDHelper()
diff --git a/chrome/browser/browsing_data/mock_browsing_data_cookie_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_cookie_helper.cc
index 5e95faa..42b36e1 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_cookie_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_cookie_helper.cc
@@ -8,5 +8,5 @@
 #include "net/cookies/canonical_cookie.h"
 #include "net/cookies/parsed_cookie.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataCookieHelper::MockBrowsingDataCookieHelper(
diff --git a/chrome/browser/browsing_data/mock_browsing_data_database_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_database_helper.cc
index e645d03..4fcd634 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_database_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_database_helper.cc
@@ -6,5 +6,5 @@
 
 #include "base/callback.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataDatabaseHelper::MockBrowsingDataDatabaseHelper(
diff --git a/chrome/browser/browsing_data/mock_browsing_data_file_system_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_file_system_helper.cc
index f8eecb4..280f63d 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_file_system_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_file_system_helper.cc
@@ -7,5 +7,5 @@
 #include "base/callback.h"
 #include "base/logging.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataFileSystemHelper::MockBrowsingDataFileSystemHelper(
diff --git a/chrome/browser/browsing_data/mock_browsing_data_flash_lso_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_flash_lso_helper.cc
index 22a153a..6cd9662 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_flash_lso_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_flash_lso_helper.cc
@@ -7,5 +7,5 @@
 #include <algorithm>
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataFlashLSOHelper::MockBrowsingDataFlashLSOHelper(
diff --git a/chrome/browser/browsing_data/mock_browsing_data_indexed_db_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_indexed_db_helper.cc
index 5c0a095..04a6c00 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_indexed_db_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_indexed_db_helper.cc
@@ -10,5 +10,5 @@
 #include "content/public/browser/browser_context.h"
 #include "content/public/browser/storage_partition.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataIndexedDBHelper::MockBrowsingDataIndexedDBHelper(
diff --git a/chrome/browser/browsing_data/mock_browsing_data_local_storage_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_local_storage_helper.cc
index ccb0b720..a4afdce 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_local_storage_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_local_storage_helper.cc
@@ -7,5 +7,5 @@
 #include "base/callback.h"
 #include "base/logging.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataLocalStorageHelper::MockBrowsingDataLocalStorageHelper(
diff --git a/chrome/browser/browsing_data/mock_browsing_data_quota_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_quota_helper.cc
index c404d38..8ddbeab 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_quota_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_quota_helper.cc
@@ -6,5 +6,5 @@
 
 #include "content/public/browser/browser_thread.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using content::BrowserThread;
diff --git a/chrome/browser/browsing_data/mock_browsing_data_service_worker_helper.cc b/chrome/browser/browsing_data/mock_browsing_data_service_worker_helper.cc
index f54fad3..cf2f924 100644
--- a/chrome/browser/browsing_data/mock_browsing_data_service_worker_helper.cc
+++ b/chrome/browser/browsing_data/mock_browsing_data_service_worker_helper.cc
@@ -12,5 +12,5 @@
 #include "content/public/browser/browser_context.h"
 #include "content/public/browser/storage_partition.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 MockBrowsingDataServiceWorkerHelper::MockBrowsingDataServiceWorkerHelper(
diff --git a/chrome/browser/BUILD.gn b/chrome/browser/BUILD.gn
index 9799cc1..601c485 100644
--- a/chrome/browser/BUILD.gn
+++ b/chrome/browser/BUILD.gn
@@ -10,5 +10,5 @@ import("//build/config/ui.gni")
 # produces a conflict for the "grit" template so we have to only include one.
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 } else {
   import("//tools/grit/grit_rule.gni")
@@ -62,8 +62,8 @@ static_library("browser") {
   # non-iOS deps below.
   public_deps = [
-    "//components/autofill/core/browser",
+#    "//components/autofill/core/browser",
     "//content/public/browser",
     "//sql",
-    "//sync",
+#    "//sync",
   ]
   deps = [
@@ -72,5 +72,5 @@ static_library("browser") {
     "//chrome:resources",
     "//chrome:strings",
-    "//chrome/app:generated_resources_map",
+#    "//chrome/app:generated_resources_map",
     "//chrome/app/resources:platform_locale_settings",
     "//chrome/app/theme:theme_resources",
@@ -81,8 +81,8 @@ static_library("browser") {
     "//chrome/common",
     "//chrome/common/net",
-    "//components/autofill/core/browser",
+#    "//components/autofill/core/browser",
     "//components/bookmarks/browser",
-    "//components/captive_portal",
-    "//components/cloud_devices/common",
+#    "//components/captive_portal",
+#    "//components/cloud_devices/common",
     "//components/component_updater",
     "//components/content_settings/core/browser",
@@ -95,36 +95,36 @@ static_library("browser") {
     "//components/favicon_base",
     "//components/favicon/core",
-    "//components/feedback",
+#    "//components/feedback",
     "//components/gcm_driver",
-    "//components/google/core/browser",
-    "//components/handoff",
+#    "//components/google/core/browser",
+#    "//components/handoff",
     "//components/history/core/browser",
     "//components/history/core/common",
     "//components/infobars/core",
     "//components/invalidation",
-    "//components/metrics:gpu",
-    "//components/metrics:net",
-    "//components/metrics:profiler",
-    "//components/metrics/proto:proto",
-    "//components/navigation_metrics",
+#    "//components/metrics:gpu",
+#    "//components/metrics:net",
+#    "//components/metrics:profiler",
+#    "//components/metrics/proto:proto",
+#    "//components/navigation_metrics",
     "//components/network_time",
     "//components/omnibox",
     "//components/os_crypt",
     "//components/packed_ct_ev_whitelist",
-    "//components/password_manager/core/browser",
-    "//components/password_manager/core/common",
+#    "//components/password_manager/core/browser",
+#    "//components/password_manager/core/common",
     "//components/policy:policy_component",
     "//components/precache/core",
     "//components/query_parser",
-    "//components/rappor",
+#    "//components/rappor",
     "//components/renderer_context_menu",
     "//components/search",
     "//components/search_engines",
     "//components/search_provider_logos",
-    "//components/signin/core/browser",
-    "//components/startup_metric_utils",
+#    "//components/signin/core/browser",
+#    "//components/startup_metric_utils",
     "//components/strings",
     "//components/suggestions",
-    "//components/sync_driver",
+#    "//components/sync_driver",
     "//components/translate/core/browser",
     "//components/translate/core/common",
@@ -144,12 +144,12 @@ static_library("browser") {
     "//google_apis",
     "//gpu/config",
-    "//jingle:notifier",
+#    "//jingle:notifier",
     "//skia",
     "//sql",
-    "//sync",
+#    "//sync",
     "//third_party/cacheinvalidation",
     "//third_party/icu",
     "//third_party/libxml",
-    "//third_party/libjingle",
+#    "//third_party/libjingle",
     "//third_party/widevine/cdm:version_h",
     "//third_party/zlib",
@@ -160,5 +160,5 @@ static_library("browser") {
     "//ui/gfx",
     "//ui/gfx/geometry",
-    "//ui/message_center",
+#    "//ui/message_center",
     "//ui/shell_dialogs",
     "//ui/strings",
@@ -186,15 +186,15 @@ static_library("browser") {
     sources +=
         rebase_path(gypi_values.chrome_browser_favicon_sources, ".", "//chrome")
-    sources +=
-        rebase_path(gypi_values.chrome_browser_google_sources, ".", "//chrome")
+#    sources +=
+#        rebase_path(gypi_values.chrome_browser_google_sources, ".", "//chrome")
     sources +=
         rebase_path(gypi_values.chrome_browser_history_sources, ".", "//chrome")
-    sources +=
-        rebase_path(gypi_values.chrome_browser_metrics_sources, ".", "//chrome")
+#    sources +=
+#        rebase_path(gypi_values.chrome_browser_metrics_sources, ".", "//chrome")
     sources +=
         rebase_path(gypi_values.chrome_browser_net_sources, ".", "//chrome")
-    sources += rebase_path(gypi_values.chrome_browser_password_manager_sources,
-                           ".",
-                           "//chrome")
+#    sources += rebase_path(gypi_values.chrome_browser_password_manager_sources,
+#                           ".",
+#                           "//chrome")
     sources += rebase_path(gypi_values.chrome_browser_predictor_sources,
                            ".",
@@ -213,10 +213,10 @@ static_library("browser") {
     sources +=
         rebase_path(gypi_values.chrome_browser_session_sources, ".", "//chrome")
-    sources +=
-        rebase_path(gypi_values.chrome_browser_signin_sources, ".", "//chrome")
+#    sources +=
+#        rebase_path(gypi_values.chrome_browser_signin_sources, ".", "//chrome")
     sources +=
         rebase_path(gypi_values.chrome_browser_ssl_sources, ".", "//chrome")
-    sources +=
-        rebase_path(gypi_values.chrome_browser_sync_sources, ".", "//chrome")
+#    sources +=
+#        rebase_path(gypi_values.chrome_browser_sync_sources, ".", "//chrome")
     sources += rebase_path(gypi_values.chrome_browser_web_resource_sources,
                            ".",
@@ -226,5 +226,5 @@ static_library("browser") {
       "//apps",
       "//cc",
-      "//chrome/app:generated_resources_map",
+#      "//chrome/app:generated_resources_map",
       "//chrome/app/theme:theme_resources",
       "//chrome/browser/devtools",
@@ -232,5 +232,5 @@ static_library("browser") {
       "//chrome/installer/util",
       "//components/app_modal",
-      "//components/autofill/content/browser",
+#      "//components/autofill/content/browser",
       "//components/data_reduction_proxy/content/browser",
       "//components/dom_distiller/content",
@@ -238,8 +238,8 @@ static_library("browser") {
       "//components/keyed_service/content",
       "//components/navigation_interception",
-      "//components/password_manager/content/browser",
+#      "//components/password_manager/content/browser",
       "//components/precache/content",
       "//components/sessions:sessions_content",
-      "//components/storage_monitor",
+#      "//components/storage_monitor",
       "//components/translate/content/browser",
       "//components/url_matcher",
@@ -267,5 +267,5 @@ static_library("browser") {
       "//third_party/re2",
       "//third_party/smhasher:cityhash",
-      "//third_party/webrtc/modules/desktop_capture",
+#      "//third_party/webrtc/modules/desktop_capture",
       "//ui/base/ime",
       "//ui/gl",
@@ -320,8 +320,8 @@ static_library("browser") {
     public_deps += [ "//chrome/browser/extensions" ]
     deps += [
-      "//chrome/browser/sync_file_system/drive_backend:sync_file_system_drive_proto",
+#      "//chrome/browser/sync_file_system/drive_backend:sync_file_system_drive_proto",
       "//chrome/common/extensions/api",
       "//chrome/common/extensions/api:api_registration",
-      "//components/proximity_auth/cryptauth",
+#      "//components/proximity_auth/cryptauth",
       "//extensions/components/javascript_dialog_extensions_client",
       "//media/cast:net",
@@ -404,34 +404,34 @@ static_library("browser") {
     ]
   }
-  if (safe_browsing_mode != 0) {
-    sources +=
-        rebase_path(gypi_values.chrome_browser_safe_browsing_basic_sources,
-                    ".",
-                    "//chrome")
-    deps += [
-      "//chrome/browser/safe_browsing:chunk_proto",
-      "//chrome/browser/safe_browsing:metadata_proto",
-      "//chrome/browser/safe_browsing:report_proto",
-    ]
-    if (safe_browsing_mode == 1) {
-      sources +=
-          rebase_path(gypi_values.chrome_browser_safe_browsing_full_sources,
-                      ".",
-                      "//chrome")
-      defines += [ "FULL_SAFE_BROWSING" ]
-      deps += [ "//chrome/common/safe_browsing:proto" ]
-    } else if (safe_browsing_mode == 2) {
-      defines += [ "MOBILE_SAFE_BROWSING" ]
-    }
-  }
+#  if (safe_browsing_mode != 0) {
+#    sources +=
+#        rebase_path(gypi_values.chrome_browser_safe_browsing_basic_sources,
+#                    ".",
+#                    "//chrome")
+#    deps += [
+#      "//chrome/browser/safe_browsing:chunk_proto",
+#      "//chrome/browser/safe_browsing:metadata_proto",
+#      "//chrome/browser/safe_browsing:report_proto",
+#    ]
+#    if (safe_browsing_mode == 1) {
+#      sources +=
+#          rebase_path(gypi_values.chrome_browser_safe_browsing_full_sources,
+#                      ".",
+#                      "//chrome")
+#      defines += [ "FULL_SAFE_BROWSING" ]
+#      deps += [ "//chrome/common/safe_browsing:proto" ]
+#    } else if (safe_browsing_mode == 2) {
+#      defines += [ "MOBILE_SAFE_BROWSING" ]
+#    }
+#  }
 
   if (is_linux) {
     deps += [
-      "//device/media_transfer_protocol",
-      "//device/udev_linux",
+#      "//device/media_transfer_protocol",
+#      "//device/udev_linux",
     ]
   }
   if (is_linux && !is_chromeos) {
-    deps += [ "//third_party/speech-dispatcher" ]
+#    deps += [ "//third_party/speech-dispatcher" ]
   }
 
@@ -463,5 +463,5 @@ static_library("browser") {
 
   if (use_cups) {
-    configs += [ "//printing:cups" ]
+#    configs += [ "//printing:cups" ]
   }
   if (is_desktop_linux) {
@@ -539,5 +539,5 @@ static_library("browser") {
                            ".",
                            "//chrome")
-    deps += [ "//printing" ]
+#    deps += [ "//printing" ]
     if (is_win) {
       sources += rebase_path(gypi_values.chrome_browser_printing_emf_sources,
@@ -584,6 +584,6 @@ static_library("browser") {
                            "//chrome")
     deps += [
-      "//device/core",
-      "//device/usb",
+#      "//device/core",
+#      "//device/usb",
     ]
   }
@@ -603,5 +603,5 @@ static_library("browser") {
     deps -= [
       "//third_party/libaddressinput",
-      "//components/feedback",
+#      "//components/feedback",
       "//components/storage_monitor",
       "//components/web_modal",
@@ -739,6 +739,6 @@ static_library("browser") {
   if (!enable_autofill_dialog || is_android || is_ios) {
     sources -= [
-      "autofill/validation_rules_storage_factory.cc",
-      "autofill/validation_rules_storage_factory.h",
+#      "autofill/validation_rules_storage_factory.cc",
+#      "autofill/validation_rules_storage_factory.h",
     ]
   }
@@ -864,5 +864,5 @@ source_set("test_support") {
 
   # Always include this via the main test support target.
-  visibility = [ "//chrome/test:test_support" ]
+#  visibility = [ "//chrome/test:test_support" ]
 
   sources = [
@@ -887,6 +887,6 @@ source_set("test_support") {
     "browsing_data/mock_browsing_data_service_worker_helper.cc",
     "browsing_data/mock_browsing_data_service_worker_helper.h",
-    "download/download_test_file_activity_observer.cc",
-    "download/download_test_file_activity_observer.h",
+#    "download/download_test_file_activity_observer.cc",
+#    "download/download_test_file_activity_observer.h",
     "download/test_download_shelf.cc",
     "download/test_download_shelf.h",
@@ -895,10 +895,10 @@ source_set("test_support") {
     "media/fake_desktop_media_list.cc",
     "media/fake_desktop_media_list.h",
-    "net/dns_probe_test_util.cc",
-    "net/dns_probe_test_util.h",
+#    "net/dns_probe_test_util.cc",
+#    "net/dns_probe_test_util.h",
     "net/url_request_mock_util.cc",
     "net/url_request_mock_util.h",
-    "notifications/notification_test_util.cc",
-    "notifications/notification_test_util.h",
+#    "notifications/notification_test_util.cc",
+#    "notifications/notification_test_util.h",
     "password_manager/mock_password_store_service.cc",
     "password_manager/mock_password_store_service.h",
@@ -909,14 +909,14 @@ source_set("test_support") {
     "prefs/pref_service_mock_factory.cc",
     "prefs/pref_service_mock_factory.h",
-    "profile_resetter/profile_resetter_test_base.cc",
-    "profile_resetter/profile_resetter_test_base.h",
-    "search_engines/template_url_service_factory_test_util.cc",
-    "search_engines/template_url_service_factory_test_util.h",
-    "search_engines/template_url_service_test_util.cc",
-    "search_engines/template_url_service_test_util.h",
-    "sessions/session_restore_test_helper.cc",
-    "sessions/session_restore_test_helper.h",
-    "sessions/session_service_test_helper.cc",
-    "sessions/session_service_test_helper.h",
+#    "profile_resetter/profile_resetter_test_base.cc",
+#    "profile_resetter/profile_resetter_test_base.h",
+#    "search_engines/template_url_service_factory_test_util.cc",
+#    "search_engines/template_url_service_factory_test_util.h",
+#    "search_engines/template_url_service_test_util.cc",
+#    "search_engines/template_url_service_test_util.h",
+#    "sessions/session_restore_test_helper.cc",
+#    "sessions/session_restore_test_helper.h",
+#    "sessions/session_service_test_helper.cc",
+#    "sessions/session_service_test_helper.h",
     "signin/fake_account_reconcilor.cc",
     "signin/fake_account_reconcilor.h",
@@ -931,31 +931,31 @@ source_set("test_support") {
     "ssl/ssl_client_auth_requestor_mock.cc",
     "ssl/ssl_client_auth_requestor_mock.h",
-    "sync/profile_sync_components_factory_mock.cc",
-    "sync/profile_sync_components_factory_mock.h",
-    "sync/profile_sync_service_mock.cc",
-    "sync/profile_sync_service_mock.h",
-    "ui/webui/signin/login_ui_test_utils.cc",
-    "ui/webui/signin/login_ui_test_utils.h",
+#    "sync/profile_sync_components_factory_mock.cc",
+#    "sync/profile_sync_components_factory_mock.h",
+#    "sync/profile_sync_service_mock.cc",
+#    "sync/profile_sync_service_mock.h",
+#    "ui/webui/signin/login_ui_test_utils.cc",
+#    "ui/webui/signin/login_ui_test_utils.h",
   ]
 
   public_deps = [
     ":browser",
-    "//chrome/browser/ui:test_support",
+#    "//chrome/browser/ui:test_support",
   ]
   deps = [
-    "//base:prefs_test_support",
+#    "//base:prefs_test_support",
     "//chrome/browser",
     "//chrome/common",
-    "//chrome/common/safe_browsing:proto",
+#    "//chrome/common/safe_browsing:proto",
     "//components/invalidation",
-    "//components/invalidation:test_support",
-    "//components/password_manager/core/browser:test_support",
-    "//components/search_engines:test_support",
-    "//content/test:test_support",
+#    "//components/invalidation:test_support",
+#    "//components/password_manager/core/browser:test_support",
+#    "//components/search_engines:test_support",
+#    "//content/test:test_support",
     "//chrome/app/theme:theme_resources",
-    "//net:test_support",
+#    "//net:test_support",
     "//skia",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//testing/gmock",
+#    "//testing/gtest",
     "//ui/gfx",
   ]
@@ -963,6 +963,6 @@ source_set("test_support") {
   if (!is_ios) {
     deps += [
-      "//components/sessions:test_support",
-      "//google_apis:test_support",
+#      "//components/sessions:test_support",
+#      "//google_apis:test_support",
     ]
   }
@@ -970,8 +970,8 @@ source_set("test_support") {
   if (enable_extensions) {
     sources += [
-      "extensions/extension_action_test_util.cc",
-      "extensions/extension_action_test_util.h",
+#      "extensions/extension_action_test_util.cc",
+#      "extensions/extension_action_test_util.h",
     ]
-    deps += [ "//extensions:test_support" ]
+#    deps += [ "//extensions:test_support" ]
   }
 
@@ -990,6 +990,6 @@ source_set("test_support") {
       "chromeos/login/screens/mock_device_disabled_screen_actor.cc",
       "chromeos/login/screens/mock_device_disabled_screen_actor.h",
-      "chromeos/login/session/user_session_manager_test_api.cc",
-      "chromeos/login/session/user_session_manager_test_api.h",
+#      "chromeos/login/session/user_session_manager_test_api.cc",
+#      "chromeos/login/session/user_session_manager_test_api.h",
       "chromeos/login/test/js_checker.cc",
       "chromeos/login/test/js_checker.h",
@@ -1008,8 +1008,8 @@ source_set("test_support") {
       "chromeos/login/users/mock_user_manager.cc",
       "chromeos/login/users/mock_user_manager.h",
-      "chromeos/net/network_portal_detector_test_utils.cc",
-      "chromeos/net/network_portal_detector_test_utils.h",
-      "chromeos/policy/cloud_external_data_manager_base_test_util.cc",
-      "chromeos/policy/cloud_external_data_manager_base_test_util.h",
+#      "chromeos/net/network_portal_detector_test_utils.cc",
+#      "chromeos/net/network_portal_detector_test_utils.h",
+#      "chromeos/policy/cloud_external_data_manager_base_test_util.cc",
+#      "chromeos/policy/cloud_external_data_manager_base_test_util.h",
       "chromeos/policy/device_policy_builder.cc",
       "chromeos/policy/device_policy_builder.h",
@@ -1022,30 +1022,30 @@ source_set("test_support") {
       "chromeos/policy/stub_enterprise_install_attributes.cc",
       "chromeos/policy/stub_enterprise_install_attributes.h",
-      "chromeos/settings/device_settings_test_helper.cc",
-      "chromeos/settings/device_settings_test_helper.h",
+#      "chromeos/settings/device_settings_test_helper.cc",
+#      "chromeos/settings/device_settings_test_helper.h",
       "chromeos/system/fake_input_device_settings.cc",
       "chromeos/system/fake_input_device_settings.h",
     ]
     configs += [ "//build/config/linux:dbus" ]
-    deps += [ "//chromeos:test_support" ]
+#    deps += [ "//chromeos:test_support" ]
   }
 
   if (enable_configuration_policy) {
     sources += [
-      "policy/test/local_policy_test_server.cc",
-      "policy/test/local_policy_test_server.h",
+#      "policy/test/local_policy_test_server.cc",
+#      "policy/test/local_policy_test_server.h",
     ]
     public_deps += [
-      "//components/policy:policy_component_test_support",
-      "//components/policy:test_support",
+#      "//components/policy:policy_component_test_support",
+#      "//components/policy:test_support",
     ]
   }
 
-  if (safe_browsing_mode == 1) {
-    sources += [
-      "extensions/fake_safe_browsing_database_manager.cc",
-      "extensions/fake_safe_browsing_database_manager.h",
-    ]
-  }
+#  if (safe_browsing_mode == 1) {
+#    sources += [
+#      "extensions/fake_safe_browsing_database_manager.cc",
+#      "extensions/fake_safe_browsing_database_manager.h",
+#    ]
+#  }
 
   if (enable_extensions) {
@@ -1057,6 +1057,6 @@ source_set("test_support") {
       "drive/test_util.cc",
       "drive/test_util.h",
-      "extensions/api/messaging/native_messaging_test_util.cc",
-      "extensions/api/messaging/native_messaging_test_util.h",
+#      "extensions/api/messaging/native_messaging_test_util.cc",
+#      "extensions/api/messaging/native_messaging_test_util.h",
       "extensions/extension_notification_observer.cc",
       "extensions/extension_notification_observer.h",
@@ -1077,8 +1077,8 @@ source_set("test_support") {
       "extensions/test_extension_system.cc",
       "extensions/test_extension_system.h",
-      "media_galleries/media_galleries_test_util.cc",
-      "media_galleries/media_galleries_test_util.h",
+#      "media_galleries/media_galleries_test_util.cc",
+#      "media_galleries/media_galleries_test_util.h",
     ]
-    deps += [ "//components/storage_monitor:test_support" ]
+#    deps += [ "//components/storage_monitor:test_support" ]
   }
 
@@ -1092,6 +1092,6 @@ source_set("test_support") {
   if (enable_app_list) {
     sources += [
-      "ui/app_list/test/chrome_app_list_test_support.cc",
-      "ui/app_list/test/chrome_app_list_test_support.h",
+#      "ui/app_list/test/chrome_app_list_test_support.cc",
+#      "ui/app_list/test/chrome_app_list_test_support.h",
       "ui/app_list/test/test_app_list_controller_delegate.cc",
       "ui/app_list/test/test_app_list_controller_delegate.h",
diff --git a/chrome/browser/chrome_browser_field_trials.cc b/chrome/browser/chrome_browser_field_trials.cc
index acaf1e8..22cd3fa 100644
--- a/chrome/browser/chrome_browser_field_trials.cc
+++ b/chrome/browser/chrome_browser_field_trials.cc
@@ -8,5 +8,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/chrome_browser_field_trials_desktop.cc b/chrome/browser/chrome_browser_field_trials_desktop.cc
index 9f3c516..96c0038 100644
--- a/chrome/browser/chrome_browser_field_trials_desktop.cc
+++ b/chrome/browser/chrome_browser_field_trials_desktop.cc
@@ -8,5 +8,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/chrome_browser_field_trials_mobile.cc b/chrome/browser/chrome_browser_field_trials_mobile.cc
index a3caf4f..a1a7ce6 100644
--- a/chrome/browser/chrome_browser_field_trials_mobile.cc
+++ b/chrome/browser/chrome_browser_field_trials_mobile.cc
@@ -8,5 +8,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "base/tracked_objects.h"
diff --git a/chrome/browser/chrome_browser_main.cc b/chrome/browser/chrome_browser_main.cc
index 5c7cbfc..dc20f77 100644
--- a/chrome/browser/chrome_browser_main.cc
+++ b/chrome/browser/chrome_browser_main.cc
@@ -16,6 +16,6 @@
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/path_service.h"
 #include "base/prefs/json_pref_store.h"
@@ -47,5 +47,5 @@
 #include "chrome/browser/component_updater/cld_component_installer.h"
 #include "chrome/browser/component_updater/ev_whitelist_component_installer.h"
-#include "chrome/browser/component_updater/flash_component_installer.h"
+//#include "chrome/browser/component_updater/flash_component_installer.h"
 #include "chrome/browser/component_updater/recovery_component_installer.h"
 #include "chrome/browser/component_updater/supervised_user_whitelist_installer.h"
@@ -66,6 +66,6 @@
 #include "chrome/browser/net/chrome_net_log.h"
 #include "chrome/browser/net/crl_set_fetcher.h"
-#include "chrome/browser/notifications/desktop_notification_service.h"
-#include "chrome/browser/notifications/desktop_notification_service_factory.h"
+//#include "chrome/browser/notifications/desktop_notification_service.h"
+//#include "chrome/browser/notifications/desktop_notification_service_factory.h"
 #include "chrome/browser/performance_monitor/performance_monitor.h"
 #include "chrome/browser/plugins/plugin_prefs.h"
@@ -75,6 +75,6 @@
 #include "chrome/browser/prefs/command_line_pref_store.h"
 #include "chrome/browser/prefs/pref_metrics_service.h"
-#include "chrome/browser/printing/cloud_print/cloud_print_proxy_service.h"
-#include "chrome/browser/printing/cloud_print/cloud_print_proxy_service_factory.h"
+//#include "chrome/browser/printing/cloud_print/cloud_print_proxy_service.h"
+//#include "chrome/browser/printing/cloud_print/cloud_print_proxy_service_factory.h"
 #include "chrome/browser/process_singleton.h"
 #include "chrome/browser/profiles/profile.h"
@@ -109,4 +109,5 @@
 #include "components/google/core/browser/google_util.h"
 #include "components/language_usage_metrics/language_usage_metrics.h"
+//TODO: remove metrics:
 #include "components/metrics/metrics_service.h"
 #include "components/metrics/profiler/tracking_synchronizer.h"
@@ -143,5 +144,5 @@
 #include "chrome/browser/metrics/thread_watcher_android.h"
 #else
-#include "chrome/browser/feedback/feedback_profile_observer.h"
+//#include "chrome/browser/feedback/feedback_profile_observer.h"
 #endif  // defined(OS_ANDROID)
 
@@ -412,5 +413,5 @@ void RegisterComponentsForUpdate() {
 #if !defined(OS_CHROMEOS) && !defined(OS_ANDROID)
   RegisterRecoveryComponent(cus, g_browser_process->local_state());
-  RegisterPepperFlashComponent(cus);
+//  RegisterPepperFlashComponent(cus);
   RegisterSwiftShaderComponent(cus);
   RegisterWidevineCdmComponent(cus);
@@ -1042,5 +1043,5 @@ void ChromeBrowserMainParts::PreProfileInit() {
   // Initialize the feedback uploader so it can setup notifications for profile
   // creation.
-  feedback::FeedbackProfileObserver::Initialize();
+//  feedback::FeedbackProfileObserver::Initialize();
 
   ProfileManager* profile_manager = g_browser_process->profile_manager();
diff --git a/chrome/browser/chrome_browser_main.h b/chrome/browser/chrome_browser_main.h
index 1258b75..451d264 100644
--- a/chrome/browser/chrome_browser_main.h
+++ b/chrome/browser/chrome_browser_main.h
@@ -8,5 +8,5 @@
 #include "base/basictypes.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/tracked_objects.h"
 #include "chrome/browser/chrome_browser_field_trials.h"
diff --git a/chrome/browser/chrome_browser_main_win.cc b/chrome/browser/chrome_browser_main_win.cc
index 3458df2..8bea3ea 100644
--- a/chrome/browser/chrome_browser_main_win.cc
+++ b/chrome/browser/chrome_browser_main_win.cc
@@ -17,5 +17,5 @@
 #include "base/macros.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/scoped_native_library.h"
diff --git a/chrome/browser/chrome_elf_init_win.cc b/chrome/browser/chrome_elf_init_win.cc
index 3d568a6..d7c4d60 100644
--- a/chrome/browser/chrome_elf_init_win.cc
+++ b/chrome/browser/chrome_elf_init_win.cc
@@ -4,7 +4,7 @@
 
 #include "base/bind.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/win/registry.h"
diff --git a/chrome/browser/chromeos/accessibility/accessibility_manager.cc b/chrome/browser/chromeos/accessibility/accessibility_manager.cc
index 338a86e..02c118c 100644
--- a/chrome/browser/chromeos/accessibility/accessibility_manager.cc
+++ b/chrome/browser/chromeos/accessibility/accessibility_manager.cc
@@ -17,5 +17,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_member.h"
diff --git a/chrome/browser/chromeos/attestation/platform_verification_flow.cc b/chrome/browser/chromeos/attestation/platform_verification_flow.cc
index 5e03617..d1f5289 100644
--- a/chrome/browser/chromeos/attestation/platform_verification_flow.cc
+++ b/chrome/browser/chromeos/attestation/platform_verification_flow.cc
@@ -8,5 +8,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/time/time.h"
diff --git a/chrome/browser/chromeos/boot_times_recorder.cc b/chrome/browser/chromeos/boot_times_recorder.cc
index 4da58d0e..bdf9bde 100644
--- a/chrome/browser/chromeos/boot_times_recorder.cc
+++ b/chrome/browser/chromeos/boot_times_recorder.cc
@@ -17,5 +17,5 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/chromeos/BUILD.gn b/chrome/browser/chromeos/BUILD.gn
index 1448c08..e8521b0 100644
--- a/chrome/browser/chromeos/BUILD.gn
+++ b/chrome/browser/chromeos/BUILD.gn
@@ -77,6 +77,6 @@ source_set("chromeos") {
     "//crypto",
     "//dbus",
-    "//device/bluetooth",
-    "//device/hid",
+#    "//device/bluetooth",
+#    "//device/hid",
     "//media",
     "//net",
@@ -84,9 +84,9 @@ source_set("chromeos") {
 
     # TODO: care about enable_basic_printing and enable_print_preview.
-    "//printing",
+#    "//printing",
     "//skia",
     "//storage/browser",
     "//storage/common",
-    "//sync",
+#    "//sync",
     "//third_party/adobe/flash:flapper_version_h",
     "//third_party/cacheinvalidation",
diff --git a/chrome/browser/chromeos/customization/customization_document.cc b/chrome/browser/chromeos/customization/customization_document.cc
index 9a3b877..7cb8c1c 100644
--- a/chrome/browser/chromeos/customization/customization_document.cc
+++ b/chrome/browser/chromeos/customization/customization_document.cc
@@ -15,5 +15,5 @@
 #include "base/logging.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/chrome/browser/chromeos/dbus/printer_service_provider.cc b/chrome/browser/chromeos/dbus/printer_service_provider.cc
index c70305e..c1b70d6 100644
--- a/chrome/browser/chromeos/dbus/printer_service_provider.cc
+++ b/chrome/browser/chromeos/dbus/printer_service_provider.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/bind_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "base/sys_info.h"
diff --git a/chrome/browser/chromeos/device_uma.cc b/chrome/browser/chromeos/device_uma.cc
index e2e3954..efd7a83 100644
--- a/chrome/browser/chromeos/device_uma.cc
+++ b/chrome/browser/chromeos/device_uma.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "ui/events/devices/x11/device_data_manager_x11.h"
 #include "ui/events/event_constants.h"
diff --git a/chrome/browser/chromeos/drive/change_list_loader.cc b/chrome/browser/chromeos/drive/change_list_loader.cc
index dbe26ed..694b134 100644
--- a/chrome/browser/chromeos/drive/change_list_loader.cc
+++ b/chrome/browser/chromeos/drive/change_list_loader.cc
@@ -9,5 +9,5 @@
 #include "base/callback.h"
 #include "base/callback_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/time/time.h"
diff --git a/chrome/browser/chromeos/drive/change_list_processor.cc b/chrome/browser/chromeos/drive/change_list_processor.cc
index fb4f46e..cc3fd00 100644
--- a/chrome/browser/chromeos/drive/change_list_processor.cc
+++ b/chrome/browser/chromeos/drive/change_list_processor.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/chromeos/drive/change_list_processor.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "chrome/browser/chromeos/drive/drive.pb.h"
diff --git a/chrome/browser/chromeos/drive/directory_loader.cc b/chrome/browser/chromeos/drive/directory_loader.cc
index b1512ad..473f83d 100644
--- a/chrome/browser/chromeos/drive/directory_loader.cc
+++ b/chrome/browser/chromeos/drive/directory_loader.cc
@@ -7,5 +7,5 @@
 #include "base/callback.h"
 #include "base/callback_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/time/time.h"
diff --git a/chrome/browser/chromeos/drive/file_cache.cc b/chrome/browser/chromeos/drive/file_cache.cc
index 0fea321..6e6eca6 100644
--- a/chrome/browser/chromeos/drive/file_cache.cc
+++ b/chrome/browser/chromeos/drive/file_cache.cc
@@ -11,5 +11,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/chromeos/drive/job_scheduler.cc b/chrome/browser/chromeos/drive/job_scheduler.cc
index 4919807..dafb45e 100644
--- a/chrome/browser/chromeos/drive/job_scheduler.cc
+++ b/chrome/browser/chromeos/drive/job_scheduler.cc
@@ -7,5 +7,5 @@
 #include "base/files/file_util.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/rand_util.h"
diff --git a/chrome/browser/chromeos/drive/resource_metadata_storage.cc b/chrome/browser/chromeos/drive/resource_metadata_storage.cc
index 799f9f3..32bb970 100644
--- a/chrome/browser/chromeos/drive/resource_metadata_storage.cc
+++ b/chrome/browser/chromeos/drive/resource_metadata_storage.cc
@@ -13,6 +13,6 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/threading/thread_restrictions.h"
diff --git a/chrome/browser/chromeos/drive/search_metadata.cc b/chrome/browser/chromeos/drive/search_metadata.cc
index 1ba2763..0569aac 100644
--- a/chrome/browser/chromeos/drive/search_metadata.cc
+++ b/chrome/browser/chromeos/drive/search_metadata.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/i18n/string_search.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/time/time.h"
diff --git a/chrome/browser/chromeos/extensions/echo_private_apitest.cc b/chrome/browser/chromeos/extensions/echo_private_apitest.cc
index 025762c..a8e18b0 100644
--- a/chrome/browser/chromeos/extensions/echo_private_apitest.cc
+++ b/chrome/browser/chromeos/extensions/echo_private_apitest.cc
@@ -13,5 +13,5 @@
 #include "chrome/browser/extensions/extension_function_test_utils.h"
 #include "chromeos/chromeos_switches.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace utils = extension_function_test_utils;
diff --git a/chrome/browser/chromeos/extensions/first_run_private_api.cc b/chrome/browser/chromeos/extensions/first_run_private_api.cc
index 088f3fc7..57b9e34 100644
--- a/chrome/browser/chromeos/extensions/first_run_private_api.cc
+++ b/chrome/browser/chromeos/extensions/first_run_private_api.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/chromeos/extensions/first_run_private_api.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/browser_process.h"
 #include "chrome/browser/chromeos/first_run/first_run.h"
diff --git a/chrome/browser/chromeos/extensions/input_method_apitest_chromeos.cc b/chrome/browser/chromeos/extensions/input_method_apitest_chromeos.cc
index a3c44ce..d61ff80 100644
--- a/chrome/browser/chromeos/extensions/input_method_apitest_chromeos.cc
+++ b/chrome/browser/chromeos/extensions/input_method_apitest_chromeos.cc
@@ -19,5 +19,5 @@
 #include "extensions/browser/api/test/test_api.h"
 #include "extensions/browser/notification_types.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/base/ime/chromeos/extension_ime_util.h"
 #include "ui/base/ime/chromeos/input_method_manager.h"
diff --git a/chrome/browser/chromeos/external_metrics.cc b/chrome/browser/chromeos/external_metrics.cc
index fe248a7..468754e 100644
--- a/chrome/browser/chromeos/external_metrics.cc
+++ b/chrome/browser/chromeos/external_metrics.cc
@@ -11,8 +11,8 @@
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/timer/elapsed_timer.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/chromeos/external_protocol_dialog.cc b/chrome/browser/chromeos/external_protocol_dialog.cc
index ce72f71..756f974 100644
--- a/chrome/browser/chromeos/external_protocol_dialog.cc
+++ b/chrome/browser/chromeos/external_protocol_dialog.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/chromeos/external_protocol_dialog.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/chromeos/file_manager/volume_manager.cc b/chrome/browser/chromeos/file_manager/volume_manager.cc
index 6820aab..0a0868b 100644
--- a/chrome/browser/chromeos/file_manager/volume_manager.cc
+++ b/chrome/browser/chromeos/file_manager/volume_manager.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/chromeos/first_run/drive_first_run_controller.cc b/chrome/browser/chromeos/first_run/drive_first_run_controller.cc
index 63aedbb..6039762 100644
--- a/chrome/browser/chromeos/first_run/drive_first_run_controller.cc
+++ b/chrome/browser/chromeos/first_run/drive_first_run_controller.cc
@@ -10,5 +10,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "chrome/browser/background/background_contents.h"
diff --git a/chrome/browser/chromeos/first_run/first_run.cc b/chrome/browser/chromeos/first_run/first_run.cc
index 27b94fa..585e92a 100644
--- a/chrome/browser/chromeos/first_run/first_run.cc
+++ b/chrome/browser/chromeos/first_run/first_run.cc
@@ -4,5 +4,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/chromeos/first_run/first_run_controller.cc b/chrome/browser/chromeos/first_run/first_run_controller.cc
index 02b8cf1..9e8766a 100644
--- a/chrome/browser/chromeos/first_run/first_run_controller.cc
+++ b/chrome/browser/chromeos/first_run/first_run_controller.cc
@@ -8,5 +8,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/chromeos/first_run/first_run_view.h"
 #include "chrome/browser/chromeos/first_run/metrics.h"
diff --git a/chrome/browser/chromeos/first_run/step.cc b/chrome/browser/chromeos/first_run/step.cc
index 7753074..0950abc 100644
--- a/chrome/browser/chromeos/first_run/step.cc
+++ b/chrome/browser/chromeos/first_run/step.cc
@@ -9,5 +9,5 @@
 #include "ash/first_run/first_run_helper.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/ui/webui/chromeos/first_run/first_run_actor.h"
 #include "ui/gfx/geometry/size.h"
diff --git a/chrome/browser/chromeos/input_method/input_method_engine.cc b/chrome/browser/chromeos/input_method/input_method_engine.cc
index e69a73f..0e7890e 100644
--- a/chrome/browser/chromeos/input_method/input_method_engine.cc
+++ b/chrome/browser/chromeos/input_method/input_method_engine.cc
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/chromeos/input_method/input_method_manager_impl.cc b/chrome/browser/chromeos/input_method/input_method_manager_impl.cc
index 32504e4..b03c135 100644
--- a/chrome/browser/chromeos/input_method/input_method_manager_impl.cc
+++ b/chrome/browser/chromeos/input_method/input_method_manager_impl.cc
@@ -13,6 +13,6 @@
 #include "base/location.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_split.h"
diff --git a/chrome/browser/chromeos/input_method/input_method_switch_recorder.cc b/chrome/browser/chromeos/input_method/input_method_switch_recorder.cc
index 3a51539..0549ce1 100644
--- a/chrome/browser/chromeos/input_method/input_method_switch_recorder.cc
+++ b/chrome/browser/chromeos/input_method/input_method_switch_recorder.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/chromeos/input_method/input_method_switch_recorder.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace {
diff --git a/chrome/browser/chromeos/login/enrollment/enrollment_screen.cc b/chrome/browser/chromeos/login/enrollment/enrollment_screen.cc
index 601d6aa..237e574 100644
--- a/chrome/browser/chromeos/login/enrollment/enrollment_screen.cc
+++ b/chrome/browser/chromeos/login/enrollment/enrollment_screen.cc
@@ -9,5 +9,5 @@
 #include "base/callback.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/timer/elapsed_timer.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/chromeos/login/enrollment/enrollment_uma.cc b/chrome/browser/chromeos/login/enrollment/enrollment_uma.cc
index d45766a..4efd6e2 100644
--- a/chrome/browser/chromeos/login/enrollment/enrollment_uma.cc
+++ b/chrome/browser/chromeos/login/enrollment/enrollment_uma.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 
 namespace {
diff --git a/chrome/browser/chromeos/login/enrollment/mock_auto_enrollment_check_screen.h b/chrome/browser/chromeos/login/enrollment/mock_auto_enrollment_check_screen.h
index cbcada8..bc6622b 100644
--- a/chrome/browser/chromeos/login/enrollment/mock_auto_enrollment_check_screen.h
+++ b/chrome/browser/chromeos/login/enrollment/mock_auto_enrollment_check_screen.h
@@ -8,5 +8,5 @@
 #include "chrome/browser/chromeos/login/enrollment/auto_enrollment_check_screen.h"
 #include "chrome/browser/chromeos/login/enrollment/auto_enrollment_check_screen_actor.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/enrollment/mock_enrollment_screen.h b/chrome/browser/chromeos/login/enrollment/mock_enrollment_screen.h
index 26e570b..85c1227 100644
--- a/chrome/browser/chromeos/login/enrollment/mock_enrollment_screen.h
+++ b/chrome/browser/chromeos/login/enrollment/mock_enrollment_screen.h
@@ -11,5 +11,5 @@
 #include "chrome/browser/chromeos/policy/enrollment_status_chromeos.h"
 #include "google_apis/gaia/google_service_auth_error.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/error_screens_histogram_helper.cc b/chrome/browser/chromeos/login/error_screens_histogram_helper.cc
index 94a7ff6..68367b8 100644
--- a/chrome/browser/chromeos/login/error_screens_histogram_helper.cc
+++ b/chrome/browser/chromeos/login/error_screens_histogram_helper.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/chromeos/login/error_screens_histogram_helper.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/existing_user_controller.cc b/chrome/browser/chromeos/login/existing_user_controller.cc
index a32ffb6..e77d9a0 100644
--- a/chrome/browser/chromeos/login/existing_user_controller.cc
+++ b/chrome/browser/chromeos/login/existing_user_controller.cc
@@ -14,5 +14,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/chromeos/login/lock/screen_locker.cc b/chrome/browser/chromeos/login/lock/screen_locker.cc
index 2bf45b9..548a5b6 100644
--- a/chrome/browser/chromeos/login/lock/screen_locker.cc
+++ b/chrome/browser/chromeos/login/lock/screen_locker.cc
@@ -21,5 +21,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/chromeos/login/lock/screen_locker_tester.cc b/chrome/browser/chromeos/login/lock/screen_locker_tester.cc
index bdbe613..a033842 100644
--- a/chrome/browser/chromeos/login/lock/screen_locker_tester.cc
+++ b/chrome/browser/chromeos/login/lock/screen_locker_tester.cc
@@ -21,5 +21,5 @@
 #include "content/public/browser/web_ui.h"
 #include "content/public/test/test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/views/controls/button/button.h"
 #include "ui/views/controls/label.h"
diff --git a/chrome/browser/chromeos/login/lock/webui_screen_locker.cc b/chrome/browser/chromeos/login/lock/webui_screen_locker.cc
index 08cdae9..930e9e5 100644
--- a/chrome/browser/chromeos/login/lock/webui_screen_locker.cc
+++ b/chrome/browser/chromeos/login/lock/webui_screen_locker.cc
@@ -10,5 +10,5 @@
 #include "ash/wm/lock_state_observer.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/values.h"
diff --git a/chrome/browser/chromeos/login/login_manager_test.cc b/chrome/browser/chromeos/login/login_manager_test.cc
index 45a6101..1e1031d 100644
--- a/chrome/browser/chromeos/login/login_manager_test.cc
+++ b/chrome/browser/chromeos/login/login_manager_test.cc
@@ -23,5 +23,5 @@
 #include "content/public/test/browser_test_utils.h"
 #include "content/public/test/test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/hid_detection_screen.cc b/chrome/browser/chromeos/login/screens/hid_detection_screen.cc
index 507c45c..943aed4 100644
--- a/chrome/browser/chromeos/login/screens/hid_detection_screen.cc
+++ b/chrome/browser/chromeos/login/screens/hid_detection_screen.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/chromeos/login/screenshot_testing/screenshot_tester.cc b/chrome/browser/chromeos/login/screenshot_testing/screenshot_tester.cc
index df9427e..e397d2d 100644
--- a/chrome/browser/chromeos/login/screenshot_testing/screenshot_tester.cc
+++ b/chrome/browser/chromeos/login/screenshot_testing/screenshot_tester.cc
@@ -13,5 +13,5 @@
 #include "chromeos/chromeos_switches.h"
 #include "content/public/browser/browser_thread.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/skia/include/core/SkCanvas.h"
 #include "ui/compositor/compositor_switches.h"
diff --git a/chrome/browser/chromeos/login/screens/mock_base_screen_delegate.h b/chrome/browser/chromeos/login/screens/mock_base_screen_delegate.h
index 2d2c01c..b1341a7 100644
--- a/chrome/browser/chromeos/login/screens/mock_base_screen_delegate.h
+++ b/chrome/browser/chromeos/login/screens/mock_base_screen_delegate.h
@@ -10,5 +10,5 @@
 #include "chrome/browser/chromeos/login/screens/base_screen.h"
 #include "chrome/browser/chromeos/login/screens/base_screen_delegate.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/mock_device_disabled_screen_actor.h b/chrome/browser/chromeos/login/screens/mock_device_disabled_screen_actor.h
index e124e06..69edcdb 100644
--- a/chrome/browser/chromeos/login/screens/mock_device_disabled_screen_actor.h
+++ b/chrome/browser/chromeos/login/screens/mock_device_disabled_screen_actor.h
@@ -7,5 +7,5 @@
 
 #include "chrome/browser/chromeos/login/screens/device_disabled_screen_actor.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/mock_enable_debugging_screen.h b/chrome/browser/chromeos/login/screens/mock_enable_debugging_screen.h
index 235d2de..9cb704fa 100644
--- a/chrome/browser/chromeos/login/screens/mock_enable_debugging_screen.h
+++ b/chrome/browser/chromeos/login/screens/mock_enable_debugging_screen.h
@@ -9,5 +9,5 @@
 #include "chrome/browser/chromeos/login/screens/enable_debugging_screen_actor.h"
 #include "google_apis/gaia/google_service_auth_error.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/mock_error_screen.h b/chrome/browser/chromeos/login/screens/mock_error_screen.h
index bea1ce3..6a83cb9 100644
--- a/chrome/browser/chromeos/login/screens/mock_error_screen.h
+++ b/chrome/browser/chromeos/login/screens/mock_error_screen.h
@@ -10,5 +10,5 @@
 #include "chrome/browser/chromeos/login/screens/network_error_model.h"
 #include "chrome/browser/chromeos/login/screens/network_error_view.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/mock_eula_screen.h b/chrome/browser/chromeos/login/screens/mock_eula_screen.h
index 36a015d..7ed11a8 100644
--- a/chrome/browser/chromeos/login/screens/mock_eula_screen.h
+++ b/chrome/browser/chromeos/login/screens/mock_eula_screen.h
@@ -9,5 +9,5 @@
 #include "chrome/browser/chromeos/login/screens/eula_screen.h"
 #include "chrome/browser/chromeos/login/screens/eula_view.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/mock_network_screen.h b/chrome/browser/chromeos/login/screens/mock_network_screen.h
index bcb4f90..e48cecf 100644
--- a/chrome/browser/chromeos/login/screens/mock_network_screen.h
+++ b/chrome/browser/chromeos/login/screens/mock_network_screen.h
@@ -9,5 +9,5 @@
 #include "chrome/browser/chromeos/login/screens/network_screen.h"
 #include "chrome/browser/chromeos/login/screens/network_view.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/mock_update_screen.h b/chrome/browser/chromeos/login/screens/mock_update_screen.h
index e6b0334..c59cffa 100644
--- a/chrome/browser/chromeos/login/screens/mock_update_screen.h
+++ b/chrome/browser/chromeos/login/screens/mock_update_screen.h
@@ -10,5 +10,5 @@
 #include "chrome/browser/chromeos/login/screens/update_screen.h"
 #include "chrome/browser/chromeos/login/screens/update_view.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/mock_wrong_hwid_screen.h b/chrome/browser/chromeos/login/screens/mock_wrong_hwid_screen.h
index 6a9ba39..94302be 100644
--- a/chrome/browser/chromeos/login/screens/mock_wrong_hwid_screen.h
+++ b/chrome/browser/chromeos/login/screens/mock_wrong_hwid_screen.h
@@ -8,5 +8,5 @@
 #include "chrome/browser/chromeos/login/screens/wrong_hwid_screen.h"
 #include "chrome/browser/chromeos/login/screens/wrong_hwid_screen_actor.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/screens/reset_screen.cc b/chrome/browser/chromeos/login/screens/reset_screen.cc
index b3106ec..0cfcb3e 100644
--- a/chrome/browser/chromeos/login/screens/reset_screen.cc
+++ b/chrome/browser/chromeos/login/screens/reset_screen.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/chromeos/login/screens/user_image_screen.cc b/chrome/browser/chromeos/login/screens/user_image_screen.cc
index 3ea07ea..93033ab 100644
--- a/chrome/browser/chromeos/login/screens/user_image_screen.cc
+++ b/chrome/browser/chromeos/login/screens/user_image_screen.cc
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/timer/timer.h"
 #include "base/values.h"
diff --git a/chrome/browser/chromeos/login/signin/auth_sync_observer.cc b/chrome/browser/chromeos/login/signin/auth_sync_observer.cc
index 6cd4e76..3299e7f 100644
--- a/chrome/browser/chromeos/login/signin/auth_sync_observer.cc
+++ b/chrome/browser/chromeos/login/signin/auth_sync_observer.cc
@@ -5,6 +5,6 @@
 #include "chrome/browser/chromeos/login/signin/auth_sync_observer.h"
 
-#include "base/metrics/user_metrics.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/chromeos/login/users/chrome_user_manager.h"
diff --git a/chrome/browser/chromeos/login/signin/merge_session_load_page.cc b/chrome/browser/chromeos/login/signin/merge_session_load_page.cc
index e0c013e..3002093 100644
--- a/chrome/browser/chromeos/login/signin/merge_session_load_page.cc
+++ b/chrome/browser/chromeos/login/signin/merge_session_load_page.cc
@@ -8,5 +8,5 @@
 #include "ash/shell_delegate.h"
 #include "ash/system/tray/system_tray_delegate.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_piece.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/chromeos/login/signin/merge_session_throttle.cc b/chrome/browser/chromeos/login/signin/merge_session_throttle.cc
index b4ce9d6..8d919e0 100644
--- a/chrome/browser/chromeos/login/signin/merge_session_throttle.cc
+++ b/chrome/browser/chromeos/login/signin/merge_session_throttle.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/threading/non_thread_safe.h"
diff --git a/chrome/browser/chromeos/login/signin/oauth2_login_manager.cc b/chrome/browser/chromeos/login/signin/oauth2_login_manager.cc
index 15bda18..89b564b 100644
--- a/chrome/browser/chromeos/login/signin/oauth2_login_manager.cc
+++ b/chrome/browser/chromeos/login/signin/oauth2_login_manager.cc
@@ -9,5 +9,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/chromeos/login/signin/oauth2_login_verifier.cc b/chrome/browser/chromeos/login/signin/oauth2_login_verifier.cc
index 807e283..18bb7d3 100644
--- a/chrome/browser/chromeos/login/signin/oauth2_login_verifier.cc
+++ b/chrome/browser/chromeos/login/signin/oauth2_login_verifier.cc
@@ -8,5 +8,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/chromeos/login/supervised/supervised_user_authentication.cc b/chrome/browser/chromeos/login/supervised/supervised_user_authentication.cc
index c2ea24d..427004d 100644
--- a/chrome/browser/chromeos/login/supervised/supervised_user_authentication.cc
+++ b/chrome/browser/chromeos/login/supervised/supervised_user_authentication.cc
@@ -8,5 +8,5 @@
 #include "base/json/json_file_value_serializer.h"
 #include "base/macros.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/chromeos/login/supervised/supervised_user_login_flow.cc b/chrome/browser/chromeos/login/supervised/supervised_user_login_flow.cc
index cbbbc6e..1963d8e 100644
--- a/chrome/browser/chromeos/login/supervised/supervised_user_login_flow.cc
+++ b/chrome/browser/chromeos/login/supervised/supervised_user_login_flow.cc
@@ -8,5 +8,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/chromeos/login/test/js_checker.cc b/chrome/browser/chromeos/login/test/js_checker.cc
index ca56a2b..971f165 100644
--- a/chrome/browser/chromeos/login/test/js_checker.cc
+++ b/chrome/browser/chromeos/login/test/js_checker.cc
@@ -10,5 +10,5 @@
 #include "content/public/test/browser_test_utils.h"
 #include "content/public/test/test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/browser/chromeos/login/test/oobe_screen_waiter.cc b/chrome/browser/chromeos/login/test/oobe_screen_waiter.cc
index cdc2e4c..993ae34 100644
--- a/chrome/browser/chromeos/login/test/oobe_screen_waiter.cc
+++ b/chrome/browser/chromeos/login/test/oobe_screen_waiter.cc
@@ -7,5 +7,5 @@
 #include "chrome/browser/chromeos/login/ui/login_display_host_impl.h"
 #include "content/public/test/test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/ui/mock_login_display.h b/chrome/browser/chromeos/login/ui/mock_login_display.h
index f14e741..04cf30c 100644
--- a/chrome/browser/chromeos/login/ui/mock_login_display.h
+++ b/chrome/browser/chromeos/login/ui/mock_login_display.h
@@ -8,5 +8,5 @@
 #include "base/basictypes.h"
 #include "chrome/browser/chromeos/login/ui/login_display.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/ui/mock_login_display_host.h b/chrome/browser/chromeos/login/ui/mock_login_display_host.h
index 9ac83d2..5b80f7a 100644
--- a/chrome/browser/chromeos/login/ui/mock_login_display_host.h
+++ b/chrome/browser/chromeos/login/ui/mock_login_display_host.h
@@ -9,5 +9,5 @@
 #include "chrome/browser/chromeos/login/ui/login_display_host.h"
 #include "chrome/browser/ui/webui/chromeos/login/signin_screen_handler.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/users/avatar/mock_user_image_manager.h b/chrome/browser/chromeos/login/users/avatar/mock_user_image_manager.h
index c006a18..6034a0a 100644
--- a/chrome/browser/chromeos/login/users/avatar/mock_user_image_manager.h
+++ b/chrome/browser/chromeos/login/users/avatar/mock_user_image_manager.h
@@ -11,5 +11,5 @@
 #include "chrome/browser/chromeos/login/users/avatar/user_image_manager.h"
 #include "components/user_manager/user_image/user_image.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/users/avatar/user_image_manager_impl.cc b/chrome/browser/chromeos/login/users/avatar/user_image_manager_impl.cc
index 0a34c13..31cadfa 100644
--- a/chrome/browser/chromeos/login/users/avatar/user_image_manager_impl.cc
+++ b/chrome/browser/chromeos/login/users/avatar/user_image_manager_impl.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/chrome/browser/chromeos/login/users/chrome_user_manager_impl.cc b/chrome/browser/chromeos/login/users/chrome_user_manager_impl.cc
index 4cdadd9..c002d68 100644
--- a/chrome/browser/chromeos/login/users/chrome_user_manager_impl.cc
+++ b/chrome/browser/chromeos/login/users/chrome_user_manager_impl.cc
@@ -15,5 +15,5 @@
 #include "base/format_macros.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/chromeos/login/users/mock_user_manager.h b/chrome/browser/chromeos/login/users/mock_user_manager.h
index 78a6ef9..7b435d9 100644
--- a/chrome/browser/chromeos/login/users/mock_user_manager.h
+++ b/chrome/browser/chromeos/login/users/mock_user_manager.h
@@ -15,5 +15,5 @@
 #include "components/user_manager/user.h"
 #include "components/user_manager/user_image/user_image.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chrome/browser/chromeos/login/users/wallpaper/wallpaper_manager.cc b/chrome/browser/chromeos/login/users/wallpaper/wallpaper_manager.cc
index ef44c39..00afb4d 100644
--- a/chrome/browser/chromeos/login/users/wallpaper/wallpaper_manager.cc
+++ b/chrome/browser/chromeos/login/users/wallpaper/wallpaper_manager.cc
@@ -17,5 +17,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/chrome/browser/chromeos/login/wizard_controller.cc b/chrome/browser/chromeos/login/wizard_controller.cc
index 8c3e0cd..b6ec620 100644
--- a/chrome/browser/chromeos/login/wizard_controller.cc
+++ b/chrome/browser/chromeos/login/wizard_controller.cc
@@ -16,5 +16,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/chromeos/memory/oom_priority_manager.cc b/chrome/browser/chromeos/memory/oom_priority_manager.cc
index 8d496db..271ac31 100644
--- a/chrome/browser/chromeos/memory/oom_priority_manager.cc
+++ b/chrome/browser/chromeos/memory/oom_priority_manager.cc
@@ -16,6 +16,6 @@
 #include "base/chromeos/memory_pressure_observer_chromeos.h"
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process.h"
 #include "base/strings/string16.h"
diff --git a/chrome/browser/chromeos/mobile/mobile_activator.cc b/chrome/browser/chromeos/mobile/mobile_activator.cc
index a538cf1..bb228fe 100644
--- a/chrome/browser/chromeos/mobile/mobile_activator.cc
+++ b/chrome/browser/chromeos/mobile/mobile_activator.cc
@@ -17,5 +17,5 @@
 #include "base/memory/ref_counted_memory.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/observer_list_threadsafe.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/chromeos/net/network_portal_detector_impl.cc b/chrome/browser/chromeos/net/network_portal_detector_impl.cc
index 461241b..b3568ed 100644
--- a/chrome/browser/chromeos/net/network_portal_detector_impl.cc
+++ b/chrome/browser/chromeos/net/network_portal_detector_impl.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "chrome/browser/chrome_notification_types.h"
diff --git a/chrome/browser/chromeos/net/network_portal_notification_controller.cc b/chrome/browser/chromeos/net/network_portal_notification_controller.cc
index eacf5e4..81e2fc3 100644
--- a/chrome/browser/chromeos/net/network_portal_notification_controller.cc
+++ b/chrome/browser/chromeos/net/network_portal_notification_controller.cc
@@ -16,5 +16,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string16.h"
diff --git a/chrome/browser/chromeos/offline/offline_load_page.cc b/chrome/browser/chromeos/offline/offline_load_page.cc
index f2db48b..1b20685 100644
--- a/chrome/browser/chromeos/offline/offline_load_page.cc
+++ b/chrome/browser/chromeos/offline/offline_load_page.cc
@@ -10,5 +10,5 @@
 #include "ash/system/tray/system_tray_delegate.h"
 #include "base/i18n/rtl.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_piece.h"
diff --git a/chrome/browser/chromeos/policy/auto_enrollment_client.cc b/chrome/browser/chromeos/policy/auto_enrollment_client.cc
index 78bde1e..bc10a1e 100644
--- a/chrome/browser/chromeos/policy/auto_enrollment_client.cc
+++ b/chrome/browser/chromeos/policy/auto_enrollment_client.cc
@@ -10,6 +10,6 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/chromeos/policy/device_cloud_policy_store_chromeos.cc b/chrome/browser/chromeos/policy/device_cloud_policy_store_chromeos.cc
index 71841da..7dd227c 100644
--- a/chrome/browser/chromeos/policy/device_cloud_policy_store_chromeos.cc
+++ b/chrome/browser/chromeos/policy/device_cloud_policy_store_chromeos.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "chrome/browser/chromeos/login/startup_utils.h"
diff --git a/chrome/browser/chromeos/policy/device_policy_cros_browser_test.cc b/chrome/browser/chromeos/policy/device_policy_cros_browser_test.cc
index 59e8401..e3a644d 100644
--- a/chrome/browser/chromeos/policy/device_policy_cros_browser_test.cc
+++ b/chrome/browser/chromeos/policy/device_policy_cros_browser_test.cc
@@ -19,6 +19,6 @@
 #include "chromeos/dbus/fake_session_manager_client.h"
 #include "crypto/rsa_private_key.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using ::testing::_;
diff --git a/chrome/browser/chromeos/policy/user_cloud_policy_manager_chromeos.cc b/chrome/browser/chromeos/policy/user_cloud_policy_manager_chromeos.cc
index b0a2959..bcd469e 100644
--- a/chrome/browser/chromeos/policy/user_cloud_policy_manager_chromeos.cc
+++ b/chrome/browser/chromeos/policy/user_cloud_policy_manager_chromeos.cc
@@ -8,6 +8,6 @@
 #include "base/bind_helpers.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/values.h"
diff --git a/chrome/browser/chromeos/policy/user_cloud_policy_store_chromeos.cc b/chrome/browser/chromeos/policy/user_cloud_policy_store_chromeos.cc
index 43b7289..dc97764 100644
--- a/chrome/browser/chromeos/policy/user_cloud_policy_store_chromeos.cc
+++ b/chrome/browser/chromeos/policy/user_cloud_policy_store_chromeos.cc
@@ -11,5 +11,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/stl_util.h"
diff --git a/chrome/browser/chromeos/policy/user_policy_disk_cache.cc b/chrome/browser/chromeos/policy/user_policy_disk_cache.cc
index c2eab44..db27d17 100644
--- a/chrome/browser/chromeos/policy/user_policy_disk_cache.cc
+++ b/chrome/browser/chromeos/policy/user_policy_disk_cache.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "components/policy/core/common/cloud/enterprise_metrics.h"
diff --git a/chrome/browser/chromeos/policy/user_policy_token_loader.cc b/chrome/browser/chromeos/policy/user_policy_token_loader.cc
index 4434cfe..32c6c11 100644
--- a/chrome/browser/chromeos/policy/user_policy_token_loader.cc
+++ b/chrome/browser/chromeos/policy/user_policy_token_loader.cc
@@ -9,5 +9,5 @@
 #include "base/location.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "components/policy/core/common/cloud/enterprise_metrics.h"
diff --git a/chrome/browser/chromeos/policy/wildcard_login_checker.cc b/chrome/browser/chromeos/policy/wildcard_login_checker.cc
index 169222a..0c2e08e 100644
--- a/chrome/browser/chromeos/policy/wildcard_login_checker.cc
+++ b/chrome/browser/chromeos/policy/wildcard_login_checker.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/bind_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/browser_process.h"
 #include "chrome/browser/chromeos/policy/policy_oauth2_token_fetcher.h"
diff --git a/chrome/browser/chromeos/preferences.cc b/chrome/browser/chromeos/preferences.cc
index d181107..ba5db8a 100644
--- a/chrome/browser/chromeos/preferences.cc
+++ b/chrome/browser/chromeos/preferences.cc
@@ -11,5 +11,5 @@
 #include "base/command_line.h"
 #include "base/i18n/time_formatting.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_member.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/chrome/browser/chromeos/settings/device_settings_provider.cc b/chrome/browser/chromeos/settings/device_settings_provider.cc
index 5721d8a..c8a335f 100644
--- a/chrome/browser/chromeos/settings/device_settings_provider.cc
+++ b/chrome/browser/chromeos/settings/device_settings_provider.cc
@@ -9,5 +9,5 @@
 #include "base/callback.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/threading/thread_restrictions.h"
diff --git a/chrome/browser/chrome_select_file_dialog_factory_win.cc b/chrome/browser/chrome_select_file_dialog_factory_win.cc
index 08f2024..869a0c6 100644
--- a/chrome/browser/chrome_select_file_dialog_factory_win.cc
+++ b/chrome/browser/chrome_select_file_dialog_factory_win.cc
@@ -13,5 +13,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string16.h"
 #include "base/synchronization/waitable_event.h"
diff --git a/chrome/browser/component_updater/caps_installer_win.cc b/chrome/browser/component_updater/caps_installer_win.cc
index 4105617..347d06d 100644
--- a/chrome/browser/component_updater/caps_installer_win.cc
+++ b/chrome/browser/component_updater/caps_installer_win.cc
@@ -12,5 +12,5 @@
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/process/launch.h"
diff --git a/chrome/browser/component_updater/recovery_component_installer.cc b/chrome/browser/component_updater/recovery_component_installer.cc
index 34e5303..06c22fe 100644
--- a/chrome/browser/component_updater/recovery_component_installer.cc
+++ b/chrome/browser/component_updater/recovery_component_installer.cc
@@ -17,5 +17,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/chrome/browser/component_updater/supervised_user_whitelist_installer.cc b/chrome/browser/component_updater/supervised_user_whitelist_installer.cc
index bb32825..3f6e20e 100644
--- a/chrome/browser/component_updater/supervised_user_whitelist_installer.cc
+++ b/chrome/browser/component_updater/supervised_user_whitelist_installer.cc
@@ -13,6 +13,6 @@
 #include "base/location.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/user_metrics.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/chrome/browser/component_updater/sw_reporter_installer_win.cc b/chrome/browser/component_updater/sw_reporter_installer_win.cc
index acb6280..109cca8 100644
--- a/chrome/browser/component_updater/sw_reporter_installer_win.cc
+++ b/chrome/browser/component_updater/sw_reporter_installer_win.cc
@@ -18,7 +18,7 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/chrome/browser/component_updater/widevine_cdm_component_installer.cc b/chrome/browser/component_updater/widevine_cdm_component_installer.cc
index 73bcb32..61ac361 100644
--- a/chrome/browser/component_updater/widevine_cdm_component_installer.cc
+++ b/chrome/browser/component_updater/widevine_cdm_component_installer.cc
@@ -31,5 +31,7 @@
 #include "content/public/browser/browser_thread.h"
 #include "content/public/browser/plugin_service.h"
-#include "content/public/common/pepper_plugin_info.h"
+#if defined(ENABLE_PLUGINS)
+  #include "content/public/common/pepper_plugin_info.h"
+#endif
 #include "media/cdm/ppapi/supported_cdm_versions.h"
 #include "third_party/widevine/cdm/widevine_cdm_common.h"
diff --git a/chrome/browser/content_settings/chrome_content_settings_utils.cc b/chrome/browser/content_settings/chrome_content_settings_utils.cc
index 7da4bf1..d4a986f 100644
--- a/chrome/browser/content_settings/chrome_content_settings_utils.cc
+++ b/chrome/browser/content_settings/chrome_content_settings_utils.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/content_settings/chrome_content_settings_utils.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace content_settings {
diff --git a/chrome/browser/content_settings/content_settings_mock_observer.h b/chrome/browser/content_settings/content_settings_mock_observer.h
index 0d9989f..70aef05 100644
--- a/chrome/browser/content_settings/content_settings_mock_observer.h
+++ b/chrome/browser/content_settings/content_settings_mock_observer.h
@@ -10,5 +10,5 @@
 #include "base/macros.h"
 #include "components/content_settings/core/browser/content_settings_observer.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace content_settings {
diff --git a/chrome/browser/content_settings/mock_settings_observer.h b/chrome/browser/content_settings/mock_settings_observer.h
index 3b1480c..7b36706 100644
--- a/chrome/browser/content_settings/mock_settings_observer.h
+++ b/chrome/browser/content_settings/mock_settings_observer.h
@@ -9,5 +9,5 @@
 #include "components/content_settings/core/browser/content_settings_observer.h"
 #include "components/content_settings/core/common/content_settings_types.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 class ContentSettingsPattern;
diff --git a/chrome/browser/content_settings/permission_context_uma_util.cc b/chrome/browser/content_settings/permission_context_uma_util.cc
index 2f49638..ef7390c 100644
--- a/chrome/browser/content_settings/permission_context_uma_util.cc
+++ b/chrome/browser/content_settings/permission_context_uma_util.cc
@@ -3,5 +3,5 @@
 // found in the LICENSE file.
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/content_settings/permission_context_uma_util.h"
 #include "content/public/browser/permission_type.h"
diff --git a/chrome/browser/content_settings/web_site_settings_uma_util.cc b/chrome/browser/content_settings/web_site_settings_uma_util.cc
index 4aa979d..9df153d 100644
--- a/chrome/browser/content_settings/web_site_settings_uma_util.cc
+++ b/chrome/browser/content_settings/web_site_settings_uma_util.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/content_settings/web_site_settings_uma_util.h"
 
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 
 void WebSiteSettingsUmaUtil::LogPermissionChange(ContentSettingsType type,
diff --git a/chrome/browser/devtools/BUILD.gn b/chrome/browser/devtools/BUILD.gn
index a7580cb..a469ac5 100644
--- a/chrome/browser/devtools/BUILD.gn
+++ b/chrome/browser/devtools/BUILD.gn
@@ -73,6 +73,6 @@ static_library("devtools") {
       "//third_party/icu",
       "//third_party/leveldatabase",
-      "//third_party/libusb",
-      ":webrtc_device_provider_resources",
+#      "//third_party/libusb",
+#      ":webrtc_device_provider_resources",
     ]
     sources += [
@@ -95,20 +95,20 @@ static_library("devtools") {
       "device/self_device_provider.cc",
       "device/self_device_provider.h",
-      "device/usb/android_rsa.cc",
-      "device/usb/android_rsa.h",
-      "device/usb/android_usb_device.cc",
-      "device/usb/android_usb_device.h",
-      "device/usb/android_usb_socket.cc",
-      "device/usb/android_usb_socket.h",
-      "device/usb/usb_device_provider.cc",
-      "device/usb/usb_device_provider.h",
-      "device/webrtc/devtools_bridge_client.cc",
-      "device/webrtc/devtools_bridge_client.h",
-      "device/webrtc/devtools_bridge_instances_request.cc",
-      "device/webrtc/devtools_bridge_instances_request.h",
-      "device/webrtc/send_command_request.cc",
-      "device/webrtc/send_command_request.h",
-      "device/webrtc/webrtc_device_provider.cc",
-      "device/webrtc/webrtc_device_provider.h",
+#      "device/usb/android_rsa.cc",
+#      "device/usb/android_rsa.h",
+#      "device/usb/android_usb_device.cc",
+#      "device/usb/android_usb_device.h",
+#      "device/usb/android_usb_socket.cc",
+#      "device/usb/android_usb_socket.h",
+#      "device/usb/usb_device_provider.cc",
+#      "device/usb/usb_device_provider.h",
+#      "device/webrtc/devtools_bridge_client.cc",
+#      "device/webrtc/devtools_bridge_client.h",
+#      "device/webrtc/devtools_bridge_instances_request.cc",
+#      "device/webrtc/devtools_bridge_instances_request.h",
+#      "device/webrtc/send_command_request.cc",
+#      "device/webrtc/send_command_request.h",
+#      "device/webrtc/webrtc_device_provider.cc",
+#      "device/webrtc/webrtc_device_provider.h",
       "devtools_contents_resizing_strategy.cc",
       "devtools_contents_resizing_strategy.h",
@@ -129,6 +129,6 @@ static_library("devtools") {
       "devtools_window.cc",
       "devtools_window.h",
-      "remote_debugging_server.cc",
-      "remote_debugging_server.h",
+#      "remote_debugging_server.cc",
+#      "remote_debugging_server.h",
     ]
   }
diff --git a/chrome/browser/devtools/devtools_ui_bindings.cc b/chrome/browser/devtools/devtools_ui_bindings.cc
index 51607ad..8d9d921 100644
--- a/chrome/browser/devtools/devtools_ui_bindings.cc
+++ b/chrome/browser/devtools/devtools_ui_bindings.cc
@@ -8,5 +8,5 @@
 #include "base/json/json_reader.h"
 #include "base/json/json_writer.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/devtools/devtools_window.cc b/chrome/browser/devtools/devtools_window.cc
index e7df5db..d28c767 100644
--- a/chrome/browser/devtools/devtools_window.cc
+++ b/chrome/browser/devtools/devtools_window.cc
@@ -8,5 +8,5 @@
 
 #include "base/json/json_reader.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/scoped_user_pref_update.h"
 #include "base/time/time.h"
diff --git a/chrome/browser/diagnostics/diagnostics_controller.cc b/chrome/browser/diagnostics/diagnostics_controller.cc
index c4c8c0d..7fc865b 100644
--- a/chrome/browser/diagnostics/diagnostics_controller.cc
+++ b/chrome/browser/diagnostics/diagnostics_controller.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "chrome/browser/diagnostics/diagnostics_model.h"
diff --git a/chrome/browser/diagnostics/diagnostics_metrics.cc b/chrome/browser/diagnostics/diagnostics_metrics.cc
index eea8278..924eadc 100644
--- a/chrome/browser/diagnostics/diagnostics_metrics.cc
+++ b/chrome/browser/diagnostics/diagnostics_metrics.cc
@@ -8,5 +8,5 @@
 
 #include "base/basictypes.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/diagnostics/diagnostics_test.h"
 
diff --git a/chrome/browser/diagnostics/diagnostics_test.cc b/chrome/browser/diagnostics/diagnostics_test.cc
index 65482da..419ca79 100644
--- a/chrome/browser/diagnostics/diagnostics_test.cc
+++ b/chrome/browser/diagnostics/diagnostics_test.cc
@@ -7,5 +7,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "chrome/common/chrome_constants.h"
diff --git a/chrome/browser/diagnostics/sqlite_diagnostics.cc b/chrome/browser/diagnostics/sqlite_diagnostics.cc
index b274622..1e2c79e 100644
--- a/chrome/browser/diagnostics/sqlite_diagnostics.cc
+++ b/chrome/browser/diagnostics/sqlite_diagnostics.cc
@@ -11,5 +11,5 @@
 #include "base/memory/singleton.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/domain_reliability/service_factory.cc b/chrome/browser/domain_reliability/service_factory.cc
index 8124d8d..20a3965 100644
--- a/chrome/browser/domain_reliability/service_factory.cc
+++ b/chrome/browser/domain_reliability/service_factory.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/download/download_file_picker.cc b/chrome/browser/download/download_file_picker.cc
index ac734ea..dee1362 100644
--- a/chrome/browser/download/download_file_picker.cc
+++ b/chrome/browser/download/download_file_picker.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/download/download_file_picker.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/download/download_prefs.h"
 #include "chrome/browser/platform_util.h"
diff --git a/chrome/browser/download/download_history.cc b/chrome/browser/download/download_history.cc
index 3ee464c..e87cd80 100644
--- a/chrome/browser/download/download_history.cc
+++ b/chrome/browser/download/download_history.cc
@@ -29,5 +29,5 @@
 #include "chrome/browser/download/download_history.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/download/download_crx_util.h"
 #include "chrome/browser/history/history_service.h"
diff --git a/chrome/browser/download/download_item_model.cc b/chrome/browser/download/download_item_model.cc
index f1ef10f..c4dc96c 100644
--- a/chrome/browser/download/download_item_model.cc
+++ b/chrome/browser/download/download_item_model.cc
@@ -7,5 +7,5 @@
 #include "base/i18n/number_formatting.h"
 #include "base/i18n/rtl.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string16.h"
 #include "base/strings/sys_string_conversions.h"
diff --git a/chrome/browser/download/download_stats.cc b/chrome/browser/download/download_stats.cc
index 890411a..dc9dc3f 100644
--- a/chrome/browser/download/download_stats.cc
+++ b/chrome/browser/download/download_stats.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/download/download_stats.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 void RecordDownloadShelfClose(int size, int in_progress, bool autoclose) {
diff --git a/chrome/browser/download/save_package_file_picker.cc b/chrome/browser/download/save_package_file_picker.cc
index cd70d40..f2b4e3b 100644
--- a/chrome/browser/download/save_package_file_picker.cc
+++ b/chrome/browser/download/save_package_file_picker.cc
@@ -8,5 +8,5 @@
 #include "base/command_line.h"
 #include "base/i18n/file_util_icu.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_member.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/enumerate_modules_model_win.cc b/chrome/browser/enumerate_modules_model_win.cc
index c5d3943..76c7414 100644
--- a/chrome/browser/enumerate_modules_model_win.cc
+++ b/chrome/browser/enumerate_modules_model_win.cc
@@ -15,5 +15,5 @@
 #include "base/files/file_path.h"
 #include "base/i18n/case_conversion.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/extensions/active_script_controller.cc b/chrome/browser/extensions/active_script_controller.cc
index c3e9956..169d376 100644
--- a/chrome/browser/extensions/active_script_controller.cc
+++ b/chrome/browser/extensions/active_script_controller.cc
@@ -8,5 +8,5 @@
 #include "base/bind_helpers.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "chrome/browser/extensions/active_tab_permission_granter.h"
diff --git a/chrome/browser/extensions/activity_log/activity_actions.cc b/chrome/browser/extensions/activity_log/activity_actions.cc
index 6912abd..fd8efdd 100644
--- a/chrome/browser/extensions/activity_log/activity_actions.cc
+++ b/chrome/browser/extensions/activity_log/activity_actions.cc
@@ -14,5 +14,5 @@
 #include "base/macros.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/extensions/activity_log/uma_policy.cc b/chrome/browser/extensions/activity_log/uma_policy.cc
index f94ecc0..a0900dc 100644
--- a/chrome/browser/extensions/activity_log/uma_policy.cc
+++ b/chrome/browser/extensions/activity_log/uma_policy.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/extensions/activity_log/uma_policy.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/extensions/api/automation/automation_apitest.cc b/chrome/browser/extensions/api/automation/automation_apitest.cc
index 18d62a7..8af8bbd 100644
--- a/chrome/browser/extensions/api/automation/automation_apitest.cc
+++ b/chrome/browser/extensions/api/automation/automation_apitest.cc
@@ -21,5 +21,5 @@
 #include "net/dns/mock_host_resolver.h"
 #include "net/test/embedded_test_server/embedded_test_server.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/accessibility/ax_node.h"
 #include "ui/accessibility/ax_serializable_tree.h"
diff --git a/chrome/browser/extensions/api/browsing_data/browsing_data_api.cc b/chrome/browser/extensions/api/browsing_data/browsing_data_api.cc
index 28c2679..f283d6e 100644
--- a/chrome/browser/extensions/api/browsing_data/browsing_data_api.cc
+++ b/chrome/browser/extensions/api/browsing_data/browsing_data_api.cc
@@ -267,4 +267,6 @@ bool BrowsingDataRemoverFunction::RunAsync() {
 
   if (removal_mask_ & BrowsingDataRemover::REMOVE_PLUGIN_DATA) {
+    return false;
+  /*
     // If we're being asked to remove plugin data, check whether it's actually
     // supported.
@@ -276,4 +278,5 @@ bool BrowsingDataRemoverFunction::RunAsync() {
             this,
             PluginPrefs::GetForProfile(GetProfile())));
+            */
   } else {
     StartRemoving();
diff --git a/chrome/browser/extensions/api/cast_streaming/cast_streaming_apitest.cc b/chrome/browser/extensions/api/cast_streaming/cast_streaming_apitest.cc
index 54d2596..3e8042b 100644
--- a/chrome/browser/extensions/api/cast_streaming/cast_streaming_apitest.cc
+++ b/chrome/browser/extensions/api/cast_streaming/cast_streaming_apitest.cc
@@ -30,5 +30,5 @@
 #include "net/base/rand_callback.h"
 #include "net/udp/udp_server_socket.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using media::cast::test::GetFreeLocalPort;
diff --git a/chrome/browser/extensions/api/cast_streaming/performance_test.cc b/chrome/browser/extensions/api/cast_streaming/performance_test.cc
index 9f57dcb..35a54fe 100644
--- a/chrome/browser/extensions/api/cast_streaming/performance_test.cc
+++ b/chrome/browser/extensions/api/cast_streaming/performance_test.cc
@@ -47,6 +47,6 @@
 #include "net/base/rand_callback.h"
 #include "net/udp/udp_server_socket.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 #include "ui/compositor/compositor_switches.h"
 #include "ui/gl/gl_switches.h"
diff --git a/chrome/browser/extensions/api/content_settings/content_settings_api.cc b/chrome/browser/extensions/api/content_settings/content_settings_api.cc
index d9d174c..6ff85c1 100644
--- a/chrome/browser/extensions/api/content_settings/content_settings_api.cc
+++ b/chrome/browser/extensions/api/content_settings/content_settings_api.cc
@@ -19,6 +19,6 @@
 #include "chrome/browser/extensions/api/preference/preference_api_constants.h"
 #include "chrome/browser/extensions/api/preference/preference_helpers.h"
-#include "chrome/browser/plugins/plugin_finder.h"
-#include "chrome/browser/plugins/plugin_installer.h"
+//#include "chrome/browser/plugins/plugin_finder.h"
+//#include "chrome/browser/plugins/plugin_installer.h"
 #include "chrome/browser/profiles/profile.h"
 #include "chrome/common/chrome_switches.h"
@@ -30,5 +30,5 @@
 
 using content::BrowserThread;
-using content::PluginService;
+//using content::PluginService;
 
 namespace Clear = extensions::api::content_settings::ContentSetting::Clear;
@@ -251,8 +251,8 @@ bool ContentSettingsContentSettingGetResourceIdentifiersFunction::RunAsync() {
   EXTENSION_FUNCTION_VALIDATE(RemoveContentType(args_.get(), &content_type));
 
-  if (content_type != CONTENT_SETTINGS_TYPE_PLUGINS) {
+//  if (content_type != CONTENT_SETTINGS_TYPE_PLUGINS) {
     SendResponse(true);
     return true;
-  }
+/*  }
 
   PluginService::GetInstance()->GetPlugins(
@@ -288,4 +288,5 @@ void ContentSettingsContentSettingGetResourceIdentifiersFunction::OnGotPlugins(
           this,
           true));
+          */
 }
 
diff --git a/chrome/browser/extensions/api/content_settings/content_settings_api.h b/chrome/browser/extensions/api/content_settings/content_settings_api.h
index 8c9d8e1..19e1d39 100644
--- a/chrome/browser/extensions/api/content_settings/content_settings_api.h
+++ b/chrome/browser/extensions/api/content_settings/content_settings_api.h
@@ -70,5 +70,5 @@ class ContentSettingsContentSettingGetResourceIdentifiersFunction
   // Callback method that gets executed when |plugins|
   // are asynchronously fetched.
-  void OnGotPlugins(const std::vector<content::WebPluginInfo>& plugins);
+//  void OnGotPlugins(const std::vector<content::WebPluginInfo>& plugins);
 };
 
diff --git a/chrome/browser/extensions/api/declarative_content/declarative_content_apitest.cc b/chrome/browser/extensions/api/declarative_content/declarative_content_apitest.cc
index 4c72706..6e7b1dc 100644
--- a/chrome/browser/extensions/api/declarative_content/declarative_content_apitest.cc
+++ b/chrome/browser/extensions/api/declarative_content/declarative_content_apitest.cc
@@ -15,5 +15,5 @@
 #include "content/public/test/browser_test_utils.h"
 #include "extensions/test/extension_test_message_listener.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace extensions {
diff --git a/chrome/browser/extensions/api/declarative_content/request_content_script_apitest.cc b/chrome/browser/extensions/api/declarative_content/request_content_script_apitest.cc
index d6538b7..ed8c51c 100644
--- a/chrome/browser/extensions/api/declarative_content/request_content_script_apitest.cc
+++ b/chrome/browser/extensions/api/declarative_content/request_content_script_apitest.cc
@@ -14,5 +14,5 @@
 #include "extensions/test/extension_test_message_listener.h"
 #include "net/test/embedded_test_server/embedded_test_server.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace extensions {
diff --git a/chrome/browser/extensions/api/dial/dial_apitest.cc b/chrome/browser/extensions/api/dial/dial_apitest.cc
index c4f20f1..57e9d6f 100644
--- a/chrome/browser/extensions/api/dial/dial_apitest.cc
+++ b/chrome/browser/extensions/api/dial/dial_apitest.cc
@@ -12,5 +12,5 @@
 #include "extensions/test/extension_test_message_listener.h"
 #include "extensions/test/result_catcher.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "url/gurl.h"
 
diff --git a/chrome/browser/extensions/api/downloads/downloads_api.cc b/chrome/browser/extensions/api/downloads/downloads_api.cc
index 268043e..af908fe 100644
--- a/chrome/browser/extensions/api/downloads/downloads_api.cc
+++ b/chrome/browser/extensions/api/downloads/downloads_api.cc
@@ -18,5 +18,5 @@
 #include "base/logging.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string16.h"
diff --git a/chrome/browser/extensions/api/enterprise_platform_keys/enterprise_platform_keys_apitest_nss.cc b/chrome/browser/extensions/api/enterprise_platform_keys/enterprise_platform_keys_apitest_nss.cc
index ff92450..2bf1e40 100644
--- a/chrome/browser/extensions/api/enterprise_platform_keys/enterprise_platform_keys_apitest_nss.cc
+++ b/chrome/browser/extensions/api/enterprise_platform_keys/enterprise_platform_keys_apitest_nss.cc
@@ -27,5 +27,5 @@
 #include "net/test/url_request/url_request_mock_http_job.h"
 #include "policy/policy_constants.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace {
diff --git a/chrome/browser/extensions/api/experience_sampling_private/experience_sampling_private_api.cc b/chrome/browser/extensions/api/experience_sampling_private/experience_sampling_private_api.cc
index 1b386e3..9c92fea 100644
--- a/chrome/browser/extensions/api/experience_sampling_private/experience_sampling_private_api.cc
+++ b/chrome/browser/extensions/api/experience_sampling_private/experience_sampling_private_api.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/extensions/api/experience_sampling_private/experience_sampling_private_api.h"
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "chrome/common/extensions/api/experience_sampling_private.h"
 
diff --git a/chrome/browser/extensions/api/gcm/gcm_api.cc b/chrome/browser/extensions/api/gcm/gcm_api.cc
index 75d7d18..c273174 100644
--- a/chrome/browser/extensions/api/gcm/gcm_api.cc
+++ b/chrome/browser/extensions/api/gcm/gcm_api.cc
@@ -9,5 +9,5 @@
 #include <vector>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/extensions/api/identity/identity_apitest.cc b/chrome/browser/extensions/api/identity/identity_apitest.cc
index 5ff783d..1981c60 100644
--- a/chrome/browser/extensions/api/identity/identity_apitest.cc
+++ b/chrome/browser/extensions/api/identity/identity_apitest.cc
@@ -49,6 +49,6 @@
 #include "google_apis/gaia/oauth2_mint_token_flow.h"
 #include "net/test/spawned_test_server/spawned_test_server.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/chrome/browser/extensions/api/input_ime/input_ime_apitest_chromeos.cc b/chrome/browser/extensions/api/input_ime/input_ime_apitest_chromeos.cc
index 35ea82f..a4bb1c8 100644
--- a/chrome/browser/extensions/api/input_ime/input_ime_apitest_chromeos.cc
+++ b/chrome/browser/extensions/api/input_ime/input_ime_apitest_chromeos.cc
@@ -6,5 +6,5 @@
 #include "chrome/common/chrome_switches.h"
 #include "extensions/browser/api/test/test_api.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(OS_CHROMEOS)
diff --git a/chrome/browser/extensions/api/mdns/mdns_apitest.cc b/chrome/browser/extensions/api/mdns/mdns_apitest.cc
index 5365518..a882749 100644
--- a/chrome/browser/extensions/api/mdns/mdns_apitest.cc
+++ b/chrome/browser/extensions/api/mdns/mdns_apitest.cc
@@ -10,5 +10,5 @@
 #include "extensions/common/switches.h"
 #include "extensions/test/result_catcher.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using extensions::DnsSdRegistry;
diff --git a/chrome/browser/extensions/api/messaging/message_service.cc b/chrome/browser/extensions/api/messaging/message_service.cc
index a300b98..bcbe759 100644
--- a/chrome/browser/extensions/api/messaging/message_service.cc
+++ b/chrome/browser/extensions/api/messaging/message_service.cc
@@ -10,5 +10,5 @@
 #include "base/json/json_writer.h"
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/stl_util.h"
diff --git a/chrome/browser/extensions/api/metrics_private/metrics_apitest.cc b/chrome/browser/extensions/api/metrics_private/metrics_apitest.cc
index d195029..11b92d9 100644
--- a/chrome/browser/extensions/api/metrics_private/metrics_apitest.cc
+++ b/chrome/browser/extensions/api/metrics_private/metrics_apitest.cc
@@ -5,8 +5,8 @@
 #include <map>
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/user_metrics.h"
 #include "chrome/browser/extensions/extension_apitest.h"
 #include "components/variations/variations_associated_data.h"
diff --git a/chrome/browser/extensions/api/metrics_private/metrics_private_api.cc b/chrome/browser/extensions/api/metrics_private/metrics_private_api.cc
index 60036a2..45af767 100644
--- a/chrome/browser/extensions/api/metrics_private/metrics_private_api.cc
+++ b/chrome/browser/extensions/api/metrics_private/metrics_private_api.cc
@@ -7,7 +7,7 @@
 #include <algorithm>
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "chrome/browser/metrics/chrome_metrics_service_accessor.h"
 #include "chrome/common/extensions/api/metrics_private.h"
diff --git a/chrome/browser/extensions/api/metrics_private/metrics_private_api.h b/chrome/browser/extensions/api/metrics_private/metrics_private_api.h
index 631132e..279c1a9 100644
--- a/chrome/browser/extensions/api/metrics_private/metrics_private_api.h
+++ b/chrome/browser/extensions/api/metrics_private/metrics_private_api.h
@@ -8,5 +8,5 @@
 #include <string>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "extensions/browser/extension_function.h"
 
diff --git a/chrome/browser/extensions/api/networking_private/networking_private_chromeos_apitest.cc b/chrome/browser/extensions/api/networking_private/networking_private_chromeos_apitest.cc
index 799a473..a0908e9 100644
--- a/chrome/browser/extensions/api/networking_private/networking_private_chromeos_apitest.cc
+++ b/chrome/browser/extensions/api/networking_private/networking_private_chromeos_apitest.cc
@@ -41,5 +41,5 @@
 #include "extensions/common/switches.h"
 #include "policy/policy_constants.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "third_party/cros_system_api/dbus/service_constants.h"
 
diff --git a/chrome/browser/extensions/api/networking_private/networking_private_service_client_apitest.cc b/chrome/browser/extensions/api/networking_private/networking_private_service_client_apitest.cc
index 6de03c9..3680898 100644
--- a/chrome/browser/extensions/api/networking_private/networking_private_service_client_apitest.cc
+++ b/chrome/browser/extensions/api/networking_private/networking_private_service_client_apitest.cc
@@ -19,5 +19,5 @@
 #include "extensions/browser/api/networking_private/networking_private_service_client.h"
 #include "extensions/common/switches.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 // This tests the Windows / Mac implementation of the networkingPrivate API
diff --git a/chrome/browser/extensions/api/permissions/permissions_api_helpers.cc b/chrome/browser/extensions/api/permissions/permissions_api_helpers.cc
index 19aa3e1..254c5d1 100644
--- a/chrome/browser/extensions/api/permissions/permissions_api_helpers.cc
+++ b/chrome/browser/extensions/api/permissions/permissions_api_helpers.cc
@@ -13,5 +13,5 @@
 #include "extensions/common/permissions/permission_set.h"
 #include "extensions/common/permissions/permissions_info.h"
-#include "extensions/common/permissions/usb_device_permission.h"
+//#include "extensions/common/permissions/usb_device_permission.h"
 #include "extensions/common/url_pattern_set.h"
 
@@ -95,5 +95,5 @@ scoped_refptr<PermissionSet> UnpackPermissionSet(
         }
 
-        APIPermission* permission = NULL;
+/*        APIPermission* permission = NULL;
 
         // Explicitly check the permissions that accept arguments until the bug
@@ -113,5 +113,5 @@ scoped_refptr<PermissionSet> UnpackPermissionSet(
           return NULL;
         }
-        apis.insert(permission);
+        apis.insert(permission);*/
       } else {
         const APIPermissionInfo* permission_info = info->GetByName(*it);
diff --git a/chrome/browser/extensions/api/platform_keys/platform_keys_apitest_nss.cc b/chrome/browser/extensions/api/platform_keys/platform_keys_apitest_nss.cc
index 2c51e27..1488132 100644
--- a/chrome/browser/extensions/api/platform_keys/platform_keys_apitest_nss.cc
+++ b/chrome/browser/extensions/api/platform_keys/platform_keys_apitest_nss.cc
@@ -29,5 +29,5 @@
 #include "net/test/url_request/url_request_mock_http_job.h"
 #include "policy/policy_constants.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace {
diff --git a/chrome/browser/extensions/api/processes/processes_api.cc b/chrome/browser/extensions/api/processes/processes_api.cc
index 56a7cb7..d64632c 100644
--- a/chrome/browser/extensions/api/processes/processes_api.cc
+++ b/chrome/browser/extensions/api/processes/processes_api.cc
@@ -9,5 +9,5 @@
 #include "base/lazy_instance.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/extensions/api/push_messaging/push_messaging_apitest.cc b/chrome/browser/extensions/api/push_messaging/push_messaging_apitest.cc
index 774066c..14bbde0 100644
--- a/chrome/browser/extensions/api/push_messaging/push_messaging_apitest.cc
+++ b/chrome/browser/extensions/api/push_messaging/push_messaging_apitest.cc
@@ -24,5 +24,5 @@
 #include "extensions/test/result_catcher.h"
 #include "google/cacheinvalidation/types.pb.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using ::testing::SaveArg;
diff --git a/chrome/browser/extensions/api/push_messaging/sync_setup_helper.cc b/chrome/browser/extensions/api/push_messaging/sync_setup_helper.cc
index 933dce6..b3b692a 100644
--- a/chrome/browser/extensions/api/push_messaging/sync_setup_helper.cc
+++ b/chrome/browser/extensions/api/push_messaging/sync_setup_helper.cc
@@ -20,5 +20,5 @@
 #include "chrome/browser/ui/browser.h"
 #include "chrome/common/chrome_paths.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace extensions {
diff --git a/chrome/browser/extensions/api/runtime/chrome_runtime_api_delegate.cc b/chrome/browser/extensions/api/runtime/chrome_runtime_api_delegate.cc
index 1e3eb46..7ec44fd 100644
--- a/chrome/browser/extensions/api/runtime/chrome_runtime_api_delegate.cc
+++ b/chrome/browser/extensions/api/runtime/chrome_runtime_api_delegate.cc
@@ -9,5 +9,5 @@
 
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "chrome/browser/extensions/extension_service.h"
diff --git a/chrome/browser/extensions/api/screenlock_private/screenlock_private_api.cc b/chrome/browser/extensions/api/screenlock_private/screenlock_private_api.cc
index 78d1c49..4bc67bc 100644
--- a/chrome/browser/extensions/api/screenlock_private/screenlock_private_api.cc
+++ b/chrome/browser/extensions/api/screenlock_private/screenlock_private_api.cc
@@ -8,5 +8,5 @@
 #include "base/values.h"
 #include "chrome/browser/profiles/profile.h"
-#include "chrome/browser/signin/easy_unlock_service.h"
+//#include "chrome/browser/signin/easy_unlock_service.h"
 #include "chrome/common/extensions/api/screenlock_private.h"
 #include "chrome/common/extensions/extension_constants.h"
@@ -65,4 +65,5 @@ bool ScreenlockPrivateSetLockedFunction::RunAsync() {
   EXTENSION_FUNCTION_VALIDATE(params.get());
   if (params->locked) {
+    /*
     if (extension()->id() == extension_misc::kEasyUnlockAppId &&
         AppWindowRegistry::Get(browser_context())
@@ -75,5 +76,5 @@ bool ScreenlockPrivateSetLockedFunction::RunAsync() {
       if (service)
         service->SetTrialRun();
-    }
+    }*/
     ScreenlockBridge::Get()->Lock(GetProfile());
   } else {
@@ -96,7 +97,7 @@ bool ScreenlockPrivateAcceptAuthAttemptFunction::RunSync() {
 
   Profile* profile = Profile::FromBrowserContext(browser_context());
-  EasyUnlockService* service = EasyUnlockService::Get(profile);
+/*  EasyUnlockService* service = EasyUnlockService::Get(profile);
   if (service)
-    service->FinalizeUnlock(params->accept);
+    service->FinalizeUnlock(params->accept);*/
   return true;
 }
diff --git a/chrome/browser/extensions/api/storage/settings_apitest.cc b/chrome/browser/extensions/api/storage/settings_apitest.cc
index 2a3120f..67d7621 100644
--- a/chrome/browser/extensions/api/storage/settings_apitest.cc
+++ b/chrome/browser/extensions/api/storage/settings_apitest.cc
@@ -26,5 +26,5 @@
 #include "sync/api/sync_error_factory_mock.h"
 #include "sync/api/syncable_service.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 #if defined(ENABLE_CONFIGURATION_POLICY)
diff --git a/chrome/browser/extensions/api/streams_private/streams_private_apitest.cc b/chrome/browser/extensions/api/streams_private/streams_private_apitest.cc
index 01b690e..c30ff7d 100644
--- a/chrome/browser/extensions/api/streams_private/streams_private_apitest.cc
+++ b/chrome/browser/extensions/api/streams_private/streams_private_apitest.cc
@@ -29,5 +29,5 @@
 #include "net/test/embedded_test_server/http_request.h"
 #include "net/test/embedded_test_server/http_response.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using content::BrowserContext;
diff --git a/chrome/browser/extensions/api/sync_file_system/sync_file_system_apitest.cc b/chrome/browser/extensions/api/sync_file_system/sync_file_system_apitest.cc
index fab84f7..c84f4f0 100644
--- a/chrome/browser/extensions/api/sync_file_system/sync_file_system_apitest.cc
+++ b/chrome/browser/extensions/api/sync_file_system/sync_file_system_apitest.cc
@@ -18,6 +18,6 @@
 #include "storage/browser/fileapi/file_system_url.h"
 #include "storage/browser/quota/quota_manager.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using ::testing::_;
diff --git a/chrome/browser/extensions/api/tab_capture/tab_capture_performancetest.cc b/chrome/browser/extensions/api/tab_capture/tab_capture_performancetest.cc
index 6213411..795c150 100644
--- a/chrome/browser/extensions/api/tab_capture/tab_capture_performancetest.cc
+++ b/chrome/browser/extensions/api/tab_capture/tab_capture_performancetest.cc
@@ -26,6 +26,6 @@
 #include "extensions/common/switches.h"
 #include "extensions/test/extension_test_message_listener.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 #include "ui/compositor/compositor_switches.h"
 #include "ui/gl/gl_switches.h"
diff --git a/chrome/browser/extensions/api/virtual_keyboard_private/chrome_virtual_keyboard_delegate.cc b/chrome/browser/extensions/api/virtual_keyboard_private/chrome_virtual_keyboard_delegate.cc
index e232c96..0324d35 100644
--- a/chrome/browser/extensions/api/virtual_keyboard_private/chrome_virtual_keyboard_delegate.cc
+++ b/chrome/browser/extensions/api/virtual_keyboard_private/chrome_virtual_keyboard_delegate.cc
@@ -8,6 +8,6 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/strings/string16.h"
 #include "chrome/browser/chromeos/login/lock/screen_locker.h"
diff --git a/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc b/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
index 902011d..4d1c361 100644
--- a/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
+++ b/chrome/browser/extensions/api/webstore_private/webstore_private_api.cc
@@ -8,5 +8,5 @@
 #include "base/lazy_instance.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/extensions/browser_context_keyed_service_factories.cc b/chrome/browser/extensions/browser_context_keyed_service_factories.cc
index 5830c48..56fea52 100644
--- a/chrome/browser/extensions/browser_context_keyed_service_factories.cc
+++ b/chrome/browser/extensions/browser_context_keyed_service_factories.cc
@@ -16,9 +16,9 @@
 #include "chrome/browser/extensions/api/dial/dial_api_factory.h"
 #include "chrome/browser/extensions/api/extension_action/extension_action_api.h"
-#include "chrome/browser/extensions/api/feedback_private/feedback_private_api.h"
+//#include "chrome/browser/extensions/api/feedback_private/feedback_private_api.h"
 #include "chrome/browser/extensions/api/font_settings/font_settings_api.h"
-#include "chrome/browser/extensions/api/gcd_private/gcd_private_api.h"
+//#include "chrome/browser/extensions/api/gcd_private/gcd_private_api.h"
 #include "chrome/browser/extensions/api/history/history_api.h"
-#include "chrome/browser/extensions/api/hotword_private/hotword_private_api.h"
+//#include "chrome/browser/extensions/api/hotword_private/hotword_private_api.h"
 #include "chrome/browser/extensions/api/identity/identity_api.h"
 #include "chrome/browser/extensions/api/location/location_manager.h"
@@ -37,9 +37,9 @@
 #include "chrome/browser/extensions/api/tabs/tabs_windows_api.h"
 #include "chrome/browser/extensions/api/web_navigation/web_navigation_api.h"
-#include "chrome/browser/extensions/api/webrtc_audio_private/webrtc_audio_private_api.h"
+//#include "chrome/browser/extensions/api/webrtc_audio_private/webrtc_audio_private_api.h"
 #include "chrome/browser/extensions/api/webstore/webstore_api.h"
 #include "chrome/browser/extensions/extension_garbage_collector_factory.h"
 #include "chrome/browser/extensions/extension_gcm_app_handler.h"
-#include "chrome/browser/extensions/extension_storage_monitor_factory.h"
+//#include "chrome/browser/extensions/extension_storage_monitor_factory.h"
 #include "chrome/browser/extensions/extension_system_factory.h"
 #include "chrome/browser/extensions/extension_toolbar_model_factory.h"
@@ -52,10 +52,10 @@
 #include "chrome/browser/speech/extension_api/tts_extension_api.h"
 #include "extensions/browser/api/api_resource_manager.h"
-#include "extensions/browser/api/bluetooth/bluetooth_api.h"
-#include "extensions/browser/api/bluetooth/bluetooth_private_api.h"
-#include "extensions/browser/api/bluetooth_low_energy/bluetooth_low_energy_api.h"
-#include "extensions/browser/api/bluetooth_socket/bluetooth_socket_event_dispatcher.h"
+//#include "extensions/browser/api/bluetooth/bluetooth_api.h"
+//#include "extensions/browser/api/bluetooth/bluetooth_private_api.h"
+//#include "extensions/browser/api/bluetooth_low_energy/bluetooth_low_energy_api.h"
+//#include "extensions/browser/api/bluetooth_socket/bluetooth_socket_event_dispatcher.h"
 #include "extensions/browser/api/power/power_api.h"
-#include "extensions/browser/api/usb/usb_device_resource.h"
+//#include "extensions/browser/api/usb/usb_device_resource.h"
 #include "extensions/browser/api/virtual_keyboard_private/virtual_keyboard_private_api.h"
 #include "extensions/browser/api/web_request/web_request_api.h"
@@ -78,11 +78,11 @@ void EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   extensions::ActivityLog::GetFactoryInstance();
   extensions::ActivityLogAPI::GetFactoryInstance();
-  extensions::ApiResourceManager<
-      extensions::UsbDeviceResource>::GetFactoryInstance();
+//  extensions::ApiResourceManager<
+//      extensions::UsbDeviceResource>::GetFactoryInstance();
   extensions::BookmarksAPI::GetFactoryInstance();
   extensions::BookmarkManagerPrivateAPI::GetFactoryInstance();
-  extensions::BluetoothAPI::GetFactoryInstance();
-  extensions::BluetoothLowEnergyAPI::GetFactoryInstance();
-  extensions::BluetoothPrivateAPI::GetFactoryInstance();
+//  extensions::BluetoothAPI::GetFactoryInstance();
+//  extensions::BluetoothLowEnergyAPI::GetFactoryInstance();
+//  extensions::BluetoothPrivateAPI::GetFactoryInstance();
   extensions::BrailleDisplayPrivateAPI::GetFactoryInstance();
   extensions::chromedirectsetting::ChromeDirectSettingAPI::GetFactoryInstance();
@@ -94,13 +94,13 @@ void EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   extensions::ExtensionActionAPI::GetFactoryInstance();
   extensions::ExtensionGarbageCollectorFactory::GetInstance();
-  extensions::ExtensionStorageMonitorFactory::GetInstance();
+//  extensions::ExtensionStorageMonitorFactory::GetInstance();
   extensions::ExtensionSystemFactory::GetInstance();
   extensions::ExtensionToolbarModelFactory::GetInstance();
   extensions::ExtensionWebUIOverrideRegistrar::GetFactoryInstance();
-  extensions::FeedbackPrivateAPI::GetFactoryInstance();
+//  extensions::FeedbackPrivateAPI::GetFactoryInstance();
   extensions::FontSettingsAPI::GetFactoryInstance();
-  extensions::GcdPrivateAPI::GetFactoryInstance();
+//  extensions::GcdPrivateAPI::GetFactoryInstance();
   extensions::HistoryAPI::GetFactoryInstance();
-  extensions::HotwordPrivateEventService::GetFactoryInstance();
+//  extensions::HotwordPrivateEventService::GetFactoryInstance();
   extensions::IdentityAPI::GetFactoryInstance();
   extensions::InstallTrackerFactory::GetInstance();
@@ -143,5 +143,5 @@ void EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   extensions::WebNavigationAPI::GetFactoryInstance();
   extensions::WebRequestAPI::GetFactoryInstance();
-  extensions::WebrtcAudioPrivateEventService::GetFactoryInstance();
+ // extensions::WebrtcAudioPrivateEventService::GetFactoryInstance();
   extensions::WebstoreAPI::GetFactoryInstance();
 #if defined(OS_CHROMEOS)
@@ -150,5 +150,5 @@ void EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   TokenCacheServiceFactory::GetInstance();
   extensions::ExtensionGCMAppHandler::GetFactoryInstance();
-  extensions::core_api::BluetoothSocketEventDispatcher::GetFactoryInstance();
+//  extensions::core_api::BluetoothSocketEventDispatcher::GetFactoryInstance();
 }
 
diff --git a/chrome/browser/extensions/browsertest_util.cc b/chrome/browser/extensions/browsertest_util.cc
index ceed312..5aafe13 100644
--- a/chrome/browser/extensions/browsertest_util.cc
+++ b/chrome/browser/extensions/browsertest_util.cc
@@ -9,5 +9,5 @@
 #include "extensions/browser/extension_host.h"
 #include "extensions/browser/process_manager.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace extensions {
diff --git a/chrome/browser/extensions/BUILD.gn b/chrome/browser/extensions/BUILD.gn
index 3e1bc66..de08e81 100644
--- a/chrome/browser/extensions/BUILD.gn
+++ b/chrome/browser/extensions/BUILD.gn
@@ -43,9 +43,9 @@ static_library("extensions") {
     "//chrome/common/extensions/api:api_registration",
     "//chrome/common/net",
-    "//chrome/common/safe_browsing:proto",
+#    "//chrome/common/safe_browsing:proto",
     "//chrome/installer/util",
-    "//components/copresence",
+#    "//components/copresence",
     "//components/onc",
-    "//components/proximity_auth",
+#    "//components/proximity_auth",
     "//components/strings",
     "//components/update_client",
@@ -54,14 +54,14 @@ static_library("extensions") {
     "//content/public/common",
     "//crypto",
-    "//device/bluetooth",
-    "//device/hid",
+#    "//device/bluetooth",
+#    "//device/hid",
     "//extensions/browser",
     "//extensions/common/api",
-    "//extensions/common/api:api_registration",
+#    "//extensions/common/api:api_registration",
     "//extensions/strings",
     "//net",
     "//skia",
     "//storage/common",
-    "//sync",
+#    "//sync",
     "//third_party/WebKit/public:resources",
     "//third_party/cacheinvalidation",
@@ -69,5 +69,5 @@ static_library("extensions") {
     "//third_party/leveldatabase",
     "//third_party/re2",
-    "//third_party/webrtc/modules/desktop_capture",
+#    "//third_party/webrtc/modules/desktop_capture",
     "//ui/accessibility:ax_gen",
     "//ui/base",
@@ -138,7 +138,11 @@ static_library("extensions") {
   if (enable_webrtc) {
     sources += [ "api/webrtc_logging_private/webrtc_logging_private_api.cc" ]
-  } else {
-    sources +=
-        [ "api/webrtc_logging_private/webrtc_logging_private_api_stub.cc" ]
+#  } else {
+#    sources +=
+#        [ 
+#        #this path doesnt work, so foop all
+#        "../../common/extensions/api/webrtc_logging_private.h",
+#        "api/webrtc_logging_private/webrtc_logging_private_api.h",
+#        "api/webrtc_logging_private/webrtc_logging_private_api_stub.cc" ]
   }
 
@@ -149,5 +153,5 @@ static_library("extensions") {
                            "//chrome")
   } else {
-    sources += [ "api/braille_display_private/braille_controller_stub.cc" ]
+#    sources += [ "api/braille_display_private/braille_controller_stub.cc" ]
   }
 
@@ -167,10 +171,10 @@ static_library("extensions") {
   }
 
-  if (safe_browsing_mode == 1) {
-    defines += [ "FULL_SAFE_BROWSING" ]
-  }
-  if (safe_browsing_mode == 2) {
-    defines += [ "MOBILE_SAFE_BROWSING" ]
-  }
+#  if (safe_browsing_mode == 1) {
+#    defines += [ "FULL_SAFE_BROWSING" ]
+#  }
+#  if (safe_browsing_mode == 2) {
+#    defines += [ "MOBILE_SAFE_BROWSING" ]
+#  }
 
   if (is_win || is_mac) {
diff --git a/chrome/browser/extensions/component_loader.cc b/chrome/browser/extensions/component_loader.cc
index ed34824..ea8591b 100644
--- a/chrome/browser/extensions/component_loader.cc
+++ b/chrome/browser/extensions/component_loader.cc
@@ -10,6 +10,6 @@
 #include "base/files/file_util.h"
 #include "base/json/json_string_value_serializer.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/path_service.h"
 #include "base/time/time.h"
@@ -17,6 +17,6 @@
 #include "chrome/browser/extensions/extension_service.h"
 #include "chrome/browser/pdf/pdf_extension_util.h"
-#include "chrome/browser/search/hotword_service.h"
-#include "chrome/browser/search/hotword_service_factory.h"
+//#include "chrome/browser/search/hotword_service.h"
+//#include "chrome/browser/search/hotword_service_factory.h"
 #include "chrome/common/chrome_paths.h"
 #include "chrome/common/chrome_switches.h"
@@ -327,5 +327,5 @@ void ComponentLoader::AddGalleryExtension() {
 }
 
-void ComponentLoader::AddHangoutServicesExtension() {
+/*void ComponentLoader::AddHangoutServicesExtension() {
 #if defined(GOOGLE_CHROME_BUILD) || defined(ENABLE_HANGOUT_SERVICES_EXTENSION)
   Add(IDR_HANGOUT_SERVICES_MANIFEST,
@@ -352,5 +352,5 @@ void ComponentLoader::AddHotwordHelperExtension() {
     }
   }
-}
+}*/
 
 void ComponentLoader::AddImageLoaderExtension() {
@@ -547,7 +547,7 @@ void ComponentLoader::AddDefaultComponentExtensionsWithBackgroundPages(
     AddGalleryExtension();
 
-    AddHangoutServicesExtension();
-    AddHotwordAudioVerificationApp();
-    AddHotwordHelperExtension();
+//    AddHangoutServicesExtension();
+//    AddHotwordAudioVerificationApp();
+//    AddHotwordHelperExtension();
     AddImageLoaderExtension();
 
diff --git a/chrome/browser/extensions/crx_installer.cc b/chrome/browser/extensions/crx_installer.cc
index c76a45d..0e2642f 100644
--- a/chrome/browser/extensions/crx_installer.cc
+++ b/chrome/browser/extensions/crx_installer.cc
@@ -12,5 +12,5 @@
 #include "base/files/scoped_temp_dir.h"
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/strings/string_util.h"
@@ -545,5 +545,5 @@ void CrxInstaller::OnInstallChecksComplete(int failed_checks) {
 
   // Check the blacklist state.
-  if (install_checker_.blacklist_state() == extensions::BLACKLISTED_MALWARE) {
+/*  if (install_checker_.blacklist_state() == extensions::BLACKLISTED_MALWARE) {
     install_flags_ |= kInstallFlagIsBlacklistedForMalware;
   }
@@ -562,5 +562,5 @@ void CrxInstaller::OnInstallChecksComplete(int failed_checks) {
                               Manifest::NUM_LOCATIONS);
     return;
-  }
+  }*/
 
   // NOTE: extension may still be blacklisted, but we're forced to silently
diff --git a/chrome/browser/extensions/dev_mode_bubble_controller.cc b/chrome/browser/extensions/dev_mode_bubble_controller.cc
index 202207c..11f6bba 100644
--- a/chrome/browser/extensions/dev_mode_bubble_controller.cc
+++ b/chrome/browser/extensions/dev_mode_bubble_controller.cc
@@ -6,5 +6,5 @@
 
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/extensions/extension_action_manager.h"
 #include "chrome/browser/extensions/extension_message_bubble.h"
diff --git a/chrome/browser/extensions/extension_disabled_ui.cc b/chrome/browser/extensions/extension_disabled_ui.cc
index 3d6ce08..e74d88f 100644
--- a/chrome/browser/extensions/extension_disabled_ui.cc
+++ b/chrome/browser/extensions/extension_disabled_ui.cc
@@ -13,5 +13,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/extensions/extension_install_checker.cc b/chrome/browser/extensions/extension_install_checker.cc
index 313225df..5c9911a 100644
--- a/chrome/browser/extensions/extension_install_checker.cc
+++ b/chrome/browser/extensions/extension_install_checker.cc
@@ -6,5 +6,5 @@
 
 #include "base/strings/utf_string_conversions.h"
-#include "chrome/browser/extensions/blacklist.h"
+//#include "chrome/browser/extensions/blacklist.h"
 #include "chrome/browser/extensions/chrome_requirements_checker.h"
 #include "chrome/browser/profiles/profile.h"
@@ -17,5 +17,5 @@ namespace extensions {
 ExtensionInstallChecker::ExtensionInstallChecker(Profile* profile)
     : profile_(profile),
-      blacklist_state_(NOT_BLACKLISTED),
+//      blacklist_state_(NOT_BLACKLISTED),
       policy_allows_load_(true),
       current_sequence_number_(0),
@@ -63,6 +63,6 @@ void ExtensionInstallChecker::Start(int enabled_checks,
   }
 
-  if (enabled_checks & CHECK_BLACKLIST)
-    CheckBlacklistState();
+//  if (enabled_checks & CHECK_BLACKLIST)
+//    CheckBlacklistState();
 }
 
@@ -112,5 +112,5 @@ void ExtensionInstallChecker::OnRequirementsCheckDone(
 }
 
-void ExtensionInstallChecker::CheckBlacklistState() {
+/*void ExtensionInstallChecker::CheckBlacklistState() {
   DCHECK(extension_.get());
 
@@ -134,8 +134,8 @@ void ExtensionInstallChecker::OnBlacklistStateCheckDone(int sequence_number,
   MaybeInvokeCallback();
 }
-
+*/
 void ExtensionInstallChecker::ResetResults() {
   requirement_errors_.clear();
-  blacklist_state_ = NOT_BLACKLISTED;
+//  blacklist_state_ = NOT_BLACKLISTED;
   policy_allows_load_ = true;
   policy_error_.clear();
@@ -148,6 +148,6 @@ void ExtensionInstallChecker::MaybeInvokeCallback() {
   // Set bits for failed checks.
   int failed_mask = 0;
-  if (blacklist_state_ == BLACKLISTED_MALWARE)
-    failed_mask |= CHECK_BLACKLIST;
+//  if (blacklist_state_ == BLACKLISTED_MALWARE)
+//    failed_mask |= CHECK_BLACKLIST;
   if (!requirement_errors_.empty())
     failed_mask |= CHECK_REQUIREMENTS;
diff --git a/chrome/browser/extensions/extension_install_checker.h b/chrome/browser/extensions/extension_install_checker.h
index a13bdff..809086c 100644
--- a/chrome/browser/extensions/extension_install_checker.h
+++ b/chrome/browser/extensions/extension_install_checker.h
@@ -13,5 +13,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/strings/string16.h"
-#include "extensions/browser/blacklist_state.h"
+//#include "extensions/browser/blacklist_state.h"
 #include "extensions/common/extension.h"
 
@@ -73,5 +73,5 @@ class ExtensionInstallChecker {
   // Returns the blacklist state of the extension. A blacklist state of
   // BLACKLISTED_MALWARE is considered to be a check failure.
-  BlacklistState blacklist_state() const { return blacklist_state_; }
+//  BlacklistState blacklist_state() const { return blacklist_state_; }
 
   // Returns whether management policy permits installation of the extension.
@@ -87,6 +87,6 @@ class ExtensionInstallChecker {
                                const std::vector<std::string>& errors);
 
-  virtual void CheckBlacklistState();
-  void OnBlacklistStateCheckDone(int sequence_number, BlacklistState state);
+//  virtual void CheckBlacklistState();
+//  void OnBlacklistStateCheckDone(int sequence_number, BlacklistState state);
 
   virtual void ResetResults();
@@ -108,5 +108,5 @@ class ExtensionInstallChecker {
 
   // Result of the blacklist state check.
-  BlacklistState blacklist_state_;
+//  BlacklistState blacklist_state_;
 
   // Whether the extension can be installed, according to management policies.
diff --git a/chrome/browser/extensions/extension_install_prompt_experiment.cc b/chrome/browser/extensions/extension_install_prompt_experiment.cc
index 499435a..9c2ad34 100644
--- a/chrome/browser/extensions/extension_install_prompt_experiment.cc
+++ b/chrome/browser/extensions/extension_install_prompt_experiment.cc
@@ -5,5 +5,5 @@
 #include "base/basictypes.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/chrome/browser/extensions/extension_management.cc b/chrome/browser/extensions/extension_management.cc
index 4d3adbc..5f2e7b7 100644
--- a/chrome/browser/extensions/extension_management.cc
+++ b/chrome/browser/extensions/extension_management.cc
@@ -10,5 +10,5 @@
 #include "base/bind_helpers.h"
 #include "base/logging.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string16.h"
diff --git a/chrome/browser/extensions/extension_message_bubble_controller.cc b/chrome/browser/extensions/extension_message_bubble_controller.cc
index 778c7ad..4a8ea4b 100644
--- a/chrome/browser/extensions/extension_message_bubble_controller.cc
+++ b/chrome/browser/extensions/extension_message_bubble_controller.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "chrome/browser/extensions/extension_message_bubble.h"
diff --git a/chrome/browser/extensions/extension_notification_observer.h b/chrome/browser/extensions/extension_notification_observer.h
index 3d46ccf..b16b4c91 100644
--- a/chrome/browser/extensions/extension_notification_observer.h
+++ b/chrome/browser/extensions/extension_notification_observer.h
@@ -16,5 +16,5 @@
 #include "content/public/browser/notification_source.h"
 #include "extensions/browser/notification_types.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace extensions {
diff --git a/chrome/browser/extensions/extension_service.cc b/chrome/browser/extensions/extension_service.cc
index 97ea32e..e1b6f6e 100644
--- a/chrome/browser/extensions/extension_service.cc
+++ b/chrome/browser/extensions/extension_service.cc
@@ -10,5 +10,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
@@ -177,5 +177,5 @@ void ExtensionService::AddProviderForTesting(
       linked_ptr<extensions::ExternalProviderInterface>(test_provider));
 }
-
+/*
 void ExtensionService::BlacklistExtensionForTest(
     const std::string& extension_id) {
@@ -184,5 +184,5 @@ void ExtensionService::BlacklistExtensionForTest(
   blacklisted.insert(extension_id);
   UpdateBlacklistedExtensions(blacklisted, unchanged);
-}
+}*/
 
 bool ExtensionService::OnExternalExtensionUpdateUrlFound(
@@ -262,13 +262,13 @@ ExtensionService::ExtensionService(Profile* profile,
                                    const base::FilePath& install_directory,
                                    extensions::ExtensionPrefs* extension_prefs,
-                                   extensions::Blacklist* blacklist,
+//                                   extensions::Blacklist* blacklist,
                                    bool autoupdate_enabled,
                                    bool extensions_enabled,
                                    extensions::OneShotEvent* ready)
-    : extensions::Blacklist::Observer(blacklist),
+    : //extensions::Blacklist::Observer(blacklist),
       profile_(profile),
       system_(extensions::ExtensionSystem::Get(profile)),
       extension_prefs_(extension_prefs),
-      blacklist_(blacklist),
+//      blacklist_(blacklist),
       extension_sync_service_(NULL),
       registry_(extensions::ExtensionRegistry::Get(profile)),
@@ -1097,9 +1097,9 @@ void ExtensionService::NotifyExtensionLoaded(const Extension* extension) {
   }
 
-  // Same for chrome://theme/ resources.
+/*  // Same for chrome://theme/ resources.
   if (permissions_data->HasHostPermission(GURL(chrome::kChromeUIThemeURL))) {
     ThemeSource* theme_source = new ThemeSource(profile_);
     content::URLDataSource::Add(profile_, theme_source);
-  }
+  }*/
 
   // Same for chrome://thumb/ resources.
@@ -1449,5 +1449,5 @@ void ExtensionService::OnLoadedInstalledExtensions() {
     updater_->Start();
 
-  OnBlacklistUpdated();
+//  OnBlacklistUpdated();
 }
 
@@ -2422,5 +2422,5 @@ void ExtensionService::MaybeFinishDelayedInstallations() {
 }
 
-void ExtensionService::OnBlacklistUpdated() {
+/*void ExtensionService::OnBlacklistUpdated() {
   blacklist_->GetBlacklistedIDs(
       registry_->GenerateInstalledExtensionsSet()->GetIDs(),
@@ -2463,5 +2463,5 @@ void ExtensionService::ManageBlacklist(
 
   error_controller_->ShowErrorIfNeeded();
-}
+}*/
 
 namespace {
@@ -2477,5 +2477,5 @@ void Partition(const ExtensionIdSet& before,
 }  // namespace
 
-void ExtensionService::UpdateBlacklistedExtensions(
+/*void ExtensionService::UpdateBlacklistedExtensions(
     const ExtensionIdSet& blacklisted,
     const ExtensionIdSet& unchanged) {
@@ -2559,5 +2559,5 @@ void ExtensionService::UpdateGreylistedExtensions(
       DisableExtension(*it, extensions::Extension::DISABLE_GREYLIST);
   }
-}
+}*/
 
 void ExtensionService::AddUpdateObserver(extensions::UpdateObserver* observer) {
diff --git a/chrome/browser/extensions/extension_service.h b/chrome/browser/extensions/extension_service.h
index 04d0f4e..b21b18b 100644
--- a/chrome/browser/extensions/extension_service.h
+++ b/chrome/browser/extensions/extension_service.h
@@ -17,5 +17,6 @@
 #include "base/memory/weak_ptr.h"
 #include "base/strings/string16.h"
-#include "chrome/browser/extensions/blacklist.h"
+//#include "chrome/browser/extensions/blacklist.h"
+ #include "extensions/browser/extension_prefs.h"
 #include "chrome/browser/extensions/extension_management.h"
 #include "chrome/browser/extensions/pending_extension_manager.h"
@@ -177,5 +178,5 @@ class ExtensionService
       public extensions::ExternalProviderInterface::VisitorInterface,
       public content::NotificationObserver,
-      public extensions::Blacklist::Observer,
+//      public extensions::Blacklist::Observer,
       public extensions::ExtensionManagement::Observer {
  public:
@@ -192,5 +193,5 @@ class ExtensionService
                    const base::FilePath& install_directory,
                    extensions::ExtensionPrefs* extension_prefs,
-                   extensions::Blacklist* blacklist,
+//                   extensions::Blacklist* blacklist,
                    bool autoupdate_enabled,
                    bool extensions_enabled,
@@ -445,5 +446,5 @@ class ExtensionService
 
   // Simulate an extension being blacklisted for tests.
-  void BlacklistExtensionForTest(const std::string& extension_id);
+//  void BlacklistExtensionForTest(const std::string& extension_id);
 
 #if defined(UNIT_TEST)
@@ -492,5 +493,5 @@ class ExtensionService
 
   // extensions::Blacklist::Observer implementation.
-  void OnBlacklistUpdated() override;
+//  void OnBlacklistUpdated() override;
 
   // Similar to FinishInstallation, but first checks if there still is an update
@@ -578,5 +579,5 @@ class ExtensionService
   // Manages the blacklisted extensions, intended as callback from
   // Blacklist::GetBlacklistedIDs.
-  void ManageBlacklist(
+/*  void ManageBlacklist(
       const extensions::Blacklist::BlacklistStateMap& blacklisted_ids);
 
@@ -591,5 +592,5 @@ class ExtensionService
       const extensions::ExtensionIdSet& unchanged,
       const extensions::Blacklist::BlacklistStateMap& state_map);
-
+*/
   // Used only by test code.
   void UnloadAllExtensionsInternal();
@@ -617,5 +618,5 @@ class ExtensionService
 
   // Blacklist for the owning profile.
-  extensions::Blacklist* blacklist_;
+//  extensions::Blacklist* blacklist_;
 
   // The ExtensionSyncService that is used by this ExtensionService.
diff --git a/chrome/browser/extensions/extension_special_storage_policy.cc b/chrome/browser/extensions/extension_special_storage_policy.cc
index 06c5dc2..0131540 100644
--- a/chrome/browser/extensions/extension_special_storage_policy.cc
+++ b/chrome/browser/extensions/extension_special_storage_policy.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/extensions/extension_system_factory.cc b/chrome/browser/extensions/extension_system_factory.cc
index c80f79c..3679a51 100644
--- a/chrome/browser/extensions/extension_system_factory.cc
+++ b/chrome/browser/extensions/extension_system_factory.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/extensions/extension_system_factory.h"
 
-#include "chrome/browser/extensions/blacklist_factory.h"
+//#include "chrome/browser/extensions/blacklist_factory.h"
 #include "chrome/browser/extensions/extension_management.h"
 #include "chrome/browser/policy/profile_policy_connector_factory.h"
@@ -48,5 +48,5 @@ ExtensionSystemSharedFactory::ExtensionSystemSharedFactory()
   DependsOn(ProcessManagerFactory::GetInstance());
   DependsOn(RendererStartupHelperFactory::GetInstance());
-  DependsOn(BlacklistFactory::GetInstance());
+//  DependsOn(BlacklistFactory::GetInstance());
   // This depends on ExtensionDownloader which depends on
   // ProfileIdentityProvider which depends on SigninManager.
diff --git a/chrome/browser/extensions/extension_system_impl.cc b/chrome/browser/extensions/extension_system_impl.cc
index c154a3e..6d67189 100644
--- a/chrome/browser/extensions/extension_system_impl.cc
+++ b/chrome/browser/extensions/extension_system_impl.cc
@@ -10,6 +10,6 @@
 #include "base/files/file_path.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_tokenizer.h"
 #include "base/strings/string_util.h"
@@ -320,5 +320,5 @@ void ExtensionSystemImpl::Shared::Init(bool extensions_enabled) {
       profile_, base::CommandLine::ForCurrentProcess(),
       profile_->GetPath().AppendASCII(extensions::kInstallDirectoryName),
-      ExtensionPrefs::Get(profile_), Blacklist::Get(profile_),
+      ExtensionPrefs::Get(profile_), //Blacklist::Get(profile_),
       autoupdate_enabled, extensions_enabled, &ready_));
 
diff --git a/chrome/browser/extensions/extension_toolbar_model.cc b/chrome/browser/extensions/extension_toolbar_model.cc
index 2019177..99ee442 100644
--- a/chrome/browser/extensions/extension_toolbar_model.cc
+++ b/chrome/browser/extensions/extension_toolbar_model.cc
@@ -9,6 +9,6 @@
 
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/histogram_base.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram_base.h"
 #include "base/prefs/pref_service.h"
 #include "base/profiler/scoped_tracker.h"
diff --git a/chrome/browser/extensions/extension_webui_apitest.cc b/chrome/browser/extensions/extension_webui_apitest.cc
index 66333cc..ae4d5f3 100644
--- a/chrome/browser/extensions/extension_webui_apitest.cc
+++ b/chrome/browser/extensions/extension_webui_apitest.cc
@@ -19,5 +19,5 @@
 #include "extensions/common/extension.h"
 #include "extensions/test/extension_test_message_listener.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace extensions {
diff --git a/chrome/browser/extensions/external_install_manager.cc b/chrome/browser/extensions/external_install_manager.cc
index 27557d5..ec7e926 100644
--- a/chrome/browser/extensions/external_install_manager.cc
+++ b/chrome/browser/extensions/external_install_manager.cc
@@ -8,5 +8,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/chrome_notification_types.h"
 #include "chrome/browser/extensions/external_install_error.h"
diff --git a/chrome/browser/extensions/external_pref_loader.cc b/chrome/browser/extensions/external_pref_loader.cc
index 8e9a133..b939f57 100644
--- a/chrome/browser/extensions/external_pref_loader.cc
+++ b/chrome/browser/extensions/external_pref_loader.cc
@@ -12,5 +12,5 @@
 #include "base/json/json_string_value_serializer.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/extensions/external_provider_impl.cc b/chrome/browser/extensions/external_provider_impl.cc
index f312288..93ac9cd 100644
--- a/chrome/browser/extensions/external_provider_impl.cc
+++ b/chrome/browser/extensions/external_provider_impl.cc
@@ -12,5 +12,5 @@
 #include "base/logging.h"
 #include "base/memory/linked_ptr.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_util.h"
 #include "base/trace_event/trace_event.h"
diff --git a/chrome/browser/extensions/external_registry_loader_win.cc b/chrome/browser/extensions/external_registry_loader_win.cc
index a1c2893..40e0f6a 100644
--- a/chrome/browser/extensions/external_registry_loader_win.cc
+++ b/chrome/browser/extensions/external_registry_loader_win.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_util.h"
 #include "base/files/scoped_file.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/extensions/installed_loader.cc b/chrome/browser/extensions/installed_loader.cc
index 5698489..4298ec5 100644
--- a/chrome/browser/extensions/installed_loader.cc
+++ b/chrome/browser/extensions/installed_loader.cc
@@ -6,6 +6,6 @@
 
 #include "base/files/file_path.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/stringprintf.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/extensions/install_signer.cc b/chrome/browser/extensions/install_signer.cc
index 7ddaa62..891fd6c 100644
--- a/chrome/browser/extensions/install_signer.cc
+++ b/chrome/browser/extensions/install_signer.cc
@@ -12,5 +12,5 @@
 #include "base/lazy_instance.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process_info.h"
 #include "base/stl_util.h"
diff --git a/chrome/browser/extensions/install_verifier.cc b/chrome/browser/extensions/install_verifier.cc
index bc1d690..c1e97cb 100644
--- a/chrome/browser/extensions/install_verifier.cc
+++ b/chrome/browser/extensions/install_verifier.cc
@@ -10,6 +10,6 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/stl_util.h"
diff --git a/chrome/browser/extensions/ntp_overridden_bubble_controller.cc b/chrome/browser/extensions/ntp_overridden_bubble_controller.cc
index bec4ed3..799a241 100644
--- a/chrome/browser/extensions/ntp_overridden_bubble_controller.cc
+++ b/chrome/browser/extensions/ntp_overridden_bubble_controller.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/extensions/ntp_overridden_bubble_controller.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/extensions/extension_service.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/extensions/plugin_manager.cc b/chrome/browser/extensions/plugin_manager.cc
index 2384d71..590fbc0 100644
--- a/chrome/browser/extensions/plugin_manager.cc
+++ b/chrome/browser/extensions/plugin_manager.cc
@@ -14,5 +14,4 @@
 #include "chrome/common/extensions/api/plugins/plugins_handler.h"
 #include "content/public/browser/plugin_service.h"
-#include "content/public/common/pepper_plugin_info.h"
 #include "extensions/browser/extension_registry.h"
 #include "extensions/common/extension.h"
@@ -21,4 +20,5 @@
 
 #if !defined(DISABLE_NACL)
+#include "content/public/common/pepper_plugin_info.h"
 #include "components/nacl/common/nacl_constants.h"
 #endif
diff --git a/chrome/browser/extensions/proxy_overridden_bubble_controller.cc b/chrome/browser/extensions/proxy_overridden_bubble_controller.cc
index a3cde4c..819946a 100644
--- a/chrome/browser/extensions/proxy_overridden_bubble_controller.cc
+++ b/chrome/browser/extensions/proxy_overridden_bubble_controller.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/extensions/proxy_overridden_bubble_controller.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/extensions/extension_service.h"
 #include "chrome/browser/extensions/extension_toolbar_model.h"
diff --git a/chrome/browser/extensions/settings_api_bubble_controller.cc b/chrome/browser/extensions/settings_api_bubble_controller.cc
index e89f42f..a08b9b4 100644
--- a/chrome/browser/extensions/settings_api_bubble_controller.cc
+++ b/chrome/browser/extensions/settings_api_bubble_controller.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/extensions/settings_api_bubble_controller.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/extensions/extension_service.h"
 #include "chrome/browser/extensions/extension_toolbar_model.h"
diff --git a/chrome/browser/extensions/suspicious_extension_bubble_controller.cc b/chrome/browser/extensions/suspicious_extension_bubble_controller.cc
index da364b2..f8c4d0d 100644
--- a/chrome/browser/extensions/suspicious_extension_bubble_controller.cc
+++ b/chrome/browser/extensions/suspicious_extension_bubble_controller.cc
@@ -6,5 +6,5 @@
 
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "chrome/browser/extensions/extension_message_bubble.h"
diff --git a/chrome/browser/extensions/test_extension_dir.cc b/chrome/browser/extensions/test_extension_dir.cc
index 14431f5..5f88674 100644
--- a/chrome/browser/extensions/test_extension_dir.cc
+++ b/chrome/browser/extensions/test_extension_dir.cc
@@ -10,5 +10,5 @@
 #include "base/test/values_test_util.h"
 #include "chrome/browser/extensions/extension_creator.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace extensions {
diff --git a/chrome/browser/extensions/test_extension_environment.cc b/chrome/browser/extensions/test_extension_environment.cc
index 8b5c30e..425349cf 100644
--- a/chrome/browser/extensions/test_extension_environment.cc
+++ b/chrome/browser/extensions/test_extension_environment.cc
@@ -18,5 +18,5 @@
 #include "extensions/common/extension_builder.h"
 #include "extensions/common/value_builder.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(USE_AURA)
diff --git a/chrome/browser/extensions/test_extension_prefs.cc b/chrome/browser/extensions/test_extension_prefs.cc
index 4c98c5a..c7f4dcb 100644
--- a/chrome/browser/extensions/test_extension_prefs.cc
+++ b/chrome/browser/extensions/test_extension_prefs.cc
@@ -30,5 +30,5 @@
 #include "extensions/common/manifest_constants.h"
 #include "sync/api/string_ordinal.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using content::BrowserThread;
diff --git a/chrome/browser/extensions/test_extension_service.cc b/chrome/browser/extensions/test_extension_service.cc
index ae2c2b8..f0a50e8 100644
--- a/chrome/browser/extensions/test_extension_service.cc
+++ b/chrome/browser/extensions/test_extension_service.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/extensions/crx_installer.h"
 #include "chrome/browser/extensions/test_extension_service.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using extensions::Extension;
diff --git a/chrome/browser/extensions/updater/extension_cache_impl.cc b/chrome/browser/extensions/updater/extension_cache_impl.cc
index 6ead867..6f38f6c 100644
--- a/chrome/browser/extensions/updater/extension_cache_impl.cc
+++ b/chrome/browser/extensions/updater/extension_cache_impl.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/stl_util.h"
diff --git a/chrome/browser/extensions/updater/extension_updater.cc b/chrome/browser/extensions/updater/extension_updater.cc
index 9343753..195025a 100644
--- a/chrome/browser/extensions/updater/extension_updater.cc
+++ b/chrome/browser/extensions/updater/extension_updater.cc
@@ -12,5 +12,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/rand_util.h"
diff --git a/chrome/browser/extensions/webstore_installer.cc b/chrome/browser/extensions/webstore_installer.cc
index 1310d8e..4c3e80b 100644
--- a/chrome/browser/extensions/webstore_installer.cc
+++ b/chrome/browser/extensions/webstore_installer.cc
@@ -12,7 +12,7 @@
 #include "base/command_line.h"
 #include "base/files/file_util.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/path_service.h"
 #include "base/rand_util.h"
diff --git a/chrome/browser/extensions/window_open_apitest.cc b/chrome/browser/extensions/window_open_apitest.cc
index 011ff07..30dfc3e 100644
--- a/chrome/browser/extensions/window_open_apitest.cc
+++ b/chrome/browser/extensions/window_open_apitest.cc
@@ -32,5 +32,5 @@
 #include "net/dns/mock_host_resolver.h"
 #include "net/test/embedded_test_server/embedded_test_server.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(USE_ASH)
diff --git a/chrome/browser/first_run/first_run.cc b/chrome/browser/first_run/first_run.cc
index 0e88b9f..d911bdc 100644
--- a/chrome/browser/first_run/first_run.cc
+++ b/chrome/browser/first_run/first_run.cc
@@ -13,5 +13,5 @@
 #include "base/lazy_instance.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/gpu/gpu_mode_manager.cc b/chrome/browser/gpu/gpu_mode_manager.cc
index 8bd33ec..2d3e139 100644
--- a/chrome/browser/gpu/gpu_mode_manager.cc
+++ b/chrome/browser/gpu/gpu_mode_manager.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/gpu/three_d_api_observer.cc b/chrome/browser/gpu/three_d_api_observer.cc
index 785e706..1e0a510 100644
--- a/chrome/browser/gpu/three_d_api_observer.cc
+++ b/chrome/browser/gpu/three_d_api_observer.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/gpu/three_d_api_observer.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/infobars/infobar_service.h"
 #include "chrome/browser/tab_contents/tab_util.h"
diff --git a/chrome/browser/hang_monitor/hung_plugin_action.cc b/chrome/browser/hang_monitor/hung_plugin_action.cc
index 8214286..c51baa3 100644
--- a/chrome/browser/hang_monitor/hung_plugin_action.cc
+++ b/chrome/browser/hang_monitor/hung_plugin_action.cc
@@ -7,5 +7,5 @@
 #include "chrome/browser/hang_monitor/hung_plugin_action.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/version.h"
 #include "chrome/browser/ui/simple_message_box.h"
diff --git a/chrome/browser/history/history_backend.cc b/chrome/browser/history/history_backend.cc
index f8b5e67..a9910b8 100644
--- a/chrome/browser/history/history_backend.cc
+++ b/chrome/browser/history/history_backend.cc
@@ -19,5 +19,5 @@
 #include "base/memory/scoped_vector.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/history/top_sites_impl.cc b/chrome/browser/history/top_sites_impl.cc
index 94f365b..f8e1bda 100644
--- a/chrome/browser/history/top_sites_impl.cc
+++ b/chrome/browser/history/top_sites_impl.cc
@@ -14,5 +14,5 @@
 #include "base/memory/ref_counted_memory.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/history/typed_url_syncable_service.cc b/chrome/browser/history/typed_url_syncable_service.cc
index 57719f1..34be2c7 100644
--- a/chrome/browser/history/typed_url_syncable_service.cc
+++ b/chrome/browser/history/typed_url_syncable_service.cc
@@ -7,5 +7,5 @@
 #include "base/auto_reset.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "chrome/browser/history/history_backend.h"
diff --git a/chrome/browser/importer/ie_importer_browsertest_win.cc b/chrome/browser/importer/ie_importer_browsertest_win.cc
index 6f469da1..64a997e 100644
--- a/chrome/browser/importer/ie_importer_browsertest_win.cc
+++ b/chrome/browser/importer/ie_importer_browsertest_win.cc
@@ -44,5 +44,5 @@
 #include "components/os_crypt/ie7_password_win.h"
 #include "components/search_engines/template_url.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/browser/importer/importer_uma.h b/chrome/browser/importer/importer_uma.h
index c71e6c9..fae909f 100644
--- a/chrome/browser/importer/importer_uma.h
+++ b/chrome/browser/importer/importer_uma.h
@@ -7,5 +7,5 @@
 
 #include <string>
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/common/importer/importer_type.h"
 
diff --git a/chrome/browser/infobars/insecure_content_infobar_delegate.cc b/chrome/browser/infobars/insecure_content_infobar_delegate.cc
index cb35acc..df8e83e 100644
--- a/chrome/browser/infobars/insecure_content_infobar_delegate.cc
+++ b/chrome/browser/infobars/insecure_content_infobar_delegate.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/infobars/insecure_content_infobar_delegate.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/infobars/infobar_service.h"
 #include "chrome/common/render_messages.h"
diff --git a/chrome/browser/install_verification/win/install_verification.cc b/chrome/browser/install_verification/win/install_verification.cc
index c113dd2..f47dd48 100644
--- a/chrome/browser/install_verification/win/install_verification.cc
+++ b/chrome/browser/install_verification/win/install_verification.cc
@@ -8,5 +8,5 @@
 #include <vector>
 
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "chrome/browser/install_verification/win/imported_module_verification.h"
 #include "chrome/browser/install_verification/win/loaded_module_verification.h"
diff --git a/chrome/browser/install_verification/win/module_verification_test.h b/chrome/browser/install_verification/win/module_verification_test.h
index 718212c..40c4081 100644
--- a/chrome/browser/install_verification/win/module_verification_test.h
+++ b/chrome/browser/install_verification/win/module_verification_test.h
@@ -9,5 +9,5 @@
 #include "base/compiler_specific.h"
 #include "chrome/browser/install_verification/win/module_info.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 struct ModuleInfo;
diff --git a/chrome/browser/interstitials/security_interstitial_metrics_helper.cc b/chrome/browser/interstitials/security_interstitial_metrics_helper.cc
index 2c7961b..aa14d89 100644
--- a/chrome/browser/interstitials/security_interstitial_metrics_helper.cc
+++ b/chrome/browser/interstitials/security_interstitial_metrics_helper.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/browser_process.h"
 #include "chrome/browser/history/history_service.h"
diff --git a/chrome/browser/io_thread.cc b/chrome/browser/io_thread.cc
index 641f8f6..e1b2a25 100644
--- a/chrome/browser/io_thread.cc
+++ b/chrome/browser/io_thread.cc
@@ -14,6 +14,6 @@
 #include "base/debug/leak_tracker.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/lifetime/application_lifetime_aura.cc b/chrome/browser/lifetime/application_lifetime_aura.cc
index 75d67ba..0f180aa 100644
--- a/chrome/browser/lifetime/application_lifetime_aura.cc
+++ b/chrome/browser/lifetime/application_lifetime_aura.cc
@@ -5,5 +5,7 @@
 #include "chrome/browser/lifetime/application_lifetime.h"
 
-#include "ash/shell.h"
+#if defined(ASH_IMPLEMENTATION)
+  #include "ash/shell.h"
+#endif
 #include "base/command_line.h"
 #include "chrome/browser/browser_process.h"
@@ -21,4 +23,5 @@ void HandleAppExitingForPlatform() {
   g_browser_process->notification_ui_manager()->CancelAll();
 
+#if defined(ASH_IMPLEMENTATION)
   // This may be called before |ash::Shell| is initialized when
   // XIOError is reported.  crbug.com/150633.
@@ -29,4 +32,5 @@ void HandleAppExitingForPlatform() {
         SetCapture(NULL);
   }
+#endif
 
   views::Widget::CloseAllSecondaryWidgets();
diff --git a/chrome/browser/load_library_perf_test.cc b/chrome/browser/load_library_perf_test.cc
index 7f400b4..177b69a 100644
--- a/chrome/browser/load_library_perf_test.cc
+++ b/chrome/browser/load_library_perf_test.cc
@@ -9,6 +9,6 @@
 #include "base/strings/utf_string_conversions.h"
 #include "base/time/time.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 #include "widevine_cdm_version.h"  //  In SHARED_INTERMEDIATE_DIR.
 
diff --git a/chrome/browser/mac/mac_startup_profiler.cc b/chrome/browser/mac/mac_startup_profiler.cc
index f7f302d..02ad381 100644
--- a/chrome/browser/mac/mac_startup_profiler.cc
+++ b/chrome/browser/mac/mac_startup_profiler.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "components/startup_metric_utils/startup_metric_utils.h"
 
diff --git a/chrome/browser/media_galleries/media_galleries_dialog_controller_mock.h b/chrome/browser/media_galleries/media_galleries_dialog_controller_mock.h
index d783b70..336b3e4 100644
--- a/chrome/browser/media_galleries/media_galleries_dialog_controller_mock.h
+++ b/chrome/browser/media_galleries/media_galleries_dialog_controller_mock.h
@@ -7,5 +7,5 @@
 
 #include "chrome/browser/media_galleries/media_galleries_dialog_controller.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 class MediaGalleriesDialogControllerMock
diff --git a/chrome/browser/media_galleries/media_galleries_histograms.cc b/chrome/browser/media_galleries/media_galleries_histograms.cc
index cf3f5c7..64d9786 100644
--- a/chrome/browser/media_galleries/media_galleries_histograms.cc
+++ b/chrome/browser/media_galleries/media_galleries_histograms.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/media_galleries/media_galleries_histograms.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace media_galleries {
diff --git a/chrome/browser/media_galleries/media_galleries_scan_result_controller.cc b/chrome/browser/media_galleries/media_galleries_scan_result_controller.cc
index 1b791b2..5f24904 100644
--- a/chrome/browser/media_galleries/media_galleries_scan_result_controller.cc
+++ b/chrome/browser/media_galleries/media_galleries_scan_result_controller.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/media_galleries/media_scan_manager.cc b/chrome/browser/media_galleries/media_scan_manager.cc
index d86bd8c..c690243 100644
--- a/chrome/browser/media_galleries/media_scan_manager.cc
+++ b/chrome/browser/media_galleries/media_scan_manager.cc
@@ -8,5 +8,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "chrome/browser/extensions/extension_service.h"
diff --git a/chrome/browser/media/media_capture_devices_dispatcher.cc b/chrome/browser/media/media_capture_devices_dispatcher.cc
index ef6127b..cabfc08 100644
--- a/chrome/browser/media/media_capture_devices_dispatcher.cc
+++ b/chrome/browser/media/media_capture_devices_dispatcher.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/media/media_stream_devices_controller.cc b/chrome/browser/media/media_stream_devices_controller.cc
index cc371d5..f292b37 100644
--- a/chrome/browser/media/media_stream_devices_controller.cc
+++ b/chrome/browser/media/media_stream_devices_controller.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/media/media_stream_devices_controller.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/scoped_user_pref_update.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/media/media_stream_infobar_delegate.cc b/chrome/browser/media/media_stream_infobar_delegate.cc
index c5940b8..0058c6c 100644
--- a/chrome/browser/media/media_stream_infobar_delegate.cc
+++ b/chrome/browser/media/media_stream_infobar_delegate.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "chrome/browser/infobars/infobar_service.h"
diff --git a/chrome/browser/media/webrtc_browsertest_perf.cc b/chrome/browser/media/webrtc_browsertest_perf.cc
index d87ee56..f8fa2f4 100644
--- a/chrome/browser/media/webrtc_browsertest_perf.cc
+++ b/chrome/browser/media/webrtc_browsertest_perf.cc
@@ -8,5 +8,5 @@
 #include "base/values.h"
 #include "chrome/test/base/in_process_browser_test.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/perf/perf_test.h"
 
 static std::string Statistic(const std::string& statistic,
diff --git a/chrome/browser/memory_details.cc b/chrome/browser/memory_details.cc
index e49b57e..517d40e 100644
--- a/chrome/browser/memory_details.cc
+++ b/chrome/browser/memory_details.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/file_version_info.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/net/async_dns_field_trial.cc b/chrome/browser/net/async_dns_field_trial.cc
index 20736a9..3e3f81a 100644
--- a/chrome/browser/net/async_dns_field_trial.cc
+++ b/chrome/browser/net/async_dns_field_trial.cc
@@ -5,6 +5,6 @@
 #include "chrome/browser/net/async_dns_field_trial.h"
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "build/build_config.h"
diff --git a/chrome/browser/net/chrome_network_delegate.cc b/chrome/browser/net/chrome_network_delegate.cc
index eaa1595..6b58203 100644
--- a/chrome/browser/net/chrome_network_delegate.cc
+++ b/chrome/browser/net/chrome_network_delegate.cc
@@ -15,7 +15,7 @@
 #include "base/debug/stack_trace.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_member.h"
diff --git a/chrome/browser/net/dns_probe_service.cc b/chrome/browser/net/dns_probe_service.cc
index 38b7904..eac42f2 100644
--- a/chrome/browser/net/dns_probe_service.cc
+++ b/chrome/browser/net/dns_probe_service.cc
@@ -5,6 +5,6 @@
 #include "chrome/browser/net/dns_probe_service.h"
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "net/base/ip_endpoint.h"
diff --git a/chrome/browser/net/evicted_domain_cookie_counter.cc b/chrome/browser/net/evicted_domain_cookie_counter.cc
index a61db6c..af79822 100644
--- a/chrome/browser/net/evicted_domain_cookie_counter.cc
+++ b/chrome/browser/net/evicted_domain_cookie_counter.cc
@@ -8,5 +8,5 @@
 #include <vector>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/net/network_stats.cc b/chrome/browser/net/network_stats.cc
index 51df4c2..3580e0e 100644
--- a/chrome/browser/net/network_stats.cc
+++ b/chrome/browser/net/network_stats.cc
@@ -8,6 +8,6 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/rand_util.h"
diff --git a/chrome/browser/net/network_stats.h b/chrome/browser/net/network_stats.h
index 4ce6c4e..c948d1b 100644
--- a/chrome/browser/net/network_stats.h
+++ b/chrome/browser/net/network_stats.h
@@ -11,5 +11,5 @@
 
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "chrome/browser/io_thread.h"
diff --git a/chrome/browser/net/preconnect.cc b/chrome/browser/net/preconnect.cc
index 987c091..88157ef 100644
--- a/chrome/browser/net/preconnect.cc
+++ b/chrome/browser/net/preconnect.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/public/browser/browser_thread.h"
 #include "net/base/net_log.h"
diff --git a/chrome/browser/net/predictor.cc b/chrome/browser/net/predictor.cc
index 3b52756..3dbf7b6 100644
--- a/chrome/browser/net/predictor.cc
+++ b/chrome/browser/net/predictor.cc
@@ -15,5 +15,5 @@
 #include "base/containers/mru_cache.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/net/quota_policy_channel_id_store.cc b/chrome/browser/net/quota_policy_channel_id_store.cc
index 975483c..469c614 100644
--- a/chrome/browser/net/quota_policy_channel_id_store.cc
+++ b/chrome/browser/net/quota_policy_channel_id_store.cc
@@ -12,5 +12,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/threading/thread.h"
diff --git a/chrome/browser/net/resource_prefetch_predictor_observer.cc b/chrome/browser/net/resource_prefetch_predictor_observer.cc
index 5a3f4a1..1187898 100644
--- a/chrome/browser/net/resource_prefetch_predictor_observer.cc
+++ b/chrome/browser/net/resource_prefetch_predictor_observer.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/public/browser/browser_thread.h"
 #include "content/public/browser/render_frame_host.h"
diff --git a/chrome/browser/net/ssl_config_service_manager_pref.cc b/chrome/browser/net/ssl_config_service_manager_pref.cc
index 0190be4..8c7f0b1 100644
--- a/chrome/browser/net/ssl_config_service_manager_pref.cc
+++ b/chrome/browser/net/ssl_config_service_manager_pref.cc
@@ -10,5 +10,5 @@
 #include "base/basictypes.h"
 #include "base/bind.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_change_registrar.h"
 #include "base/prefs/pref_member.h"
diff --git a/chrome/browser/net/url_info.cc b/chrome/browser/net/url_info.cc
index 2fe9688..cc08903 100644
--- a/chrome/browser/net/url_info.cc
+++ b/chrome/browser/net/url_info.cc
@@ -14,5 +14,5 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 
diff --git a/chrome/browser/platform_util_win.cc b/chrome/browser/platform_util_win.cc
index a905b2f..6305244 100644
--- a/chrome/browser/platform_util_win.cc
+++ b/chrome/browser/platform_util_win.cc
@@ -15,5 +15,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/plugins/plugin_info_message_filter.cc b/chrome/browser/plugins/plugin_info_message_filter.cc
index 259f0d7..1047b9c 100644
--- a/chrome/browser/plugins/plugin_info_message_filter.cc
+++ b/chrome/browser/plugins/plugin_info_message_filter.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/plugins/plugin_observer.cc b/chrome/browser/plugins/plugin_observer.cc
index 53b96a0..6cf37d2 100644
--- a/chrome/browser/plugins/plugin_observer.cc
+++ b/chrome/browser/plugins/plugin_observer.cc
@@ -8,5 +8,5 @@
 #include "base/bind.h"
 #include "base/debug/crash_logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/policy/cloud/cloud_policy_invalidator.cc b/chrome/browser/policy/cloud/cloud_policy_invalidator.cc
index c197f97..0b09d32 100644
--- a/chrome/browser/policy/cloud/cloud_policy_invalidator.cc
+++ b/chrome/browser/policy/cloud/cloud_policy_invalidator.cc
@@ -8,5 +8,5 @@
 #include "base/hash.h"
 #include "base/location.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/sequenced_task_runner.h"
diff --git a/chrome/browser/predictors/autocomplete_action_predictor.cc b/chrome/browser/predictors/autocomplete_action_predictor.cc
index 2afdd8c..9806c1c 100644
--- a/chrome/browser/predictors/autocomplete_action_predictor.cc
+++ b/chrome/browser/predictors/autocomplete_action_predictor.cc
@@ -12,5 +12,5 @@
 #include "base/guid.h"
 #include "base/i18n/case_conversion.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/predictors/autocomplete_action_predictor_table.cc b/chrome/browser/predictors/autocomplete_action_predictor_table.cc
index 73ed0c7..c8069e0 100644
--- a/chrome/browser/predictors/autocomplete_action_predictor_table.cc
+++ b/chrome/browser/predictors/autocomplete_action_predictor_table.cc
@@ -7,5 +7,5 @@
 #include "base/guid.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/predictors/logged_in_predictor_table.cc b/chrome/browser/predictors/logged_in_predictor_table.cc
index cbeee47..ea173cb 100644
--- a/chrome/browser/predictors/logged_in_predictor_table.cc
+++ b/chrome/browser/predictors/logged_in_predictor_table.cc
@@ -8,5 +8,5 @@
 #include <utility>
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "content/public/browser/browser_thread.h"
diff --git a/chrome/browser/predictors/predictor_database.cc b/chrome/browser/predictors/predictor_database.cc
index 9f8460a..1057dbe 100644
--- a/chrome/browser/predictors/predictor_database.cc
+++ b/chrome/browser/predictors/predictor_database.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "chrome/browser/predictors/autocomplete_action_predictor_table.h"
diff --git a/chrome/browser/predictors/resource_prefetch_common.cc b/chrome/browser/predictors/resource_prefetch_common.cc
index 1ec32e1..e4f771b 100644
--- a/chrome/browser/predictors/resource_prefetch_common.cc
+++ b/chrome/browser/predictors/resource_prefetch_common.cc
@@ -8,5 +8,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_split.h"
diff --git a/chrome/browser/predictors/resource_prefetch_predictor.cc b/chrome/browser/predictors/resource_prefetch_predictor.cc
index 68db96e..977738a 100644
--- a/chrome/browser/predictors/resource_prefetch_predictor.cc
+++ b/chrome/browser/predictors/resource_prefetch_predictor.cc
@@ -10,6 +10,6 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/predictors/resource_prefetch_predictor_tables.cc b/chrome/browser/predictors/resource_prefetch_predictor_tables.cc
index 89ebd7d..065261d 100644
--- a/chrome/browser/predictors/resource_prefetch_predictor_tables.cc
+++ b/chrome/browser/predictors/resource_prefetch_predictor_tables.cc
@@ -9,5 +9,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "content/public/browser/browser_thread.h"
diff --git a/chrome/browser/prefetch/prefetch.cc b/chrome/browser/prefetch/prefetch.cc
index 4b23f86..d6c3658 100644
--- a/chrome/browser/prefetch/prefetch.cc
+++ b/chrome/browser/prefetch/prefetch.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_util.h"
 #include "chrome/browser/net/prediction_options.h"
diff --git a/chrome/browser/prefetch/prefetch_field_trial.cc b/chrome/browser/prefetch/prefetch_field_trial.cc
index abdb112..bbea507 100644
--- a/chrome/browser/prefetch/prefetch_field_trial.cc
+++ b/chrome/browser/prefetch/prefetch_field_trial.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_util.h"
 #include "chrome/browser/prerender/prerender_field_trial.h"
diff --git a/chrome/browser/prefs/browser_prefs.cc b/chrome/browser/prefs/browser_prefs.cc
index 73d9b85..b8396e3 100644
--- a/chrome/browser/prefs/browser_prefs.cc
+++ b/chrome/browser/prefs/browser_prefs.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
@@ -25,5 +25,7 @@
 #include "chrome/browser/external_protocol/external_protocol_handler.h"
 #include "chrome/browser/first_run/first_run.h"
+//TODO:
 #include "chrome/browser/geolocation/geolocation_prefs.h"
+
 #include "chrome/browser/gpu/gl_string_manager.h"
 #include "chrome/browser/gpu/gpu_mode_manager.h"
@@ -41,9 +43,9 @@
 #include "chrome/browser/net/pref_proxy_config_tracker_impl.h"
 #include "chrome/browser/net/ssl_config_service_manager.h"
-#include "chrome/browser/notifications/desktop_notification_service.h"
+/*#include "chrome/browser/notifications/desktop_notification_service.h"
 #include "chrome/browser/notifications/extension_welcome_notification.h"
 #include "chrome/browser/notifications/message_center_notification_manager.h"
 #include "chrome/browser/pepper_flash_settings_manager.h"
-#include "chrome/browser/plugins/plugin_finder.h"
+#include "chrome/browser/plugins/plugin_finder.h"*/
 #include "chrome/browser/prefs/chrome_pref_service_factory.h"
 #include "chrome/browser/prefs/incognito_mode_prefs.h"
@@ -57,7 +59,7 @@
 #include "chrome/browser/profiles/profiles_state.h"
 #include "chrome/browser/push_messaging/push_messaging_service_impl.h"
-#include "chrome/browser/renderer_host/pepper/device_id_fetcher.h"
+//#include "chrome/browser/renderer_host/pepper/device_id_fetcher.h"
 #include "chrome/browser/search/search.h"
-#include "chrome/browser/signin/signin_manager_factory.h"
+//#include "chrome/browser/signin/signin_manager_factory.h"
 #include "chrome/browser/task_manager/task_manager.h"
 #include "chrome/browser/ui/app_list/app_list_prefs.h"
@@ -81,5 +83,5 @@
 #include "chrome/browser/web_resource/promo_resource_service.h"
 #include "chrome/common/pref_names.h"
-#include "components/autofill/core/browser/autofill_manager.h"
+//#include "components/autofill/core/browser/autofill_manager.h"
 #include "components/bookmarks/browser/bookmark_utils.h"
 #include "components/content_settings/core/browser/host_content_settings_map.h"
@@ -88,9 +90,9 @@
 #include "components/gcm_driver/gcm_channel_status_syncer.h"
 #include "components/network_time/network_time_tracker.h"
-#include "components/password_manager/core/browser/password_manager.h"
+//#include "components/password_manager/core/browser/password_manager.h"
 #include "components/pref_registry/pref_registry_syncable.h"
-#include "components/rappor/rappor_service.h"
+//#include "components/rappor/rappor_service.h"
 #include "components/search_engines/template_url_prepopulate_data.h"
-#include "components/sync_driver/sync_prefs.h"
+//#include "components/sync_driver/sync_prefs.h"
 #include "components/translate/core/browser/translate_prefs.h"
 #include "content/public/browser/render_process_host.h"
@@ -120,5 +122,5 @@
 #include "chrome/browser/extensions/extension_web_ui.h"
 #include "chrome/browser/extensions/launch_util.h"
-#include "chrome/browser/signin/easy_unlock_service.h"
+//#include "chrome/browser/signin/easy_unlock_service.h"
 #include "chrome/browser/ui/webui/extensions/extension_settings_handler.h"
 #include "extensions/browser/extension_prefs.h"
@@ -129,4 +131,5 @@
 
 #if defined(ENABLE_PLUGIN_INSTALLATION)
+1
 #include "chrome/browser/plugins/plugins_resource_service.h"
 #endif
@@ -275,5 +278,5 @@ void RegisterLocalState(PrefRegistrySimple* registry) {
 
 #if defined(ENABLE_EXTENSIONS)
-  EasyUnlockService::RegisterPrefs(registry);
+//  EasyUnlockService::RegisterPrefs(registry);
 #endif
 
@@ -297,5 +300,7 @@ void RegisterLocalState(PrefRegistrySimple* registry) {
 #if !defined(OS_ANDROID)
   AutomaticProfileResetterFactory::RegisterPrefs(registry);
+#if defined(ENABLE_BACKGROUND)
   BackgroundModeManager::RegisterPrefs(registry);
+#endif
   RegisterBrowserPrefs(registry);
   // The native GCM is used on Android instead.
@@ -418,5 +423,5 @@ void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
 
 #if defined(ENABLE_EXTENSIONS)
-  EasyUnlockService::RegisterProfilePrefs(registry);
+//  EasyUnlockService::RegisterProfilePrefs(registry);
   extensions::ActivityLog::RegisterProfilePrefs(registry);
   extensions::launch_util::RegisterProfilePrefs(registry);
@@ -463,5 +468,5 @@ void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
   AppShortcutManager::RegisterProfilePrefs(registry);
   autofill::GeneratedCreditCardBubbleController::RegisterUserPrefs(registry);
-  DeviceIDFetcher::RegisterProfilePrefs(registry);
+//  DeviceIDFetcher::RegisterProfilePrefs(registry);
   DevToolsWindow::RegisterProfilePrefs(registry);
   DriveAppMapping::RegisterProfilePrefs(registry);
@@ -472,5 +477,5 @@ void RegisterProfilePrefs(user_prefs::PrefRegistrySyncable* registry) {
   gcm::GCMChannelStatusSyncer::RegisterProfilePrefs(registry);
   NewTabUI::RegisterProfilePrefs(registry);
-  PepperFlashSettingsManager::RegisterProfilePrefs(registry);
+//  PepperFlashSettingsManager::RegisterProfilePrefs(registry);
   PinnedTabCodec::RegisterProfilePrefs(registry);
   PluginsUI::RegisterProfilePrefs(registry);
diff --git a/chrome/browser/prefs/chrome_pref_service_factory.cc b/chrome/browser/prefs/chrome_pref_service_factory.cc
index 3581fe1..c61c0f8 100644
--- a/chrome/browser/prefs/chrome_pref_service_factory.cc
+++ b/chrome/browser/prefs/chrome_pref_service_factory.cc
@@ -11,6 +11,6 @@
 #include "base/compiler_specific.h"
 #include "base/files/file_path.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/prefs/default_pref_store.h"
 #include "base/prefs/json_pref_store.h"
diff --git a/chrome/browser/prefs/leveldb_pref_store.cc b/chrome/browser/prefs/leveldb_pref_store.cc
index f397b08..f6cbdd8 100644
--- a/chrome/browser/prefs/leveldb_pref_store.cc
+++ b/chrome/browser/prefs/leveldb_pref_store.cc
@@ -10,5 +10,5 @@
 #include "base/json/json_string_value_serializer.h"
 #include "base/location.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/task_runner_util.h"
diff --git a/chrome/browser/prefs/pref_metrics_service.cc b/chrome/browser/prefs/pref_metrics_service.cc
index d5b67d3..6a8830a 100644
--- a/chrome/browser/prefs/pref_metrics_service.cc
+++ b/chrome/browser/prefs/pref_metrics_service.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/prefs/profile_pref_store_manager.cc b/chrome/browser/prefs/profile_pref_store_manager.cc
index 04f4b77..51c62f0 100644
--- a/chrome/browser/prefs/profile_pref_store_manager.cc
+++ b/chrome/browser/prefs/profile_pref_store_manager.cc
@@ -10,5 +10,5 @@
 #include "base/json/json_file_value_serializer.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/json_pref_store.h"
 #include "base/prefs/persistent_pref_store.h"
diff --git a/chrome/browser/prefs/session_startup_pref.cc b/chrome/browser/prefs/session_startup_pref.cc
index 9bc0c55..4a420e3 100644
--- a/chrome/browser/prefs/session_startup_pref.cc
+++ b/chrome/browser/prefs/session_startup_pref.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/prefs/tracked/pref_hash_filter.cc b/chrome/browser/prefs/tracked/pref_hash_filter.cc
index c833f99..02e5b3c 100644
--- a/chrome/browser/prefs/tracked/pref_hash_filter.cc
+++ b/chrome/browser/prefs/tracked/pref_hash_filter.cc
@@ -8,5 +8,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/pref_store.h"
diff --git a/chrome/browser/prefs/tracked/pref_hash_store_impl.cc b/chrome/browser/prefs/tracked/pref_hash_store_impl.cc
index f43e06b1..542a956 100644
--- a/chrome/browser/prefs/tracked/pref_hash_store_impl.cc
+++ b/chrome/browser/prefs/tracked/pref_hash_store_impl.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/values.h"
 #include "chrome/browser/prefs/tracked/hash_store_contents.h"
diff --git a/chrome/browser/prefs/tracked/tracked_preference_helper.cc b/chrome/browser/prefs/tracked/tracked_preference_helper.cc
index b3b528e..6c22588 100644
--- a/chrome/browser/prefs/tracked/tracked_preference_helper.cc
+++ b/chrome/browser/prefs/tracked/tracked_preference_helper.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 TrackedPreferenceHelper::TrackedPreferenceHelper(
diff --git a/chrome/browser/prefs/tracked/tracked_preferences_migration.cc b/chrome/browser/prefs/tracked/tracked_preferences_migration.cc
index e1401ef..ad20afd 100644
--- a/chrome/browser/prefs/tracked/tracked_preferences_migration.cc
+++ b/chrome/browser/prefs/tracked/tracked_preferences_migration.cc
@@ -9,5 +9,5 @@
 #include "base/macros.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/values.h"
 #include "chrome/browser/prefs/tracked/dictionary_hash_store_contents.h"
diff --git a/chrome/browser/prerender/prerender_field_trial.cc b/chrome/browser/prerender/prerender_field_trial.cc
index 6e3dea4..6858a3d 100644
--- a/chrome/browser/prerender/prerender_field_trial.cc
+++ b/chrome/browser/prerender/prerender_field_trial.cc
@@ -7,6 +7,6 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/prerender/prerender_histograms.cc b/chrome/browser/prerender/prerender_histograms.cc
index a45c835..09d7072 100644
--- a/chrome/browser/prerender/prerender_histograms.cc
+++ b/chrome/browser/prerender/prerender_histograms.cc
@@ -8,5 +8,5 @@
 
 #include "base/format_macros.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "chrome/browser/predictors/autocomplete_action_predictor.h"
diff --git a/chrome/browser/prerender/prerender_link_manager.cc b/chrome/browser/prerender/prerender_link_manager.cc
index f9aa403..593fd95 100644
--- a/chrome/browser/prerender/prerender_link_manager.cc
+++ b/chrome/browser/prerender/prerender_link_manager.cc
@@ -12,6 +12,6 @@
 
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/prerender/prerender_contents.h"
 #include "chrome/browser/prerender/prerender_handle.h"
diff --git a/chrome/browser/prerender/prerender_local_predictor.cc b/chrome/browser/prerender/prerender_local_predictor.cc
index ea93025..54698ba 100644
--- a/chrome/browser/prerender/prerender_local_predictor.cc
+++ b/chrome/browser/prerender/prerender_local_predictor.cc
@@ -15,6 +15,6 @@
 #include "base/json/json_reader.h"
 #include "base/json/json_writer.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/timer/timer.h"
diff --git a/chrome/browser/prerender/prerender_manager.cc b/chrome/browser/prerender/prerender_manager.cc
index 1bfed3b..83a8adf 100644
--- a/chrome/browser/prerender/prerender_manager.cc
+++ b/chrome/browser/prerender/prerender_manager.cc
@@ -14,5 +14,5 @@
 #include "base/logging.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/prerender/prerender_origin.cc b/chrome/browser/prerender/prerender_origin.cc
index ae8d9ac..22225f5 100644
--- a/chrome/browser/prerender/prerender_origin.cc
+++ b/chrome/browser/prerender/prerender_origin.cc
@@ -6,5 +6,5 @@
 
 #include "base/basictypes.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/prerender/prerender_manager.h"
 
diff --git a/chrome/browser/prerender/prerender_tab_helper.cc b/chrome/browser/prerender/prerender_tab_helper.cc
index 33017f7..6b762d0 100644
--- a/chrome/browser/prerender/prerender_tab_helper.cc
+++ b/chrome/browser/prerender/prerender_tab_helper.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "chrome/browser/password_manager/chrome_password_manager_client.h"
diff --git a/chrome/browser/prerender/prerender_util.cc b/chrome/browser/prerender/prerender_util.cc
index e7ae9d1..3708646 100644
--- a/chrome/browser/prerender/prerender_util.cc
+++ b/chrome/browser/prerender/prerender_util.cc
@@ -6,6 +6,6 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_util.h"
 #include "content/public/browser/resource_request_info.h"
diff --git a/chrome/browser/profile_resetter/automatic_profile_resetter.cc b/chrome/browser/profile_resetter/automatic_profile_resetter.cc
index 51ea44a..69ce237 100644
--- a/chrome/browser/profile_resetter/automatic_profile_resetter.cc
+++ b/chrome/browser/profile_resetter/automatic_profile_resetter.cc
@@ -9,7 +9,7 @@
 #include "base/logging.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/profile_resetter/profile_reset_global_error.cc b/chrome/browser/profile_resetter/profile_reset_global_error.cc
index a355b64..2eca636 100644
--- a/chrome/browser/profile_resetter/profile_reset_global_error.cc
+++ b/chrome/browser/profile_resetter/profile_reset_global_error.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/profile_resetter/profile_reset_global_error.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/app/chrome_command_ids.h"
 #include "chrome/browser/profile_resetter/automatic_profile_resetter.h"
diff --git a/chrome/browser/profiles/avatar_menu.cc b/chrome/browser/profiles/avatar_menu.cc
index f17b25f..a197ff8 100644
--- a/chrome/browser/profiles/avatar_menu.cc
+++ b/chrome/browser/profiles/avatar_menu.cc
@@ -8,5 +8,5 @@
 #include "base/bind.h"
 #include "base/i18n/case_conversion.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/utf_string_conversions.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
index 9271d9e..89448d3 100644
--- a/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
+++ b/chrome/browser/profiles/chrome_browser_main_extra_parts_profiles.cc
@@ -7,5 +7,5 @@
 #include "chrome/browser/autocomplete/shortcuts_backend_factory.h"
 #include "chrome/browser/autofill/personal_data_manager_factory.h"
-#include "chrome/browser/background/background_contents_service_factory.h"
+//#include "chrome/browser/background/background_contents_service_factory.h"
 #include "chrome/browser/bookmarks/bookmark_model_factory.h"
 #include "chrome/browser/chrome_browser_main.h"
@@ -17,9 +17,13 @@
 #include "chrome/browser/extensions/api/networking_private/networking_private_verify_delegate_factory_impl.h"
 #include "chrome/browser/favicon/favicon_service_factory.h"
+
+//TODO: get rid:
 #include "chrome/browser/geolocation/geolocation_permission_context_factory.h"
 #include "chrome/browser/google/google_url_tracker_factory.h"
+
 #include "chrome/browser/history/history_service_factory.h"
 #include "chrome/browser/invalidation/profile_invalidation_provider_factory.h"
 #include "chrome/browser/media_galleries/media_galleries_preferences_factory.h"
+//TODO: get rid:
 #include "chrome/browser/notifications/desktop_notification_service_factory.h"
 #include "chrome/browser/password_manager/password_store_factory.h"
@@ -32,5 +36,6 @@
 #include "chrome/browser/prerender/prerender_manager_factory.h"
 #include "chrome/browser/prerender/prerender_message_filter.h"
-#include "chrome/browser/printing/cloud_print/cloud_print_proxy_service_factory.h"
+//#include "chrome/browser/printing/cloud_print/cloud_print_proxy_service_factory.h"
+//TODO: what's this:
 #include "chrome/browser/profiles/gaia_info_update_service_factory.h"
 #include "chrome/browser/search/instant_service_factory.h"
@@ -40,9 +45,11 @@
 #include "chrome/browser/sessions/session_service_factory.h"
 #include "chrome/browser/sessions/tab_restore_service_factory.h"
+//TODO: get rid of this:
 #include "chrome/browser/signin/about_signin_internals_factory.h"
 #include "chrome/browser/signin/account_tracker_service_factory.h"
 #include "chrome/browser/signin/signin_manager_factory.h"
 #include "chrome/browser/sync/profile_sync_service_factory.h"
-#include "chrome/browser/themes/theme_service_factory.h"
+
+//#include "chrome/browser/themes/theme_service_factory.h"
 #include "chrome/browser/thumbnails/thumbnail_service_factory.h"
 #include "chrome/browser/ui/app_list/app_list_syncable_service_factory.h"
@@ -54,4 +61,5 @@
 #include "chrome/browser/undo/bookmark_undo_service_factory.h"
 #include "chrome/browser/webdata/web_data_service_factory.h"
+//#TODO: what is this:
 #include "extensions/browser/api/networking_private/networking_private_delegate_factory.h"
 
@@ -62,6 +70,6 @@
 #include "chrome/browser/extensions/browser_context_keyed_service_factories.h"
 #include "chrome/browser/extensions/extension_management.h"
-#include "chrome/browser/search/hotword_service_factory.h"
-#include "chrome/browser/signin/easy_unlock_service_factory.h"
+//#include "chrome/browser/search/hotword_service_factory.h"
+//#include "chrome/browser/signin/easy_unlock_service_factory.h"
 #include "chrome/browser/ui/bookmarks/enhanced_bookmark_key_service_factory.h"
 #include "extensions/browser/browser_context_keyed_service_factories.h"
@@ -191,5 +199,5 @@ EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   DownloadServiceFactory::GetInstance();
 #if defined(ENABLE_EXTENSIONS)
-  EasyUnlockServiceFactory::GetInstance();
+//  EasyUnlockServiceFactory::GetInstance();
   EnhancedBookmarkKeyServiceFactory::GetInstance();
 #endif
@@ -204,5 +212,5 @@ EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   HistoryServiceFactory::GetInstance();
 #if defined(ENABLE_EXTENSIONS)
-  HotwordServiceFactory::GetInstance();
+//  HotwordServiceFactory::GetInstance();
 #endif
   invalidation::ProfileInvalidationProviderFactory::GetInstance();
diff --git a/chrome/browser/profiles/file_path_verifier_win.cc b/chrome/browser/profiles/file_path_verifier_win.cc
index 39915e5..9bc3154 100644
--- a/chrome/browser/profiles/file_path_verifier_win.cc
+++ b/chrome/browser/profiles/file_path_verifier_win.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome_elf/create_file/chrome_create_file.h"
 
diff --git a/chrome/browser/profiles/profile_impl.cc b/chrome/browser/profiles/profile_impl.cc
index aa365dd..6b60eec 100644
--- a/chrome/browser/profiles/profile_impl.cc
+++ b/chrome/browser/profiles/profile_impl.cc
@@ -16,5 +16,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/path_service.h"
 #include "base/prefs/json_pref_store.h"
@@ -63,5 +63,5 @@
 #include "chrome/browser/push_messaging/push_messaging_service_factory.h"
 #include "chrome/browser/push_messaging/push_messaging_service_impl.h"
-#include "chrome/browser/safe_browsing/safe_browsing_service.h"
+//#include "chrome/browser/safe_browsing/safe_browsing_service.h"
 #include "chrome/browser/services/gcm/gcm_profile_service.h"
 #include "chrome/browser/sessions/session_service_factory.h"
@@ -485,11 +485,15 @@ ProfileImpl::ProfileImpl(
 #endif
 
+#if defined(OS_ANDROID) && defined(FULL_SAFE_BROWSING)
   scoped_refptr<SafeBrowsingService> safe_browsing_service(
       g_browser_process->safe_browsing_service());
   if (safe_browsing_service.get()) {
-    pref_validation_delegate_ =
+#else
+    pref_validation_delegate_ = scoped_ptr<TrackedPreferenceValidationDelegate>().Pass();
+#endif
+#if defined(OS_ANDROID) && defined(FULL_SAFE_BROWSING)
         safe_browsing_service->CreatePreferenceValidationDelegate(this).Pass();
   }
-
+#endif
   {
     // On startup, preference loading is always synchronous so a scoped timer
diff --git a/chrome/browser/profiles/profile_impl_io_data.cc b/chrome/browser/profiles/profile_impl_io_data.cc
index 3add9ee..0e793d9 100644
--- a/chrome/browser/profiles/profile_impl_io_data.cc
+++ b/chrome/browser/profiles/profile_impl_io_data.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/json_pref_store.h"
 #include "base/prefs/pref_filter.h"
diff --git a/chrome/browser/profiles/profile_manager.cc b/chrome/browser/profiles/profile_manager.cc
index 0c29dd2..0f923c4 100644
--- a/chrome/browser/profiles/profile_manager.cc
+++ b/chrome/browser/profiles/profile_manager.cc
@@ -13,5 +13,5 @@
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/profiles/profile_metrics.cc b/chrome/browser/profiles/profile_metrics.cc
index 6dfcf73..e293b99 100644
--- a/chrome/browser/profiles/profile_metrics.cc
+++ b/chrome/browser/profiles/profile_metrics.cc
@@ -7,5 +7,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/browser_process.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/push_messaging/push_messaging_service_impl.cc b/chrome/browser/push_messaging/push_messaging_service_impl.cc
index ad86064..a3d2a4d 100644
--- a/chrome/browser/push_messaging/push_messaging_service_impl.cc
+++ b/chrome/browser/push_messaging/push_messaging_service_impl.cc
@@ -11,5 +11,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/renderer_context_menu/render_view_context_menu.cc b/chrome/browser/renderer_context_menu/render_view_context_menu.cc
index e83ab0a..b7cf5ee 100644
--- a/chrome/browser/renderer_context_menu/render_view_context_menu.cc
+++ b/chrome/browser/renderer_context_menu/render_view_context_menu.cc
@@ -12,5 +12,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_member.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/renderer_host/chrome_render_message_filter.cc b/chrome/browser/renderer_host/chrome_render_message_filter.cc
index f38bd40..4f20c9c 100644
--- a/chrome/browser/renderer_host/chrome_render_message_filter.cc
+++ b/chrome/browser/renderer_host/chrome_render_message_filter.cc
@@ -10,6 +10,6 @@
 #include "base/bind_helpers.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/chrome_notification_types.h"
 #include "chrome/browser/content_settings/cookie_settings.h"
diff --git a/chrome/browser/renderer_host/chrome_resource_dispatcher_host_delegate.cc b/chrome/browser/renderer_host/chrome_resource_dispatcher_host_delegate.cc
index b46b3f7..ac69f73 100644
--- a/chrome/browser/renderer_host/chrome_resource_dispatcher_host_delegate.cc
+++ b/chrome/browser/renderer_host/chrome_resource_dispatcher_host_delegate.cc
@@ -25,6 +25,8 @@
 #include "chrome/browser/profiles/profile.h"
 #include "chrome/browser/profiles/profile_io_data.h"
-#include "chrome/browser/renderer_host/safe_browsing_resource_throttle_factory.h"
-#include "chrome/browser/safe_browsing/safe_browsing_service.h"
+#if defined(FULL_SAFE_BROWSING) || defined(MOBILE_SAFE_BROWSING)
+  //#include "chrome/browser/renderer_host/safe_browsing_resource_throttle_factory.h"
+  //#include "chrome/browser/safe_browsing/safe_browsing_service.h"
+#endif
 #include "chrome/browser/signin/signin_header_helper.h"
 #include "chrome/browser/tab_contents/tab_util.h"
@@ -217,4 +219,5 @@ bool IsPluginEnabledForExtension(const Extension* extension,
                                  const std::string& mime_type,
                                  const GURL& url) {
+#if defined(ENABLE_PLUGINS)
   content::PluginService* service = content::PluginService::GetInstance();
   std::vector<content::WebPluginInfo> plugins;
@@ -238,4 +241,5 @@ bool IsPluginEnabledForExtension(const Extension* extension,
     }
   }
+#endif
   return false;
 }
@@ -303,5 +307,5 @@ void AppendComponentUpdaterThrottles(
 ChromeResourceDispatcherHostDelegate::ChromeResourceDispatcherHostDelegate()
     : download_request_limiter_(g_browser_process->download_request_limiter()),
-      safe_browsing_(g_browser_process->safe_browsing_service())
+//      safe_browsing_(g_browser_process->safe_browsing_service())
 #if defined(ENABLE_EXTENSIONS)
       , user_script_listener_(new extensions::UserScriptListener())
@@ -350,6 +354,8 @@ void ChromeResourceDispatcherHostDelegate::RequestBeginning(
     ResourceType resource_type,
     ScopedVector<content::ResourceThrottle>* throttles) {
+#if defined(FULL_SAFE_BROWSING) || defined(MOBILE_SAFE_BROWSING)
   if (safe_browsing_.get())
     safe_browsing_->OnResourceRequest(request);
+#endif
 
   const ResourceRequestInfo* info = ResourceRequestInfo::ForRequest(request);
diff --git a/chrome/browser/renderer_host/chrome_resource_dispatcher_host_delegate.h b/chrome/browser/renderer_host/chrome_resource_dispatcher_host_delegate.h
index d3da5b1..fc8e746 100644
--- a/chrome/browser/renderer_host/chrome_resource_dispatcher_host_delegate.h
+++ b/chrome/browser/renderer_host/chrome_resource_dispatcher_host_delegate.h
@@ -16,5 +16,5 @@
 class DelayedResourceQueue;
 class DownloadRequestLimiter;
-class SafeBrowsingService;
+//class SafeBrowsingService;
 
 namespace extensions {
@@ -102,5 +102,5 @@ class ChromeResourceDispatcherHostDelegate
 
   scoped_refptr<DownloadRequestLimiter> download_request_limiter_;
-  scoped_refptr<SafeBrowsingService> safe_browsing_;
+//  scoped_refptr<SafeBrowsingService> safe_browsing_;
 #if defined(ENABLE_EXTENSIONS)
   scoped_refptr<extensions::UserScriptListener> user_script_listener_;
diff --git a/chrome/browser/renderer_host/offline_resource_throttle.cc b/chrome/browser/renderer_host/offline_resource_throttle.cc
index 3118765..5d2ba5b 100644
--- a/chrome/browser/renderer_host/offline_resource_throttle.cc
+++ b/chrome/browser/renderer_host/offline_resource_throttle.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "chrome/browser/chromeos/offline/offline_load_page.h"
diff --git a/chrome/browser/renderer_preferences_util.cc b/chrome/browser/renderer_preferences_util.cc
index 68b5f45..0d1f264 100644
--- a/chrome/browser/renderer_preferences_util.cc
+++ b/chrome/browser/renderer_preferences_util.cc
@@ -88,5 +88,5 @@ void UpdateFromSystemSettings(content::RendererPreferences* prefs,
   views::LinuxUI* linux_ui = views::LinuxUI::instance();
   if (linux_ui) {
-    if (ThemeServiceFactory::GetForProfile(profile)->UsingSystemTheme()) {
+//    if (ThemeServiceFactory::GetForProfile(profile)->UsingSystemTheme()) {
       prefs->focus_ring_color = linux_ui->GetFocusRingColor();
       prefs->thumb_active_color = linux_ui->GetThumbActiveColor();
@@ -99,5 +99,5 @@ void UpdateFromSystemSettings(content::RendererPreferences* prefs,
       prefs->inactive_selection_fg_color =
         linux_ui->GetInactiveSelectionFgColor();
-    }
+//    }
 
     // If we have a linux_ui object, set the caret blink interval regardless of
diff --git a/chrome/browser/resources/BUILD.gn b/chrome/browser/resources/BUILD.gn
index 92c6c4a..a17f573 100644
--- a/chrome/browser/resources/BUILD.gn
+++ b/chrome/browser/resources/BUILD.gn
@@ -110,12 +110,4 @@ if (!is_ios) {
   }
 
-  grit("options_test_resources") {
-    source = "options_test_resources.grd"
-    outputs = [
-      "grit/options_test_resources.h",
-      "options_test_resources.pak",
-    ]
-    output_dir = "$root_gen_dir/chrome"
-  }
 
   grit("quota_internals_resources") {
diff --git a/chrome/browser/resources/easy_unlock/manifest.json b/chrome/browser/resources/easy_unlock/manifest.json
index 526067b..8b47ff1 100644
--- a/chrome/browser/resources/easy_unlock/manifest.json
+++ b/chrome/browser/resources/easy_unlock/manifest.json
@@ -1,3 +1,3 @@
-{
+1
   "name": "Smart Lock",
   "description": "This app allows you to unlock your device when in proximity to your phone.",
diff --git a/chrome/browser/resources/easy_unlock/manifest_signin.json b/chrome/browser/resources/easy_unlock/manifest_signin.json
index 61ff3a8..cdb59cc 100644
--- a/chrome/browser/resources/easy_unlock/manifest_signin.json
+++ b/chrome/browser/resources/easy_unlock/manifest_signin.json
@@ -1,3 +1,3 @@
-{
+1
   "name": "Smart Lock",
   "description": "This app allows you to sign-in to a device when in proximity to your phone.",
diff --git a/chrome/browser/resources/options/autofill_options.js b/chrome/browser/resources/options/autofill_options.js
index ce9775d..bf90db3 100644
--- a/chrome/browser/resources/options/autofill_options.js
+++ b/chrome/browser/resources/options/autofill_options.js
@@ -11,5 +11,5 @@
  *   nameOnCard: string
  * }}
- * @see chrome/browser/ui/webui/options/autofill_options_handler.cc
+ * 
  */
 var CreditCardData;
diff --git a/chrome/browser/search_engines/default_search_pref_migration.cc b/chrome/browser/search_engines/default_search_pref_migration.cc
index 224f2fc..3aa8a0e 100644
--- a/chrome/browser/search_engines/default_search_pref_migration.cc
+++ b/chrome/browser/search_engines/default_search_pref_migration.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "components/search_engines/default_search_manager.h"
diff --git a/chrome/browser/search_engines/ui_thread_search_terms_data.cc b/chrome/browser/search_engines/ui_thread_search_terms_data.cc
index f02d31f..d2835e8 100644
--- a/chrome/browser/search_engines/ui_thread_search_terms_data.cc
+++ b/chrome/browser/search_engines/ui_thread_search_terms_data.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/search/hotword_service.cc b/chrome/browser/search/hotword_service.cc
index ee90a54..140f192 100644
--- a/chrome/browser/search/hotword_service.cc
+++ b/chrome/browser/search/hotword_service.cc
@@ -10,7 +10,7 @@
 #include "base/i18n/case_conversion.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/search/instant_service.cc b/chrome/browser/search/instant_service.cc
index e785e0c..003d98a 100644
--- a/chrome/browser/search/instant_service.cc
+++ b/chrome/browser/search/instant_service.cc
@@ -193,5 +193,9 @@ void InstantService::UpdateThemeInfo() {
   // Initialize |theme_info| if necessary.
   if (!theme_info_)
+#if defined(ENABLE_THEMES)
     OnThemeChanged(ThemeServiceFactory::GetForProfile(profile_));
+#else
+  ;
+#endif
   else
     OnThemeChanged(NULL);
diff --git a/chrome/browser/search/most_visited_iframe_source.cc b/chrome/browser/search/most_visited_iframe_source.cc
index c76c3b6..8a7fb59 100644
--- a/chrome/browser/search/most_visited_iframe_source.cc
+++ b/chrome/browser/search/most_visited_iframe_source.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/search/most_visited_iframe_source.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/browser/search/search.cc b/chrome/browser/search/search.cc
index 21254bc..a3839ac 100644
--- a/chrome/browser/search/search.cc
+++ b/chrome/browser/search/search.cc
@@ -6,6 +6,6 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/service_process/service_process_control.cc b/chrome/browser/service_process/service_process_control.cc
index db59c35..114cd20 100644
--- a/chrome/browser/service_process/service_process_control.cc
+++ b/chrome/browser/service_process/service_process_control.cc
@@ -9,6 +9,6 @@
 #include "base/command_line.h"
 #include "base/files/file_path.h"
-#include "base/metrics/histogram_base.h"
-#include "base/metrics/histogram_delta_serialization.h"
+//#include "base/metrics/histogram_base.h"
+//#include "base/metrics/histogram_delta_serialization.h"
 #include "base/process/kill.h"
 #include "base/process/launch.h"
diff --git a/chrome/browser/sessions/session_restore.cc b/chrome/browser/sessions/session_restore.cc
index 0c26a3e..04726a4 100644
--- a/chrome/browser/sessions/session_restore.cc
+++ b/chrome/browser/sessions/session_restore.cc
@@ -18,5 +18,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/run_loop.h"
 #include "base/stl_util.h"
diff --git a/chrome/browser/sessions/session_service.cc b/chrome/browser/sessions/session_service.cc
index 99de720..a168b1c 100644
--- a/chrome/browser/sessions/session_service.cc
+++ b/chrome/browser/sessions/session_service.cc
@@ -14,5 +14,5 @@
 #include "base/command_line.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/pickle.h"
 #include "base/threading/thread.h"
diff --git a/chrome/browser/sessions/tab_restore_service_helper.cc b/chrome/browser/sessions/tab_restore_service_helper.cc
index 766335b..c510ab9 100644
--- a/chrome/browser/sessions/tab_restore_service_helper.cc
+++ b/chrome/browser/sessions/tab_restore_service_helper.cc
@@ -9,5 +9,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/site_details.cc b/chrome/browser/site_details.cc
index af38bc5..bae953a 100644
--- a/chrome/browser/site_details.cc
+++ b/chrome/browser/site_details.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/site_details.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/public/browser/browser_thread.h"
 #include "content/public/browser/render_process_host.h"
diff --git a/chrome/browser/spellchecker/spellcheck_host_metrics.cc b/chrome/browser/spellchecker/spellcheck_host_metrics.cc
index 4d997f0..b09a0e1 100644
--- a/chrome/browser/spellchecker/spellcheck_host_metrics.cc
+++ b/chrome/browser/spellchecker/spellcheck_host_metrics.cc
@@ -6,5 +6,5 @@
 
 #include "base/md5.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 SpellCheckHostMetrics::SpellCheckHostMetrics()
diff --git a/chrome/browser/ssl/captive_portal_blocking_page.cc b/chrome/browser/ssl/captive_portal_blocking_page.cc
index 8c7138f..377541f 100644
--- a/chrome/browser/ssl/captive_portal_blocking_page.cc
+++ b/chrome/browser/ssl/captive_portal_blocking_page.cc
@@ -6,5 +6,5 @@
 
 #include "base/i18n/rtl.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/ssl/chrome_ssl_host_state_delegate.cc b/chrome/browser/ssl/chrome_ssl_host_state_delegate.cc
index cf8f520..37f21a8 100644
--- a/chrome/browser/ssl/chrome_ssl_host_state_delegate.cc
+++ b/chrome/browser/ssl/chrome_ssl_host_state_delegate.cc
@@ -12,5 +12,5 @@
 #include "base/guid.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/time/clock.h"
diff --git a/chrome/browser/ssl/chrome_ssl_host_state_delegate_test.cc b/chrome/browser/ssl/chrome_ssl_host_state_delegate_test.cc
index 8efa105..71a3e3a 100644
--- a/chrome/browser/ssl/chrome_ssl_host_state_delegate_test.cc
+++ b/chrome/browser/ssl/chrome_ssl_host_state_delegate_test.cc
@@ -24,5 +24,5 @@
 #include "net/base/test_data_directory.h"
 #include "net/test/cert_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/browser/ssl/ssl_blocking_page.cc b/chrome/browser/ssl/ssl_blocking_page.cc
index c32e5a3..5809548 100644
--- a/chrome/browser/ssl/ssl_blocking_page.cc
+++ b/chrome/browser/ssl/ssl_blocking_page.cc
@@ -9,6 +9,6 @@
 #include "base/i18n/rtl.h"
 #include "base/i18n/time_formatting.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/launch.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ssl/ssl_client_auth_requestor_mock.h b/chrome/browser/ssl/ssl_client_auth_requestor_mock.h
index 7d63a7c..1a8d1b5 100644
--- a/chrome/browser/ssl/ssl_client_auth_requestor_mock.h
+++ b/chrome/browser/ssl/ssl_client_auth_requestor_mock.h
@@ -7,5 +7,5 @@
 
 #include "base/memory/ref_counted.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/chrome/browser/ssl/ssl_client_certificate_selector_test.h b/chrome/browser/ssl/ssl_client_certificate_selector_test.h
index d646c49..dec1797 100644
--- a/chrome/browser/ssl/ssl_client_certificate_selector_test.h
+++ b/chrome/browser/ssl/ssl_client_certificate_selector_test.h
@@ -10,5 +10,5 @@
 #include "chrome/browser/ssl/ssl_client_auth_requestor_mock.h"
 #include "chrome/test/base/in_process_browser_test.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/chrome/browser/ssl/ssl_error_classification.cc b/chrome/browser/ssl/ssl_error_classification.cc
index eea8925..f476471 100644
--- a/chrome/browser/ssl/ssl_error_classification.cc
+++ b/chrome/browser/ssl/ssl_error_classification.cc
@@ -8,6 +8,6 @@
 
 #include "base/build_time.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_split.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ssl/ssl_error_handler.cc b/chrome/browser/ssl/ssl_error_handler.cc
index c41a7ac..b9fe939 100644
--- a/chrome/browser/ssl/ssl_error_handler.cc
+++ b/chrome/browser/ssl/ssl_error_handler.cc
@@ -5,6 +5,6 @@
 #include "chrome/browser/ssl/ssl_error_handler.h"
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/supervised_user/chromeos/manager_password_service.cc b/chrome/browser/supervised_user/chromeos/manager_password_service.cc
index 30f0a05..ecd5fd8 100644
--- a/chrome/browser/supervised_user/chromeos/manager_password_service.cc
+++ b/chrome/browser/supervised_user/chromeos/manager_password_service.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/values.h"
 #include "chrome/browser/chromeos/login/supervised/supervised_user_authentication.h"
diff --git a/chrome/browser/supervised_user/experimental/supervised_user_async_url_checker.cc b/chrome/browser/supervised_user/experimental/supervised_user_async_url_checker.cc
index 8475088..9996d36 100644
--- a/chrome/browser/supervised_user/experimental/supervised_user_async_url_checker.cc
+++ b/chrome/browser/supervised_user/experimental/supervised_user_async_url_checker.cc
@@ -9,5 +9,5 @@
 #include "base/callback.h"
 #include "base/json/json_reader.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_piece.h"
diff --git a/chrome/browser/supervised_user/supervised_user_interstitial.cc b/chrome/browser/supervised_user/supervised_user_interstitial.cc
index 45297e0..2f30132 100644
--- a/chrome/browser/supervised_user/supervised_user_interstitial.cc
+++ b/chrome/browser/supervised_user/supervised_user_interstitial.cc
@@ -6,5 +6,5 @@
 
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
@@ -323,4 +323,5 @@ void SupervisedUserInterstitial::CommandReceived(const std::string& command) {
 
   if (command == "\"feedback\"") {
+  /*
     base::string16 reason = l10n_util::GetStringUTF16(
         SupervisedUserURLFilter::GetBlockMessageID(reason_));
@@ -341,4 +342,5 @@ void SupervisedUserInterstitial::CommandReceived(const std::string& command) {
         bucket);
 #endif
+*/
     return;
   }
diff --git a/chrome/browser/supervised_user/supervised_user_navigation_observer.cc b/chrome/browser/supervised_user/supervised_user_navigation_observer.cc
index 249c65c..623cd61 100644
--- a/chrome/browser/supervised_user/supervised_user_navigation_observer.cc
+++ b/chrome/browser/supervised_user/supervised_user_navigation_observer.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/callback.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "chrome/browser/history/history_service.h"
diff --git a/chrome/browser/supervised_user/supervised_user_resource_throttle.cc b/chrome/browser/supervised_user/supervised_user_resource_throttle.cc
index 479556b..8629230 100644
--- a/chrome/browser/supervised_user/supervised_user_resource_throttle.cc
+++ b/chrome/browser/supervised_user/supervised_user_resource_throttle.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/supervised_user/supervised_user_interstitial.h"
 #include "chrome/browser/supervised_user/supervised_user_navigation_observer.h"
diff --git a/chrome/browser/supervised_user/supervised_user_site_list.cc b/chrome/browser/supervised_user/supervised_user_site_list.cc
index 90c31e1..717cd37 100644
--- a/chrome/browser/supervised_user/supervised_user_site_list.cc
+++ b/chrome/browser/supervised_user/supervised_user_site_list.cc
@@ -8,5 +8,5 @@
 #include "base/json/json_file_value_serializer.h"
 #include "base/logging.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/task_runner_util.h"
 #include "base/values.h"
diff --git a/chrome/browser/supervised_user/supervised_user_url_filter.cc b/chrome/browser/supervised_user/supervised_user_url_filter.cc
index 2e16024..ce8f4e4 100644
--- a/chrome/browser/supervised_user/supervised_user_url_filter.cc
+++ b/chrome/browser/supervised_user/supervised_user_url_filter.cc
@@ -11,5 +11,5 @@
 #include "base/files/file_path.h"
 #include "base/json/json_file_value_serializer.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sha1.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/supervised_user/supervised_user_whitelist_service.cc b/chrome/browser/supervised_user/supervised_user_whitelist_service.cc
index 73840c7..26a1505 100644
--- a/chrome/browser/supervised_user/supervised_user_whitelist_service.cc
+++ b/chrome/browser/supervised_user/supervised_user_whitelist_service.cc
@@ -8,7 +8,7 @@
 
 #include "base/files/file_path.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/tab_contents/navigation_metrics_recorder.cc b/chrome/browser/tab_contents/navigation_metrics_recorder.cc
index 5e9149f..369fa40 100644
--- a/chrome/browser/tab_contents/navigation_metrics_recorder.cc
+++ b/chrome/browser/tab_contents/navigation_metrics_recorder.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/tab_contents/navigation_metrics_recorder.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "components/navigation_metrics/navigation_metrics.h"
 #include "content/public/browser/navigation_details.h"
diff --git a/chrome/browser/task_manager/task_manager_browsertest_util.cc b/chrome/browser/task_manager/task_manager_browsertest_util.cc
index cc575bc..0366896 100644
--- a/chrome/browser/task_manager/task_manager_browsertest_util.cc
+++ b/chrome/browser/task_manager/task_manager_browsertest_util.cc
@@ -18,5 +18,5 @@
 #include "chrome/grit/generated_resources.h"
 #include "extensions/strings/grit/extensions_strings.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/base/l10n/l10n_util.h"
 
diff --git a/chrome/browser/task_manager/task_manager.cc b/chrome/browser/task_manager/task_manager.cc
index 0bf4708..7090424 100644
--- a/chrome/browser/task_manager/task_manager.cc
+++ b/chrome/browser/task_manager/task_manager.cc
@@ -256,8 +256,8 @@ TaskManagerModel::TaskManagerModel(TaskManager* task_manager)
           "437890 TaskManagerModel::TaskManagerModel2"));
 
-  AddResourceProvider(new task_manager::WebContentsResourceProvider(
+/*  AddResourceProvider(new task_manager::WebContentsResourceProvider(
       task_manager,
       scoped_ptr<WebContentsInformation>(
-          new task_manager::BackgroundInformation())));
+          new task_manager::BackgroundInformation())));*/
 
   // TODO(vadimt): Remove ScopedTracker below once crbug.com/437890 is fixed.
diff --git a/chrome/browser/thumbnails/content_based_thumbnailing_algorithm.cc b/chrome/browser/thumbnails/content_based_thumbnailing_algorithm.cc
index 6bb8883..3b6f7b3 100644
--- a/chrome/browser/thumbnails/content_based_thumbnailing_algorithm.cc
+++ b/chrome/browser/thumbnails/content_based_thumbnailing_algorithm.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/thumbnails/content_based_thumbnailing_algorithm.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/threading/sequenced_worker_pool.h"
 #include "chrome/browser/thumbnails/content_analysis.h"
diff --git a/chrome/browser/thumbnails/simple_thumbnail_crop.cc b/chrome/browser/thumbnails/simple_thumbnail_crop.cc
index b426325..7d78a6b 100644
--- a/chrome/browser/thumbnails/simple_thumbnail_crop.cc
+++ b/chrome/browser/thumbnails/simple_thumbnail_crop.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/thumbnails/simple_thumbnail_crop.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/public/browser/browser_thread.h"
 #include "skia/ext/platform_canvas.h"
diff --git a/chrome/browser/translate/cld_data_harness.cc b/chrome/browser/translate/cld_data_harness.cc
index 1a3a7f3..a99f4c1 100644
--- a/chrome/browser/translate/cld_data_harness.cc
+++ b/chrome/browser/translate/cld_data_harness.cc
@@ -11,5 +11,5 @@
 #include "chrome/common/chrome_paths.h"
 #include "components/translate/content/common/cld_data_source.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/browser/translate/component_cld_data_harness.cc b/chrome/browser/translate/component_cld_data_harness.cc
index dc5f1bd..663cb86 100644
--- a/chrome/browser/translate/component_cld_data_harness.cc
+++ b/chrome/browser/translate/component_cld_data_harness.cc
@@ -13,5 +13,5 @@
 #include "components/component_updater/component_updater_paths.h"
 #include "components/translate/content/common/cld_data_source.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/browser/translate/standalone_cld_data_harness.cc b/chrome/browser/translate/standalone_cld_data_harness.cc
index fbd52eb..9089825 100644
--- a/chrome/browser/translate/standalone_cld_data_harness.cc
+++ b/chrome/browser/translate/standalone_cld_data_harness.cc
@@ -11,5 +11,5 @@
 #include "chrome/common/chrome_paths.h"
 #include "components/translate/content/common/cld_data_source.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/browser/ui/android/tab_model/tab_model_jni_bridge.cc b/chrome/browser/ui/android/tab_model/tab_model_jni_bridge.cc
index 2f90009..4b17aeb 100644
--- a/chrome/browser/ui/android/tab_model/tab_model_jni_bridge.cc
+++ b/chrome/browser/ui/android/tab_model/tab_model_jni_bridge.cc
@@ -8,5 +8,5 @@
 #include "base/android/jni_string.h"
 #include "base/android/jni_weak_ref.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "chrome/browser/android/tab_android.h"
diff --git a/chrome/browser/ui/app_list/app_list_controller_delegate.cc b/chrome/browser/ui/app_list/app_list_controller_delegate.cc
index d9d8ede..8decf82 100644
--- a/chrome/browser/ui/app_list/app_list_controller_delegate.cc
+++ b/chrome/browser/ui/app_list/app_list_controller_delegate.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/app_list/app_list_controller_delegate.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/extensions/extension_service.h"
 #include "chrome/browser/extensions/extension_util.h"
diff --git a/chrome/browser/ui/app_list/app_list_service.cc b/chrome/browser/ui/app_list/app_list_service.cc
index 0d827be..7ce9323 100644
--- a/chrome/browser/ui/app_list/app_list_service.cc
+++ b/chrome/browser/ui/app_list/app_list_service.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/process/process_info.h"
diff --git a/chrome/browser/ui/app_list/app_list_service_impl.cc b/chrome/browser/ui/app_list/app_list_service_impl.cc
index 3808fee..05d518f 100644
--- a/chrome/browser/ui/app_list/app_list_service_impl.cc
+++ b/chrome/browser/ui/app_list/app_list_service_impl.cc
@@ -9,5 +9,5 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string16.h"
diff --git a/chrome/browser/ui/app_list/app_list_util.cc b/chrome/browser/ui/app_list/app_list_util.cc
index 67e56e7..4bfc218 100644
--- a/chrome/browser/ui/app_list/app_list_util.cc
+++ b/chrome/browser/ui/app_list/app_list_util.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/app_list/app_list_util.h"
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/ui/app_list/app_list_view_delegate.cc b/chrome/browser/ui/app_list/app_list_view_delegate.cc
index c57ba46..7dfa062 100644
--- a/chrome/browser/ui/app_list/app_list_view_delegate.cc
+++ b/chrome/browser/ui/app_list/app_list_view_delegate.cc
@@ -11,5 +11,5 @@
 #include "base/command_line.h"
 #include "base/files/file_path.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/chrome/browser/ui/app_list/search/search_controller_factory.cc b/chrome/browser/ui/app_list/search/search_controller_factory.cc
index d69db6a..c15734b 100644
--- a/chrome/browser/ui/app_list/search/search_controller_factory.cc
+++ b/chrome/browser/ui/app_list/search/search_controller_factory.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_util.h"
 #include "base/time/default_clock.h"
diff --git a/chrome/browser/ui/app_list/search/search_util.cc b/chrome/browser/ui/app_list/search/search_util.cc
index de72de7..0e4c077 100644
--- a/chrome/browser/ui/app_list/search/search_util.cc
+++ b/chrome/browser/ui/app_list/search/search_util.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/app_list/search/search_util.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace {
diff --git a/chrome/browser/ui/app_list/start_page_service.cc b/chrome/browser/ui/app_list/start_page_service.cc
index 8af8b47..015eac6 100644
--- a/chrome/browser/ui/app_list/start_page_service.cc
+++ b/chrome/browser/ui/app_list/start_page_service.cc
@@ -11,5 +11,5 @@
 #include "base/json/json_string_value_serializer.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_piece.h"
diff --git a/chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc b/chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc
index be88def..360009f 100644
--- a/chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc
+++ b/chrome/browser/ui/aura/chrome_browser_main_extra_parts_aura.cc
@@ -91,9 +91,12 @@ ChromeBrowserMainExtraPartsAura::~ChromeBrowserMainExtraPartsAura() {
 void ChromeBrowserMainExtraPartsAura::PreEarlyInitialization() {
 #if defined(USE_X11) && !defined(OS_CHROMEOS)
+#if defined(USE_ASH)
   if (GetInitialDesktop() != chrome::HOST_DESKTOP_TYPE_ASH) {
+#endif
     // TODO(erg): Refactor this into a dlopen call when we add a GTK3 port.
     views::LinuxUI* gtk2_ui = BuildGtk2UI();
     gtk2_ui->SetNativeThemeOverride(base::Bind(&GetNativeThemeForWindow));
     views::LinuxUI::SetInstance(gtk2_ui);
+#if defined(USE_ASH)
   } else {
     // TODO(erg): Eventually, we'll need to somehow support IMEs in ash on
@@ -102,4 +105,5 @@ void ChromeBrowserMainExtraPartsAura::PreEarlyInitialization() {
   }
 #endif
+#endif
 }
 
@@ -113,5 +117,7 @@ void ChromeBrowserMainExtraPartsAura::ToolkitInitialized() {
 
 #if defined(USE_X11) && !defined(OS_CHROMEOS)
+#if defined(USE_ASH)
   if (GetInitialDesktop() != chrome::HOST_DESKTOP_TYPE_ASH)
+#endif
     views::LinuxUI::instance()->Initialize();
 #endif
diff --git a/chrome/browser/ui/autofill/autofill_dialog_controller.cc b/chrome/browser/ui/autofill/autofill_dialog_controller.cc
index 39a8530..38327fe 100644
--- a/chrome/browser/ui/autofill/autofill_dialog_controller.cc
+++ b/chrome/browser/ui/autofill/autofill_dialog_controller.cc
@@ -10,11 +10,21 @@ AutofillDialogController::~AutofillDialogController() {}
 
 #if !defined(ENABLE_AUTOFILL_DIALOG)
+//  static 
+    base::WeakPtr<AutofillDialogController> 
+    AutofillDialogController::Create(
+      content::WebContents* contents,
+      const FormData& form_structure,
+      const GURL& source_url,
+      const AutofillClient::ResultCallback& callback)//;
+
 // static
-base::WeakPtr<AutofillDialogController>
+/*base::WeakPtr<AutofillDialogController>
 AutofillDialogController::Create(
     content::WebContents* contents,
     const FormData& form_structure,
     const GURL& source_url,
-    const base::Callback<void(const FormStructure*)>& callback) {
+    const base::Callback<void(const FormStructure*)>& callback) 
+*/
+{
   NOTIMPLEMENTED();
   return base::WeakPtr<AutofillDialogController>();
diff --git a/chrome/browser/ui/autofill/mock_address_validator.h b/chrome/browser/ui/autofill/mock_address_validator.h
index f2052d4..f5feba8 100644
--- a/chrome/browser/ui/autofill/mock_address_validator.h
+++ b/chrome/browser/ui/autofill/mock_address_validator.h
@@ -7,5 +7,5 @@
 
 #include "base/basictypes.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "third_party/libaddressinput/chromium/chrome_address_validator.h"
 #include "third_party/libaddressinput/src/cpp/include/libaddressinput/address_data.h"
diff --git a/chrome/browser/ui/autofill/mock_autofill_dialog_view_delegate.h b/chrome/browser/ui/autofill/mock_autofill_dialog_view_delegate.h
index 1021c06..462a6cb 100644
--- a/chrome/browser/ui/autofill/mock_autofill_dialog_view_delegate.h
+++ b/chrome/browser/ui/autofill/mock_autofill_dialog_view_delegate.h
@@ -8,5 +8,5 @@
 #include "base/basictypes.h"
 #include "chrome/browser/ui/autofill/autofill_dialog_view_delegate.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "ui/gfx/range/range.h"
 
diff --git a/chrome/browser/ui/autofill/test_generated_credit_card_bubble_controller.cc b/chrome/browser/ui/autofill/test_generated_credit_card_bubble_controller.cc
index 9c4b4f7..e4cfb1d 100644
--- a/chrome/browser/ui/autofill/test_generated_credit_card_bubble_controller.cc
+++ b/chrome/browser/ui/autofill/test_generated_credit_card_bubble_controller.cc
@@ -7,5 +7,5 @@
 #include "chrome/browser/ui/autofill/test_generated_credit_card_bubble_view.h"
 #include "content/public/browser/web_contents.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace autofill {
diff --git a/chrome/browser/ui/auto_login_infobar_delegate.cc b/chrome/browser/ui/auto_login_infobar_delegate.cc
index 158b5de..5a45422 100644
--- a/chrome/browser/ui/auto_login_infobar_delegate.cc
+++ b/chrome/browser/ui/auto_login_infobar_delegate.cc
@@ -8,5 +8,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/browser.cc b/chrome/browser/ui/browser.cc
index 28413b7..9377f7c 100644
--- a/chrome/browser/ui/browser.cc
+++ b/chrome/browser/ui/browser.cc
@@ -17,5 +17,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/process/process_info.h"
diff --git a/chrome/browser/ui/browser_commands.cc b/chrome/browser/ui/browser_commands.cc
index 0b7fc6ff..75f5e90 100644
--- a/chrome/browser/ui/browser_commands.cc
+++ b/chrome/browser/ui/browser_commands.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/browser_commands_chromeos.cc b/chrome/browser/ui/browser_commands_chromeos.cc
index d6e6dbb..69c748a 100644
--- a/chrome/browser/ui/browser_commands_chromeos.cc
+++ b/chrome/browser/ui/browser_commands_chromeos.cc
@@ -9,5 +9,5 @@
 #include "ash/screenshot_delegate.h"
 #include "ash/shell.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "content/public/browser/user_metrics.h"
 
diff --git a/chrome/browser/ui/browser_tab_restorer.cc b/chrome/browser/ui/browser_tab_restorer.cc
index 46a1303..f9c01a7 100644
--- a/chrome/browser/ui/browser_tab_restorer.cc
+++ b/chrome/browser/ui/browser_tab_restorer.cc
@@ -3,5 +3,5 @@
 // found in the LICENSE file.
 
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/supports_user_data.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/ui/BUILD.gn b/chrome/browser/ui/BUILD.gn
index ca6c6f7..82ed77c 100644
--- a/chrome/browser/ui/BUILD.gn
+++ b/chrome/browser/ui/BUILD.gn
@@ -32,5 +32,5 @@ static_library("ui") {
     "//components/dom_distiller/core",
     "//content/public/browser",
-    "//sync",
+#    "//sync",
   ]
   deps = [
@@ -47,10 +47,10 @@ static_library("ui") {
     "//chrome/common/net",
     "//components/app_modal",
-    "//components/auto_login_parser",
+#    "//components/auto_login_parser",
     "//components/dom_distiller/webui",
-    "//components/feedback/proto",
+#    "//components/feedback/proto",
     "//components/invalidation",
     "//components/onc",
-    "//components/password_manager/core/browser",
+#    "//components/password_manager/core/browser",
     "//components/resources",
     "//components/strings",
@@ -95,8 +95,8 @@ static_library("ui") {
       "//chrome/browser/ui/webui/omnibox:mojo_bindings",
       "//chrome/installer/util",
-      "//components/autofill/content/browser:risk_proto",
+#      "//components/autofill/content/browser:risk_proto",
       "//components/power",
       "//components/suggestions/proto",
-      "//device/nfc",
+#      "//device/nfc",
       "//media",
       "//net:net_with_v8",
@@ -104,5 +104,5 @@ static_library("ui") {
       "//storage/common",
       "//third_party/WebKit/public:resources",
-      "//third_party/adobe/flash:flapper_version_h",
+#      "//third_party/adobe/flash:flapper_version_h",
       "//third_party/expat",
       "//third_party/hunspell",
@@ -110,5 +110,5 @@ static_library("ui") {
       "//third_party/mojo/src/mojo/edk/system",
       "//third_party/npapi",
-      "//third_party/libjingle",
+#      "//third_party/libjingle",
       "//third_party/re2",
       "//ui/base/ime",
@@ -133,13 +133,13 @@ static_library("ui") {
                     ".",
                     "//chrome")
-    deps += [
-      "//components/copresence",
-      "//device/bluetooth",
-      "//third_party/libusb",
-    ]
+#    deps += [
+#      "//components/copresence",
+#      "//device/bluetooth",
+#      "//third_party/libusb",
+#    ]
   }
 
   if (enable_basic_printing || enable_print_preview) {
-    deps += [ "//printing" ]
+#    deps += [ "//printing" ]
   }
 
@@ -158,5 +158,5 @@ static_library("ui") {
     sources +=
         rebase_path(gypi_values.chrome_browser_ui_nacl_sources, ".", "//chrome")
-    deps += [ "//native_client/src/trusted/service_runtime:sel" ]
+#    deps += [ "//native_client/src/trusted/service_runtime:sel" ]
   }
   if (enable_configuration_policy) {
@@ -176,5 +176,5 @@ static_library("ui") {
     deps += [
       "//chrome/browser/safe_browsing:chunk_proto",
-      "//chrome/common/safe_browsing:proto",
+#      "//chrome/common/safe_browsing:proto",
       "//chrome/browser/safe_browsing:report_proto",
     ]
@@ -191,5 +191,5 @@ static_library("ui") {
   }
   if (use_cups) {
-    configs += [ "//printing:cups" ]
+#    configs += [ "//printing:cups" ]
   }
   if (use_ash) {
@@ -241,5 +241,5 @@ static_library("ui") {
           "cocoa/browser_window_factory_cocoa.mm",
           "cocoa/constrained_web_dialog_delegate_mac.mm",
-          "cocoa/extensions/browser_action_test_util_mac.mm",
+#          "cocoa/extensions/browser_action_test_util_mac.mm",
           "cocoa/extensions/extension_action_platform_delegate_cocoa.mm",
           "cocoa/extensions/extension_install_dialog_controller.mm",
@@ -283,9 +283,9 @@ static_library("ui") {
     ]
   }
-  if (is_win || is_mac || is_desktop_linux) {
-    sources += rebase_path(gypi_values.chrome_browser_ui_desktop_sources,
-                           ".",
-                           "//chrome")
-  }
+#  if (is_win || is_mac || is_desktop_linux) {
+#    sources += rebase_path(gypi_values.chrome_browser_ui_desktop_sources,
+#                           ".",
+#                           "//chrome")
+#  }
   if (use_aura) {
     sources +=
@@ -334,5 +334,5 @@ static_library("ui") {
     deps -= [
       "//chrome/browser/ui/views",
-      "//components/feedback/proto",
+#      "//components/feedback/proto",
       "//ui/events",
     ]
@@ -401,5 +401,5 @@ static_library("ui") {
                            ".",
                            "//chrome")
-    deps += [ "//device/udev_linux" ]
+#    deps += [ "//device/udev_linux" ]
     if (use_aura) {
       configs += [ "//build/config/linux:fontconfig" ]
@@ -502,5 +502,5 @@ source_set("test_support") {
   sources = [
     "browser.h",
-    "cocoa/find_bar/find_bar_host_unittest_util_cocoa.mm",
+#    "cocoa/find_bar/find_bar_host_unittest_util_cocoa.mm",
     "cocoa/run_loop_testing.h",
     "cocoa/run_loop_testing.mm",
@@ -510,7 +510,7 @@ source_set("test_support") {
     "exclusive_access/fullscreen_controller_test.cc",
     "exclusive_access/fullscreen_controller_test.h",
-    "find_bar/find_bar_host_unittest_util.h",
-    "login/login_prompt_test_utils.cc",
-    "login/login_prompt_test_utils.h",
+#    "find_bar/find_bar_host_unittest_util.h",
+#    "login/login_prompt_test_utils.cc",
+#    "login/login_prompt_test_utils.h",
     "passwords/manage_passwords_ui_controller_mock.cc",
     "passwords/manage_passwords_ui_controller_mock.h",
@@ -526,5 +526,5 @@ source_set("test_support") {
 
   if (toolkit_views) {
-    sources += [ "views/find_bar_host_unittest_util_views.cc" ]
+#    sources += [ "views/find_bar_host_unittest_util_views.cc" ]
   }
 
@@ -537,8 +537,8 @@ source_set("test_support") {
     "//content/public/browser",
     "//content/public/common",
-    "//content/test:test_support",
-    "//net:test_support",
+#    "//content/test:test_support",
+#    "//net:test_support",
     "//skia",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//ui/base",
   ]
diff --git a/chrome/browser/ui/exclusive_access/fullscreen_controller_state_test.cc b/chrome/browser/ui/exclusive_access/fullscreen_controller_state_test.cc
index a8af8b3..6f853b5 100644
--- a/chrome/browser/ui/exclusive_access/fullscreen_controller_state_test.cc
+++ b/chrome/browser/ui/exclusive_access/fullscreen_controller_state_test.cc
@@ -18,5 +18,5 @@
 #include "content/public/browser/web_contents.h"
 #include "content/public/common/url_constants.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/browser/ui/extensions/application_launch.cc b/chrome/browser/ui/extensions/application_launch.cc
index 996d3ff..aac98bb 100644
--- a/chrome/browser/ui/extensions/application_launch.cc
+++ b/chrome/browser/ui/extensions/application_launch.cc
@@ -8,5 +8,5 @@
 
 #include "apps/launcher.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/app_mode/app_mode_utils.h"
 #include "chrome/browser/apps/per_app_settings_service.h"
diff --git a/chrome/browser/ui/libgtk2ui/BUILD.gn b/chrome/browser/ui/libgtk2ui/BUILD.gn
index 272f8bb..69c67c5 100644
--- a/chrome/browser/ui/libgtk2ui/BUILD.gn
+++ b/chrome/browser/ui/libgtk2ui/BUILD.gn
@@ -66,5 +66,5 @@ component("libgtk2ui") {
   configs += [
     "//build/config/linux:gconf",
-    "//printing:cups",
+#    "//printing:cups",
   ]
 
@@ -80,5 +80,5 @@ component("libgtk2ui") {
 
         # G_STATIC_ASSERT uses a typedef as a static_assert.
-        "-Wno-unused-local-typedef",
+        "-Wno-unused-local-typedefs",
       ]
     }
@@ -101,5 +101,5 @@ component("libgtk2ui") {
     "//components/resources",
     "//content/public/browser",
-    "//printing",
+#    "//printing",
     "//skia",
     "//third_party/mojo/src/mojo/edk/system",
diff --git a/chrome/browser/ui/metro_pin_tab_helper_win.cc b/chrome/browser/ui/metro_pin_tab_helper_win.cc
index 6082893..6883e85 100644
--- a/chrome/browser/ui/metro_pin_tab_helper_win.cc
+++ b/chrome/browser/ui/metro_pin_tab_helper_win.cc
@@ -14,5 +14,5 @@
 #include "base/memory/ref_counted.h"
 #include "base/memory/ref_counted_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ui/network_profile_bubble.cc b/chrome/browser/ui/network_profile_bubble.cc
index 4b5d23c..04f9448 100644
--- a/chrome/browser/ui/network_profile_bubble.cc
+++ b/chrome/browser/ui/network_profile_bubble.cc
@@ -16,5 +16,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/time/time.h"
diff --git a/chrome/browser/ui/omnibox/omnibox_controller.cc b/chrome/browser/ui/omnibox/omnibox_controller.cc
index badad11..68471d8 100644
--- a/chrome/browser/ui/omnibox/omnibox_controller.cc
+++ b/chrome/browser/ui/omnibox/omnibox_controller.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/omnibox/omnibox_controller.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/autocomplete/autocomplete_classifier.h"
 #include "chrome/browser/net/predictor.h"
diff --git a/chrome/browser/ui/omnibox/omnibox_edit_model.cc b/chrome/browser/ui/omnibox/omnibox_edit_model.cc
index 12f9848..05938bc 100644
--- a/chrome/browser/ui/omnibox/omnibox_edit_model.cc
+++ b/chrome/browser/ui/omnibox/omnibox_edit_model.cc
@@ -10,5 +10,5 @@
 #include "base/auto_reset.h"
 #include "base/format_macros.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/profiler/scoped_tracker.h"
diff --git a/chrome/browser/ui/panels/test_panel_mouse_watcher.cc b/chrome/browser/ui/panels/test_panel_mouse_watcher.cc
index a108a65..a99a4b8 100644
--- a/chrome/browser/ui/panels/test_panel_mouse_watcher.cc
+++ b/chrome/browser/ui/panels/test_panel_mouse_watcher.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/panels/test_panel_mouse_watcher.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 TestPanelMouseWatcher::TestPanelMouseWatcher()
diff --git a/chrome/browser/ui/panels/test_panel_notification_observer.cc b/chrome/browser/ui/panels/test_panel_notification_observer.cc
index c685e2f..4b15d35 100644
--- a/chrome/browser/ui/panels/test_panel_notification_observer.cc
+++ b/chrome/browser/ui/panels/test_panel_notification_observer.cc
@@ -8,5 +8,5 @@
 #include "content/public/browser/notification_source.h"
 #include "content/public/test/test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 TestPanelNotificationObserver::TestPanelNotificationObserver(
diff --git a/chrome/browser/ui/passwords/manage_passwords_bubble.cc b/chrome/browser/ui/passwords/manage_passwords_bubble.cc
index 87efd80..a658c26 100644
--- a/chrome/browser/ui/passwords/manage_passwords_bubble.cc
+++ b/chrome/browser/ui/passwords/manage_passwords_bubble.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/passwords/manage_passwords_bubble.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/ui/passwords/manage_passwords_bubble_model.h"
 
diff --git a/chrome/browser/ui/passwords/manage_passwords_test.cc b/chrome/browser/ui/passwords/manage_passwords_test.cc
index cd3f9f7..83c1915 100644
--- a/chrome/browser/ui/passwords/manage_passwords_test.cc
+++ b/chrome/browser/ui/passwords/manage_passwords_test.cc
@@ -20,5 +20,5 @@
 #include "components/password_manager/core/browser/stub_password_manager_client.h"
 #include "components/password_manager/core/browser/stub_password_manager_driver.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 ManagePasswordsTest::ManagePasswordsTest() {
diff --git a/chrome/browser/ui/passwords/manage_passwords_test.h b/chrome/browser/ui/passwords/manage_passwords_test.h
index 5e6f461..dc06a03 100644
--- a/chrome/browser/ui/passwords/manage_passwords_test.h
+++ b/chrome/browser/ui/passwords/manage_passwords_test.h
@@ -6,11 +6,11 @@
 #define CHROME_BROWSER_UI_PASSWORDS_MANAGE_PASSWORDS_TEST_H_
 
-#include "base/metrics/histogram_samples.h"
+//#include "base/metrics/histogram_samples.h"
 #include "base/test/histogram_tester.h"
 #include "chrome/test/base/in_process_browser_test.h"
 #include "components/autofill/core/common/password_form.h"
 #include "components/password_manager/content/common/credential_manager_types.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 class ManagePasswordsUIController;
diff --git a/chrome/browser/ui/passwords/manage_passwords_ui_controller_mock.cc b/chrome/browser/ui/passwords/manage_passwords_ui_controller_mock.cc
index 6b4bbe6..7b63a96 100644
--- a/chrome/browser/ui/passwords/manage_passwords_ui_controller_mock.cc
+++ b/chrome/browser/ui/passwords/manage_passwords_ui_controller_mock.cc
@@ -7,5 +7,5 @@
 #include "components/password_manager/content/common/credential_manager_types.h"
 #include "content/public/browser/web_contents.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 ManagePasswordsUIControllerMock::ManagePasswordsUIControllerMock(
diff --git a/chrome/browser/ui/passwords/password_bubble_experiment.cc b/chrome/browser/ui/passwords/password_bubble_experiment.cc
index 276a038..ec0bd9b 100644
--- a/chrome/browser/ui/passwords/password_bubble_experiment.cc
+++ b/chrome/browser/ui/passwords/password_bubble_experiment.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/passwords/password_bubble_experiment.h"
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "base/rand_util.h"
diff --git a/chrome/browser/ui/passwords/password_manager_presenter.cc b/chrome/browser/ui/passwords/password_manager_presenter.cc
index de2a4c7..a29a01e 100644
--- a/chrome/browser/ui/passwords/password_manager_presenter.cc
+++ b/chrome/browser/ui/passwords/password_manager_presenter.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/profile_error_dialog.cc b/chrome/browser/ui/profile_error_dialog.cc
index 40423cb..c117c76 100644
--- a/chrome/browser/ui/profile_error_dialog.cc
+++ b/chrome/browser/ui/profile_error_dialog.cc
@@ -8,5 +8,5 @@
 #include "base/base_switches.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/ui/simple_message_box.h"
 #include "chrome/grit/chromium_strings.h"
diff --git a/chrome/browser/ui/search/instant_extended_interactive_uitest.cc b/chrome/browser/ui/search/instant_extended_interactive_uitest.cc
index 3d620cb..3d384ee 100644
--- a/chrome/browser/ui/search/instant_extended_interactive_uitest.cc
+++ b/chrome/browser/ui/search/instant_extended_interactive_uitest.cc
@@ -6,7 +6,7 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram_base.h"
-#include "base/metrics/histogram_samples.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram_base.h"
+//#include "base/metrics/histogram_samples.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/prefs/pref_service.h"
 #include "base/run_loop.h"
@@ -76,5 +76,5 @@
 #include "net/url_request/url_fetcher_impl.h"
 #include "net/url_request/url_request_status.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "third_party/skia/include/core/SkBitmap.h"
 
diff --git a/chrome/browser/ui/search/new_tab_page_interceptor_service.cc b/chrome/browser/ui/search/new_tab_page_interceptor_service.cc
index 0b2d4bb..beb8b09 100644
--- a/chrome/browser/ui/search/new_tab_page_interceptor_service.cc
+++ b/chrome/browser/ui/search/new_tab_page_interceptor_service.cc
@@ -7,5 +7,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/profiles/profile.h"
 #include "chrome/browser/search/search.h"
diff --git a/chrome/browser/ui/search/search_tab_helper.cc b/chrome/browser/ui/search/search_tab_helper.cc
index 3c4af97..5a31eef 100644
--- a/chrome/browser/ui/search/search_tab_helper.cc
+++ b/chrome/browser/ui/search/search_tab_helper.cc
@@ -8,5 +8,5 @@
 
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string16.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/ui/startup/default_browser_prompt.cc b/chrome/browser/ui/startup/default_browser_prompt.cc
index 5853399..3191a71 100644
--- a/chrome/browser/ui/startup/default_browser_prompt.cc
+++ b/chrome/browser/ui/startup/default_browser_prompt.cc
@@ -7,5 +7,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/ui/startup/startup_browser_creator.cc b/chrome/browser/ui/startup/startup_browser_creator.cc
index c093c18..692cbc6 100644
--- a/chrome/browser/ui/startup/startup_browser_creator.cc
+++ b/chrome/browser/ui/startup/startup_browser_creator.cc
@@ -20,6 +20,6 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram_macros.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ui/startup/startup_browser_creator_impl.cc b/chrome/browser/ui/startup/startup_browser_creator_impl.cc
index 355fbe3..92be567 100644
--- a/chrome/browser/ui/startup/startup_browser_creator_impl.cc
+++ b/chrome/browser/ui/startup/startup_browser_creator_impl.cc
@@ -17,6 +17,6 @@
 #include "base/lazy_instance.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ui/startup/startup_browser_creator_interactive_uitest.cc b/chrome/browser/ui/startup/startup_browser_creator_interactive_uitest.cc
index d5b2821..5f7891e 100644
--- a/chrome/browser/ui/startup/startup_browser_creator_interactive_uitest.cc
+++ b/chrome/browser/ui/startup/startup_browser_creator_interactive_uitest.cc
@@ -18,5 +18,5 @@
 #include "chrome/test/base/in_process_browser_test.h"
 #include "chrome/test/base/ui_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/chrome/browser/ui/sync/one_click_signin_sync_starter.cc b/chrome/browser/ui/sync/one_click_signin_sync_starter.cc
index ad9d1f2..405dda2 100644
--- a/chrome/browser/ui/sync/one_click_signin_sync_starter.cc
+++ b/chrome/browser/ui/sync/one_click_signin_sync_starter.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/sync/one_click_signin_sync_starter.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/tab_contents/core_tab_helper.cc b/chrome/browser/ui/tab_contents/core_tab_helper.cc
index 0e52c8d..b5befce 100644
--- a/chrome/browser/ui/tab_contents/core_tab_helper.cc
+++ b/chrome/browser/ui/tab_contents/core_tab_helper.cc
@@ -9,5 +9,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/ui/tabs/tab_strip_model.cc b/chrome/browser/ui/tabs/tab_strip_model.cc
index 08671ff..5be1777 100644
--- a/chrome/browser/ui/tabs/tab_strip_model.cc
+++ b/chrome/browser/ui/tabs/tab_strip_model.cc
@@ -10,5 +10,5 @@
 #include <string>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "chrome/app/chrome_command_ids.h"
diff --git a/chrome/browser/ui/toolbar/recent_tabs_sub_menu_model.cc b/chrome/browser/ui/toolbar/recent_tabs_sub_menu_model.cc
index c8e3d39..b51a7d1 100644
--- a/chrome/browser/ui/toolbar/recent_tabs_sub_menu_model.cc
+++ b/chrome/browser/ui/toolbar/recent_tabs_sub_menu_model.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/scoped_user_pref_update.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ui/toolbar/toolbar_model_impl.cc b/chrome/browser/ui/toolbar/toolbar_model_impl.cc
index 08b863d..f74bdb8 100644
--- a/chrome/browser/ui/toolbar/toolbar_model_impl.cc
+++ b/chrome/browser/ui/toolbar/toolbar_model_impl.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/toolbar/wrench_menu_model.cc b/chrome/browser/ui/toolbar/wrench_menu_model.cc
index ad3717f..69d6730 100644
--- a/chrome/browser/ui/toolbar/wrench_menu_model.cc
+++ b/chrome/browser/ui/toolbar/wrench_menu_model.cc
@@ -9,5 +9,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ui/uma_browsing_activity_observer.cc b/chrome/browser/ui/uma_browsing_activity_observer.cc
index e5f7927..e555af0 100644
--- a/chrome/browser/ui/uma_browsing_activity_observer.cc
+++ b/chrome/browser/ui/uma_browsing_activity_observer.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/uma_browsing_activity_observer.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/chrome_notification_types.h"
 #include "chrome/browser/search_engines/template_url_service_factory.h"
diff --git a/chrome/browser/ui/views/accessibility/navigation_accessibility_uitest_win.cc b/chrome/browser/ui/views/accessibility/navigation_accessibility_uitest_win.cc
index 7205f9e..934d9f4 100644
--- a/chrome/browser/ui/views/accessibility/navigation_accessibility_uitest_win.cc
+++ b/chrome/browser/ui/views/accessibility/navigation_accessibility_uitest_win.cc
@@ -23,5 +23,5 @@
 #include "content/public/browser/browser_accessibility_state.h"
 #include "net/dns/mock_host_resolver.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/base/test/ui_controls.h"
 #include "url/gurl.h"
diff --git a/chrome/browser/ui/views/app_list/win/app_list_service_win.cc b/chrome/browser/ui/views/app_list/win/app_list_service_win.cc
index ba5d155..f9d7738 100644
--- a/chrome/browser/ui/views/app_list/win/app_list_service_win.cc
+++ b/chrome/browser/ui/views/app_list/win/app_list_service_win.cc
@@ -12,5 +12,5 @@
 #include "base/memory/singleton.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/ui/views/apps/app_info_dialog/app_info_dialog_views.cc b/chrome/browser/ui/views/apps/app_info_dialog/app_info_dialog_views.cc
index 6e69445..a44b04f9 100644
--- a/chrome/browser/ui/views/apps/app_info_dialog/app_info_dialog_views.cc
+++ b/chrome/browser/ui/views/apps/app_info_dialog/app_info_dialog_views.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/chrome_notification_types.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/ui/views/ash/tab_scrubber.cc b/chrome/browser/ui/views/ash/tab_scrubber.cc
index 716e7cf..3acb281 100644
--- a/chrome/browser/ui/views/ash/tab_scrubber.cc
+++ b/chrome/browser/ui/views/ash/tab_scrubber.cc
@@ -7,5 +7,5 @@
 #include "ash/shell.h"
 #include "ash/wm/window_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/chrome_notification_types.h"
 #include "chrome/browser/ui/browser.h"
diff --git a/chrome/browser/ui/views/bookmarks/bookmark_bar_view.cc b/chrome/browser/ui/views/bookmarks/bookmark_bar_view.cc
index afe033a..5d54045 100644
--- a/chrome/browser/ui/views/bookmarks/bookmark_bar_view.cc
+++ b/chrome/browser/ui/views/bookmarks/bookmark_bar_view.cc
@@ -12,5 +12,5 @@
 #include "base/bind.h"
 #include "base/i18n/rtl.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/ui/views/conflicting_module_view_win.cc b/chrome/browser/ui/views/conflicting_module_view_win.cc
index f33c7c5..40a0f72 100644
--- a/chrome/browser/ui/views/conflicting_module_view_win.cc
+++ b/chrome/browser/ui/views/conflicting_module_view_win.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/views/conflicting_module_view_win.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/chrome_notification_types.h"
 #include "chrome/browser/enumerate_modules_model_win.h"
diff --git a/chrome/browser/ui/views/download/download_feedback_dialog_view.cc b/chrome/browser/ui/views/download/download_feedback_dialog_view.cc
index 79f48f2..396571e 100644
--- a/chrome/browser/ui/views/download/download_feedback_dialog_view.cc
+++ b/chrome/browser/ui/views/download/download_feedback_dialog_view.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/views/download/download_feedback_dialog_view.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/supports_user_data.h"
diff --git a/chrome/browser/ui/views/download/download_item_view.cc b/chrome/browser/ui/views/download/download_item_view.cc
index 0502116..8587b60 100644
--- a/chrome/browser/ui/views/download/download_item_view.cc
+++ b/chrome/browser/ui/views/download/download_item_view.cc
@@ -13,5 +13,5 @@
 #include "base/i18n/break_iterator.h"
 #include "base/i18n/rtl.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/ui/views/extensions/extension_install_dialog_view.cc b/chrome/browser/ui/views/extensions/extension_install_dialog_view.cc
index 75d28c0..133e26f 100644
--- a/chrome/browser/ui/views/extensions/extension_install_dialog_view.cc
+++ b/chrome/browser/ui/views/extensions/extension_install_dialog_view.cc
@@ -11,5 +11,5 @@
 #include "base/compiler_specific.h"
 #include "base/i18n/rtl.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/views/external_protocol_dialog.cc b/chrome/browser/ui/views/external_protocol_dialog.cc
index 6b9098c..79c4af8 100644
--- a/chrome/browser/ui/views/external_protocol_dialog.cc
+++ b/chrome/browser/ui/views/external_protocol_dialog.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/views/external_protocol_dialog.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/views/frame/browser_view.cc b/chrome/browser/ui/views/frame/browser_view.cc
index b86f397..b824b0c 100644
--- a/chrome/browser/ui/views/frame/browser_view.cc
+++ b/chrome/browser/ui/views/frame/browser_view.cc
@@ -11,5 +11,5 @@
 #include "base/i18n/rtl.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ui/views/location_bar/star_view.cc b/chrome/browser/ui/views/location_bar/star_view.cc
index 368119d..f5acf04 100644
--- a/chrome/browser/ui/views/location_bar/star_view.cc
+++ b/chrome/browser/ui/views/location_bar/star_view.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/views/location_bar/star_view.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "chrome/app/chrome_command_ids.h"
diff --git a/chrome/browser/ui/views/message_center/web_notification_tray.cc b/chrome/browser/ui/views/message_center/web_notification_tray.cc
index d8a5611..7c2c9b2 100644
--- a/chrome/browser/ui/views/message_center/web_notification_tray.cc
+++ b/chrome/browser/ui/views/message_center/web_notification_tray.cc
@@ -170,6 +170,10 @@ WebNotificationTray::WebNotificationTray(PrefService* local_state)
 #endif
   title_ = l10n_util::GetStringFUTF16(
-      IDS_MESSAGE_CENTER_FOOTER_WITH_PRODUCT_TITLE,
-      l10n_util::GetStringUTF16(IDS_SHORT_PRODUCT_NAME));
+   IDS_MESSAGE_CENTER_QUIET_MODE,
+//      IDS_MESSAGE_CENTER_FOOTER_WITH_PRODUCT_TITLE,
+      l10n_util::GetStringUTF16(
+        //IDS_SHORT_PRODUCT_NAME
+        IDS_MESSAGE_CENTER_QUIET_MODE
+        ));
 }
 
@@ -290,8 +294,13 @@ void WebNotificationTray::UpdateStatusIcon() {
   if (unread_notifications > 0) {
     base::string16 str_unread_count = base::FormatNumber(unread_notifications);
-    tool_tip = l10n_util::GetStringFUTF16(IDS_MESSAGE_CENTER_TOOLTIP_UNREAD,
+    tool_tip = l10n_util::GetStringFUTF16(
+//    IDS_MESSAGE_CENTER_TOOLTIP_UNREAD,
+    IDS_MESSAGE_CENTER_QUIET_MODE,
                                           str_unread_count);
   } else {
-    tool_tip = l10n_util::GetStringUTF16(IDS_MESSAGE_CENTER_TOOLTIP);
+    tool_tip = l10n_util::GetStringUTF16(
+        //IDS_MESSAGE_CENTER_TOOLTIP
+        IDS_MESSAGE_CENTER_QUIET_MODE
+        );
   }
 
diff --git a/chrome/browser/ui/views/omnibox/omnibox_view_views.cc b/chrome/browser/ui/views/omnibox/omnibox_view_views.cc
index 53c2ae3..cfc2e41 100644
--- a/chrome/browser/ui/views/omnibox/omnibox_view_views.cc
+++ b/chrome/browser/ui/views/omnibox/omnibox_view_views.cc
@@ -9,5 +9,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/views/outdated_upgrade_bubble_view.cc b/chrome/browser/ui/views/outdated_upgrade_bubble_view.cc
index 81972b0..fd3e4f5 100644
--- a/chrome/browser/ui/views/outdated_upgrade_bubble_view.cc
+++ b/chrome/browser/ui/views/outdated_upgrade_bubble_view.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/views/outdated_upgrade_bubble_view.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/ui/views/sad_tab_view.cc b/chrome/browser/ui/views/sad_tab_view.cc
index 173455e..8871a90 100644
--- a/chrome/browser/ui/views/sad_tab_view.cc
+++ b/chrome/browser/ui/views/sad_tab_view.cc
@@ -7,6 +7,6 @@
 #include <string>
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "chrome/browser/ui/browser.h"
diff --git a/chrome/browser/ui/views/session_crashed_bubble_view.cc b/chrome/browser/ui/views/session_crashed_bubble_view.cc
index 43b063d..5c624da 100644
--- a/chrome/browser/ui/views/session_crashed_bubble_view.cc
+++ b/chrome/browser/ui/views/session_crashed_bubble_view.cc
@@ -10,6 +10,6 @@
 #include "base/bind_helpers.h"
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/browser_process.h"
diff --git a/chrome/browser/ui/views/status_icons/status_tray_state_changer_interactive_uitest_win.cc b/chrome/browser/ui/views/status_icons/status_tray_state_changer_interactive_uitest_win.cc
index 9093a00..f1f09fa 100644
--- a/chrome/browser/ui/views/status_icons/status_tray_state_changer_interactive_uitest_win.cc
+++ b/chrome/browser/ui/views/status_icons/status_tray_state_changer_interactive_uitest_win.cc
@@ -11,5 +11,5 @@
 #include "chrome/browser/ui/views/status_icons/status_icon_win.h"
 #include "chrome/browser/ui/views/status_icons/status_tray_win.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/skia/include/core/SkBitmap.h"
 #include "ui/gfx/image/image_skia.h"
diff --git a/chrome/browser/ui/views/tabs/tab_strip.cc b/chrome/browser/ui/views/tabs/tab_strip.cc
index cffe4a3..8cdef00 100644
--- a/chrome/browser/ui/views/tabs/tab_strip.cc
+++ b/chrome/browser/ui/views/tabs/tab_strip.cc
@@ -16,5 +16,5 @@
 #include "base/command_line.h"
 #include "base/compiler_specific.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/views/toolbar/wrench_menu.cc b/chrome/browser/ui/views/toolbar/wrench_menu.cc
index 8b96fd8..7018b3b 100644
--- a/chrome/browser/ui/views/toolbar/wrench_menu.cc
+++ b/chrome/browser/ui/views/toolbar/wrench_menu.cc
@@ -9,5 +9,5 @@
 #include <set>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/views/translate/translate_bubble_view.cc b/chrome/browser/ui/views/translate/translate_bubble_view.cc
index 145d444..2d459e3 100644
--- a/chrome/browser/ui/views/translate/translate_bubble_view.cc
+++ b/chrome/browser/ui/views/translate/translate_bubble_view.cc
@@ -11,5 +11,5 @@
 #include "base/i18n/string_compare.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/website_settings/permission_bubble_manager.cc b/chrome/browser/ui/website_settings/permission_bubble_manager.cc
index b8a53e5..14d41f4 100644
--- a/chrome/browser/ui/website_settings/permission_bubble_manager.cc
+++ b/chrome/browser/ui/website_settings/permission_bubble_manager.cc
@@ -6,6 +6,6 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "chrome/browser/ui/website_settings/permission_bubble_request.h"
 #include "chrome/common/chrome_switches.h"
diff --git a/chrome/browser/ui/website_settings/website_settings.cc b/chrome/browser/ui/website_settings/website_settings.cc
index 699cf12..0825b45 100644
--- a/chrome/browser/ui/website_settings/website_settings.cc
+++ b/chrome/browser/ui/website_settings/website_settings.cc
@@ -12,6 +12,6 @@
 #include "base/command_line.h"
 #include "base/i18n/time_formatting.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/webui/about_ui.cc b/chrome/browser/ui/webui/about_ui.cc
index 2e9eb6f..e446d0c 100644
--- a/chrome/browser/ui/webui/about_ui.cc
+++ b/chrome/browser/ui/webui/about_ui.cc
@@ -18,5 +18,5 @@
 #include "base/json/json_writer.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_piece.h"
diff --git a/chrome/browser/ui/webui/app_launcher_page_ui.cc b/chrome/browser/ui/webui/app_launcher_page_ui.cc
index 44f93e3..bd19cb8 100644
--- a/chrome/browser/ui/webui/app_launcher_page_ui.cc
+++ b/chrome/browser/ui/webui/app_launcher_page_ui.cc
@@ -6,5 +6,5 @@
 
 #include "base/memory/ref_counted_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/profiles/profile.h"
 #include "chrome/browser/ui/webui/metrics_handler.h"
diff --git a/chrome/browser/ui/webui/app_list/start_page_handler.cc b/chrome/browser/ui/webui/app_list/start_page_handler.cc
index d8234cc..c3f07e4 100644
--- a/chrome/browser/ui/webui/app_list/start_page_handler.cc
+++ b/chrome/browser/ui/webui/app_list/start_page_handler.cc
@@ -9,5 +9,5 @@
 #include "base/bind.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/values.h"
 #include "base/version.h"
diff --git a/chrome/browser/ui/webui/chromeos/login/gaia_screen_handler.cc b/chrome/browser/ui/webui/chromeos/login/gaia_screen_handler.cc
index 3c67a10..d5da4f8 100644
--- a/chrome/browser/ui/webui/chromeos/login/gaia_screen_handler.cc
+++ b/chrome/browser/ui/webui/chromeos/login/gaia_screen_handler.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/webui/chromeos/login/signin_screen_handler.cc b/chrome/browser/ui/webui/chromeos/login/signin_screen_handler.cc
index 6d72a2d..88a4672 100644
--- a/chrome/browser/ui/webui/chromeos/login/signin_screen_handler.cc
+++ b/chrome/browser/ui/webui/chromeos/login/signin_screen_handler.cc
@@ -13,5 +13,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/ui/webui/chromeos/login/user_image_screen_handler.cc b/chrome/browser/ui/webui/chromeos/login/user_image_screen_handler.cc
index 3af2f5e..bac5c76 100644
--- a/chrome/browser/ui/webui/chromeos/login/user_image_screen_handler.cc
+++ b/chrome/browser/ui/webui/chromeos/login/user_image_screen_handler.cc
@@ -8,5 +8,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/values.h"
 #include "chrome/browser/chromeos/login/existing_user_controller.h"
diff --git a/chrome/browser/ui/webui/chromeos/mobile_setup_ui.cc b/chrome/browser/ui/webui/chromeos/mobile_setup_ui.cc
index cf35c04..2b45501 100644
--- a/chrome/browser/ui/webui/chromeos/mobile_setup_ui.cc
+++ b/chrome/browser/ui/webui/chromeos/mobile_setup_ui.cc
@@ -16,5 +16,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_piece.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/ui/webui/downloads_dom_handler.cc b/chrome/browser/ui/webui/downloads_dom_handler.cc
index 60bdcf5..474a6ea 100644
--- a/chrome/browser/ui/webui/downloads_dom_handler.cc
+++ b/chrome/browser/ui/webui/downloads_dom_handler.cc
@@ -14,6 +14,6 @@
 #include "base/i18n/time_formatting.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ui/webui/extensions/extension_settings_handler.cc b/chrome/browser/ui/webui/extensions/extension_settings_handler.cc
index 80fb6d1..37e806c 100644
--- a/chrome/browser/ui/webui/extensions/extension_settings_handler.cc
+++ b/chrome/browser/ui/webui/extensions/extension_settings_handler.cc
@@ -13,5 +13,5 @@
 #include "base/location.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/browser/ui/webui/history_ui.cc b/chrome/browser/ui/webui/history_ui.cc
index 8585e3f..ab8fcbb 100644
--- a/chrome/browser/ui/webui/history_ui.cc
+++ b/chrome/browser/ui/webui/history_ui.cc
@@ -14,5 +14,5 @@
 #include "base/memory/singleton.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string16.h"
diff --git a/chrome/browser/ui/webui/ntp/app_launcher_handler.cc b/chrome/browser/ui/webui/ntp/app_launcher_handler.cc
index e82057a..bf2963b 100644
--- a/chrome/browser/ui/webui/ntp/app_launcher_handler.cc
+++ b/chrome/browser/ui/webui/ntp/app_launcher_handler.cc
@@ -12,6 +12,6 @@
 #include "base/bind_helpers.h"
 #include "base/i18n/rtl.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/ui/webui/ntp/most_visited_handler.cc b/chrome/browser/ui/webui/ntp/most_visited_handler.cc
index 39a1f2f..ce1895b0 100644
--- a/chrome/browser/ui/webui/ntp/most_visited_handler.cc
+++ b/chrome/browser/ui/webui/ntp/most_visited_handler.cc
@@ -13,5 +13,5 @@
 #include "base/memory/scoped_vector.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/ui/webui/ntp/new_tab_page_handler.cc b/chrome/browser/ui/webui/ntp/new_tab_page_handler.cc
index 4d16b74..037bd66 100644
--- a/chrome/browser/ui/webui/ntp/new_tab_page_handler.cc
+++ b/chrome/browser/ui/webui/ntp/new_tab_page_handler.cc
@@ -8,5 +8,5 @@
 #include "base/bind_helpers.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/ui/webui/ntp/new_tab_ui.cc b/chrome/browser/ui/webui/ntp/new_tab_ui.cc
index e8e4e80..ae157bd 100644
--- a/chrome/browser/ui/webui/ntp/new_tab_ui.cc
+++ b/chrome/browser/ui/webui/ntp/new_tab_ui.cc
@@ -10,5 +10,5 @@
 #include "base/lazy_instance.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/webui/ntp/ntp_login_handler.cc b/chrome/browser/ui/webui/ntp/ntp_login_handler.cc
index c53b1ba..4ced65f 100644
--- a/chrome/browser/ui/webui/ntp/ntp_login_handler.cc
+++ b/chrome/browser/ui/webui/ntp/ntp_login_handler.cc
@@ -9,5 +9,5 @@
 #include "base/bind.h"
 #include "base/bind_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_notifier.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/ui/webui/ntp/ntp_user_data_logger.cc b/chrome/browser/ui/webui/ntp/ntp_user_data_logger.cc
index dc53a4c..13a6c7c 100644
--- a/chrome/browser/ui/webui/ntp/ntp_user_data_logger.cc
+++ b/chrome/browser/ui/webui/ntp/ntp_user_data_logger.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/webui/ntp/ntp_user_data_logger.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/webui/ntp/recently_closed_tabs_handler.cc b/chrome/browser/ui/webui/ntp/recently_closed_tabs_handler.cc
index edd653e..4fcb456 100644
--- a/chrome/browser/ui/webui/ntp/recently_closed_tabs_handler.cc
+++ b/chrome/browser/ui/webui/ntp/recently_closed_tabs_handler.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/bind_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/profiles/profile.h"
 #include "chrome/browser/sessions/tab_restore_service_delegate.h"
diff --git a/chrome/browser/ui/webui/ntp/suggestions_page_handler.cc b/chrome/browser/ui/webui/ntp/suggestions_page_handler.cc
index d8b9745..7b94dce 100644
--- a/chrome/browser/ui/webui/ntp/suggestions_page_handler.cc
+++ b/chrome/browser/ui/webui/ntp/suggestions_page_handler.cc
@@ -11,5 +11,5 @@
 #include "base/bind_helpers.h"
 #include "base/md5.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string16.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/webui/options/browser_options_handler.cc b/chrome/browser/ui/webui/options/browser_options_handler.cc
index 2ce6804..cc00bcd 100644
--- a/chrome/browser/ui/webui/options/browser_options_handler.cc
+++ b/chrome/browser/ui/webui/options/browser_options_handler.cc
@@ -14,6 +14,6 @@
 #include "base/environment.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/chrome/browser/ui/webui/options/chromeos/change_picture_options_handler.cc b/chrome/browser/ui/webui/options/chromeos/change_picture_options_handler.cc
index 300965f..dc85cb1 100644
--- a/chrome/browser/ui/webui/options/chromeos/change_picture_options_handler.cc
+++ b/chrome/browser/ui/webui/options/chromeos/change_picture_options_handler.cc
@@ -9,5 +9,5 @@
 #include "base/bind_helpers.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/ui/webui/options/create_profile_handler.cc b/chrome/browser/ui/webui/options/create_profile_handler.cc
index ef749c8..c11039d 100644
--- a/chrome/browser/ui/webui/options/create_profile_handler.cc
+++ b/chrome/browser/ui/webui/options/create_profile_handler.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/files/file_path.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/browser/ui/webui/options/geolocation_options_handler.cc b/chrome/browser/ui/webui/options/geolocation_options_handler.cc
index 907f58c..595f57f 100644
--- a/chrome/browser/ui/webui/options/geolocation_options_handler.cc
+++ b/chrome/browser/ui/webui/options/geolocation_options_handler.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "chrome/common/chrome_switches.h"
 #include "content/public/browser/web_ui.h"
diff --git a/chrome/browser/ui/webui/options/reset_profile_settings_handler.cc b/chrome/browser/ui/webui/options/reset_profile_settings_handler.cc
index c2bf5ce..412383f 100644
--- a/chrome/browser/ui/webui/options/reset_profile_settings_handler.cc
+++ b/chrome/browser/ui/webui/options/reset_profile_settings_handler.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/bind_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string16.h"
diff --git a/chrome/browser/ui/webui/options/sync_setup_handler.cc b/chrome/browser/ui/webui/options/sync_setup_handler.cc
index 9d2abb4..235a578 100644
--- a/chrome/browser/ui/webui/options/sync_setup_handler.cc
+++ b/chrome/browser/ui/webui/options/sync_setup_handler.cc
@@ -13,5 +13,5 @@
 #include "base/json/json_reader.h"
 #include "base/json/json_writer.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/webui/options/website_settings_handler.cc b/chrome/browser/ui/webui/options/website_settings_handler.cc
index da57296..e5b0dbd 100644
--- a/chrome/browser/ui/webui/options/website_settings_handler.cc
+++ b/chrome/browser/ui/webui/options/website_settings_handler.cc
@@ -5,5 +5,5 @@
 #include "chrome/browser/ui/webui/options/website_settings_handler.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/browser/profiles/profile.h"
 #include "chrome/browser/ui/browser.h"
diff --git a/chrome/browser/ui/webui/set_as_default_browser_ui.cc b/chrome/browser/ui/webui/set_as_default_browser_ui.cc
index 9645460..c7d137e 100644
--- a/chrome/browser/ui/webui/set_as_default_browser_ui.cc
+++ b/chrome/browser/ui/webui/set_as_default_browser_ui.cc
@@ -8,5 +8,5 @@
 #include "base/bind_helpers.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "chrome/browser/profiles/profile.h"
diff --git a/chrome/browser/ui/webui/user_actions/user_actions_ui_handler.cc b/chrome/browser/ui/webui/user_actions/user_actions_ui_handler.cc
index d6065a3..10750b4b 100644
--- a/chrome/browser/ui/webui/user_actions/user_actions_ui_handler.cc
+++ b/chrome/browser/ui/webui/user_actions/user_actions_ui_handler.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/values.h"
 #include "content/public/browser/web_ui.h"
diff --git a/chrome/browser/ui/webui/user_actions/user_actions_ui_handler.h b/chrome/browser/ui/webui/user_actions/user_actions_ui_handler.h
index 284d0d2..4467079 100644
--- a/chrome/browser/ui/webui/user_actions/user_actions_ui_handler.h
+++ b/chrome/browser/ui/webui/user_actions/user_actions_ui_handler.h
@@ -6,5 +6,5 @@
 #define CHROME_BROWSER_UI_WEBUI_USER_ACTIONS_USER_ACTIONS_UI_HANDLER_H_
 
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "content/public/browser/web_ui_message_handler.h"
 
diff --git a/chrome/browser/ui/webui/version_handler.cc b/chrome/browser/ui/webui/version_handler.cc
index ba348d9..f49e8fa 100644
--- a/chrome/browser/ui/webui/version_handler.cc
+++ b/chrome/browser/ui/webui/version_handler.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/files/file_util.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/browser/ui/webui/voice_search_ui.cc b/chrome/browser/ui/webui/voice_search_ui.cc
index 3ddf0e9..9618451 100644
--- a/chrome/browser/ui/webui/voice_search_ui.cc
+++ b/chrome/browser/ui/webui/voice_search_ui.cc
@@ -10,5 +10,5 @@
 #include "base/files/file_enumerator.h"
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_service.h"
diff --git a/chrome/browser/undo/bookmark_undo_service_test.cc b/chrome/browser/undo/bookmark_undo_service_test.cc
index cf1593c..8673ea7 100644
--- a/chrome/browser/undo/bookmark_undo_service_test.cc
+++ b/chrome/browser/undo/bookmark_undo_service_test.cc
@@ -12,5 +12,5 @@
 #include "components/bookmarks/test/bookmark_test_helpers.h"
 #include "content/public/test/test_browser_thread_bundle.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::ASCIIToUTF16;
diff --git a/chrome/browser/undo/undo_manager_test.cc b/chrome/browser/undo/undo_manager_test.cc
index 013b6214..1c7d5a1 100644
--- a/chrome/browser/undo/undo_manager_test.cc
+++ b/chrome/browser/undo/undo_manager_test.cc
@@ -7,5 +7,5 @@
 #include "chrome/browser/undo/undo_manager_observer.h"
 #include "chrome/browser/undo/undo_operation.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/BUILD.gn b/chrome/BUILD.gn
index b8cd7a1..f3df14c 100644
--- a/chrome/BUILD.gn
+++ b/chrome/BUILD.gn
@@ -10,5 +10,5 @@ import("//chrome/version.gni")
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -128,10 +128,10 @@ if (!is_android) {
         ":packed_extra_resources",
         ":packed_resources",
-        "//components/startup_metric_utils",
+#        "//components/startup_metric_utils",
 
         # Precompiled plugins that need to get copied to the output directory.
         # On Mac, internal plugins go inside the framework, so these
         # dependencies are on chrome.dll.
-        "//third_party/adobe/flash:flapper_binaries",
+#        "//third_party/adobe/flash:flapper_binaries",
         "//third_party/widevine/cdm:adapter",
       ]
@@ -234,5 +234,5 @@ group("browser_dependencies") {
     "//chrome/browser",
     "//chrome/common",
-    "//sync",
+#    "//sync",
   ]
   if (!is_ios) {
@@ -241,5 +241,5 @@ group("browser_dependencies") {
 
   if (enable_basic_printing || enable_print_preview) {
-    deps += [ "//printing" ]
+#    deps += [ "//printing" ]
     if (enable_print_preview) {
       deps += [ "//chrome/service" ]
@@ -252,5 +252,5 @@ group("child_dependencies") {
   deps = [
     "//chrome/common",
-    "//sync",
+#    "//sync",
   ]
   if (!is_ios) {
@@ -517,5 +517,5 @@ repack("packed_extra_resources") {
 repack("browser_tests_pak") {
   sources = [
-    "$root_gen_dir/chrome/options_test_resources.pak",
+#    "$root_gen_dir/chrome/options_test_resources.pak",
   ]
   output = "$root_out_dir/browser_tests.pak"
diff --git a/chromecast/base/metrics/cast_histograms.h b/chromecast/base/metrics/cast_histograms.h
index 941242e..6c0b930 100644
--- a/chromecast/base/metrics/cast_histograms.h
+++ b/chromecast/base/metrics/cast_histograms.h
@@ -6,5 +6,5 @@
 #define CHROMECAST_BASE_METRICS_CAST_HISTOGRAMS_H_
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 // STATIC_HISTOGRAM_POINTER_BLOCK only calls histogram_factory_get_invocation
diff --git a/chromecast/base/metrics/cast_metrics_helper.cc b/chromecast/base/metrics/cast_metrics_helper.cc
index 85cdfe8..1ed4159 100644
--- a/chromecast/base/metrics/cast_metrics_helper.cc
+++ b/chromecast/base/metrics/cast_metrics_helper.cc
@@ -9,6 +9,6 @@
 #include "base/location.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/strings/string_split.h"
 #include "base/strings/string_util.h"
diff --git a/chromecast/base/metrics/grouped_histogram.cc b/chromecast/base/metrics/grouped_histogram.cc
index 8318850..2c5b9a3 100644
--- a/chromecast/base/metrics/grouped_histogram.cc
+++ b/chromecast/base/metrics/grouped_histogram.cc
@@ -8,6 +8,6 @@
 #include "base/logging.h"
 #include "base/macros.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/strings/stringprintf.h"
 #include "base/synchronization/lock.h"
diff --git a/chromecast/browser/metrics/cast_stability_metrics_provider.cc b/chromecast/browser/metrics/cast_stability_metrics_provider.cc
index 2b74c8c..84c71e9 100644
--- a/chromecast/browser/metrics/cast_stability_metrics_provider.cc
+++ b/chromecast/browser/metrics/cast_stability_metrics_provider.cc
@@ -8,6 +8,6 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/chromecast/browser/metrics/external_metrics.cc b/chromecast/browser/metrics/external_metrics.cc
index f26e0cc..0a59efa 100644
--- a/chromecast/browser/metrics/external_metrics.cc
+++ b/chromecast/browser/metrics/external_metrics.cc
@@ -10,7 +10,7 @@
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/timer/elapsed_timer.h"
 #include "chromecast/base/metrics/cast_histograms.h"
diff --git a/chromecast/build/tests/test_list.gypi b/chromecast/build/tests/test_list.gypi
index 9337389..1444c2e 100644
--- a/chromecast/build/tests/test_list.gypi
+++ b/chromecast/build/tests/test_list.gypi
@@ -22,5 +22,5 @@
 
     'test_filters_output_file': '<(test_output_file_prefix).filters',
-    'test_generator_py': '<(DEPTH)/chromecast/tools/build/generate_test_lists.py',
+#    'test_generator_py': '<(DEPTH)/chromecast/tools/build/generate_test_lists.py',
     'test_list_output_file': '<(test_output_file_prefix).tests',
     'filters%': [],
@@ -28,5 +28,5 @@
   'actions': [
     {
-      'action_name': 'generate_test_list',
+#      'action_name': 'generate_test_list',
       'inputs': ['<(test_generator_py)'],
       'outputs': ['<(test_list_output_file)'],
diff --git a/chromecast/chromecast.gyp b/chromecast/chromecast.gyp
index 6543a00..cdae901 100644
--- a/chromecast/chromecast.gyp
+++ b/chromecast/chromecast.gyp
@@ -205,6 +205,6 @@
         'browser/devtools/remote_debugging_server.cc',
         'browser/devtools/remote_debugging_server.h',
-        'browser/geolocation/cast_access_token_store.cc',
-        'browser/geolocation/cast_access_token_store.h',
+#        'browser/geolocation/cast_access_token_store.cc',
+#        'browser/geolocation/cast_access_token_store.h',
         'browser/metrics/cast_metrics_prefs.cc',
         'browser/metrics/cast_metrics_prefs.h',
@@ -523,5 +523,5 @@
             'cast_shell_common',
             'media/media.gyp:cast_media',
-            '../ui/aura/aura.gyp:aura_test_support',
+#            '../ui/aura/aura.gyp:aura_test_support',
           ],
           'conditions': [
diff --git a/chromecast/media/cma/test/media_component_device_feeder_for_test.cc b/chromecast/media/cma/test/media_component_device_feeder_for_test.cc
index 2c25bc2..cd03b24 100644
--- a/chromecast/media/cma/test/media_component_device_feeder_for_test.cc
+++ b/chromecast/media/cma/test/media_component_device_feeder_for_test.cc
@@ -28,5 +28,5 @@
 #include "media/base/decoder_buffer.h"
 #include "media/base/video_decoder_config.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace chromecast {
diff --git a/chromecast/media/cma/test/mock_frame_consumer.cc b/chromecast/media/cma/test/mock_frame_consumer.cc
index d1fc5df..d9d176a 100644
--- a/chromecast/media/cma/test/mock_frame_consumer.cc
+++ b/chromecast/media/cma/test/mock_frame_consumer.cc
@@ -13,5 +13,5 @@
 #include "chromecast/media/cma/test/frame_generator_for_test.h"
 #include "media/base/video_decoder_config.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace chromecast {
diff --git a/chromecast/media/cma/test/mock_frame_provider.cc b/chromecast/media/cma/test/mock_frame_provider.cc
index 1715b56..2b4442f 100644
--- a/chromecast/media/cma/test/mock_frame_provider.cc
+++ b/chromecast/media/cma/test/mock_frame_provider.cc
@@ -14,5 +14,5 @@
 #include "media/base/decoder_buffer.h"
 #include "media/base/video_decoder_config.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/gfx/geometry/rect.h"
 #include "ui/gfx/geometry/size.h"
diff --git a/chromecast/media/media.gyp b/chromecast/media/media.gyp
index bc468a6..8240bc4 100644
--- a/chromecast/media/media.gyp
+++ b/chromecast/media/media.gyp
@@ -246,5 +246,5 @@
     },
     {
-      'target_name': 'cast_media_unittests',
+#      'target_name': 'cast_media_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
@@ -252,7 +252,7 @@
         '../../base/base.gyp:base',
         '../../base/base.gyp:base_i18n',
-        '../../base/base.gyp:test_support_base',
-        '../../chromecast/chromecast.gyp:cast_metrics_test_support',
-        '../../media/media.gyp:media_test_support',
+#        '../../base/base.gyp:test_support_base',
+#        '../../chromecast/chromecast.gyp:cast_metrics_test_support',
+#        '../../media/media.gyp:media_test_support',
         '../../testing/gmock.gyp:gmock',
         '../../testing/gtest.gyp:gtest',
@@ -260,13 +260,13 @@
       ],
       'sources': [
-        'cma/backend/audio_video_pipeline_device_unittest.cc',
-        'cma/base/balanced_media_task_runner_unittest.cc',
-        'cma/base/buffering_controller_unittest.cc',
-        'cma/base/buffering_frame_provider_unittest.cc',
-        'cma/filters/demuxer_stream_adapter_unittest.cc',
-        'cma/ipc/media_message_fifo_unittest.cc',
-        'cma/ipc/media_message_unittest.cc',
-        'cma/ipc_streamer/av_streamer_unittest.cc',
-        'cma/pipeline/audio_video_pipeline_impl_unittest.cc',
+#        'cma/backend/audio_video_pipeline_device_unittest.cc',
+#        'cma/base/balanced_media_task_runner_unittest.cc',
+#        'cma/base/buffering_controller_unittest.cc',
+#        'cma/base/buffering_frame_provider_unittest.cc',
+#        'cma/filters/demuxer_stream_adapter_unittest.cc',
+#        'cma/ipc/media_message_fifo_unittest.cc',
+#        'cma/ipc/media_message_unittest.cc',
+#        'cma/ipc_streamer/av_streamer_unittest.cc',
+#        'cma/pipeline/audio_video_pipeline_impl_unittest.cc',
         'cma/test/frame_generator_for_test.cc',
         'cma/test/frame_generator_for_test.h',
@@ -279,5 +279,5 @@
         'cma/test/mock_frame_provider.cc',
         'cma/test/mock_frame_provider.h',
-        'cma/test/run_all_unittests.cc',
+#        'cma/test/run_all_unittests.cc',
       ],
     },
diff --git a/chrome/chrome_browser_chromeos.gypi b/chrome/chrome_browser_chromeos.gypi
index 7bdaeff..1e1d1e8 100644
--- a/chrome/chrome_browser_chromeos.gypi
+++ b/chrome/chrome_browser_chromeos.gypi
@@ -670,6 +670,6 @@
         'browser/chromeos/login/users/multi_profile_user_controller.h',
         'browser/chromeos/login/users/multi_profile_user_controller_delegate.h',
-        'browser/chromeos/login/users/scoped_test_user_manager.cc',
-        'browser/chromeos/login/users/scoped_test_user_manager.h',
+#        'browser/chromeos/login/users/scoped_test_user_manager.cc',
+#        'browser/chromeos/login/users/scoped_test_user_manager.h',
         'browser/chromeos/login/users/scoped_user_manager_enabler.cc',
         'browser/chromeos/login/users/scoped_user_manager_enabler.h',
@@ -701,6 +701,6 @@
         'browser/chromeos/net/network_portal_detector_impl.cc',
         'browser/chromeos/net/network_portal_detector_impl.h',
-        'browser/chromeos/net/network_portal_detector_test_impl.cc',
-        'browser/chromeos/net/network_portal_detector_test_impl.h',
+#        'browser/chromeos/net/network_portal_detector_test_impl.cc',
+#        'browser/chromeos/net/network_portal_detector_test_impl.h',
         'browser/chromeos/net/network_portal_notification_controller.cc',
         'browser/chromeos/net/network_portal_notification_controller.h',
@@ -1105,5 +1105,5 @@
         '../build/linux/system.gyp:dbus',
         '../chromeos/chromeos.gyp:chromeos',
-        '../chromeos/chromeos.gyp:chromeos_test_support',
+#        '../chromeos/chromeos.gyp:chromeos_test_support',
         '../chromeos/chromeos.gyp:cryptohome_proto',
         # browser_chromeos #includes signed_secret.pb.h directly.
diff --git a/chrome/chrome_browser_extensions.gypi b/chrome/chrome_browser_extensions.gypi
index a100bd3..bbca088 100644
--- a/chrome/chrome_browser_extensions.gypi
+++ b/chrome/chrome_browser_extensions.gypi
@@ -38,8 +38,8 @@
     ],
     'chrome_browser_extensions_non_chromeos_sources': [
-      'browser/extensions/api/easy_unlock_private/easy_unlock_private_crypto_delegate_stub.cc',
-      'browser/extensions/api/feedback_private/feedback_service_nonchromeos.cc',
-      'browser/extensions/api/image_writer_private/operation_nonchromeos.cc',
-      'browser/extensions/api/image_writer_private/removable_storage_provider_linux.cc',
+#      'browser/extensions/api/easy_unlock_private/easy_unlock_private_crypto_delegate_stub.cc',
+#      'browser/extensions/api/feedback_private/feedback_service_nonchromeos.cc',
+#      'browser/extensions/api/image_writer_private/operation_nonchromeos.cc',
+#      'browser/extensions/api/image_writer_private/removable_storage_provider_linux.cc',
       'browser/extensions/api/messaging/native_message_process_host.cc',
       'browser/extensions/api/messaging/native_message_process_host.h',
@@ -128,10 +128,10 @@
       'browser/extensions/api/bookmarks/bookmarks_api.cc',
       'browser/extensions/api/bookmarks/bookmarks_api.h',
-      'browser/extensions/api/braille_display_private/braille_controller.h',
-      'browser/extensions/api/braille_display_private/braille_controller_brlapi.h',
-      'browser/extensions/api/braille_display_private/braille_display_private_api.cc',
-      'browser/extensions/api/braille_display_private/braille_display_private_api.h',
-      'browser/extensions/api/braille_display_private/stub_braille_controller.cc',
-      'browser/extensions/api/braille_display_private/stub_braille_controller.h',
+#      'browser/extensions/api/braille_display_private/braille_controller.h',
+#      'browser/extensions/api/braille_display_private/braille_controller_brlapi.h',
+#      'browser/extensions/api/braille_display_private/braille_display_private_api.cc',
+#      'browser/extensions/api/braille_display_private/braille_display_private_api.h',
+#      'browser/extensions/api/braille_display_private/stub_braille_controller.cc',
+#      'browser/extensions/api/braille_display_private/stub_braille_controller.h',
       'browser/extensions/api/browser/browser_api.cc',
       'browser/extensions/api/browser/browser_api.h',
@@ -141,6 +141,6 @@
       'browser/extensions/api/chrome_extensions_api_client.cc',
       'browser/extensions/api/chrome_extensions_api_client.h',
-      'browser/extensions/api/cloud_print_private/cloud_print_private_api.cc',
-      'browser/extensions/api/cloud_print_private/cloud_print_private_api.h',
+#      'browser/extensions/api/cloud_print_private/cloud_print_private_api.cc',
+#      'browser/extensions/api/cloud_print_private/cloud_print_private_api.h',
       'browser/extensions/api/command_line_private/command_line_private_api.cc',
       'browser/extensions/api/command_line_private/command_line_private_api.h',
@@ -191,28 +191,28 @@
       'browser/extensions/api/declarative_content/content_constants.cc',
       'browser/extensions/api/declarative_content/content_constants.h',
-      'browser/extensions/api/desktop_capture/desktop_capture_api.cc',
-      'browser/extensions/api/desktop_capture/desktop_capture_api.h',
+#      'browser/extensions/api/desktop_capture/desktop_capture_api.cc',
+#      'browser/extensions/api/desktop_capture/desktop_capture_api.h',
       'browser/extensions/api/developer_private/developer_private_api.cc',
       'browser/extensions/api/developer_private/developer_private_api.h',
       'browser/extensions/api/developer_private/entry_picker.cc',
       'browser/extensions/api/developer_private/entry_picker.h',
-      'browser/extensions/api/dial/dial_api.cc',
-      'browser/extensions/api/dial/dial_api.h',
-      'browser/extensions/api/dial/dial_api_factory.cc',
-      'browser/extensions/api/dial/dial_api_factory.h',
-      'browser/extensions/api/dial/dial_device_data.cc',
-      'browser/extensions/api/dial/dial_device_data.h',
-      'browser/extensions/api/dial/dial_registry.cc',
-      'browser/extensions/api/dial/dial_registry.h',
-      'browser/extensions/api/dial/dial_service.cc',
-      'browser/extensions/api/dial/dial_service.h',
+#      'browser/extensions/api/dial/dial_api.cc',
+#      'browser/extensions/api/dial/dial_api.h',
+#      'browser/extensions/api/dial/dial_api_factory.cc',
+#      'browser/extensions/api/dial/dial_api_factory.h',
+#      'browser/extensions/api/dial/dial_device_data.cc',
+#      'browser/extensions/api/dial/dial_device_data.h',
+#      'browser/extensions/api/dial/dial_registry.cc',
+#      'browser/extensions/api/dial/dial_registry.h',
+#      'browser/extensions/api/dial/dial_service.cc',
+#      'browser/extensions/api/dial/dial_service.h',
       'browser/extensions/api/downloads/downloads_api.cc',
       'browser/extensions/api/downloads/downloads_api.h',
       'browser/extensions/api/downloads_internal/downloads_internal_api.cc',
       'browser/extensions/api/downloads_internal/downloads_internal_api.h',
-      'browser/extensions/api/easy_unlock_private/easy_unlock_private_api.cc',
-      'browser/extensions/api/easy_unlock_private/easy_unlock_private_api.h',
-      'browser/extensions/api/easy_unlock_private/easy_unlock_private_crypto_delegate.h',
-      'browser/extensions/api/easy_unlock_private/easy_unlock_private_crypto_delegate_chromeos.cc',
+#      'browser/extensions/api/easy_unlock_private/easy_unlock_private_api.cc',
+#      'browser/extensions/api/easy_unlock_private/easy_unlock_private_api.h',
+#      'browser/extensions/api/easy_unlock_private/easy_unlock_private_crypto_delegate.h',
+#      'browser/extensions/api/easy_unlock_private/easy_unlock_private_crypto_delegate_chromeos.cc',
       'browser/extensions/api/experience_sampling_private/experience_sampling.cc',
       'browser/extensions/api/experience_sampling_private/experience_sampling.h',
@@ -223,9 +223,9 @@
       'browser/extensions/api/extension_action/extension_page_actions_api_constants.cc',
       'browser/extensions/api/extension_action/extension_page_actions_api_constants.h',
-      'browser/extensions/api/feedback_private/feedback_private_api.cc',
-      'browser/extensions/api/feedback_private/feedback_private_api.h',
-      'browser/extensions/api/feedback_private/feedback_service.cc',
-      'browser/extensions/api/feedback_private/feedback_service.h',
-      'browser/extensions/api/feedback_private/feedback_service_chromeos.cc',
+#      'browser/extensions/api/feedback_private/feedback_private_api.cc',
+#      'browser/extensions/api/feedback_private/feedback_private_api.h',
+#      'browser/extensions/api/feedback_private/feedback_service.cc',
+#      'browser/extensions/api/feedback_private/feedback_service.h',
+#      'browser/extensions/api/feedback_private/feedback_service_chromeos.cc',
       'browser/extensions/api/file_handlers/app_file_handler_util.cc',
       'browser/extensions/api/file_handlers/app_file_handler_util.h',
@@ -236,12 +236,12 @@
       'browser/extensions/api/font_settings/font_settings_api.cc',
       'browser/extensions/api/font_settings/font_settings_api.h',
-      'browser/extensions/api/gcd_private/gcd_private_api.cc',
-      'browser/extensions/api/gcd_private/gcd_private_api.h',
+#      'browser/extensions/api/gcd_private/gcd_private_api.cc',
+#      'browser/extensions/api/gcd_private/gcd_private_api.h',
       'browser/extensions/api/gcm/gcm_api.cc',
       'browser/extensions/api/gcm/gcm_api.h',
       'browser/extensions/api/history/history_api.cc',
       'browser/extensions/api/history/history_api.h',
-      'browser/extensions/api/hotword_private/hotword_private_api.cc',
-      'browser/extensions/api/hotword_private/hotword_private_api.h',
+#      'browser/extensions/api/hotword_private/hotword_private_api.cc',
+#      'browser/extensions/api/hotword_private/hotword_private_api.h',
       'browser/extensions/api/i18n/i18n_api.cc',
       'browser/extensions/api/i18n/i18n_api.h',
@@ -262,44 +262,45 @@
       'browser/extensions/api/idltest/idltest_api.cc',
       'browser/extensions/api/idltest/idltest_api.h',
-      'browser/extensions/api/image_writer_private/destroy_partitions_operation.cc',
-      'browser/extensions/api/image_writer_private/destroy_partitions_operation.h',
-      'browser/extensions/api/image_writer_private/error_messages.cc',
-      'browser/extensions/api/image_writer_private/error_messages.h',
-      'browser/extensions/api/image_writer_private/image_writer_private_api.cc',
-      'browser/extensions/api/image_writer_private/image_writer_private_api.h',
-      'browser/extensions/api/image_writer_private/image_writer_utility_client.cc',
-      'browser/extensions/api/image_writer_private/image_writer_utility_client.h',
-      'browser/extensions/api/image_writer_private/operation.cc',
-      'browser/extensions/api/image_writer_private/operation.h',
-      'browser/extensions/api/image_writer_private/operation_chromeos.cc',
-      'browser/extensions/api/image_writer_private/operation_manager.cc',
-      'browser/extensions/api/image_writer_private/operation_manager.h',
-      'browser/extensions/api/image_writer_private/removable_storage_provider.cc',
-      'browser/extensions/api/image_writer_private/removable_storage_provider.h',
-      'browser/extensions/api/image_writer_private/removable_storage_provider_chromeos.cc',
-      'browser/extensions/api/image_writer_private/removable_storage_provider_mac.cc',
-      'browser/extensions/api/image_writer_private/removable_storage_provider_win.cc',
-      'browser/extensions/api/image_writer_private/write_from_file_operation.cc',
-      'browser/extensions/api/image_writer_private/write_from_file_operation.h',
-      'browser/extensions/api/image_writer_private/write_from_url_operation.cc',
-      'browser/extensions/api/image_writer_private/write_from_url_operation.h',
-      'browser/extensions/api/inline_install_private/inline_install_private_api.cc',
-      'browser/extensions/api/inline_install_private/inline_install_private_api.h',
+#      'browser/extensions/api/image_writer_private/destroy_partitions_operation.cc',
+#      'browser/extensions/api/image_writer_private/destroy_partitions_operation.h',
+#      'browser/extensions/api/image_writer_private/error_messages.cc',
+#      'browser/extensions/api/image_writer_private/error_messages.h',
+#      'browser/extensions/api/image_writer_private/image_writer_private_api.cc',
+#      'browser/extensions/api/image_writer_private/image_writer_private_api.h',
+#      'browser/extensions/api/image_writer_private/image_writer_utility_client.cc',
+#      'browser/extensions/api/image_writer_private/image_writer_utility_client.h',
+#      'browser/extensions/api/image_writer_private/operation.cc',
+#      'browser/extensions/api/image_writer_private/operation.h',
+#      'browser/extensions/api/image_writer_private/operation_chromeos.cc',
+#      'browser/extensions/api/image_writer_private/operation_manager.cc',
+#      'browser/extensions/api/image_writer_private/operation_manager.h',
+#      'browser/extensions/api/image_writer_private/removable_storage_provider.cc',
+#      'browser/extensions/api/image_writer_private/removable_storage_provider.h',
+#      'browser/extensions/api/image_writer_private/removable_storage_provider_chromeos.cc',
+#      'browser/extensions/api/image_writer_private/removable_storage_provider_mac.cc',
+#      'browser/extensions/api/image_writer_private/removable_storage_provider_win.cc',
+#      'browser/extensions/api/image_writer_private/write_from_file_operation.cc',
+#      'browser/extensions/api/image_writer_private/write_from_file_operation.h',
+#      'browser/extensions/api/image_writer_private/write_from_url_operation.cc',
+#      'browser/extensions/api/image_writer_private/write_from_url_operation.h',
+#      'browser/extensions/api/inline_install_private/inline_install_private_api.cc',
+#      'browser/extensions/api/inline_install_private/inline_install_private_api.h',
+#TODO: launcher_page.idl  see if this is really needed!
       'browser/extensions/api/launcher_page/launcher_page_api.cc',
       'browser/extensions/api/launcher_page/launcher_page_api.h',
-      'browser/extensions/api/location/location_api.cc',
-      'browser/extensions/api/location/location_api.h',
-      'browser/extensions/api/location/location_manager.cc',
-      'browser/extensions/api/location/location_manager.h',
+#      'browser/extensions/api/location/location_api.cc',
+#      'browser/extensions/api/location/location_api.h',
+#      'browser/extensions/api/location/location_manager.cc',
+#      'browser/extensions/api/location/location_manager.h',
       'browser/extensions/api/management/chrome_management_api_delegate.cc',
       'browser/extensions/api/management/chrome_management_api_delegate.h',
-      'browser/extensions/api/mdns/dns_sd_delegate.cc',
-      'browser/extensions/api/mdns/dns_sd_delegate.h',
-      'browser/extensions/api/mdns/dns_sd_device_lister.cc',
-      'browser/extensions/api/mdns/dns_sd_device_lister.h',
-      'browser/extensions/api/mdns/dns_sd_registry.cc',
-      'browser/extensions/api/mdns/dns_sd_registry.h',
-      'browser/extensions/api/mdns/mdns_api.cc',
-      'browser/extensions/api/mdns/mdns_api.h',
+#      'browser/extensions/api/mdns/dns_sd_delegate.cc',
+#      'browser/extensions/api/mdns/dns_sd_delegate.h',
+#      'browser/extensions/api/mdns/dns_sd_device_lister.cc',
+#      'browser/extensions/api/mdns/dns_sd_device_lister.h',
+#      'browser/extensions/api/mdns/dns_sd_registry.cc',
+#      'browser/extensions/api/mdns/dns_sd_registry.h',
+#      'browser/extensions/api/mdns/mdns_api.cc',
+#      'browser/extensions/api/mdns/mdns_api.h',
       'browser/extensions/api/media_galleries/media_galleries_api.cc',
       'browser/extensions/api/media_galleries/media_galleries_api.h',
@@ -318,27 +319,29 @@
       'browser/extensions/api/messaging/native_messaging_policy_handler.cc',
       'browser/extensions/api/messaging/native_messaging_policy_handler.h',
-      'browser/extensions/api/metrics_private/metrics_private_api.cc',
-      'browser/extensions/api/metrics_private/metrics_private_api.h',
+#      'browser/extensions/api/metrics_private/metrics_private_api.cc',
+#      'browser/extensions/api/metrics_private/metrics_private_api.h',
       'browser/extensions/api/module/module.cc',
       'browser/extensions/api/module/module.h',
-      'browser/extensions/api/music_manager_private/device_id.cc',
-      'browser/extensions/api/music_manager_private/device_id.h',
-      'browser/extensions/api/music_manager_private/device_id_chromeos.cc',
-      'browser/extensions/api/music_manager_private/device_id_linux.cc',
-      'browser/extensions/api/music_manager_private/device_id_mac.cc',
-      'browser/extensions/api/music_manager_private/device_id_win.cc',
-      'browser/extensions/api/music_manager_private/music_manager_private_api.cc',
-      'browser/extensions/api/music_manager_private/music_manager_private_api.h',
+#      'browser/extensions/api/music_manager_private/device_id.cc',
+#      'browser/extensions/api/music_manager_private/device_id.h',
+#      'browser/extensions/api/music_manager_private/device_id_chromeos.cc',
+#      'browser/extensions/api/music_manager_private/device_id_linux.cc',
+#      'browser/extensions/api/music_manager_private/device_id_mac.cc',
+#      'browser/extensions/api/music_manager_private/device_id_win.cc',
+#      'browser/extensions/api/music_manager_private/music_manager_private_api.cc',
+#      'browser/extensions/api/music_manager_private/music_manager_private_api.h',
       'browser/extensions/api/networking_private/networking_private_credentials_getter_chromeos.cc',
       'browser/extensions/api/networking_private/networking_private_verify_delegate_factory_impl.cc',
       'browser/extensions/api/networking_private/networking_private_verify_delegate_factory_impl.h',
-      'browser/extensions/api/notification_provider/notification_provider_api.cc',
-      'browser/extensions/api/notification_provider/notification_provider_api.h',
-      'browser/extensions/api/notifications/notifications_api.cc',
-      'browser/extensions/api/notifications/notifications_api.h',
+#      'browser/extensions/api/notification_provider/notification_provider_api.cc',
+#      'browser/extensions/api/notification_provider/notification_provider_api.h',
+#      'browser/extensions/api/notifications/notifications_api.cc',
+#      'browser/extensions/api/notifications/notifications_api.h',
       'browser/extensions/api/omnibox/omnibox_api.cc',
       'browser/extensions/api/omnibox/omnibox_api.h',
+#TODO: get rid of:
       'browser/extensions/api/page_capture/page_capture_api.cc',
       'browser/extensions/api/page_capture/page_capture_api.h',
+      
       'browser/extensions/api/permissions/permissions_api.cc',
       'browser/extensions/api/permissions/permissions_api.h',
@@ -369,18 +372,18 @@
       'browser/extensions/api/proxy/proxy_api_helpers.cc',
       'browser/extensions/api/proxy/proxy_api_helpers.h',
-      'browser/extensions/api/push_messaging/obfuscated_gaia_id_fetcher.cc',
-      'browser/extensions/api/push_messaging/obfuscated_gaia_id_fetcher.h',
-      'browser/extensions/api/push_messaging/push_messaging_api.cc',
-      'browser/extensions/api/push_messaging/push_messaging_api.h',
-      'browser/extensions/api/push_messaging/push_messaging_invalidation_handler.cc',
-      'browser/extensions/api/push_messaging/push_messaging_invalidation_handler.h',
-      'browser/extensions/api/push_messaging/push_messaging_invalidation_handler_delegate.h',
-      'browser/extensions/api/push_messaging/push_messaging_invalidation_mapper.h',
+#      'browser/extensions/api/push_messaging/obfuscated_gaia_id_fetcher.cc',
+#      'browser/extensions/api/push_messaging/obfuscated_gaia_id_fetcher.h',
+#      'browser/extensions/api/push_messaging/push_messaging_api.cc',
+#      'browser/extensions/api/push_messaging/push_messaging_api.h',
+#      'browser/extensions/api/push_messaging/push_messaging_invalidation_handler.cc',
+#      'browser/extensions/api/push_messaging/push_messaging_invalidation_handler.h',
+#      'browser/extensions/api/push_messaging/push_messaging_invalidation_handler_delegate.h',
+#      'browser/extensions/api/push_messaging/push_messaging_invalidation_mapper.h',
       'browser/extensions/api/reading_list_private/reading_list_private_api.cc',
       'browser/extensions/api/reading_list_private/reading_list_private_api.h',
       'browser/extensions/api/runtime/chrome_runtime_api_delegate.cc',
       'browser/extensions/api/runtime/chrome_runtime_api_delegate.h',
-      'browser/extensions/api/screenlock_private/screenlock_private_api.cc',
-      'browser/extensions/api/screenlock_private/screenlock_private_api.h',
+#      'browser/extensions/api/screenlock_private/screenlock_private_api.cc',
+#      'browser/extensions/api/screenlock_private/screenlock_private_api.h',
       'browser/extensions/api/sessions/session_id.cc',
       'browser/extensions/api/sessions/session_id.h',
@@ -389,10 +392,10 @@
       'browser/extensions/api/settings_overrides/settings_overrides_api.cc',
       'browser/extensions/api/settings_overrides/settings_overrides_api.h',
-      'browser/extensions/api/signed_in_devices/id_mapping_helper.cc',
-      'browser/extensions/api/signed_in_devices/id_mapping_helper.h',
-      'browser/extensions/api/signed_in_devices/signed_in_devices_api.cc',
-      'browser/extensions/api/signed_in_devices/signed_in_devices_api.h',
-      'browser/extensions/api/signed_in_devices/signed_in_devices_manager.cc',
-      'browser/extensions/api/signed_in_devices/signed_in_devices_manager.h',
+#      'browser/extensions/api/signed_in_devices/id_mapping_helper.cc',
+#      'browser/extensions/api/signed_in_devices/id_mapping_helper.h',
+#      'browser/extensions/api/signed_in_devices/signed_in_devices_api.cc',
+#      'browser/extensions/api/signed_in_devices/signed_in_devices_api.h',
+#      'browser/extensions/api/signed_in_devices/signed_in_devices_manager.cc',
+#      'browser/extensions/api/signed_in_devices/signed_in_devices_manager.h',
       'browser/extensions/api/spellcheck/spellcheck_api.cc',
       'browser/extensions/api/spellcheck/spellcheck_api.h',
@@ -417,4 +420,5 @@
       'browser/extensions/api/sync_file_system/sync_file_system_api_helpers.cc',
       'browser/extensions/api/sync_file_system/sync_file_system_api_helpers.h',
+      #TODO: maybe not needed if it's for apps not extensions:
       'browser/extensions/api/system_indicator/system_indicator_api.h',
       'browser/extensions/api/system_indicator/system_indicator_manager.cc',
@@ -422,6 +426,8 @@
       'browser/extensions/api/system_indicator/system_indicator_manager_factory.cc',
       'browser/extensions/api/system_indicator/system_indicator_manager_factory.h',
+      #TODO: probably this too:
       'browser/extensions/api/system_private/system_private_api.cc',
       'browser/extensions/api/system_private/system_private_api.h',
+      
       'browser/extensions/api/tab_capture/tab_capture_api.cc',
       'browser/extensions/api/tab_capture/tab_capture_api.h',
@@ -454,11 +460,13 @@
       'browser/extensions/api/web_view/chrome_web_view_internal_api.cc',
       'browser/extensions/api/web_view/chrome_web_view_internal_api.h',
-      'browser/extensions/api/webrtc_audio_private/webrtc_audio_private_api.cc',
-      'browser/extensions/api/webrtc_audio_private/webrtc_audio_private_api.h',
-      'browser/extensions/api/webrtc_logging_private/webrtc_logging_private_api.h',
+#      'browser/extensions/api/webrtc_audio_private/webrtc_audio_private_api.cc',
+#      'browser/extensions/api/webrtc_audio_private/webrtc_audio_private_api.h',
+#      'browser/extensions/api/webrtc_logging_private/webrtc_logging_private_api.h',
+
       'browser/extensions/api/webstore/webstore_api.cc',
       'browser/extensions/api/webstore/webstore_api.h',
       'browser/extensions/api/webstore_private/webstore_private_api.cc',
       'browser/extensions/api/webstore_private/webstore_private_api.h',
+#TODO: is this needed? app.json
       'browser/extensions/app_data_migrator.cc',
       'browser/extensions/app_data_migrator.h',
@@ -470,15 +478,15 @@
       'browser/extensions/app_sync_data.cc',
       'browser/extensions/app_sync_data.h',
-      'browser/extensions/blacklist.cc',
-      'browser/extensions/blacklist.h',
-      'browser/extensions/blacklist_factory.cc',
-      'browser/extensions/blacklist_factory.h',
-      'browser/extensions/blacklist_state_fetcher.cc',
-      'browser/extensions/blacklist_state_fetcher.h',
+#      'browser/extensions/blacklist.cc',
+#      'browser/extensions/blacklist.h',
+#      'browser/extensions/blacklist_factory.cc',
+#      'browser/extensions/blacklist_factory.h',
+#      'browser/extensions/blacklist_state_fetcher.cc',
+#      'browser/extensions/blacklist_state_fetcher.h',
       'browser/extensions/blob_reader.cc',
       'browser/extensions/blob_reader.h',
       'browser/extensions/bookmark_app_helper.cc',
       'browser/extensions/bookmark_app_helper.h',
-      'browser/extensions/browser_action_test_util.h',
+#      'browser/extensions/browser_action_test_util.h',
       'browser/extensions/browser_context_keyed_service_factories.cc',
       'browser/extensions/browser_context_keyed_service_factories.h',
@@ -487,6 +495,8 @@
       'browser/extensions/browser_permissions_policy_delegate.cc',
       'browser/extensions/browser_permissions_policy_delegate.h',
+#TODO: this needed?
       'browser/extensions/bundle_installer.cc',
       'browser/extensions/bundle_installer.h',
+      
       'browser/extensions/chrome_app_sorting.cc',
       'browser/extensions/chrome_app_sorting.h',
@@ -609,8 +619,8 @@
       'browser/extensions/extension_special_storage_policy.cc',
       'browser/extensions/extension_special_storage_policy.h',
-      'browser/extensions/extension_storage_monitor.cc',
-      'browser/extensions/extension_storage_monitor.h',
-      'browser/extensions/extension_storage_monitor_factory.cc',
-      'browser/extensions/extension_storage_monitor_factory.h',
+#      'browser/extensions/extension_storage_monitor.cc',
+#      'browser/extensions/extension_storage_monitor.h',
+#      'browser/extensions/extension_storage_monitor_factory.cc',
+#      'browser/extensions/extension_storage_monitor_factory.h',
       'browser/extensions/extension_sync_bundle.cc',
       'browser/extensions/extension_sync_bundle.h',
@@ -701,6 +711,8 @@
       'browser/extensions/navigation_observer.cc',
       'browser/extensions/navigation_observer.h',
+      #TODO:
       'browser/extensions/ntp_overridden_bubble_controller.cc',
       'browser/extensions/ntp_overridden_bubble_controller.h',
+      
       'browser/extensions/pack_extension_job.cc',
       'browser/extensions/pack_extension_job.h',
@@ -729,8 +741,11 @@
       'browser/extensions/shared_user_script_master.cc',
       'browser/extensions/shared_user_script_master.h',
+      
+      #TODO:
       'browser/extensions/signin/gaia_auth_extension_loader.cc',
       'browser/extensions/signin/gaia_auth_extension_loader.h',
       'browser/extensions/signin/scoped_gaia_auth_extension.cc',
       'browser/extensions/signin/scoped_gaia_auth_extension.h',
+      
       'browser/extensions/standard_management_policy_provider.cc',
       'browser/extensions/standard_management_policy_provider.h',
@@ -744,6 +759,8 @@
       'browser/extensions/tab_helper.cc',
       'browser/extensions/tab_helper.h',
+      #TODO:
       'browser/extensions/theme_installed_infobar_delegate.cc',
       'browser/extensions/theme_installed_infobar_delegate.h',
+      
       'browser/extensions/token_cache/token_cache_service.cc',
       'browser/extensions/token_cache/token_cache_service.h',
@@ -789,4 +806,5 @@
       'browser/extensions/zipfile_installer.cc',
       'browser/extensions/zipfile_installer.h',
+      #TODO:
       'browser/web_applications/update_shortcut_worker_win.cc',
       'browser/web_applications/update_shortcut_worker_win.h',
@@ -863,5 +881,6 @@
         '../components/components.gyp:copresence',
         '../components/components.gyp:onc_component',
-        '../components/components.gyp:proximity_auth',
+#        '../components/components.gyp:proximity_auth',
+#TODO: what is that:
         '../components/components.gyp:update_client',
         '../components/components.gyp:url_matcher',
@@ -871,6 +890,6 @@
         '../content/content.gyp:content_common',
         '../crypto/crypto.gyp:crypto',
-        '../device/bluetooth/bluetooth.gyp:device_bluetooth',
-        '../device/hid/hid.gyp:device_hid',
+#        '../device/bluetooth/bluetooth.gyp:device_bluetooth',
+#        '../device/hid/hid.gyp:device_hid',
         '../extensions/browser/api/api_registration.gyp:extensions_api_registration',
         '../extensions/common/api/api.gyp:extensions_api',
@@ -1031,9 +1050,11 @@
         ['enable_webrtc==1', {
           'sources': [
-            'browser/extensions/api/webrtc_logging_private/webrtc_logging_private_api.cc',
+#            'browser/extensions/api/webrtc_logging_private/webrtc_logging_private_api.cc',
           ],
         }, {
           'sources': [
-            'browser/extensions/api/webrtc_logging_private/webrtc_logging_private_api_stub.cc',
+          #no effect when gn
+#            'browser/extensions/api/webrtc_logging_private.h',
+#            'browser/extensions/api/webrtc_logging_private/webrtc_logging_private_api_stub.cc',
           ],
         }],
@@ -1050,5 +1071,5 @@
         }, {  # use_brlapi==0
           'sources': [
-            'browser/extensions/api/braille_display_private/braille_controller_stub.cc',
+#            'browser/extensions/api/braille_display_private/braille_controller_stub.cc',
           ],
         }],
diff --git a/chrome/chrome_browser.gypi b/chrome/chrome_browser.gypi
index 4d43903..314f290 100644
--- a/chrome/chrome_browser.gypi
+++ b/chrome/chrome_browser.gypi
@@ -181,12 +181,12 @@
       'browser/app_mode/app_mode_utils.cc',
       'browser/app_mode/app_mode_utils.h',
-      'browser/autofill/android/personal_data_manager_android.cc',
-      'browser/autofill/android/personal_data_manager_android.h',
-      'browser/autofill/personal_data_manager_factory.cc',
-      'browser/autofill/personal_data_manager_factory.h',
-      'browser/autofill/risk_util.cc',
-      'browser/autofill/risk_util.h',
-      'browser/autofill/validation_rules_storage_factory.cc',
-      'browser/autofill/validation_rules_storage_factory.h',
+#      'browser/autofill/android/personal_data_manager_android.cc',
+#      'browser/autofill/android/personal_data_manager_android.h',
+#      'browser/autofill/personal_data_manager_factory.cc',
+#      'browser/autofill/personal_data_manager_factory.h',
+#      'browser/autofill/risk_util.cc',
+#      'browser/autofill/risk_util.h',
+#      'browser/autofill/validation_rules_storage_factory.cc',
+#      'browser/autofill/validation_rules_storage_factory.h',
       'browser/banners/app_banner_metrics.cc',
       'browser/banners/app_banner_metrics.h',
@@ -289,8 +289,8 @@
       'browser/component_updater/swiftshader_component_installer.cc',
       'browser/component_updater/swiftshader_component_installer.h',
-      'browser/crash_upload_list.cc',
-      'browser/crash_upload_list.h',
-      'browser/crash_upload_list_win.cc',
-      'browser/crash_upload_list_win.h',
+#      'browser/crash_upload_list.cc',
+#      'browser/crash_upload_list.h',
+#      'browser/crash_upload_list_win.cc',
+#      'browser/crash_upload_list_win.h',
       'browser/custom_handlers/protocol_handler_registry.cc',
       'browser/custom_handlers/protocol_handler_registry.h',
@@ -378,18 +378,18 @@
       'browser/fullscreen_mac.mm',
       'browser/fullscreen_win.cc',
-      'browser/geolocation/chrome_access_token_store.cc',
-      'browser/geolocation/chrome_access_token_store.h',
-      'browser/geolocation/geolocation_infobar_delegate.cc',
-      'browser/geolocation/geolocation_infobar_delegate.h',
-      'browser/geolocation/geolocation_permission_context.cc',
-      'browser/geolocation/geolocation_permission_context.h',
-      'browser/geolocation/geolocation_permission_context_android.cc',
-      'browser/geolocation/geolocation_permission_context_android.h',
-      'browser/geolocation/geolocation_permission_context_extensions.cc',
-      'browser/geolocation/geolocation_permission_context_extensions.h',
-      'browser/geolocation/geolocation_permission_context_factory.cc',
-      'browser/geolocation/geolocation_permission_context_factory.h',
-      'browser/geolocation/geolocation_prefs.cc',
-      'browser/geolocation/geolocation_prefs.h',
+#      'browser/geolocation/chrome_access_token_store.cc',
+#      'browser/geolocation/chrome_access_token_store.h',
+#      'browser/geolocation/geolocation_infobar_delegate.cc',
+#      'browser/geolocation/geolocation_infobar_delegate.h',
+#      'browser/geolocation/geolocation_permission_context.cc',
+#      'browser/geolocation/geolocation_permission_context.h',
+#      'browser/geolocation/geolocation_permission_context_android.cc',
+#      'browser/geolocation/geolocation_permission_context_android.h',
+#      'browser/geolocation/geolocation_permission_context_extensions.cc',
+#      'browser/geolocation/geolocation_permission_context_extensions.h',
+#      'browser/geolocation/geolocation_permission_context_factory.cc',
+#      'browser/geolocation/geolocation_permission_context_factory.h',
+#      'browser/geolocation/geolocation_prefs.cc',
+#      'browser/geolocation/geolocation_prefs.h',
       'browser/global_keyboard_shortcuts_mac.h',
       'browser/global_keyboard_shortcuts_mac.mm',
@@ -515,8 +515,8 @@
       'browser/omnibox/omnibox_log.cc',
       'browser/omnibox/omnibox_log.h',
-      'browser/performance_monitor/performance_monitor.cc',
-      'browser/performance_monitor/performance_monitor.h',
-      'browser/performance_monitor/process_metrics_history.cc',
-      'browser/performance_monitor/process_metrics_history.h',
+#      'browser/performance_monitor/performance_monitor.cc',
+#      'browser/performance_monitor/performance_monitor.h',
+#      'browser/performance_monitor/process_metrics_history.cc',
+#      'browser/performance_monitor/process_metrics_history.h',
       'browser/platform_util.h',
       'browser/platform_util_android.cc',
@@ -603,12 +603,12 @@
       'browser/resources_util.cc',
       'browser/resources_util.h',
-      'browser/safe_browsing/safe_browsing_tab_observer.cc',
-      'browser/safe_browsing/safe_browsing_tab_observer.h',
-      'browser/safe_browsing/srt_fetcher_win.cc',
-      'browser/safe_browsing/srt_fetcher_win.h',
-      'browser/safe_browsing/srt_field_trial_win.cc',
-      'browser/safe_browsing/srt_field_trial_win.h',
-      'browser/safe_browsing/srt_global_error_win.cc',
-      'browser/safe_browsing/srt_global_error_win.h',
+#      'browser/safe_browsing/safe_browsing_tab_observer.cc',
+#      'browser/safe_browsing/safe_browsing_tab_observer.h',
+#      'browser/safe_browsing/srt_fetcher_win.cc',
+#      'browser/safe_browsing/srt_fetcher_win.h',
+#      'browser/safe_browsing/srt_field_trial_win.cc',
+#      'browser/safe_browsing/srt_field_trial_win.h',
+#      'browser/safe_browsing/srt_global_error_win.cc',
+#      'browser/safe_browsing/srt_global_error_win.h',
       'browser/safe_json_parser.cc',
       'browser/safe_json_parser.h',
@@ -645,18 +645,18 @@
       'browser/site_details.cc',
       'browser/site_details.h',
-      'browser/speech/chrome_speech_recognition_manager_delegate.cc',
-      'browser/speech/chrome_speech_recognition_manager_delegate.h',
-      'browser/speech/tts_android.cc',
-      'browser/speech/tts_android.h',
-      'browser/speech/tts_chromeos.cc',
-      'browser/speech/tts_controller.h',
-      'browser/speech/tts_controller_impl.cc',
-      'browser/speech/tts_controller_impl.h',
-      'browser/speech/tts_mac.mm',
-      'browser/speech/tts_message_filter.cc',
-      'browser/speech/tts_message_filter.h',
-      'browser/speech/tts_platform.cc',
-      'browser/speech/tts_platform.h',
-      'browser/speech/tts_win.cc',
+#      'browser/speech/chrome_speech_recognition_manager_delegate.cc',
+#      'browser/speech/chrome_speech_recognition_manager_delegate.h',
+#      'browser/speech/tts_android.cc',
+#      'browser/speech/tts_android.h',
+#      'browser/speech/tts_chromeos.cc',
+#      'browser/speech/tts_controller.h',
+#      'browser/speech/tts_controller_impl.cc',
+#      'browser/speech/tts_controller_impl.h',
+#      'browser/speech/tts_mac.mm',
+#      'browser/speech/tts_message_filter.cc',
+#      'browser/speech/tts_message_filter.h',
+#      'browser/speech/tts_platform.cc',
+#      'browser/speech/tts_platform.h',
+#      'browser/speech/tts_win.cc',
       'browser/status_icons/status_icon.cc',
       'browser/status_icons/status_icon.h',
@@ -770,10 +770,10 @@
     # Used everywhere but ChromeOS.
     'chrome_browser_non_chromeos_sources': [
-      'browser/signin/signin_global_error.cc',
-      'browser/signin/signin_global_error.h',
-      'browser/signin/signin_global_error_factory.cc',
-      'browser/signin/signin_global_error_factory.h',
-      'browser/sync/sync_global_error_factory.cc',
-      'browser/sync/sync_global_error_factory.h',
+#      'browser/signin/signin_global_error.cc',
+#      'browser/signin/signin_global_error.h',
+#      'browser/signin/signin_global_error_factory.cc',
+#      'browser/signin/signin_global_error_factory.h',
+#      'browser/sync/sync_global_error_factory.cc',
+#      'browser/sync/sync_global_error_factory.h',
     ],
     # Everything but Android, iOS, and CrOS.
@@ -812,10 +812,10 @@
       'browser/fullscreen_aurax11.cc',
       'browser/icon_loader_auralinux.cc',
-      'browser/password_manager/native_backend_kwallet_x.cc',
-      'browser/password_manager/native_backend_kwallet_x.h',
+#      'browser/password_manager/native_backend_kwallet_x.cc',
+#      'browser/password_manager/native_backend_kwallet_x.h',
       'browser/platform_util_linux.cc',
       'browser/shell_integration_linux.cc',
       'browser/shell_integration_linux.h',
-      'browser/speech/tts_linux.cc',
+#      'browser/speech/tts_linux.cc',
       'browser/sxs_linux.cc',
       'browser/sxs_linux.h',
@@ -855,6 +855,6 @@
       'browser/chrome_browser_main_posix.cc',
       'browser/chrome_browser_main_posix.h',
-      'browser/chrome_device_client.cc',
-      'browser/chrome_device_client.h',
+#      'browser/chrome_device_client.cc',
+#      'browser/chrome_device_client.h',
       'browser/chrome_process_singleton.cc',
       'browser/chrome_process_singleton.h',
@@ -893,17 +893,17 @@
       'browser/external_protocol/external_protocol_observer.cc',
       'browser/external_protocol/external_protocol_observer.h',
-      'browser/feedback/feedback_profile_observer.cc',
-      'browser/feedback/feedback_profile_observer.h',
-      'browser/feedback/show_feedback_page.cc',
-      'browser/feedback/system_logs/about_system_logs_fetcher.cc',
-      'browser/feedback/system_logs/about_system_logs_fetcher.h',
-      'browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc',
-      'browser/feedback/system_logs/log_sources/chrome_internal_log_source.h',
-      'browser/feedback/system_logs/log_sources/memory_details_log_source.cc',
-      'browser/feedback/system_logs/log_sources/memory_details_log_source.h',
-      'browser/feedback/system_logs/scrubbed_system_logs_fetcher.cc',
-      'browser/feedback/system_logs/scrubbed_system_logs_fetcher.h',
-      'browser/feedback/system_logs/system_logs_fetcher_base.cc',
-      'browser/feedback/system_logs/system_logs_fetcher_base.h',
+#      'browser/feedback/feedback_profile_observer.cc',
+#      'browser/feedback/feedback_profile_observer.h',
+#      'browser/feedback/show_feedback_page.cc',
+#      'browser/feedback/system_logs/about_system_logs_fetcher.cc',
+#      'browser/feedback/system_logs/about_system_logs_fetcher.h',
+#      'browser/feedback/system_logs/log_sources/chrome_internal_log_source.cc',
+#      'browser/feedback/system_logs/log_sources/chrome_internal_log_source.h',
+#      'browser/feedback/system_logs/log_sources/memory_details_log_source.cc',
+#      'browser/feedback/system_logs/log_sources/memory_details_log_source.h',
+#      'browser/feedback/system_logs/scrubbed_system_logs_fetcher.cc',
+#      'browser/feedback/system_logs/scrubbed_system_logs_fetcher.h',
+#      'browser/feedback/system_logs/system_logs_fetcher_base.cc',
+#      'browser/feedback/system_logs/system_logs_fetcher_base.h',
       'browser/first_run/first_run.cc',
       'browser/first_run/first_run.h',
@@ -1034,6 +1034,6 @@
       'browser/net/firefox_proxy_settings.cc',
       'browser/net/firefox_proxy_settings.h',
-      'browser/pdf/pdf_extension_util.cc',
-      'browser/pdf/pdf_extension_util.h',
+#      'browser/pdf/pdf_extension_util.cc',
+#      'browser/pdf/pdf_extension_util.h',
       'browser/power/process_power_collector.cc',
       'browser/power/process_power_collector.h',
@@ -1086,10 +1086,10 @@
       'browser/services/gcm/gcm_desktop_utils.cc',
       'browser/services/gcm/gcm_desktop_utils.h',
-      'browser/signin/signin_promo.cc',
-      'browser/signin/signin_promo.h',
-      'browser/signin/signin_ui_util.cc',
-      'browser/signin/signin_ui_util.h',
-      'browser/speech/extension_api/tts_extension_api_constants.cc',  # Should be moved to extensions section?
-      'browser/speech/extension_api/tts_extension_api_constants.h',
+#      'browser/signin/signin_promo.cc',
+#      'browser/signin/signin_promo.h',
+#      'browser/signin/signin_ui_util.cc',
+#      'browser/signin/signin_ui_util.h',
+#      'browser/speech/extension_api/tts_extension_api_constants.cc',  # Should be moved to extensions section?
+#      'browser/speech/extension_api/tts_extension_api_constants.h',
       'browser/ssl/ssl_add_certificate.cc',
       'browser/ssl/ssl_add_certificate.h',
@@ -1098,15 +1098,15 @@
       'browser/status_icons/desktop_notification_balloon.cc',
       'browser/status_icons/desktop_notification_balloon.h',
-      'browser/sync/glue/extension_backed_data_type_controller.cc',
-      'browser/sync/glue/extension_backed_data_type_controller.h',
-      'browser/sync/glue/extension_data_type_controller.cc',
-      'browser/sync/glue/extension_data_type_controller.h',
-      'browser/sync/glue/extension_setting_data_type_controller.cc',
-      'browser/sync/glue/extension_setting_data_type_controller.h',
-      'browser/sync/glue/synced_tab_delegate.cc',
-      'browser/sync/profile_sync_service_base.cc',
-      'browser/sync/profile_sync_service_base.h',
-      'browser/sync/sync_ui_util.cc',
-      'browser/sync/sync_ui_util.h',
+#      'browser/sync/glue/extension_backed_data_type_controller.cc',
+#      'browser/sync/glue/extension_backed_data_type_controller.h',
+#      'browser/sync/glue/extension_data_type_controller.cc',
+#      'browser/sync/glue/extension_data_type_controller.h',
+#      'browser/sync/glue/extension_setting_data_type_controller.cc',
+#      'browser/sync/glue/extension_setting_data_type_controller.h',
+#      'browser/sync/glue/synced_tab_delegate.cc',
+#      'browser/sync/profile_sync_service_base.cc',
+#      'browser/sync/profile_sync_service_base.h',
+#      'browser/sync/sync_ui_util.cc',
+#      'browser/sync/sync_ui_util.h',
       'browser/tracing/chrome_tracing_delegate.cc',
       'browser/tracing/chrome_tracing_delegate.h',
@@ -1271,16 +1271,16 @@
     ],
     'chrome_browser_captive_portal_sources': [
-      'browser/captive_portal/captive_portal_login_detector.cc',
-      'browser/captive_portal/captive_portal_login_detector.h',
-      'browser/captive_portal/captive_portal_service.cc',
-      'browser/captive_portal/captive_portal_service.h',
-      'browser/captive_portal/captive_portal_service_factory.cc',
-      'browser/captive_portal/captive_portal_service_factory.h',
-      'browser/captive_portal/captive_portal_tab_helper.cc',
-      'browser/captive_portal/captive_portal_tab_helper.h',
-      'browser/captive_portal/captive_portal_tab_reloader.cc',
-      'browser/captive_portal/captive_portal_tab_reloader.h',
-      'browser/ssl/captive_portal_blocking_page.cc',
-      'browser/ssl/captive_portal_blocking_page.h',
+#      'browser/captive_portal/captive_portal_login_detector.cc',
+#      'browser/captive_portal/captive_portal_login_detector.h',
+#      'browser/captive_portal/captive_portal_service.cc',
+#      'browser/captive_portal/captive_portal_service.h',
+#      'browser/captive_portal/captive_portal_service_factory.cc',
+#      'browser/captive_portal/captive_portal_service_factory.h',
+#      'browser/captive_portal/captive_portal_tab_helper.cc',
+#      'browser/captive_portal/captive_portal_tab_helper.h',
+#      'browser/captive_portal/captive_portal_tab_reloader.cc',
+#      'browser/captive_portal/captive_portal_tab_reloader.h',
+#      'browser/ssl/captive_portal_blocking_page.cc',
+#      'browser/ssl/captive_portal_blocking_page.h',
     ],
     'chrome_browser_content_settings_sources': [
@@ -1317,22 +1317,22 @@
       'browser/content_settings/content_settings_internal_extension_provider.cc',
       'browser/content_settings/content_settings_internal_extension_provider.h',
-      'browser/drive/drive_api_service.cc',
-      'browser/drive/drive_api_service.h',
-      'browser/drive/drive_api_util.cc',
-      'browser/drive/drive_api_util.h',
-      'browser/drive/drive_app_registry.cc',
-      'browser/drive/drive_app_registry.h',
-      'browser/drive/drive_app_registry_observer.h',
-      'browser/drive/drive_notification_manager.cc',
-      'browser/drive/drive_notification_manager.h',
-      'browser/drive/drive_notification_manager_factory.cc',
-      'browser/drive/drive_notification_manager_factory.h',
-      'browser/drive/drive_notification_observer.h',
-      'browser/drive/drive_service_interface.cc',
-      'browser/drive/drive_service_interface.h',
-      'browser/drive/drive_uploader.cc',
-      'browser/drive/drive_uploader.h',
-      'browser/drive/event_logger.cc',
-      'browser/drive/event_logger.h',
+#      'browser/drive/drive_api_service.cc',
+#      'browser/drive/drive_api_service.h',
+#      'browser/drive/drive_api_util.cc',
+#      'browser/drive/drive_api_util.h',
+#      'browser/drive/drive_app_registry.cc',
+#      'browser/drive/drive_app_registry.h',
+#      'browser/drive/drive_app_registry_observer.h',
+#      'browser/drive/drive_notification_manager.cc',
+#      'browser/drive/drive_notification_manager.h',
+#      'browser/drive/drive_notification_manager_factory.cc',
+#      'browser/drive/drive_notification_manager_factory.h',
+#      'browser/drive/drive_notification_observer.h',
+#      'browser/drive/drive_service_interface.cc',
+#      'browser/drive/drive_service_interface.h',
+#      'browser/drive/drive_uploader.cc',
+#      'browser/drive/drive_uploader.h',
+#      'browser/drive/event_logger.cc',
+#      'browser/drive/event_logger.h',
       'browser/guest_view/app_view/chrome_app_view_guest_delegate.cc',
       'browser/guest_view/app_view/chrome_app_view_guest_delegate.h',
@@ -1351,6 +1351,6 @@
       'browser/media/cast_transport_host_filter.cc',
       'browser/media/cast_transport_host_filter.h',
-      'browser/metrics/extensions_metrics_provider.cc',
-      'browser/metrics/extensions_metrics_provider.h',
+#      'browser/metrics/extensions_metrics_provider.cc',
+#      'browser/metrics/extensions_metrics_provider.h',
       'browser/renderer_context_menu/context_menu_content_type_app_mode.cc',
       'browser/renderer_context_menu/context_menu_content_type_app_mode.h',
@@ -1361,151 +1361,151 @@
       'browser/renderer_host/chrome_extension_message_filter.cc',
       'browser/renderer_host/chrome_extension_message_filter.h',
-      'browser/search/hotword_audio_history_handler.cc',
-      'browser/search/hotword_audio_history_handler.h',
-      'browser/search/hotword_client.h',
-      'browser/search/hotword_service.cc',
-      'browser/search/hotword_service.h',
-      'browser/search/hotword_service_factory.cc',
-      'browser/search/hotword_service_factory.h',
-      'browser/signin/easy_unlock_app_manager.cc',
-      'browser/signin/easy_unlock_app_manager.h',
-      'browser/signin/easy_unlock_auth_attempt.cc',
-      'browser/signin/easy_unlock_auth_attempt.h',
-      'browser/signin/easy_unlock_metrics.cc',
-      'browser/signin/easy_unlock_metrics.h',
-      'browser/signin/easy_unlock_screenlock_state_handler.cc',
-      'browser/signin/easy_unlock_screenlock_state_handler.h',
-      'browser/signin/easy_unlock_service.cc',
-      'browser/signin/easy_unlock_service.h',
-      'browser/signin/easy_unlock_service_factory.cc',
-      'browser/signin/easy_unlock_service_factory.h',
-      'browser/signin/easy_unlock_service_regular.cc',
-      'browser/signin/easy_unlock_service_regular.h',
-      'browser/signin/easy_unlock_service_signin_chromeos.cc',
-      'browser/signin/easy_unlock_service_signin_chromeos.h',
-      'browser/speech/extension_api/tts_engine_extension_api.cc',
-      'browser/speech/extension_api/tts_engine_extension_api.h',
-      'browser/speech/extension_api/tts_engine_extension_observer.cc',
-      'browser/speech/extension_api/tts_engine_extension_observer.h',
-      'browser/speech/extension_api/tts_extension_api.cc',
-      'browser/speech/extension_api/tts_extension_api.h',
-      'browser/sync_file_system/conflict_resolution_policy.h',
-      'browser/sync_file_system/drive_backend/callback_helper.h',
-      'browser/sync_file_system/drive_backend/callback_tracker.cc',
-      'browser/sync_file_system/drive_backend/callback_tracker.h',
-      'browser/sync_file_system/drive_backend/callback_tracker_internal.cc',
-      'browser/sync_file_system/drive_backend/callback_tracker_internal.h',
-      'browser/sync_file_system/drive_backend/conflict_resolver.cc',
-      'browser/sync_file_system/drive_backend/conflict_resolver.h',
-      'browser/sync_file_system/drive_backend/drive_backend_constants.cc',
-      'browser/sync_file_system/drive_backend/drive_backend_constants.h',
-      'browser/sync_file_system/drive_backend/drive_backend_util.cc',
-      'browser/sync_file_system/drive_backend/drive_backend_util.h',
-      'browser/sync_file_system/drive_backend/drive_service_on_worker.cc',
-      'browser/sync_file_system/drive_backend/drive_service_on_worker.h',
-      'browser/sync_file_system/drive_backend/drive_service_wrapper.cc',
-      'browser/sync_file_system/drive_backend/drive_service_wrapper.h',
-      'browser/sync_file_system/drive_backend/drive_uploader_on_worker.cc',
-      'browser/sync_file_system/drive_backend/drive_uploader_on_worker.h',
-      'browser/sync_file_system/drive_backend/drive_uploader_wrapper.cc',
-      'browser/sync_file_system/drive_backend/drive_uploader_wrapper.h',
-      'browser/sync_file_system/drive_backend/folder_creator.cc',
-      'browser/sync_file_system/drive_backend/folder_creator.h',
-      'browser/sync_file_system/drive_backend/leveldb_wrapper.cc',
-      'browser/sync_file_system/drive_backend/leveldb_wrapper.h',
-      'browser/sync_file_system/drive_backend/list_changes_task.cc',
-      'browser/sync_file_system/drive_backend/list_changes_task.h',
-      'browser/sync_file_system/drive_backend/local_to_remote_syncer.cc',
-      'browser/sync_file_system/drive_backend/local_to_remote_syncer.h',
-      'browser/sync_file_system/drive_backend/metadata_database.cc',
-      'browser/sync_file_system/drive_backend/metadata_database.h',
-      'browser/sync_file_system/drive_backend/metadata_database_index.cc',
-      'browser/sync_file_system/drive_backend/metadata_database_index.h',
-      'browser/sync_file_system/drive_backend/metadata_database_index_interface.h',
-      'browser/sync_file_system/drive_backend/metadata_database_index_on_disk.cc',
-      'browser/sync_file_system/drive_backend/metadata_database_index_on_disk.h',
-      'browser/sync_file_system/drive_backend/metadata_db_migration_util.cc',
-      'browser/sync_file_system/drive_backend/metadata_db_migration_util.h',
-      'browser/sync_file_system/drive_backend/register_app_task.cc',
-      'browser/sync_file_system/drive_backend/register_app_task.h',
-      'browser/sync_file_system/drive_backend/remote_change_processor_on_worker.cc',
-      'browser/sync_file_system/drive_backend/remote_change_processor_on_worker.h',
-      'browser/sync_file_system/drive_backend/remote_change_processor_wrapper.cc',
-      'browser/sync_file_system/drive_backend/remote_change_processor_wrapper.h',
-      'browser/sync_file_system/drive_backend/remote_to_local_syncer.cc',
-      'browser/sync_file_system/drive_backend/remote_to_local_syncer.h',
-      'browser/sync_file_system/drive_backend/sync_engine.cc',
-      'browser/sync_file_system/drive_backend/sync_engine.h',
-      'browser/sync_file_system/drive_backend/sync_engine_context.cc',
-      'browser/sync_file_system/drive_backend/sync_engine_context.h',
-      'browser/sync_file_system/drive_backend/sync_engine_initializer.cc',
-      'browser/sync_file_system/drive_backend/sync_engine_initializer.h',
-      'browser/sync_file_system/drive_backend/sync_task.cc',
-      'browser/sync_file_system/drive_backend/sync_task.h',
-      'browser/sync_file_system/drive_backend/sync_task_manager.cc',
-      'browser/sync_file_system/drive_backend/sync_task_manager.h',
-      'browser/sync_file_system/drive_backend/sync_task_token.cc',
-      'browser/sync_file_system/drive_backend/sync_task_token.h',
-      'browser/sync_file_system/drive_backend/sync_worker.cc',
-      'browser/sync_file_system/drive_backend/sync_worker.h',
-      'browser/sync_file_system/drive_backend/sync_worker_interface.h',
-      'browser/sync_file_system/drive_backend/task_dependency_manager.cc',
-      'browser/sync_file_system/drive_backend/task_dependency_manager.h',
-      'browser/sync_file_system/drive_backend/tracker_id_set.cc',
-      'browser/sync_file_system/drive_backend/tracker_id_set.h',
-      'browser/sync_file_system/drive_backend/uninstall_app_task.cc',
-      'browser/sync_file_system/drive_backend/uninstall_app_task.h',
-      'browser/sync_file_system/file_change.cc',
-      'browser/sync_file_system/file_change.h',
-      'browser/sync_file_system/file_status_observer.h',
-      'browser/sync_file_system/local/local_file_change_tracker.cc',
-      'browser/sync_file_system/local/local_file_change_tracker.h',
-      'browser/sync_file_system/local/local_file_sync_context.cc',
-      'browser/sync_file_system/local/local_file_sync_context.h',
-      'browser/sync_file_system/local/local_file_sync_service.cc',
-      'browser/sync_file_system/local/local_file_sync_service.h',
-      'browser/sync_file_system/local/local_file_sync_status.cc',
-      'browser/sync_file_system/local/local_file_sync_status.h',
-      'browser/sync_file_system/local/local_origin_change_observer.h',
-      'browser/sync_file_system/local/root_delete_helper.cc',
-      'browser/sync_file_system/local/root_delete_helper.h',
-      'browser/sync_file_system/local/sync_file_system_backend.cc',
-      'browser/sync_file_system/local/sync_file_system_backend.h',
-      'browser/sync_file_system/local/syncable_file_operation_runner.cc',
-      'browser/sync_file_system/local/syncable_file_operation_runner.h',
-      'browser/sync_file_system/local/syncable_file_system_operation.cc',
-      'browser/sync_file_system/local/syncable_file_system_operation.h',
-      'browser/sync_file_system/local_change_processor.h',
-      'browser/sync_file_system/logger.cc',
-      'browser/sync_file_system/logger.h',
-      'browser/sync_file_system/remote_change_processor.h',
-      'browser/sync_file_system/remote_file_sync_service.cc',
-      'browser/sync_file_system/remote_file_sync_service.h',
-      'browser/sync_file_system/subtree_set.cc',
-      'browser/sync_file_system/subtree_set.h',
-      'browser/sync_file_system/sync_action.cc',
-      'browser/sync_file_system/sync_action.h',
-      'browser/sync_file_system/sync_callbacks.h',
-      'browser/sync_file_system/sync_direction.h',
-      'browser/sync_file_system/sync_event_observer.h',
-      'browser/sync_file_system/sync_file_metadata.cc',
-      'browser/sync_file_system/sync_file_metadata.h',
-      'browser/sync_file_system/sync_file_status.h',
-      'browser/sync_file_system/sync_file_system_service.cc',
-      'browser/sync_file_system/sync_file_system_service.h',
-      'browser/sync_file_system/sync_file_system_service_factory.cc',
-      'browser/sync_file_system/sync_file_system_service_factory.h',
-      'browser/sync_file_system/sync_file_type.h',
-      'browser/sync_file_system/sync_operation_type.cc',
-      'browser/sync_file_system/sync_operation_type.h',
-      'browser/sync_file_system/sync_process_runner.cc',
-      'browser/sync_file_system/sync_process_runner.h',
-      'browser/sync_file_system/sync_service_state.h',
-      'browser/sync_file_system/sync_status_code.cc',
-      'browser/sync_file_system/sync_status_code.h',
-      'browser/sync_file_system/syncable_file_system_util.cc',
-      'browser/sync_file_system/syncable_file_system_util.h',
-      'browser/sync_file_system/task_logger.cc',
-      'browser/sync_file_system/task_logger.h',
+#      'browser/search/hotword_audio_history_handler.cc',
+#      'browser/search/hotword_audio_history_handler.h',
+#      'browser/search/hotword_client.h',
+#      'browser/search/hotword_service.cc',
+#      'browser/search/hotword_service.h',
+#      'browser/search/hotword_service_factory.cc',
+#      'browser/search/hotword_service_factory.h',
+#      'browser/signin/easy_unlock_app_manager.cc',
+#      'browser/signin/easy_unlock_app_manager.h',
+#      'browser/signin/easy_unlock_auth_attempt.cc',
+#      'browser/signin/easy_unlock_auth_attempt.h',
+#      'browser/signin/easy_unlock_metrics.cc',
+#      'browser/signin/easy_unlock_metrics.h',
+#      'browser/signin/easy_unlock_screenlock_state_handler.cc',
+#      'browser/signin/easy_unlock_screenlock_state_handler.h',
+#      'browser/signin/easy_unlock_service.cc',
+#      'browser/signin/easy_unlock_service.h',
+#      'browser/signin/easy_unlock_service_factory.cc',
+#      'browser/signin/easy_unlock_service_factory.h',
+#      'browser/signin/easy_unlock_service_regular.cc',
+#      'browser/signin/easy_unlock_service_regular.h',
+#      'browser/signin/easy_unlock_service_signin_chromeos.cc',
+#      'browser/signin/easy_unlock_service_signin_chromeos.h',
+#      'browser/speech/extension_api/tts_engine_extension_api.cc',
+#      'browser/speech/extension_api/tts_engine_extension_api.h',
+#      'browser/speech/extension_api/tts_engine_extension_observer.cc',
+#      'browser/speech/extension_api/tts_engine_extension_observer.h',
+#      'browser/speech/extension_api/tts_extension_api.cc',
+#      'browser/speech/extension_api/tts_extension_api.h',
+#      'browser/sync_file_system/conflict_resolution_policy.h',
+#      'browser/sync_file_system/drive_backend/callback_helper.h',
+#      'browser/sync_file_system/drive_backend/callback_tracker.cc',
+#      'browser/sync_file_system/drive_backend/callback_tracker.h',
+#      'browser/sync_file_system/drive_backend/callback_tracker_internal.cc',
+#      'browser/sync_file_system/drive_backend/callback_tracker_internal.h',
+#      'browser/sync_file_system/drive_backend/conflict_resolver.cc',
+#      'browser/sync_file_system/drive_backend/conflict_resolver.h',
+#      'browser/sync_file_system/drive_backend/drive_backend_constants.cc',
+#      'browser/sync_file_system/drive_backend/drive_backend_constants.h',
+#      'browser/sync_file_system/drive_backend/drive_backend_util.cc',
+#      'browser/sync_file_system/drive_backend/drive_backend_util.h',
+#      'browser/sync_file_system/drive_backend/drive_service_on_worker.cc',
+#      'browser/sync_file_system/drive_backend/drive_service_on_worker.h',
+#      'browser/sync_file_system/drive_backend/drive_service_wrapper.cc',
+#      'browser/sync_file_system/drive_backend/drive_service_wrapper.h',
+#      'browser/sync_file_system/drive_backend/drive_uploader_on_worker.cc',
+#      'browser/sync_file_system/drive_backend/drive_uploader_on_worker.h',
+#      'browser/sync_file_system/drive_backend/drive_uploader_wrapper.cc',
+#      'browser/sync_file_system/drive_backend/drive_uploader_wrapper.h',
+#      'browser/sync_file_system/drive_backend/folder_creator.cc',
+#      'browser/sync_file_system/drive_backend/folder_creator.h',
+#      'browser/sync_file_system/drive_backend/leveldb_wrapper.cc',
+#      'browser/sync_file_system/drive_backend/leveldb_wrapper.h',
+#      'browser/sync_file_system/drive_backend/list_changes_task.cc',
+#      'browser/sync_file_system/drive_backend/list_changes_task.h',
+#      'browser/sync_file_system/drive_backend/local_to_remote_syncer.cc',
+#      'browser/sync_file_system/drive_backend/local_to_remote_syncer.h',
+#      'browser/sync_file_system/drive_backend/metadata_database.cc',
+#      'browser/sync_file_system/drive_backend/metadata_database.h',
+#      'browser/sync_file_system/drive_backend/metadata_database_index.cc',
+#      'browser/sync_file_system/drive_backend/metadata_database_index.h',
+#      'browser/sync_file_system/drive_backend/metadata_database_index_interface.h',
+#      'browser/sync_file_system/drive_backend/metadata_database_index_on_disk.cc',
+#      'browser/sync_file_system/drive_backend/metadata_database_index_on_disk.h',
+#      'browser/sync_file_system/drive_backend/metadata_db_migration_util.cc',
+#      'browser/sync_file_system/drive_backend/metadata_db_migration_util.h',
+#      'browser/sync_file_system/drive_backend/register_app_task.cc',
+#      'browser/sync_file_system/drive_backend/register_app_task.h',
+#      'browser/sync_file_system/drive_backend/remote_change_processor_on_worker.cc',
+#      'browser/sync_file_system/drive_backend/remote_change_processor_on_worker.h',
+#      'browser/sync_file_system/drive_backend/remote_change_processor_wrapper.cc',
+#      'browser/sync_file_system/drive_backend/remote_change_processor_wrapper.h',
+#      'browser/sync_file_system/drive_backend/remote_to_local_syncer.cc',
+#      'browser/sync_file_system/drive_backend/remote_to_local_syncer.h',
+#      'browser/sync_file_system/drive_backend/sync_engine.cc',
+#      'browser/sync_file_system/drive_backend/sync_engine.h',
+#      'browser/sync_file_system/drive_backend/sync_engine_context.cc',
+#      'browser/sync_file_system/drive_backend/sync_engine_context.h',
+#      'browser/sync_file_system/drive_backend/sync_engine_initializer.cc',
+#      'browser/sync_file_system/drive_backend/sync_engine_initializer.h',
+#      'browser/sync_file_system/drive_backend/sync_task.cc',
+#      'browser/sync_file_system/drive_backend/sync_task.h',
+#      'browser/sync_file_system/drive_backend/sync_task_manager.cc',
+#      'browser/sync_file_system/drive_backend/sync_task_manager.h',
+#      'browser/sync_file_system/drive_backend/sync_task_token.cc',
+#      'browser/sync_file_system/drive_backend/sync_task_token.h',
+#      'browser/sync_file_system/drive_backend/sync_worker.cc',
+#      'browser/sync_file_system/drive_backend/sync_worker.h',
+#      'browser/sync_file_system/drive_backend/sync_worker_interface.h',
+#      'browser/sync_file_system/drive_backend/task_dependency_manager.cc',
+#      'browser/sync_file_system/drive_backend/task_dependency_manager.h',
+#      'browser/sync_file_system/drive_backend/tracker_id_set.cc',
+#      'browser/sync_file_system/drive_backend/tracker_id_set.h',
+#      'browser/sync_file_system/drive_backend/uninstall_app_task.cc',
+#      'browser/sync_file_system/drive_backend/uninstall_app_task.h',
+#      'browser/sync_file_system/file_change.cc',
+#      'browser/sync_file_system/file_change.h',
+#      'browser/sync_file_system/file_status_observer.h',
+#      'browser/sync_file_system/local/local_file_change_tracker.cc',
+#      'browser/sync_file_system/local/local_file_change_tracker.h',
+#      'browser/sync_file_system/local/local_file_sync_context.cc',
+#      'browser/sync_file_system/local/local_file_sync_context.h',
+#      'browser/sync_file_system/local/local_file_sync_service.cc',
+#      'browser/sync_file_system/local/local_file_sync_service.h',
+#      'browser/sync_file_system/local/local_file_sync_status.cc',
+#      'browser/sync_file_system/local/local_file_sync_status.h',
+#      'browser/sync_file_system/local/local_origin_change_observer.h',
+#      'browser/sync_file_system/local/root_delete_helper.cc',
+#      'browser/sync_file_system/local/root_delete_helper.h',
+#      'browser/sync_file_system/local/sync_file_system_backend.cc',
+#      'browser/sync_file_system/local/sync_file_system_backend.h',
+#      'browser/sync_file_system/local/syncable_file_operation_runner.cc',
+#      'browser/sync_file_system/local/syncable_file_operation_runner.h',
+#      'browser/sync_file_system/local/syncable_file_system_operation.cc',
+#      'browser/sync_file_system/local/syncable_file_system_operation.h',
+#      'browser/sync_file_system/local_change_processor.h',
+#      'browser/sync_file_system/logger.cc',
+#      'browser/sync_file_system/logger.h',
+#      'browser/sync_file_system/remote_change_processor.h',
+#      'browser/sync_file_system/remote_file_sync_service.cc',
+#      'browser/sync_file_system/remote_file_sync_service.h',
+#      'browser/sync_file_system/subtree_set.cc',
+#      'browser/sync_file_system/subtree_set.h',
+#      'browser/sync_file_system/sync_action.cc',
+#      'browser/sync_file_system/sync_action.h',
+#      'browser/sync_file_system/sync_callbacks.h',
+#      'browser/sync_file_system/sync_direction.h',
+#      'browser/sync_file_system/sync_event_observer.h',
+#      'browser/sync_file_system/sync_file_metadata.cc',
+#      'browser/sync_file_system/sync_file_metadata.h',
+#      'browser/sync_file_system/sync_file_status.h',
+#      'browser/sync_file_system/sync_file_system_service.cc',
+#      'browser/sync_file_system/sync_file_system_service.h',
+#      'browser/sync_file_system/sync_file_system_service_factory.cc',
+#      'browser/sync_file_system/sync_file_system_service_factory.h',
+#      'browser/sync_file_system/sync_file_type.h',
+#      'browser/sync_file_system/sync_operation_type.cc',
+#      'browser/sync_file_system/sync_operation_type.h',
+#      'browser/sync_file_system/sync_process_runner.cc',
+#      'browser/sync_file_system/sync_process_runner.h',
+#      'browser/sync_file_system/sync_service_state.h',
+#      'browser/sync_file_system/sync_status_code.cc',
+#      'browser/sync_file_system/sync_status_code.h',
+#      'browser/sync_file_system/syncable_file_system_util.cc',
+#      'browser/sync_file_system/syncable_file_system_util.h',
+#      'browser/sync_file_system/task_logger.cc',
+#      'browser/sync_file_system/task_logger.h',
     ],
     'chrome_browser_favicon_sources': [
@@ -1525,27 +1525,27 @@
     ],
     'chrome_browser_gnome_keyring_sources': [
-      'browser/password_manager/native_backend_gnome_x.cc',
-      'browser/password_manager/native_backend_gnome_x.h',
+#      'browser/password_manager/native_backend_gnome_x.cc',
+#      'browser/password_manager/native_backend_gnome_x.h',
     ],
     'chrome_browser_libsecret_sources': [
-       'browser/password_manager/native_backend_libsecret.cc',
-       'browser/password_manager/native_backend_libsecret.h',
+#       'browser/password_manager/native_backend_libsecret.cc',
+#       'browser/password_manager/native_backend_libsecret.h',
     ],
     'chrome_browser_google_sources': [
-      'browser/google/chrome_google_url_tracker_client.cc',
-      'browser/google/chrome_google_url_tracker_client.h',
-      'browser/google/google_brand.cc',
-      'browser/google/google_brand.h',
-      'browser/google/google_brand_chromeos.cc',
-      'browser/google/google_brand_chromeos.h',
-      'browser/google/google_search_counter.cc',
-      'browser/google/google_search_counter.h',
-      'browser/google/google_search_counter_android.cc',
-      'browser/google/google_search_counter_android.h',
-      'browser/google/google_update_settings_posix.cc',
-      'browser/google/google_update_win.cc',
-      'browser/google/google_update_win.h',
-      'browser/google/google_url_tracker_factory.cc',
-      'browser/google/google_url_tracker_factory.h',
+#      'browser/google/chrome_google_url_tracker_client.cc',
+#      'browser/google/chrome_google_url_tracker_client.h',
+#      'browser/google/google_brand.cc',
+#      'browser/google/google_brand.h',
+#      'browser/google/google_brand_chromeos.cc',
+#      'browser/google/google_brand_chromeos.h',
+#      'browser/google/google_search_counter.cc',
+#      'browser/google/google_search_counter.h',
+#      'browser/google/google_search_counter_android.cc',
+#      'browser/google/google_search_counter_android.h',
+#      'browser/google/google_update_settings_posix.cc',
+#      'browser/google/google_update_win.cc',
+#      'browser/google/google_update_win.h',
+#      'browser/google/google_url_tracker_factory.cc',
+#      'browser/google/google_url_tracker_factory.h',
     ],
     'chrome_browser_history_sources': [
@@ -1684,69 +1684,69 @@
     ],
     'chrome_browser_mdns_sources': [
-      'browser/local_discovery/privet_traffic_detector.cc',
-      'browser/local_discovery/privet_traffic_detector.h',
-      'browser/local_discovery/service_discovery_client_mdns.cc',
-      'browser/local_discovery/service_discovery_client_mdns.h',
-      'browser/local_discovery/service_discovery_client_utility.cc',
-      'browser/local_discovery/service_discovery_client_utility.h',
-      'browser/local_discovery/service_discovery_host_client.cc',
-      'browser/local_discovery/service_discovery_host_client.h',
+#      'browser/local_discovery/privet_traffic_detector.cc',
+#      'browser/local_discovery/privet_traffic_detector.h',
+#      'browser/local_discovery/service_discovery_client_mdns.cc',
+#      'browser/local_discovery/service_discovery_client_mdns.h',
+#      'browser/local_discovery/service_discovery_client_utility.cc',
+#      'browser/local_discovery/service_discovery_client_utility.h',
+#      'browser/local_discovery/service_discovery_host_client.cc',
+#      'browser/local_discovery/service_discovery_host_client.h',
     ],
     'chrome_browser_metrics_sources': [
-      'browser/metrics/chrome_browser_main_extra_parts_metrics.cc',
-      'browser/metrics/chrome_browser_main_extra_parts_metrics.h',
-      'browser/metrics/chrome_browser_main_extra_parts_metrics_mac.mm',
-      'browser/metrics/chrome_metrics_service_accessor.cc',
-      'browser/metrics/chrome_metrics_service_accessor.h',
-      'browser/metrics/chrome_metrics_service_client.cc',
-      'browser/metrics/chrome_metrics_service_client.h',
-      'browser/metrics/chrome_stability_metrics_provider.cc',
-      'browser/metrics/chrome_stability_metrics_provider.h',
-      'browser/metrics/field_trial_synchronizer.cc',
-      'browser/metrics/field_trial_synchronizer.h',
-      'browser/metrics/first_web_contents_profiler.cc',
-      'browser/metrics/first_web_contents_profiler.h',
-      'browser/metrics/google_update_metrics_provider_win.cc',
-      'browser/metrics/google_update_metrics_provider_win.h',
-      'browser/metrics/jumplist_metrics_win.cc',
-      'browser/metrics/jumplist_metrics_win.h',
-      'browser/metrics/metrics_memory_details.cc',
-      'browser/metrics/metrics_memory_details.h',
-      'browser/metrics/metrics_reporting_state.cc',
-      'browser/metrics/metrics_reporting_state.h',
-      'browser/metrics/metrics_services_manager.cc',
-      'browser/metrics/metrics_services_manager.h',
-      'browser/metrics/network_stats_uploader.cc',
-      'browser/metrics/network_stats_uploader.h',
-      'browser/metrics/omnibox_metrics_provider.cc',
-      'browser/metrics/omnibox_metrics_provider.h',
-      'browser/metrics/perf_provider_chromeos.cc',
-      'browser/metrics/perf_provider_chromeos.h',
-      'browser/metrics/rappor/sampling.cc',
-      'browser/metrics/rappor/sampling.h',
-      'browser/metrics/signin_status_metrics_provider.cc',
-      'browser/metrics/signin_status_metrics_provider.h',
-      'browser/metrics/signin_status_metrics_provider_base.cc',
-      'browser/metrics/signin_status_metrics_provider_base.h',
-      'browser/metrics/signin_status_metrics_provider_chromeos.cc',
-      'browser/metrics/signin_status_metrics_provider_chromeos.h',
-      'browser/metrics/thread_watcher.cc',
-      'browser/metrics/thread_watcher.h',
-      'browser/metrics/thread_watcher_android.cc',
-      'browser/metrics/thread_watcher_android.h',
-      'browser/metrics/thread_watcher_report_hang.cc',
-      'browser/metrics/thread_watcher_report_hang.h',
-      'browser/metrics/time_ticks_experiment_win.cc',
-      'browser/metrics/time_ticks_experiment_win.h',
-      'browser/metrics/variations/generated_resources_map.h',
-      'browser/metrics/variations/generated_resources_map_lookup.cc',
-      'browser/metrics/variations/variations_registry_syncer_win.cc',
-      'browser/metrics/variations/variations_registry_syncer_win.h',
-      'browser/metrics/variations/variations_request_scheduler.cc',
-      'browser/metrics/variations/variations_request_scheduler.h',
-      'browser/metrics/variations/variations_seed_store.cc',
-      'browser/metrics/variations/variations_seed_store.h',
-      'browser/metrics/variations/variations_service.cc',
-      'browser/metrics/variations/variations_service.h',
+#      'browser/metrics/chrome_browser_main_extra_parts_metrics.cc',
+#      'browser/metrics/chrome_browser_main_extra_parts_metrics.h',
+#      'browser/metrics/chrome_browser_main_extra_parts_metrics_mac.mm',
+#      'browser/metrics/chrome_metrics_service_accessor.cc',
+#      'browser/metrics/chrome_metrics_service_accessor.h',
+#      'browser/metrics/chrome_metrics_service_client.cc',
+#      'browser/metrics/chrome_metrics_service_client.h',
+#      'browser/metrics/chrome_stability_metrics_provider.cc',
+#      'browser/metrics/chrome_stability_metrics_provider.h',
+#      'browser/metrics/field_trial_synchronizer.cc',
+#      'browser/metrics/field_trial_synchronizer.h',
+#      'browser/metrics/first_web_contents_profiler.cc',
+#      'browser/metrics/first_web_contents_profiler.h',
+#      'browser/metrics/google_update_metrics_provider_win.cc',
+#      'browser/metrics/google_update_metrics_provider_win.h',
+#      'browser/metrics/jumplist_metrics_win.cc',
+#      'browser/metrics/jumplist_metrics_win.h',
+#      'browser/metrics/metrics_memory_details.cc',
+#      'browser/metrics/metrics_memory_details.h',
+#      'browser/metrics/metrics_reporting_state.cc',
+#      'browser/metrics/metrics_reporting_state.h',
+#      'browser/metrics/metrics_services_manager.cc',
+#      'browser/metrics/metrics_services_manager.h',
+#      'browser/metrics/network_stats_uploader.cc',
+#      'browser/metrics/network_stats_uploader.h',
+#      'browser/metrics/omnibox_metrics_provider.cc',
+#      'browser/metrics/omnibox_metrics_provider.h',
+#      'browser/metrics/perf_provider_chromeos.cc',
+#      'browser/metrics/perf_provider_chromeos.h',
+#      'browser/metrics/rappor/sampling.cc',
+#      'browser/metrics/rappor/sampling.h',
+#      'browser/metrics/signin_status_metrics_provider.cc',
+#      'browser/metrics/signin_status_metrics_provider.h',
+#      'browser/metrics/signin_status_metrics_provider_base.cc',
+#      'browser/metrics/signin_status_metrics_provider_base.h',
+#      'browser/metrics/signin_status_metrics_provider_chromeos.cc',
+#      'browser/metrics/signin_status_metrics_provider_chromeos.h',
+#      'browser/metrics/thread_watcher.cc',
+#      'browser/metrics/thread_watcher.h',
+#      'browser/metrics/thread_watcher_android.cc',
+#      'browser/metrics/thread_watcher_android.h',
+#      'browser/metrics/thread_watcher_report_hang.cc',
+#      'browser/metrics/thread_watcher_report_hang.h',
+#      'browser/metrics/time_ticks_experiment_win.cc',
+#      'browser/metrics/time_ticks_experiment_win.h',
+#      'browser/metrics/variations/generated_resources_map.h',
+#      'browser/metrics/variations/generated_resources_map_lookup.cc',
+#      'browser/metrics/variations/variations_registry_syncer_win.cc',
+#      'browser/metrics/variations/variations_registry_syncer_win.h',
+#      'browser/metrics/variations/variations_request_scheduler.cc',
+#      'browser/metrics/variations/variations_request_scheduler.h',
+#      'browser/metrics/variations/variations_seed_store.cc',
+#      'browser/metrics/variations/variations_seed_store.h',
+#      'browser/metrics/variations/variations_service.cc',
+#      'browser/metrics/variations/variations_service.h',
     ],
     'chrome_browser_nacl_sources': [
@@ -1933,6 +1933,6 @@
       'browser/browsing_data/browsing_data_flash_lso_helper.cc',
       'browser/browsing_data/browsing_data_flash_lso_helper.h',
-      'browser/component_updater/flash_component_installer.h',
-      'browser/component_updater/pepper_flash_component_installer.cc',
+#      'browser/component_updater/flash_component_installer.h',
+#      'browser/component_updater/pepper_flash_component_installer.cc',
       'browser/metrics/plugin_metrics_provider.cc',
       'browser/metrics/plugin_metrics_provider.h',
@@ -2055,6 +2055,6 @@
       'browser/sessions/restore_on_startup_policy_handler.cc',
       'browser/sessions/restore_on_startup_policy_handler.h',
-      'browser/sync/sync_policy_handler.cc',
-      'browser/sync/sync_policy_handler.h',
+#      'browser/sync/sync_policy_handler.cc',
+#      'browser/sync/sync_policy_handler.h',
     ],
     # Policy sources used only on Android and iOS (CrOS not counted).
@@ -2067,6 +2067,6 @@
       'browser/policy/cloud/user_policy_signin_service.cc',
       'browser/policy/cloud/user_policy_signin_service.h',
-      'browser/sync/sync_global_error.cc',
-      'browser/sync/sync_global_error.h',
+#      'browser/sync/sync_global_error.cc',
+#      'browser/sync/sync_global_error.h',
       'browser/upgrade_detector_impl.cc',
       'browser/upgrade_detector_impl.h',
@@ -2801,6 +2801,6 @@
     ],
     'chrome_browser_task_manager_sources': [
-      'browser/task_manager/background_information.cc',
-      'browser/task_manager/background_information.h',
+#      'browser/task_manager/background_information.cc',
+#      'browser/task_manager/background_information.h',
       'browser/task_manager/browser_process_resource_provider.cc',
       'browser/task_manager/browser_process_resource_provider.h',
@@ -2922,5 +2922,5 @@
         '../components/components.gyp:favicon_base',
         '../components/components.gyp:favicon_core',
-        '../components/components.gyp:feedback_component',
+#        '../components/components.gyp:feedback_component',
         '../components/components.gyp:gcm_driver',
         '../components/components.gyp:google_core_browser',
@@ -3060,5 +3060,5 @@
             '../third_party/npapi/npapi.gyp:npapi',
             '../third_party/smhasher/smhasher.gyp:cityhash',
-            '../third_party/webrtc/modules/modules.gyp:desktop_capture',
+#            '../third_party/webrtc/modules/modules.gyp:desktop_capture',
             '../ui/base/ime/ui_base_ime.gyp:ui_base_ime',
             '../ui/gl/gl.gyp:gl',
@@ -3308,4 +3308,7 @@
             'USE_LIBSECRET',
           ],
+          'cflags': [
+            '<!@(pkg-config --cflags libsecret-1)',
+          ],
         }],
         ['use_aura==1', {
@@ -3411,5 +3414,5 @@
           ],
           'dependencies!': [
-            '../components/components.gyp:feedback_component',
+#            '../components/components.gyp:feedback_component',
             '../components/components.gyp:storage_monitor',
             '../components/components.gyp:web_modal',
diff --git a/chrome/chrome_browser_ui.gypi b/chrome/chrome_browser_ui.gypi
index f981c90..b2577f3 100644
--- a/chrome/chrome_browser_ui.gypi
+++ b/chrome/chrome_browser_ui.gypi
@@ -413,5 +413,5 @@
       'browser/ui/cocoa/extensions/browser_action_button.h',
       'browser/ui/cocoa/extensions/browser_action_button.mm',
-      'browser/ui/cocoa/extensions/browser_action_test_util_mac.mm',
+#      'browser/ui/cocoa/extensions/browser_action_test_util_mac.mm',
       'browser/ui/cocoa/extensions/browser_actions_container_view.h',
       'browser/ui/cocoa/extensions/browser_actions_container_view.mm',
@@ -822,6 +822,6 @@
       'browser/ui/profile_error_dialog.h',
       'browser/ui/protocol_dialog_delegate.h',
-      'browser/ui/proximity_auth/proximity_auth_error_bubble.cc',
-      'browser/ui/proximity_auth/proximity_auth_error_bubble.h',
+#      'browser/ui/proximity_auth/proximity_auth_error_bubble.cc',
+#      'browser/ui/proximity_auth/proximity_auth_error_bubble.h',
       'browser/ui/screen_capture_notification_ui.h',
       'browser/ui/search/instant_controller.cc',
@@ -1073,6 +1073,6 @@
       'browser/ui/webui/memory_internals/memory_internals_ui.cc',
       'browser/ui/webui/memory_internals/memory_internals_ui.h',
-      'browser/ui/webui/metrics_handler.cc',
-      'browser/ui/webui/metrics_handler.h',
+#      'browser/ui/webui/metrics_handler.cc',
+#      'browser/ui/webui/metrics_handler.h',
       'browser/ui/webui/mojo_web_ui_controller.cc',
       'browser/ui/webui/mojo_web_ui_controller.h',
@@ -1086,6 +1086,6 @@
       'browser/ui/webui/omnibox/omnibox_ui_handler.cc',
       'browser/ui/webui/omnibox/omnibox_ui_handler.h',
-      'browser/ui/webui/password_manager_internals/password_manager_internals_ui.cc',
-      'browser/ui/webui/password_manager_internals/password_manager_internals_ui.h',
+#      'browser/ui/webui/password_manager_internals/password_manager_internals_ui.cc',
+#      'browser/ui/webui/password_manager_internals/password_manager_internals_ui.h',
       'browser/ui/webui/predictors/predictors_handler.cc',
       'browser/ui/webui/predictors/predictors_handler.h',
@@ -1094,6 +1094,6 @@
       'browser/ui/webui/profiler_ui.cc',
       'browser/ui/webui/profiler_ui.h',
-      'browser/ui/webui/signin_internals_ui.cc',
-      'browser/ui/webui/signin_internals_ui.h',
+#      'browser/ui/webui/signin_internals_ui.cc',
+#      'browser/ui/webui/signin_internals_ui.h',
       'browser/ui/webui/sync_internals_message_handler.cc',
       'browser/ui/webui/sync_internals_message_handler.h',
@@ -1323,12 +1323,4 @@
     ],
     # Files used only on desktop systems (not iOS, Android, ChromeOS).
-    'chrome_browser_ui_desktop_sources': [
-      'browser/ui/webui/signin/inline_login_handler_impl.cc',
-      'browser/ui/webui/signin/inline_login_handler_impl.h',
-      'browser/ui/webui/signin/user_manager_screen_handler.cc',
-      'browser/ui/webui/signin/user_manager_screen_handler.h',
-      'browser/ui/webui/signin/user_manager_ui.cc',
-      'browser/ui/webui/signin/user_manager_ui.h',
-    ],
     # Desktop Linux. Assume aura/ash/views/x11.
     'chrome_browser_ui_desktop_linux_sources': [
@@ -1709,5 +1701,5 @@
       'browser/ui/webui/options/advanced_options_utils_mac.mm',
       'browser/ui/webui/options/advanced_options_utils_win.cc',
-      'browser/ui/webui/options/autofill_options_handler.cc',
+#      'browser/ui/webui/options/autofill_options_handler.cc',
       'browser/ui/webui/options/autofill_options_handler.h',
       'browser/ui/webui/options/automatic_settings_reset_handler.cc',
@@ -1819,16 +1811,16 @@
       'browser/ui/webui/quota_internals/quota_internals_ui.cc',
       'browser/ui/webui/quota_internals/quota_internals_ui.h',
-      'browser/ui/webui/signin/inline_login_handler.cc',
-      'browser/ui/webui/signin/inline_login_handler.h',
-      'browser/ui/webui/signin/inline_login_ui.cc',
-      'browser/ui/webui/signin/inline_login_ui.h',
-      'browser/ui/webui/signin/login_ui_service.cc',
-      'browser/ui/webui/signin/login_ui_service.h',
-      'browser/ui/webui/signin/login_ui_service_factory.cc',
-      'browser/ui/webui/signin/login_ui_service_factory.h',
-      'browser/ui/webui/signin/profile_signin_confirmation_dialog.cc',
-      'browser/ui/webui/signin/profile_signin_confirmation_dialog.h',
-      'browser/ui/webui/signin/profile_signin_confirmation_ui.cc',
-      'browser/ui/webui/signin/profile_signin_confirmation_ui.h',
+#      'browser/ui/webui/signin/inline_login_handler.cc',
+#      'browser/ui/webui/signin/inline_login_handler.h',
+#      'browser/ui/webui/signin/inline_login_ui.cc',
+#      'browser/ui/webui/signin/inline_login_ui.h',
+#      'browser/ui/webui/signin/login_ui_service.cc',
+#      'browser/ui/webui/signin/login_ui_service.h',
+#      'browser/ui/webui/signin/login_ui_service_factory.cc',
+#      'browser/ui/webui/signin/login_ui_service_factory.h',
+#      'browser/ui/webui/signin/profile_signin_confirmation_dialog.cc',
+#      'browser/ui/webui/signin/profile_signin_confirmation_dialog.h',
+#      'browser/ui/webui/signin/profile_signin_confirmation_ui.cc',
+#      'browser/ui/webui/signin/profile_signin_confirmation_ui.h',
       'browser/ui/webui/suggestions_internals/suggestions_internals_ui.cc',
       'browser/ui/webui/suggestions_internals/suggestions_internals_ui.h',
@@ -2086,6 +2078,6 @@
       'browser/ui/views/frame/immersive_mode_controller_stub.cc',
       'browser/ui/views/frame/immersive_mode_controller_stub.h',
-      'browser/ui/views/frame/minimize_button_metrics_win.cc',
-      'browser/ui/views/frame/minimize_button_metrics_win.h',
+#      'browser/ui/views/frame/minimize_button_metrics_win.cc',
+#      'browser/ui/views/frame/minimize_button_metrics_win.h',
       'browser/ui/views/frame/native_browser_frame.h',
       'browser/ui/views/frame/native_browser_frame_factory.cc',
@@ -2278,5 +2270,5 @@
       'browser/ui/views/toolbar/back_button.cc',
       'browser/ui/views/toolbar/back_button.h',
-      'browser/ui/views/toolbar/browser_action_test_util_views.cc',
+#      'browser/ui/views/toolbar/browser_action_test_util_views.cc',
       'browser/ui/views/toolbar/browser_actions_container.cc',
       'browser/ui/views/toolbar/browser_actions_container.h',
@@ -2432,10 +2424,10 @@
       'browser/ui/app_list/search/omnibox_result.cc',
       'browser/ui/app_list/search/omnibox_result.h',
-      'browser/ui/app_list/search/people/people_provider.cc',
-      'browser/ui/app_list/search/people/people_provider.h',
-      'browser/ui/app_list/search/people/people_result.cc',
-      'browser/ui/app_list/search/people/people_result.h',
-      'browser/ui/app_list/search/people/person.cc',
-      'browser/ui/app_list/search/people/person.h',
+#      'browser/ui/app_list/search/people/people_provider.cc',
+#      'browser/ui/app_list/search/people/people_provider.h',
+#      'browser/ui/app_list/search/people/people_result.cc',
+#      'browser/ui/app_list/search/people/people_result.h',
+#      'browser/ui/app_list/search/people/person.cc',
+#      'browser/ui/app_list/search/people/person.h',
       'browser/ui/app_list/search/search_controller_factory.cc',
       'browser/ui/app_list/search/search_controller_factory.h',
@@ -2885,5 +2877,5 @@
                     'browser/ui/cocoa/browser_window_factory_cocoa.mm',
                     'browser/ui/cocoa/constrained_web_dialog_delegate_mac.mm',
-                    'browser/ui/cocoa/extensions/browser_action_test_util_mac.mm',
+#                    'browser/ui/cocoa/extensions/browser_action_test_util_mac.mm',
                     'browser/ui/cocoa/extensions/extension_action_platform_delegate_cocoa.mm',
                     'browser/ui/cocoa/extensions/extension_install_dialog_controller.mm',
@@ -2924,7 +2916,4 @@
           ],
         }],
-        ['OS=="win" or OS=="mac" or desktop_linux==1', {
-          'sources': [ '<@(chrome_browser_ui_desktop_sources)' ],
-        }],
         ['use_aura==1', {
           'sources': [ '<@(chrome_browser_ui_aura_sources)'] ,
diff --git a/chrome/chrome_common.gypi b/chrome/chrome_common.gypi
index f6d26aa..575d5e9 100644
--- a/chrome/chrome_common.gypi
+++ b/chrome/chrome_common.gypi
@@ -29,14 +29,14 @@
       'common/chrome_version_info_posix.cc',
       'common/chrome_version_info_win.cc',
-      'common/cloud_print/cloud_print_cdd_conversion.cc',
-      'common/cloud_print/cloud_print_cdd_conversion.h',
-      'common/cloud_print/cloud_print_class_mac.h',
-      'common/cloud_print/cloud_print_class_mac.mm',
-      'common/cloud_print/cloud_print_constants.cc',
-      'common/cloud_print/cloud_print_constants.h',
-      'common/cloud_print/cloud_print_helpers.cc',
-      'common/cloud_print/cloud_print_helpers.h',
-      'common/cloud_print/cloud_print_proxy_info.cc',
-      'common/cloud_print/cloud_print_proxy_info.h',
+#      'common/cloud_print/cloud_print_cdd_conversion.cc',
+#      'common/cloud_print/cloud_print_cdd_conversion.h',
+#      'common/cloud_print/cloud_print_class_mac.h',
+#      'common/cloud_print/cloud_print_class_mac.mm',
+#      'common/cloud_print/cloud_print_constants.cc',
+#      'common/cloud_print/cloud_print_constants.h',
+#      'common/cloud_print/cloud_print_helpers.cc',
+#      'common/cloud_print/cloud_print_helpers.h',
+#      'common/cloud_print/cloud_print_proxy_info.cc',
+#      'common/cloud_print/cloud_print_proxy_info.h',
       'common/common_message_generator.cc',
       'common/common_message_generator.h',
@@ -76,7 +76,7 @@
       'common/mac/objc_zombie.h',
       'common/mac/objc_zombie.mm',
-      'common/media/webrtc_logging_message_data.cc',
-      'common/media/webrtc_logging_message_data.h',
-      'common/media/webrtc_logging_messages.h',
+#      'common/media/webrtc_logging_message_data.cc',
+#      'common/media/webrtc_logging_message_data.h',
+#      'common/media/webrtc_logging_messages.h',
       'common/media_galleries/metadata_types.h',
       'common/multi_process_lock.h',
@@ -109,7 +109,7 @@
       'common/terminate_on_heap_corruption_experiment_win.cc',
       'common/terminate_on_heap_corruption_experiment_win.h',
-      'common/tts_messages.h',
-      'common/tts_utterance_request.cc',
-      'common/tts_utterance_request.h',
+#      'common/tts_messages.h',
+#      'common/tts_utterance_request.cc',
+#      'common/tts_utterance_request.h',
       'common/url_constants.cc',
       'common/url_constants.h',
@@ -134,12 +134,12 @@
       'common/extensions/api/input_ime/input_components_handler.cc',
       'common/extensions/api/input_ime/input_components_handler.h',
-      'common/extensions/api/notifications/notification_style.cc',
-      'common/extensions/api/notifications/notification_style.h',
+#      'common/extensions/api/notifications/notification_style.cc',
+#      'common/extensions/api/notifications/notification_style.h',
       'common/extensions/api/omnibox/omnibox_handler.cc',
       'common/extensions/api/omnibox/omnibox_handler.h',
-      'common/extensions/api/plugins/plugins_handler.cc',
-      'common/extensions/api/plugins/plugins_handler.h',
-      'common/extensions/api/speech/tts_engine_manifest_handler.cc',
-      'common/extensions/api/speech/tts_engine_manifest_handler.h',
+#      'common/extensions/api/plugins/plugins_handler.cc',
+#      'common/extensions/api/plugins/plugins_handler.h',
+#      'common/extensions/api/speech/tts_engine_manifest_handler.cc',
+#      'common/extensions/api/speech/tts_engine_manifest_handler.h',
       'common/extensions/api/spellcheck/spellcheck_handler.cc',
       'common/extensions/api/spellcheck/spellcheck_handler.h',
@@ -166,6 +166,6 @@
       'common/extensions/extension_constants.cc',
       'common/extensions/extension_constants.h',
-      'common/extensions/extension_metrics.cc',
-      'common/extensions/extension_metrics.h',
+#      'common/extensions/extension_metrics.cc',
+#      'common/extensions/extension_metrics.h',
       'common/extensions/extension_process_policy.cc',
       'common/extensions/extension_process_policy.h',
@@ -174,6 +174,6 @@
       'common/extensions/features/feature_channel.cc',
       'common/extensions/features/feature_channel.h',
-      'common/extensions/image_writer/image_writer_util_mac.cc',
-      'common/extensions/image_writer/image_writer_util_mac.h',
+#      'common/extensions/image_writer/image_writer_util_mac.cc',
+#      'common/extensions/image_writer/image_writer_util_mac.h',
       'common/extensions/manifest_handlers/app_icon_color_info.cc',
       'common/extensions/manifest_handlers/app_icon_color_info.h',
@@ -219,6 +219,6 @@
       'common/importer/firefox_importer_utils_mac.mm',
       'common/importer/firefox_importer_utils_win.cc',
-      'common/importer/ie_importer_test_registry_overrider_win.cc',
-      'common/importer/ie_importer_test_registry_overrider_win.h',
+#      'common/importer/ie_importer_test_registry_overrider_win.cc',
+#      'common/importer/ie_importer_test_registry_overrider_win.h',
       'common/importer/ie_importer_utils_win.cc',
       'common/importer/ie_importer_utils_win.h',
@@ -673,5 +673,5 @@
       # protocol buffer.
 
-      # GN version: //chrome/common/safe_browsing:proto
+#      # GN version: //chrome/common/safe_browsing:proto
       'target_name': 'safe_browsing_proto',
       'type': 'static_library',
diff --git a/chrome/chrome_exe.gypi b/chrome/chrome_exe.gypi
index 6c3c0ba..98854d0 100644
--- a/chrome/chrome_exe.gypi
+++ b/chrome/chrome_exe.gypi
@@ -137,6 +137,6 @@
                   'variables': {
                     'name': 'Chromium',
-                    'filename': 'chromium-browser',
-                    'confdir': 'chromium',
+                    'filename': 'chromium-dev',
+                    'confdir': 'chromium-dev',
                   },
                 }],
diff --git a/chrome/chrome.gyp b/chrome/chrome.gyp
index c3dd7d7..8339649 100644
--- a/chrome/chrome.gyp
+++ b/chrome/chrome.gyp
@@ -400,10 +400,10 @@
           'type': 'none',
           'dependencies': [
-            '../base/base.gyp:base_unittests',
-            '../content/content_shell_and_tests.gyp:content_browsertests',
+#            '../base/base.gyp:base_unittests',
+#            '../content/content_shell_and_tests.gyp:content_browsertests',
             '../content/content_shell_and_tests.gyp:content_shell',
-            '../content/content_shell_and_tests.gyp:content_unittests',
-            '../net/net.gyp:net_unittests',
-            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
+#            '../content/content_shell_and_tests.gyp:content_unittests',
+#            '../net/net.gyp:net_unittests',
+#            '../ui/base/ui_base_tests.gyp:ui_base_unittests',
           ],
         },
diff --git a/chrome/chrome_installer.gypi b/chrome/chrome_installer.gypi
index b3e1a17..d889166 100644
--- a/chrome/chrome_installer.gypi
+++ b/chrome/chrome_installer.gypi
@@ -58,5 +58,5 @@
             'installer_util',
             '../base/base.gyp:base',
-            '../base/base.gyp:test_support_base',
+#            '../base/base.gyp:test_support_base',
             '../testing/gtest.gyp:gtest',
           ],
@@ -70,11 +70,11 @@
             'installer/gcapi/gcapi_test.cc',
             'installer/gcapi/gcapi_test.rc',
-            'installer/gcapi/gcapi_test_registry_overrider.cc',
-            'installer/gcapi/gcapi_test_registry_overrider.h',
+#            'installer/gcapi/gcapi_test_registry_overrider.cc',
+#            'installer/gcapi/gcapi_test_registry_overrider.h',
             'installer/gcapi/resource.h',
           ],
         },
         {
-          'target_name': 'installer_util_unittests',
+#          'target_name': 'installer_util_unittests',
           'type': 'executable',
           'dependencies': [
@@ -84,5 +84,5 @@
             '../base/base.gyp:base',
             '../base/base.gyp:base_i18n',
-            '../base/base.gyp:test_support_base',
+#            '../base/base.gyp:test_support_base',
             '../chrome/chrome.gyp:chrome_version_resources',
             '../content/content.gyp:content_common',
@@ -95,48 +95,48 @@
           'sources': [
             '<(SHARED_INTERMEDIATE_DIR)/chrome_version/other_version.rc',
-            'installer/setup/compat_checks_unittest.cc',
+#            'installer/setup/compat_checks_unittest.cc',
             'installer/setup/setup_constants.cc',
-            'installer/util/advanced_firewall_manager_win_unittest.cc',
-            'installer/util/callback_work_item_unittest.cc',
-            'installer/util/channel_info_unittest.cc',
-            'installer/util/copy_tree_work_item_unittest.cc',
-            'installer/util/create_dir_work_item_unittest.cc',
-            'installer/util/create_reg_key_work_item_unittest.cc',
-            'installer/util/delete_after_reboot_helper_unittest.cc',
-            'installer/util/delete_reg_key_work_item_unittest.cc',
-            'installer/util/delete_reg_value_work_item_unittest.cc',
-            'installer/util/delete_tree_work_item_unittest.cc',
-            'installer/util/duplicate_tree_detector_unittest.cc',
+#            'installer/util/advanced_firewall_manager_win_unittest.cc',
+#            'installer/util/callback_work_item_unittest.cc',
+#            'installer/util/channel_info_unittest.cc',
+#            'installer/util/copy_tree_work_item_unittest.cc',
+#            'installer/util/create_dir_work_item_unittest.cc',
+#            'installer/util/create_reg_key_work_item_unittest.cc',
+#            'installer/util/delete_after_reboot_helper_unittest.cc',
+#            'installer/util/delete_reg_key_work_item_unittest.cc',
+#            'installer/util/delete_reg_value_work_item_unittest.cc',
+#            'installer/util/delete_tree_work_item_unittest.cc',
+#            'installer/util/duplicate_tree_detector_unittest.cc',
             'installer/util/fake_installation_state.h',
             'installer/util/fake_product_state.h',
-            'installer/util/google_update_settings_unittest.cc',
-            'installer/util/install_util_unittest.cc',
+#            'installer/util/google_update_settings_unittest.cc',
+#            'installer/util/install_util_unittest.cc',
             'installer/util/installation_validation_helper.cc',
             'installer/util/installation_validation_helper.h',
-            'installer/util/installation_validator_unittest.cc',
-            'installer/util/installer_state_unittest.cc',
-            'installer/util/installer_util_test_common.cc',
-            'installer/util/installer_util_test_common.h',
-            'installer/util/installer_util_unittests.rc',
-            'installer/util/installer_util_unittests_resource.h',
-            'installer/util/language_selector_unittest.cc',
-            'installer/util/legacy_firewall_manager_win_unittest.cc',
-            'installer/util/logging_installer_unittest.cc',
-            'installer/util/lzma_util_unittest.cc',
-            'installer/util/master_preferences_unittest.cc',
-            'installer/util/move_tree_work_item_unittest.cc',
-            'installer/util/product_state_unittest.cc',
-            'installer/util/product_unittest.cc',
-            'installer/util/product_unittest.h',
-            'installer/util/registry_key_backup_unittest.cc',
-            'installer/util/registry_test_data.cc',
-            'installer/util/registry_test_data.h',
-            'installer/util/run_all_unittests.cc',
-            'installer/util/self_cleaning_temp_dir_unittest.cc',
-            'installer/util/set_reg_value_work_item_unittest.cc',
-            'installer/util/shell_util_unittest.cc',
-            'installer/util/uninstall_metrics_unittest.cc',
-            'installer/util/wmi_unittest.cc',
-            'installer/util/work_item_list_unittest.cc',
+#            'installer/util/installation_validator_unittest.cc',
+#            'installer/util/installer_state_unittest.cc',
+#            'installer/util/installer_util_test_common.cc',
+#            'installer/util/installer_util_test_common.h',
+#            'installer/util/installer_util_unittests.rc',
+#            'installer/util/installer_util_unittests_resource.h',
+#            'installer/util/language_selector_unittest.cc',
+#            'installer/util/legacy_firewall_manager_win_unittest.cc',
+#            'installer/util/logging_installer_unittest.cc',
+#            'installer/util/lzma_util_unittest.cc',
+#            'installer/util/master_preferences_unittest.cc',
+#            'installer/util/move_tree_work_item_unittest.cc',
+#            'installer/util/product_state_unittest.cc',
+#            'installer/util/product_unittest.cc',
+#            'installer/util/product_unittest.h',
+#            'installer/util/registry_key_backup_unittest.cc',
+#            'installer/util/registry_test_data.cc',
+#            'installer/util/registry_test_data.h',
+#            'installer/util/run_all_unittests.cc',
+#            'installer/util/self_cleaning_temp_dir_unittest.cc',
+#            'installer/util/set_reg_value_work_item_unittest.cc',
+#            'installer/util/shell_util_unittest.cc',
+#            'installer/util/uninstall_metrics_unittest.cc',
+#            'installer/util/wmi_unittest.cc',
+#            'installer/util/work_item_list_unittest.cc',
           ],
           'msvs_settings': {
@@ -329,5 +329,5 @@
         },
         {
-          'target_name': 'setup_unittests',
+#          'target_name': 'setup_unittests',
           'type': 'executable',
           'dependencies': [
@@ -336,5 +336,5 @@
             '../base/base.gyp:base',
             '../base/base.gyp:base_i18n',
-            '../base/base.gyp:test_support_base',
+#            '../base/base.gyp:test_support_base',
             '../testing/gmock.gyp:gmock',
             '../testing/gtest.gyp:gtest',
@@ -346,5 +346,5 @@
           # TODO(robertshield): Move the items marked with "Move to lib"
           # below into a separate lib and then link both setup.exe and
-          # setup_unittests.exe against that.
+#          # setup_unittests.exe against that.
           'sources': [
             'installer/mini_installer/chrome.release',  # Move to lib
@@ -364,19 +364,19 @@
             'installer/setup/archive_patch_helper.cc',  # Move to lib
             'installer/setup/archive_patch_helper.h',   # Move to lib
-            'installer/setup/archive_patch_helper_unittest.cc',
+#            'installer/setup/archive_patch_helper_unittest.cc',
             'installer/setup/install.cc',               # Move to lib
             'installer/setup/install.h',                # Move to lib
-            'installer/setup/install_unittest.cc',
+#            'installer/setup/install_unittest.cc',
             'installer/setup/install_worker.cc',        # Move to lib
             'installer/setup/install_worker.h',         # Move to lib
-            'installer/setup/install_worker_unittest.cc',
-            'installer/setup/run_all_unittests.cc',
+#            'installer/setup/install_worker_unittest.cc',
+#            'installer/setup/run_all_unittests.cc',
             'installer/setup/setup_constants.cc',       # Move to lib
             'installer/setup/setup_constants.h',        # Move to lib
-            'installer/setup/setup_unittests.rc',
-            'installer/setup/setup_unittests_resource.h',
+#            'installer/setup/setup_unittests.rc',
+#            'installer/setup/setup_unittests_resource.h',
             'installer/setup/setup_util.cc',
-            'installer/setup/setup_util_unittest.cc',
-            'installer/setup/setup_util_unittest.h',
+#            'installer/setup/setup_util_unittest.cc',
+#            'installer/setup/setup_util_unittest.h',
           ],
           # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
diff --git a/chrome/chrome_nibs.gyp b/chrome/chrome_nibs.gyp
index a5c9bc2..ab98dbf 100644
--- a/chrome/chrome_nibs.gyp
+++ b/chrome/chrome_nibs.gyp
@@ -70,6 +70,6 @@
         'browser/ui/cocoa/bookmarks/bookmark_bar_toolbar_view.h',
         'browser/ui/cocoa/bookmarks/bookmark_bar_toolbar_view.mm',
-        'browser/ui/cocoa/bookmarks/bookmark_bar_unittest_helper.h',
-        'browser/ui/cocoa/bookmarks/bookmark_bar_unittest_helper.mm',
+#        'browser/ui/cocoa/bookmarks/bookmark_bar_unittest_helper.h',
+#        'browser/ui/cocoa/bookmarks/bookmark_bar_unittest_helper.mm',
         'browser/ui/cocoa/bookmarks/bookmark_bar_view.h',
         'browser/ui/cocoa/bookmarks/bookmark_bar_view.mm',
diff --git a/chrome/chrome_renderer.gypi b/chrome/chrome_renderer.gypi
index 5f8945a..db3bfc1 100644
--- a/chrome/chrome_renderer.gypi
+++ b/chrome/chrome_renderer.gypi
@@ -157,5 +157,5 @@
       'renderer/resources/extensions/gcm_custom_bindings.js',
       'renderer/resources/extensions/identity_custom_bindings.js',
-      'renderer/resources/extensions/image_writer_private_custom_bindings.js',
+#      'renderer/resources/extensions/image_writer_private_custom_bindings.js',
       'renderer/resources/extensions/input.ime_custom_bindings.js',
       'renderer/resources/extensions/log_private_custom_bindings.js',
diff --git a/chrome/chrome_repack_locales.gni b/chrome/chrome_repack_locales.gni
index ea9b432..06d7a5a 100644
--- a/chrome/chrome_repack_locales.gni
+++ b/chrome/chrome_repack_locales.gni
@@ -69,5 +69,5 @@ template("_repack_one_locale") {
     if (enable_extensions) {
       sources += [
-        "${root_gen_dir}/device/bluetooth/device_bluetooth_strings_${locale}.pak",
+#        "${root_gen_dir}/device/bluetooth/device_bluetooth_strings_${locale}.pak",
 
         # TODO(jamescook): When Android stops building extensions code move
@@ -76,5 +76,5 @@ template("_repack_one_locale") {
       ]
       deps += [
-        "//device/bluetooth:strings",
+#        "//device/bluetooth:strings",
         "//extensions/strings",
       ]
diff --git a/chrome/chrome_resources.gyp b/chrome/chrome_resources.gyp
index 49018c5..dd01a04 100644
--- a/chrome/chrome_resources.gyp
+++ b/chrome/chrome_resources.gyp
@@ -562,12 +562,12 @@
     },
     {
-      # GN version: //chrome/browser/resources:options_test_resources
-      'target_name': 'options_test_resources',
+#      # GN version: //chrome/browser/resources:options_test_resources
+#      'target_name': 'options_test_resources',
       'type': 'none',
       'actions': [
         {
-          'action_name': 'generate_options_test_resources',
+#          'action_name': 'generate_options_test_resources',
           'variables': {
-            'grit_grd_file': 'browser/resources/options_test_resources.grd',
+#            'grit_grd_file': 'browser/resources/options_test_resources.grd',
           },
           'includes': [ '../build/grit_action.gypi' ],
@@ -581,5 +581,5 @@
       'type': 'none',
       'dependencies': [
-        'options_test_resources',
+#        'options_test_resources',
       ],
       'actions': [
@@ -588,5 +588,5 @@
           'variables': {
             'pak_inputs': [
-              '<(SHARED_INTERMEDIATE_DIR)/chrome/options_test_resources.pak',
+#              '<(SHARED_INTERMEDIATE_DIR)/chrome/options_test_resources.pak',
             ],
             'pak_output': '<(PRODUCT_DIR)/browser_tests.pak',
diff --git a/chrome/chrome_shell.gypi b/chrome/chrome_shell.gypi
index ea368a0..e9de0a5 100644
--- a/chrome/chrome_shell.gypi
+++ b/chrome/chrome_shell.gypi
@@ -73,5 +73,5 @@
       'dependencies': [
         'libchromeshell_base',
-        '../sync/sync.gyp:test_support_sync_fake_server_android',
+#        '../sync/sync.gyp:test_support_sync_fake_server_android',
       ],
     },
@@ -144,5 +144,5 @@
         'libchromesyncshell',
         '../media/media.gyp:media_java',
-        '../sync/sync.gyp:sync_java_test_support',
+#        '../sync/sync.gyp:sync_java_test_support',
       ],
       'variables': {
diff --git a/chrome/chrome_utility.gypi b/chrome/chrome_utility.gypi
index 9c13e8e..8ce2a8c 100644
--- a/chrome/chrome_utility.gypi
+++ b/chrome/chrome_utility.gypi
@@ -27,14 +27,14 @@
       'utility/extensions/extensions_handler.cc',
       'utility/extensions/extensions_handler.h',
-      'utility/image_writer/disk_unmounter_mac.cc',
-      'utility/image_writer/disk_unmounter_mac.h',
-      'utility/image_writer/error_messages.cc',
-      'utility/image_writer/error_messages.h',
-      'utility/image_writer/image_writer.cc',
-      'utility/image_writer/image_writer.h',
-      'utility/image_writer/image_writer_handler.cc',
-      'utility/image_writer/image_writer_handler.h',
-      'utility/image_writer/image_writer_mac.cc',
-      'utility/image_writer/image_writer_win.cc',
+#      'utility/image_writer/disk_unmounter_mac.cc',
+#      'utility/image_writer/disk_unmounter_mac.h',
+#      'utility/image_writer/error_messages.cc',
+#      'utility/image_writer/error_messages.h',
+#      'utility/image_writer/image_writer.cc',
+#      'utility/image_writer/image_writer.h',
+#      'utility/image_writer/image_writer_handler.cc',
+#      'utility/image_writer/image_writer_handler.h',
+#      'utility/image_writer/image_writer_mac.cc',
+#      'utility/image_writer/image_writer_win.cc',
     ],
     'chrome_utility_importer_sources': [
@@ -176,5 +176,5 @@
             }, {  # OS!="win" and OS!="mac"
               'sources': [
-                'utility/image_writer/image_writer_stub.cc',
+#                'utility/image_writer/image_writer_stub.cc',
               ]
             }],
diff --git a/chrome/common/BUILD.gn b/chrome/common/BUILD.gn
index eaf9767..c568037 100644
--- a/chrome/common/BUILD.gn
+++ b/chrome/common/BUILD.gn
@@ -53,11 +53,11 @@ static_library("common") {
     "//chrome/common:constants",
     "//chrome/common/net",
-    "//chrome/common/safe_browsing:proto",
+#    "//chrome/common/safe_browsing:proto",
     "//chrome/installer/util",
-    "//components/cloud_devices/common",
+#    "//components/cloud_devices/common",
     "//components/content_settings/core/common",
     "//components/favicon_base",
     "//components/json_schema",
-    "//components/metrics",
+#    "//components/metrics",
     "//components/policy:policy_component_common",
     "//components/translate/core/common",
@@ -85,9 +85,9 @@ static_library("common") {
     deps += [
       "//components/visitedlink/common",
-      "//components/autofill/content/common",
-      "//components/autofill/core/common",
-      "//components/password_manager/content/common",
-      "//components/password_manager/core/common",
-      "//components/signin/core/common",
+#      "//components/autofill/content/common",
+#      "//components/autofill/core/common",
+#      "//components/password_manager/content/common",
+#      "//components/password_manager/core/common",
+#      "//components/signin/core/common",
       "//components/translate/content/common",
       "//ipc",
@@ -102,5 +102,5 @@ static_library("common") {
                            "//chrome")
     deps += [
-      "//device/usb",
+#      "//device/usb",
       "//chrome/common/extensions/api",
       "//extensions/common",
@@ -146,5 +146,5 @@ static_library("common") {
     deps += [
       "//components/printing/common:printing_common",
-      "//printing",
+#      "//printing",
     ]
     if (enable_print_preview) {
@@ -218,20 +218,20 @@ static_library("common") {
     ]
   }
-  if (!enable_webrtc) {
-    sources -= [ "media/webrtc_logging_messages.h" ]
-  }
+#  if (!enable_webrtc) {
+#    sources -= [ "media/webrtc_logging_messages.h" ]
+#  }
   if (enable_configuration_policy) {
     deps += [ "//components/policy" ]
   }
 
-  if (safe_browsing_mode == 1) {
-    defines += [ "FULL_SAFE_BROWSING" ]
-    sources += rebase_path(gypi_values.chrome_common_full_safe_browsing_sources,
-                           ".",
-                           "//chrome")
-  }
-  if (safe_browsing_mode == 2) {
-    defines += [ "MOBILE_SAFE_BROWSING" ]
-  }
+#  if (safe_browsing_mode == 1) {
+#    defines += [ "FULL_SAFE_BROWSING" ]
+#    sources += rebase_path(gypi_values.chrome_common_full_safe_browsing_sources,
+#                           ".",
+#                           "//chrome")
+#  }
+#  if (safe_browsing_mode == 2) {
+#    defines += [ "MOBILE_SAFE_BROWSING" ]
+#  }
 }
 
@@ -292,5 +292,5 @@ static_library("constants") {
 source_set("test_support") {
   testonly = true
-  visibility = [ "//chrome/test:test_support" ]
+#  visibility = [ "//chrome/test:test_support" ]
 
   sources = []
@@ -299,13 +299,13 @@ source_set("test_support") {
     ":common",
     "//base",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 
   if (is_win || is_mac) {
     sources += [
-      "media_galleries/picasa_test_util.cc",
-      "media_galleries/picasa_test_util.h",
-      "media_galleries/pmp_test_util.cc",
-      "media_galleries/pmp_test_util.h",
+#      "media_galleries/picasa_test_util.cc",
+#      "media_galleries/picasa_test_util.h",
+#      "media_galleries/pmp_test_util.cc",
+#      "media_galleries/pmp_test_util.h",
     ]
   }
@@ -315,6 +315,6 @@ source_set("test_support") {
   if (enable_extensions) {
     sources += [
-      "extensions/extension_test_util.cc",
-      "extensions/extension_test_util.h",
+#      "extensions/extension_test_util.cc",
+#      "extensions/extension_test_util.h",
     ]
   }
diff --git a/chrome/common/chrome_paths_linux.cc b/chrome/common/chrome_paths_linux.cc
index 91348fe..0148423 100644
--- a/chrome/common/chrome_paths_linux.cc
+++ b/chrome/common/chrome_paths_linux.cc
@@ -68,5 +68,5 @@ bool GetDefaultUserDataDirectory(base::FilePath* result) {
   *result = config_dir.Append("google-chrome");
 #else
-  *result = config_dir.Append("chromium");
+  *result = config_dir.Append("chromium-dev");
 #endif
   return true;
diff --git a/chrome/common/chrome_switches.h b/chrome/common/chrome_switches.h
index 40b408f..5a3e8fc 100644
--- a/chrome/common/chrome_switches.h
+++ b/chrome/common/chrome_switches.h
@@ -11,8 +11,8 @@
 
 #include "base/base_switches.h"
-#include "components/autofill/core/common/autofill_switches.h"
+//#include "components/autofill/core/common/autofill_switches.h"
 #include "components/data_reduction_proxy/core/common/data_reduction_proxy_switches.h"
-#include "components/password_manager/core/common/password_manager_switches.h"
-#include "components/signin/core/common/signin_switches.h"
+//#include "components/password_manager/core/common/password_manager_switches.h"
+//#include "components/signin/core/common/signin_switches.h"
 #include "content/public/common/content_switches.h"
 
diff --git a/chrome/common/chrome_utility_messages.h b/chrome/common/chrome_utility_messages.h
index 1e50ef1..e1e0235 100644
--- a/chrome/common/chrome_utility_messages.h
+++ b/chrome/common/chrome_utility_messages.h
@@ -16,5 +16,7 @@
 #include "base/tuple.h"
 #include "base/values.h"
-#include "chrome/common/safe_browsing/zip_analyzer.h"
+#if defined(FULL_SAFE_BROWSING)
+  #include "chrome/common/safe_browsing/zip_analyzer.h"
+#endif
 #include "ipc/ipc_message_macros.h"
 #include "ipc/ipc_platform_file.h"
diff --git a/chrome/common/extensions/api/BUILD.gn b/chrome/common/extensions/api/BUILD.gn
index 2b538f9..fbe75a6 100644
--- a/chrome/common/extensions/api/BUILD.gn
+++ b/chrome/common/extensions/api/BUILD.gn
@@ -30,8 +30,8 @@ json_schema_api("api_registration") {
     # TODO(brettw) this should be made unnecessary if possible.
     ":api",
-    "//components/copresence/proto",
-    "//components/metrics/proto",
+#    "//components/copresence/proto",
+#    "//components/metrics/proto",
     "//skia",
-    "//sync",
+#    "//sync",
     "//ui/accessibility:ax_gen",
   ]
diff --git a/chrome/common/extensions/api/preferences_private.json b/chrome/common/extensions/api/preferences_private.json
index 02a1541..6f8e20c 100644
--- a/chrome/common/extensions/api/preferences_private.json
+++ b/chrome/common/extensions/api/preferences_private.json
@@ -8,10 +8,10 @@
     "description": "none",
     "properties": {
-      "easyUnlockProximityRequired": {
-        "nocompile": true,
-        "$ref": "types.private.ChromeDirectSetting",
-        "value": ["easy_unlock.proximity_required", {"type":"boolean"}],
-        "description": "If true, a remote Easy Unlock device can only unlock the local device if it is in very close proximity (roughly, within a foot). This preference's value is a boolean, defaulting to <code>false</code>."
-      },
+//      "easyUnlockProximityRequired": {
+//        "nocompile": true,
+//        "$ref": "types.private.ChromeDirectSetting",
+//        "value": ["easy_unlock.proximity_required", {"type":"boolean"}],
+//        "description": "If true, a remote Easy Unlock device can only unlock the local device if it is in very close proximity (roughly, within a foot). This preference's value is a boolean, defaulting to <code>false</code>."
+//      },
       "googleGeolocationAccessEnabled": {
         "nocompile": true,
diff --git a/chrome/common/extensions_api_resources.grd b/chrome/common/extensions_api_resources.grd
index ec1ac98..3ddf555 100644
--- a/chrome/common/extensions_api_resources.grd
+++ b/chrome/common/extensions_api_resources.grd
@@ -20,6 +20,7 @@
       <include name="IDR_EXTENSION_API_JSON_PROCESSES" file="extensions\api\processes.json" type="BINDATA" />
       <include name="IDR_EXTENSION_API_JSON_PROXY" file="extensions\api\proxy.json" type="BINDATA" />
-      <include name="IDR_EXTENSION_API_JSON_TTS" file="extensions\api\tts.json" type="BINDATA" />
+<!--      <include name="IDR_EXTENSION_API_JSON_TTS" file="extensions\api\tts.json" type="BINDATA" />
       <include name="IDR_EXTENSION_API_JSON_TTSENGINE" file="extensions\api\tts_engine.json" type="BINDATA" />
+      -->
       <include name="IDR_EXTENSION_API_JSON_TYPES" file="extensions\api\types.json" type="BINDATA" />
       <include name="IDR_EXTENSION_API_JSON_TYPES_PRIVATE" file="extensions\api\types_private.json" type="BINDATA" />
diff --git a/chrome/common/extensions/api/schemas.gypi b/chrome/common/extensions/api/schemas.gypi
index 46e2711..ba60bc5 100644
--- a/chrome/common/extensions/api/schemas.gypi
+++ b/chrome/common/extensions/api/schemas.gypi
@@ -18,8 +18,9 @@
       'bookmark_manager_private.json',
       'bookmarks.json',
-      'braille_display_private.idl',
+#TODO: remove:
+#      'braille_display_private.idl',
       'browser.idl',
       'chrome_web_view_internal.json',
-      'cloud_print_private.json',
+#      'cloud_print_private.json',
       'command_line_private.json',
       'content_settings.json',
@@ -29,49 +30,52 @@
       'copresence.idl',
       'copresence_private.idl',
+#TODO; what is this:
       'cryptotoken_private.idl',
       'data_reduction_proxy.json',
       'debugger.json',
-      'desktop_capture.json',
+#      'desktop_capture.json',
       'developer_private.idl',
-      'dial.idl',
+#      'dial.idl',
       'downloads.idl',
       'downloads_internal.idl',
-      'easy_unlock_private.idl',
+#      'easy_unlock_private.idl',
       'echo_private.json',
       'enterprise_platform_keys_private.json',
       'experience_sampling_private.json',
-      'feedback_private.idl',
+#      'feedback_private.idl',
       'file_manager_private.idl',
       'file_manager_private_internal.idl',
       'file_system.idl',
       'font_settings.json',
-      'gcd_private.idl',
+#      'gcd_private.idl',
       'gcm.json',
-      'hangouts_private.idl',
+#      'hangouts_private.idl',
       'history.json',
-      'hotword_private.idl',
+#      'hotword_private.idl',
       'i18n.json',
       'identity.idl',
       'identity_private.idl',
-      'image_writer_private.idl',
-      'inline_install_private.idl',
+#      'image_writer_private.idl',
+#      'inline_install_private.idl',
       'input_ime.json',
       'launcher_page.idl',
-      'location.idl',
+#      'location.idl',
       'manifest_types.json',
-      'mdns.idl',
+#      'mdns.idl',
       'media_galleries.idl',
-      'metrics_private.json',
-      'notification_provider.idl',
-      'notifications.idl',
+#TODO: is this needed:
+#      'metrics_private.json',
+#      'notification_provider.idl',
+#      'notifications.idl',
+
       'omnibox.json',
       'page_capture.json',
       'permissions.json',
       'preferences_private.json',
-      'push_messaging.idl',
+#      'push_messaging.idl',
       'reading_list_private.json',
-      'screenlock_private.idl',
+#      'screenlock_private.idl',
       'sessions.json',
-      'signed_in_devices.idl',
+#      'signed_in_devices.idl',
       'streams_private.idl',
       'sync_file_system.idl',
@@ -86,6 +90,6 @@
       # WebRTC-specific bits and as such does not belong in
       # the enable_webrtc==0 section below.
-      'webrtc_audio_private.idl',
-      'webrtc_logging_private.idl',
+#      'webrtc_audio_private.idl',
+#      'webrtc_logging_private.idl',
       'webstore_private.json',
       'windows.json',
@@ -100,5 +104,5 @@
       'idltest.idl',
       'media_player_private.json',
-      'music_manager_private.idl',
+#      'music_manager_private.idl',
       'principals_private.idl',
       'top_sites.json',
@@ -120,4 +124,5 @@
     ],
 
+#TODO: check if this is removed:
     'webrtc_schema_files': [
       'cast_streaming_receiver_session.idl',
diff --git a/chrome/common/mac/mock_launchd.cc b/chrome/common/mac/mock_launchd.cc
index e463733..68b31d2 100644
--- a/chrome/common/mac/mock_launchd.cc
+++ b/chrome/common/mac/mock_launchd.cc
@@ -21,5 +21,5 @@
 #include "chrome/common/mac/launchd.h"
 #include "chrome/common/service_process_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 static sockaddr_un* throwaway_sockaddr_un;
diff --git a/chrome/common/pref_names.h b/chrome/common/pref_names.h
index 8a4c013..fedf681 100644
--- a/chrome/common/pref_names.h
+++ b/chrome/common/pref_names.h
@@ -12,11 +12,11 @@
 #include "build/build_config.h"
 
-#include "components/autofill/core/common/autofill_pref_names.h"
+//#include "components/autofill/core/common/autofill_pref_names.h"
 #include "components/bookmarks/common/bookmark_pref_names.h"
 #include "components/content_settings/core/common/pref_names.h"
 #include "components/data_reduction_proxy/core/common/data_reduction_proxy_pref_names.h"
-#include "components/metrics/metrics_pref_names.h"
-#include "components/password_manager/core/common/password_manager_pref_names.h"
-#include "components/signin/core/common/signin_pref_names.h"
+//#include "components/metrics/metrics_pref_names.h"
+//#include "components/password_manager/core/common/password_manager_pref_names.h"
+//#include "components/signin/core/common/signin_pref_names.h"
 
 namespace prefs {
diff --git a/chrome/common/terminate_on_heap_corruption_experiment_win.cc b/chrome/common/terminate_on_heap_corruption_experiment_win.cc
index a4dde26..e7043e6 100644
--- a/chrome/common/terminate_on_heap_corruption_experiment_win.cc
+++ b/chrome/common/terminate_on_heap_corruption_experiment_win.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/win/registry.h"
 #include "chrome/common/chrome_constants.h"
diff --git a/chrome/common/variations/experiment_labels.h b/chrome/common/variations/experiment_labels.h
index 7686d6f..7fbd9a0 100644
--- a/chrome/common/variations/experiment_labels.h
+++ b/chrome/common/variations/experiment_labels.h
@@ -6,5 +6,5 @@
 #define CHROME_COMMON_VARIATIONS_EXPERIMENT_LABELS_H_
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string16.h"
 
diff --git a/chrome_elf/blacklist.gypi b/chrome_elf/blacklist.gypi
index 50d1a26..47d4185 100644
--- a/chrome_elf/blacklist.gypi
+++ b/chrome_elf/blacklist.gypi
@@ -28,9 +28,9 @@
     },
     {
-      'target_name': 'blacklist_test_main_dll',
+#      'target_name': 'blacklist_test_main_dll',
       'type': 'shared_library',
       'sources': [
-        'blacklist/test/blacklist_test_main_dll.cc',
-        'blacklist/test/blacklist_test_main_dll.def',
+#        'blacklist/test/blacklist_test_main_dll.cc',
+#        'blacklist/test/blacklist_test_main_dll.def',
       ],
       'dependencies': [
@@ -40,24 +40,24 @@
     },
     {
-      'target_name': 'blacklist_test_dll_1',
+#      'target_name': 'blacklist_test_dll_1',
       'type': 'loadable_module',
       'sources': [
-        'blacklist/test/blacklist_test_dll_1.cc',
-        'blacklist/test/blacklist_test_dll_1.def',
+#        'blacklist/test/blacklist_test_dll_1.cc',
+#        'blacklist/test/blacklist_test_dll_1.def',
       ],
     },
     {
-      'target_name': 'blacklist_test_dll_2',
+#      'target_name': 'blacklist_test_dll_2',
       'type': 'loadable_module',
       'sources': [
-        'blacklist/test/blacklist_test_dll_2.cc',
-        'blacklist/test/blacklist_test_dll_2.def',
+#        'blacklist/test/blacklist_test_dll_2.cc',
+#        'blacklist/test/blacklist_test_dll_2.def',
       ],
     },
     {
-      'target_name': 'blacklist_test_dll_3',
+#      'target_name': 'blacklist_test_dll_3',
       'type': 'loadable_module',
       'sources': [
-        'blacklist/test/blacklist_test_dll_3.cc',
+#        'blacklist/test/blacklist_test_dll_3.cc',
       ],
       'msvs_settings': {
diff --git a/chrome_elf/blacklist/test/blacklist_test.cc b/chrome_elf/blacklist/test/blacklist_test.cc
index ef715d3..d2ffa6d 100644
--- a/chrome_elf/blacklist/test/blacklist_test.cc
+++ b/chrome_elf/blacklist/test/blacklist_test.cc
@@ -17,5 +17,5 @@
 #include "chrome_elf/blacklist/test/blacklist_test_main_dll.h"
 #include "chrome_elf/chrome_elf_constants.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "version.h"  // NOLINT
 
diff --git a/chrome_elf/BUILD.gn b/chrome_elf/BUILD.gn
index 06cb937..db5137b 100644
--- a/chrome_elf/BUILD.gn
+++ b/chrome_elf/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//chrome/version.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 process_version("chrome_elf_resources") {
@@ -140,27 +140,27 @@ static_library("blacklist") {
 
 test("chrome_elf_unittests") {
-  output_name = "chrome_elf_unittests"
+#  output_name = "chrome_elf_unittests"
   sources = [
     "blacklist/test/blacklist_test.cc",
-    "chrome_elf_util_unittest.cc",
-    "create_file/chrome_create_file_unittest.cc",
-    "elf_imports_unittest.cc",
-    "ntdll_cache_unittest.cc",
+#    "chrome_elf_util_unittest.cc",
+#    "create_file/chrome_create_file_unittest.cc",
+#    "elf_imports_unittest.cc",
+#    "ntdll_cache_unittest.cc",
   ]
   include_dirs = [ "$target_gen_dir" ]
   deps = [
     ":blacklist",
-    ":blacklist_test_main_dll",
+#    ":blacklist_test_main_dll",
     ":lib",
     "//base",
-    "//base/test:run_all_unittests",
-    "//base/test:test_support",
+#    "//base/test:run_all_unittests",
+#    "//base/test:test_support",
     "//sandbox",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
   data_deps = [
-    ":blacklist_test_dll_1",
-    ":blacklist_test_dll_2",
-    ":blacklist_test_dll_3",
+#    ":blacklist_test_dll_1",
+#    ":blacklist_test_dll_2",
+#    ":blacklist_test_dll_3",
     ":chrome_elf",
     "//chrome",
@@ -170,5 +170,5 @@ test("chrome_elf_unittests") {
 shared_library("blacklist_test_main_dll") {
   sources = [
-    "blacklist/test/blacklist_test_main_dll.cc",
+#    "blacklist/test/blacklist_test_main_dll.cc",
   ]
   deps = [
@@ -183,5 +183,5 @@ shared_library("blacklist_test_main_dll") {
 shared_library("blacklist_test_dll_1") {
   sources = [
-    "blacklist/test/blacklist_test_dll_1.cc",
+#    "blacklist/test/blacklist_test_dll_1.cc",
   ]
   ldflags = [ "/DEF:" + rebase_path("blacklist/test/blacklist_test_dll_1.def",
@@ -191,5 +191,5 @@ shared_library("blacklist_test_dll_1") {
 shared_library("blacklist_test_dll_2") {
   sources = [
-    "blacklist/test/blacklist_test_dll_2.cc",
+#    "blacklist/test/blacklist_test_dll_2.cc",
   ]
   ldflags = [ "/DEF:" + rebase_path("blacklist/test/blacklist_test_dll_2.def",
@@ -199,5 +199,5 @@ shared_library("blacklist_test_dll_2") {
 shared_library("blacklist_test_dll_3") {
   sources = [
-    "blacklist/test/blacklist_test_dll_3.cc",
+#    "blacklist/test/blacklist_test_dll_3.cc",
   ]
 }
diff --git a/chrome_elf/chrome_elf.gyp b/chrome_elf/chrome_elf.gyp
index 0b612a8..7163d8b 100644
--- a/chrome_elf/chrome_elf.gyp
+++ b/chrome_elf/chrome_elf.gyp
@@ -76,13 +76,13 @@
     },
     {
-      'target_name': 'chrome_elf_unittests_exe',
-      'product_name': 'chrome_elf_unittests',
+#      'target_name': 'chrome_elf_unittests_exe',
+#      'product_name': 'chrome_elf_unittests',
       'type': 'executable',
       'sources': [
         'blacklist/test/blacklist_test.cc',
-        'chrome_elf_util_unittest.cc',
-        'create_file/chrome_create_file_unittest.cc',
-        'elf_imports_unittest.cc',
-        'ntdll_cache_unittest.cc',
+#        'chrome_elf_util_unittest.cc',
+#        'create_file/chrome_create_file_unittest.cc',
+#        'elf_imports_unittest.cc',
+#        'ntdll_cache_unittest.cc',
       ],
       'include_dirs': [
@@ -93,25 +93,25 @@
         'chrome_elf_lib',
         '../base/base.gyp:base',
-        '../base/base.gyp:run_all_unittests',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:run_all_unittests',
+#        '../base/base.gyp:test_support_base',
         '../sandbox/sandbox.gyp:sandbox',
         '../testing/gtest.gyp:gtest',
         'blacklist',
-        'blacklist_test_dll_1',
-        'blacklist_test_dll_2',
-        'blacklist_test_dll_3',
-        'blacklist_test_main_dll',
+#        'blacklist_test_dll_1',
+#        'blacklist_test_dll_2',
+#        'blacklist_test_dll_3',
+#        'blacklist_test_main_dll',
       ],
     },
     {
       # A dummy target to ensure that chrome_elf.dll and chrome.exe gets built
-      # when building chrome_elf_unittests.exe without introducing an
+#      # when building chrome_elf_unittests.exe without introducing an
       # explicit runtime dependency.
-      'target_name': 'chrome_elf_unittests',
+#      'target_name': 'chrome_elf_unittests',
       'type': 'none',
       'dependencies': [
         '../chrome/chrome.gyp:chrome',
         'chrome_elf',
-        'chrome_elf_unittests_exe',
+#        'chrome_elf_unittests_exe',
       ],
     },
diff --git a/chrome/installer/gcapi/gcapi_last_run_test.cc b/chrome/installer/gcapi/gcapi_last_run_test.cc
index 85e7eed..e17aa68 100644
--- a/chrome/installer/gcapi/gcapi_last_run_test.cc
+++ b/chrome/installer/gcapi/gcapi_last_run_test.cc
@@ -16,5 +16,5 @@
 #include "chrome/installer/gcapi/gcapi.h"
 #include "chrome/installer/util/google_update_constants.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::Time;
diff --git a/chrome/installer/gcapi/gcapi_omaha_experiment_test.cc b/chrome/installer/gcapi/gcapi_omaha_experiment_test.cc
index 43b7bca..d377f32 100644
--- a/chrome/installer/gcapi/gcapi_omaha_experiment_test.cc
+++ b/chrome/installer/gcapi/gcapi_omaha_experiment_test.cc
@@ -11,5 +11,5 @@
 #include "chrome/installer/util/google_update_experiment_util.h"
 #include "chrome/installer/util/google_update_settings.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::ASCIIToUTF16;
diff --git a/chrome/installer/gcapi/gcapi_reactivation_test.cc b/chrome/installer/gcapi/gcapi_reactivation_test.cc
index d36e03f..0bdeb88 100644
--- a/chrome/installer/gcapi/gcapi_reactivation_test.cc
+++ b/chrome/installer/gcapi/gcapi_reactivation_test.cc
@@ -15,5 +15,5 @@
 #include "chrome/installer/util/google_update_constants.h"
 #include "chrome/installer/util/google_update_experiment_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::Time;
diff --git a/chrome/installer/gcapi/gcapi_test.cc b/chrome/installer/gcapi/gcapi_test.cc
index be649f0..00d955f 100644
--- a/chrome/installer/gcapi/gcapi_test.cc
+++ b/chrome/installer/gcapi/gcapi_test.cc
@@ -8,5 +8,5 @@
 #include "base/command_line.h"
 #include "chrome/installer/gcapi/gcapi.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 void call_statically() {
diff --git a/chrome/installer/mini_installer/configuration_test.cc b/chrome/installer/mini_installer/configuration_test.cc
index 22333a1..96b3d38 100644
--- a/chrome/installer/mini_installer/configuration_test.cc
+++ b/chrome/installer/mini_installer/configuration_test.cc
@@ -6,5 +6,5 @@
 #include "chrome/installer/mini_installer/appid.h"
 #include "chrome/installer/mini_installer/configuration.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using mini_installer::Configuration;
diff --git a/chrome/installer/mini_installer/decompress_test.cc b/chrome/installer/mini_installer/decompress_test.cc
index 1592bb4..00ed778 100644
--- a/chrome/installer/mini_installer/decompress_test.cc
+++ b/chrome/installer/mini_installer/decompress_test.cc
@@ -9,5 +9,5 @@
 #include "base/path_service.h"
 #include "chrome/installer/mini_installer/decompress.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 TEST(MiniDecompressTest, ExpandTest) {
diff --git a/chrome/installer/mini_installer/mini_string_test.cc b/chrome/installer/mini_installer/mini_string_test.cc
index 67b11f9..d22d184 100644
--- a/chrome/installer/mini_installer/mini_string_test.cc
+++ b/chrome/installer/mini_installer/mini_string_test.cc
@@ -9,5 +9,5 @@
 #include "base/basictypes.h"
 #include "chrome/installer/mini_installer/mini_string.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using mini_installer::StackString;
diff --git a/chrome/installer/test/upgrade_test.cc b/chrome/installer/test/upgrade_test.cc
index b599521..ae7bbce 100644
--- a/chrome/installer/test/upgrade_test.cc
+++ b/chrome/installer/test/upgrade_test.cc
@@ -10,5 +10,5 @@
 #include "base/path_service.h"
 #include "chrome/installer/test/alternate_version_generator.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/chrome/installer/upgrade_test.gyp b/chrome/installer/upgrade_test.gyp
index 061604e..755a5e9 100644
--- a/chrome/installer/upgrade_test.gyp
+++ b/chrome/installer/upgrade_test.gyp
@@ -54,5 +54,5 @@
             # nothing has changed, then un-comment this next line:
             # 'mini_installer.gyp:mini_installer',
-            '../../base/base.gyp:test_support_base',
+#            '../../base/base.gyp:test_support_base',
             '../../testing/gtest.gyp:gtest',
             '../chrome.gyp:installer_util',
@@ -72,5 +72,5 @@
           'dependencies': [
             'alternate_version_generator_lib',
-            '../../base/base.gyp:test_support_base',
+#            '../../base/base.gyp:test_support_base',
             '../../testing/gtest.gyp:gtest',
             '../chrome.gyp:installer_util',
diff --git a/chrome/installer/util/BUILD.gn b/chrome/installer/util/BUILD.gn
index 8dca7ce..c6d63ba 100644
--- a/chrome/installer/util/BUILD.gn
+++ b/chrome/installer/util/BUILD.gn
@@ -57,5 +57,5 @@ static_library("util") {
       "//base/third_party/dynamic_annotations",
       "//chrome/common:constants",
-      "//components/metrics",
+#      "//components/metrics",
       "//courgette:courgette_lib",
       "//crypto",
diff --git a/chrome/installer/util/google_update_settings.cc b/chrome/installer/util/google_update_settings.cc
index 7b2fbc3..b155a62 100644
--- a/chrome/installer/util/google_update_settings.cc
+++ b/chrome/installer/util/google_update_settings.cc
@@ -10,5 +10,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/installer/util/installation_validation_helper.cc b/chrome/installer/util/installation_validation_helper.cc
index 147990f..eb369ff 100644
--- a/chrome/installer/util/installation_validation_helper.cc
+++ b/chrome/installer/util/installation_validation_helper.cc
@@ -12,5 +12,5 @@
 #include "base/strings/string_piece.h"
 #include "chrome/installer/util/installation_state.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace installer {
diff --git a/chromeos/attestation/mock_attestation_flow.h b/chromeos/attestation/mock_attestation_flow.h
index efefd94..8d0c8b8 100644
--- a/chromeos/attestation/mock_attestation_flow.h
+++ b/chromeos/attestation/mock_attestation_flow.h
@@ -10,5 +10,5 @@
 #include "base/basictypes.h"
 #include "base/callback.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/BUILD.gn b/chromeos/BUILD.gn
index 40823e6..4f830aa 100644
--- a/chromeos/BUILD.gn
+++ b/chromeos/BUILD.gn
@@ -5,5 +5,5 @@
 import("//build/config/allocator.gni")
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/protobuf/proto_library.gni")
 
@@ -44,19 +44,19 @@ component("chromeos") {
 }
 
-static_library("test_support") {
+#static_library("test_support") {
   testonly = true
   configs += [ "//build/config/linux:dbus" ]
   deps = [
-    "//testing/gmock",
+#    "//testing/gmock",
     ":chromeos",
     ":cryptohome_proto",
     ":power_manager_proto",
-    ":test_support_without_gmock",
+#    ":test_support_without_gmock",
   ]
   sources = [
     "attestation/mock_attestation_flow.cc",
     "attestation/mock_attestation_flow.h",
-    "chromeos_test_utils.cc",
-    "chromeos_test_utils.h",
+#    "chromeos_test_utils.cc",
+#    "chromeos_test_utils.h",
     "cryptohome/mock_async_method_caller.cc",
     "cryptohome/mock_async_method_caller.h",
@@ -75,6 +75,6 @@ static_library("test_support") {
     "dbus/mock_shill_service_client.cc",
     "dbus/mock_shill_service_client.h",
-    "dbus/services/service_provider_test_helper.cc",
-    "dbus/services/service_provider_test_helper.h",
+#    "dbus/services/service_provider_test_helper.cc",
+#    "dbus/services/service_provider_test_helper.h",
     "disks/mock_disk_mount_manager.cc",
     "disks/mock_disk_mount_manager.h",
@@ -91,6 +91,6 @@ static_library("test_support") {
     "network/mock_managed_network_configuration_handler.cc",
     "network/mock_managed_network_configuration_handler.h",
-    "network/onc/onc_test_utils.cc",
-    "network/onc/onc_test_utils.h",
+#    "network/onc/onc_test_utils.cc",
+#    "network/onc/onc_test_utils.h",
     "system/fake_statistics_provider.cc",
     "system/fake_statistics_provider.h",
@@ -98,5 +98,5 @@ static_library("test_support") {
 }
 
-static_library("test_support_without_gmock") {
+#static_library("test_support_without_gmock") {
   testonly = true
   configs += [ "//build/config/linux:dbus" ]
@@ -127,22 +127,22 @@ test("chromeos_unittests") {
   ]
   deps = [
-    "//base:prefs_test_support",
-    "//base/test:run_all_unittests",
-    "//base/test:test_support",
+#    "//base:prefs_test_support",
+#    "//base/test:run_all_unittests",
+#    "//base/test:test_support",
     "//components/onc",
     "//crypto",
-    "//crypto:test_support",
-    "//dbus:test_support",
+#    "//crypto:test_support",
+#    "//dbus:test_support",
     "//google_apis",
     "//net",
-    "//net:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//net:test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
     "//url",
     ":cryptohome_proto",
     ":power_manager_proto",
-    ":test_support",
+#    ":test_support",
   ]
-  sources = gypi_values.chromeos_test_sources
+#  sources = gypi_values.chromeos_test_sources
   if (use_allocator != "none") {
     deps += [ "//base/allocator" ]
diff --git a/chromeos/chromeos.gyp b/chromeos/chromeos.gyp
index 0a0c259..31b04d2 100644
--- a/chromeos/chromeos.gyp
+++ b/chromeos/chromeos.gyp
@@ -269,10 +269,10 @@
       'disks/disk_mount_manager.cc',
       'disks/disk_mount_manager.h',
-      'geolocation/geoposition.cc',
-      'geolocation/geoposition.h',
-      'geolocation/simple_geolocation_provider.cc',
-      'geolocation/simple_geolocation_provider.h',
-      'geolocation/simple_geolocation_request.cc',
-      'geolocation/simple_geolocation_request.h',
+#      'geolocation/geoposition.cc',
+#      'geolocation/geoposition.h',
+#      'geolocation/simple_geolocation_provider.cc',
+#      'geolocation/simple_geolocation_provider.h',
+#      'geolocation/simple_geolocation_request.cc',
+#      'geolocation/simple_geolocation_request.h',
       'login/auth/auth_attempt_state.cc',
       'login/auth/auth_attempt_state.h',
@@ -439,65 +439,65 @@
       'tpm/tpm_token_loader.h'
     ],
-    'chromeos_test_sources': [
-      'app_mode/kiosk_oem_manifest_parser_unittest.cc',
-      'attestation/attestation_flow_unittest.cc',
-      'audio/audio_devices_pref_handler_impl_unittest.cc',
-      'audio/cras_audio_handler_unittest.cc',
-      'cert_loader_unittest.cc',
-      'cryptohome/homedir_methods_unittest.cc',
-      'cryptohome/system_salt_getter_unittest.cc',
-      'dbus/blocking_method_caller_unittest.cc',
-      'dbus/cros_disks_client_unittest.cc',
-      'dbus/dbus_client_bundle_unittest.cc',
-      'dbus/fake_easy_unlock_client_unittest.cc',
-      'dbus/gsm_sms_client_unittest.cc',
-      'dbus/introspectable_client_unittest.cc',
-      'dbus/modem_messaging_client_unittest.cc',
-      'dbus/nfc_client_unittest.cc',
-      'dbus/power_policy_controller_unittest.cc',
-      'dbus/services/cros_dbus_service_unittest.cc',
-      'dbus/services/proxy_resolution_service_provider_unittest.cc',
-      'dbus/shill_client_unittest_base.cc',
-      'dbus/shill_client_unittest_base.h',
-      'dbus/shill_device_client_unittest.cc',
-      'dbus/shill_ipconfig_client_unittest.cc',
-      'dbus/shill_manager_client_unittest.cc',
-      'dbus/shill_profile_client_unittest.cc',
-      'dbus/shill_service_client_unittest.cc',
-      'dbus/shill_third_party_vpn_driver_client_unittest.cc',
-      'disks/disk_mount_manager_unittest.cc',
-      'geolocation/simple_geolocation_unittest.cc',
-      'login/auth/key_unittest.cc',
-      'login/login_state_unittest.cc',
-      'network/auto_connect_handler_unittest.cc',
-      'network/client_cert_resolver_unittest.cc',
-      'network/geolocation_handler_unittest.cc',
-      'network/host_resolver_impl_chromeos_unittest.cc',
-      'network/managed_network_configuration_handler_unittest.cc',
-      'network/network_cert_migrator_unittest.cc',
-      'network/network_change_notifier_chromeos_unittest.cc',
-      'network/network_configuration_handler_unittest.cc',
-      'network/network_connection_handler_unittest.cc',
-      'network/network_device_handler_unittest.cc',
+#    'chromeos_test_sources': [
+#      'app_mode/kiosk_oem_manifest_parser_unittest.cc',
+#      'attestation/attestation_flow_unittest.cc',
+#      'audio/audio_devices_pref_handler_impl_unittest.cc',
+#      'audio/cras_audio_handler_unittest.cc',
+#      'cert_loader_unittest.cc',
+#      'cryptohome/homedir_methods_unittest.cc',
+#      'cryptohome/system_salt_getter_unittest.cc',
+#      'dbus/blocking_method_caller_unittest.cc',
+#      'dbus/cros_disks_client_unittest.cc',
+#      'dbus/dbus_client_bundle_unittest.cc',
+#      'dbus/fake_easy_unlock_client_unittest.cc',
+#      'dbus/gsm_sms_client_unittest.cc',
+#      'dbus/introspectable_client_unittest.cc',
+#      'dbus/modem_messaging_client_unittest.cc',
+#      'dbus/nfc_client_unittest.cc',
+#      'dbus/power_policy_controller_unittest.cc',
+#      'dbus/services/cros_dbus_service_unittest.cc',
+#      'dbus/services/proxy_resolution_service_provider_unittest.cc',
+#      'dbus/shill_client_unittest_base.cc',
+#      'dbus/shill_client_unittest_base.h',
+#      'dbus/shill_device_client_unittest.cc',
+#      'dbus/shill_ipconfig_client_unittest.cc',
+#      'dbus/shill_manager_client_unittest.cc',
+#      'dbus/shill_profile_client_unittest.cc',
+#      'dbus/shill_service_client_unittest.cc',
+#      'dbus/shill_third_party_vpn_driver_client_unittest.cc',
+#      'disks/disk_mount_manager_unittest.cc',
+#      'geolocation/simple_geolocation_unittest.cc',
+#      'login/auth/key_unittest.cc',
+#      'login/login_state_unittest.cc',
+#      'network/auto_connect_handler_unittest.cc',
+#      'network/client_cert_resolver_unittest.cc',
+#      'network/geolocation_handler_unittest.cc',
+#      'network/host_resolver_impl_chromeos_unittest.cc',
+#      'network/managed_network_configuration_handler_unittest.cc',
+#      'network/network_cert_migrator_unittest.cc',
+#      'network/network_change_notifier_chromeos_unittest.cc',
+#      'network/network_configuration_handler_unittest.cc',
+#      'network/network_connection_handler_unittest.cc',
+#      'network/network_device_handler_unittest.cc',
       'network/network_profile_handler_stub.h',
-      'network/network_sms_handler_unittest.cc',
-      'network/network_state_handler_unittest.cc',
-      'network/network_state_unittest.cc',
-      'network/network_type_pattern_unittest.cc',
-      'network/network_ui_data_unittest.cc',
-      'network/network_util_unittest.cc',
-      'network/onc/onc_certificate_importer_impl_unittest.cc',
-      'network/onc/onc_merger_unittest.cc',
-      'network/onc/onc_normalizer_unittest.cc',
-      'network/onc/onc_translator_unittest.cc',
-      'network/onc/onc_utils_unittest.cc',
-      'network/onc/onc_validator_unittest.cc',
-      'network/shill_property_handler_unittest.cc',
-      'process_proxy/process_output_watcher_unittest.cc',
-      'process_proxy/process_proxy_unittest.cc',
-      'system/name_value_pairs_parser_unittest.cc',
-      'system/version_loader_unittest.cc',
-      'timezone/timezone_unittest.cc',
-      'tpm/tpm_token_info_getter_unittest.cc',
+#      'network/network_sms_handler_unittest.cc',
+#      'network/network_state_handler_unittest.cc',
+#      'network/network_state_unittest.cc',
+#      'network/network_type_pattern_unittest.cc',
+#      'network/network_ui_data_unittest.cc',
+#      'network/network_util_unittest.cc',
+#      'network/onc/onc_certificate_importer_impl_unittest.cc',
+#      'network/onc/onc_merger_unittest.cc',
+#      'network/onc/onc_normalizer_unittest.cc',
+#      'network/onc/onc_translator_unittest.cc',
+#      'network/onc/onc_utils_unittest.cc',
+#      'network/onc/onc_validator_unittest.cc',
+#      'network/shill_property_handler_unittest.cc',
+#      'process_proxy/process_output_watcher_unittest.cc',
+#      'process_proxy/process_proxy_unittest.cc',
+#      'system/name_value_pairs_parser_unittest.cc',
+#      'system/version_loader_unittest.cc',
+#      'timezone/timezone_unittest.cc',
+#      'tpm/tpm_token_info_getter_unittest.cc',
     ],
   },
@@ -538,7 +538,7 @@
     },
     {
-      # GN version: //chromeos:test_support
+#      # GN version: //chromeos:test_support
       # This target contains mocks that can be used to write unit tests.
-      'target_name': 'chromeos_test_support',
+#      'target_name': 'chromeos_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -546,5 +546,5 @@
         '../testing/gmock.gyp:gmock',
         'chromeos',
-        'chromeos_test_support_without_gmock',
+#        'chromeos_test_support_without_gmock',
         'cryptohome_proto',
         'power_manager_proto',
@@ -554,6 +554,6 @@
         'attestation/mock_attestation_flow.cc',
         'attestation/mock_attestation_flow.h',
-        'chromeos_test_utils.cc',
-        'chromeos_test_utils.h',
+#        'chromeos_test_utils.cc',
+#        'chromeos_test_utils.h',
         'cryptohome/mock_async_method_caller.cc',
         'cryptohome/mock_async_method_caller.h',
@@ -572,6 +572,6 @@
         'dbus/mock_shill_service_client.cc',
         'dbus/mock_shill_service_client.h',
-        'dbus/services/service_provider_test_helper.cc',
-        'dbus/services/service_provider_test_helper.h',
+#        'dbus/services/service_provider_test_helper.cc',
+#        'dbus/services/service_provider_test_helper.h',
         'disks/mock_disk_mount_manager.cc',
         'disks/mock_disk_mount_manager.h',
@@ -588,6 +588,6 @@
         'network/mock_managed_network_configuration_handler.cc',
         'network/mock_managed_network_configuration_handler.h',
-        'network/onc/onc_test_utils.cc',
-        'network/onc/onc_test_utils.h',
+#        'network/onc/onc_test_utils.cc',
+#        'network/onc/onc_test_utils.h',
         'system/fake_statistics_provider.cc',
         'system/fake_statistics_provider.h',
@@ -598,6 +598,6 @@
     },
     {
-      # GN version: //chromeos:test_support_without_gmock
-      'target_name': 'chromeos_test_support_without_gmock',
+#      # GN version: //chromeos:test_support_without_gmock
+#      'target_name': 'chromeos_test_support_without_gmock',
       'type': 'static_library',
       'export_dependent_settings': [
@@ -629,28 +629,28 @@
     },
     {
-      # GN version: //chromeos:chromeos_unittests
-      'target_name': 'chromeos_unittests',
+#      # GN version: //chromeos:chromeos_unittests
+#      'target_name': 'chromeos_unittests',
       'type': 'executable',
       'dependencies': [
-        '../base/base.gyp:base_prefs_test_support',
-        '../base/base.gyp:run_all_unittests',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:base_prefs_test_support',
+#        '../base/base.gyp:run_all_unittests',
+#        '../base/base.gyp:test_support_base',
         '../build/linux/system.gyp:dbus',
         '../build/linux/system.gyp:ssl',
         '../components/components.gyp:onc_component',
         '../crypto/crypto.gyp:crypto',
-        '../crypto/crypto.gyp:crypto_test_support',
-        '../dbus/dbus.gyp:dbus_test_support',
+#        '../crypto/crypto.gyp:crypto_test_support',
+#        '../dbus/dbus.gyp:dbus_test_support',
         '../google_apis/google_apis.gyp:google_apis',
         '../net/net.gyp:net',
-        '../net/net.gyp:net_test_support',
+#        '../net/net.gyp:net_test_support',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
         '../url/url.gyp:url_lib',
-        'chromeos_test_support',
+#        'chromeos_test_support',
         'cryptohome_proto',
         'power_manager_proto',
       ],
-      'sources': [ '<@(chromeos_test_sources)' ],
+#      'sources': [ '<@(chromeos_test_sources)' ],
       'include_dirs': [
         '..',
diff --git a/chromeos/chromeos_switches.cc b/chromeos/chromeos_switches.cc
index 2dbf5b0..cde7fda 100644
--- a/chromeos/chromeos_switches.cc
+++ b/chromeos/chromeos_switches.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 
 // TODO(rsorokin): alphabetize all of these switches so they
diff --git a/chromeos/cryptohome/mock_async_method_caller.h b/chromeos/cryptohome/mock_async_method_caller.h
index 515ec78..b7f4b2a 100644
--- a/chromeos/cryptohome/mock_async_method_caller.h
+++ b/chromeos/cryptohome/mock_async_method_caller.h
@@ -11,5 +11,5 @@
 #include "base/callback.h"
 #include "chromeos/cryptohome/async_method_caller.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace cryptohome {
diff --git a/chromeos/cryptohome/mock_homedir_methods.h b/chromeos/cryptohome/mock_homedir_methods.h
index 8647744..8576bad 100644
--- a/chromeos/cryptohome/mock_homedir_methods.h
+++ b/chromeos/cryptohome/mock_homedir_methods.h
@@ -11,5 +11,5 @@
 #include "base/callback.h"
 #include "chromeos/cryptohome/homedir_methods.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace cryptohome {
diff --git a/chromeos/dbus/fake_bluetooth_media_endpoint_service_provider.h b/chromeos/dbus/fake_bluetooth_media_endpoint_service_provider.h
index 5efe14f..195d2b1 100644
--- a/chromeos/dbus/fake_bluetooth_media_endpoint_service_provider.h
+++ b/chromeos/dbus/fake_bluetooth_media_endpoint_service_provider.h
@@ -12,5 +12,5 @@
 #include "chromeos/dbus/bluetooth_media_endpoint_service_provider.h"
 #include "dbus/object_path.h"
-#include "testing/gtest/include/gtest/gtest_prod.h"
+//#include "testing/gtest/include/gtest/gtest_prod.h"
 
 namespace chromeos {
diff --git a/chromeos/dbus/mock_cryptohome_client.h b/chromeos/dbus/mock_cryptohome_client.h
index 20ccbb5..a8ae392 100644
--- a/chromeos/dbus/mock_cryptohome_client.h
+++ b/chromeos/dbus/mock_cryptohome_client.h
@@ -10,5 +10,5 @@
 #include "chromeos/dbus/cryptohome/rpc.pb.h"
 #include "chromeos/dbus/cryptohome_client.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/dbus/mock_session_manager_client.h b/chromeos/dbus/mock_session_manager_client.h
index 3a88e52..4fd956f 100644
--- a/chromeos/dbus/mock_session_manager_client.h
+++ b/chromeos/dbus/mock_session_manager_client.h
@@ -9,5 +9,5 @@
 
 #include "chromeos/dbus/session_manager_client.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/dbus/mock_shill_manager_client.h b/chromeos/dbus/mock_shill_manager_client.h
index 7fa16ee..a5bc4a4 100644
--- a/chromeos/dbus/mock_shill_manager_client.h
+++ b/chromeos/dbus/mock_shill_manager_client.h
@@ -10,5 +10,5 @@
 #include "chromeos/dbus/shill_property_changed_observer.h"
 #include "net/base/ip_endpoint.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/dbus/mock_shill_profile_client.h b/chromeos/dbus/mock_shill_profile_client.h
index 9bf2012..88e357f 100644
--- a/chromeos/dbus/mock_shill_profile_client.h
+++ b/chromeos/dbus/mock_shill_profile_client.h
@@ -10,5 +10,5 @@
 #include "chromeos/dbus/shill_property_changed_observer.h"
 #include "dbus/object_path.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/dbus/mock_shill_service_client.h b/chromeos/dbus/mock_shill_service_client.h
index 6a481fa..de808dc 100644
--- a/chromeos/dbus/mock_shill_service_client.h
+++ b/chromeos/dbus/mock_shill_service_client.h
@@ -10,5 +10,5 @@
 #include "chromeos/dbus/shill_service_client.h"
 #include "dbus/object_path.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/disks/mock_disk_mount_manager.h b/chromeos/disks/mock_disk_mount_manager.h
index 8593626..11d2d36 100644
--- a/chromeos/disks/mock_disk_mount_manager.h
+++ b/chromeos/disks/mock_disk_mount_manager.h
@@ -11,6 +11,6 @@
 #include "chromeos/dbus/cros_disks_client.h"
 #include "chromeos/disks/disk_mount_manager.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace chromeos {
diff --git a/chromeos/geolocation/simple_geolocation_request.cc b/chromeos/geolocation/simple_geolocation_request.cc
index f572096..7d59a56 100644
--- a/chromeos/geolocation/simple_geolocation_request.cc
+++ b/chromeos/geolocation/simple_geolocation_request.cc
@@ -9,6 +9,6 @@
 
 #include "base/json/json_reader.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
diff --git a/chromeos/login/auth/login_performer.cc b/chromeos/login/auth/login_performer.cc
index 5600e37..18e5700 100644
--- a/chromeos/login/auth/login_performer.cc
+++ b/chromeos/login/auth/login_performer.cc
@@ -8,7 +8,7 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chromeos/login/auth/mock_auth_attempt_state_resolver.h b/chromeos/login/auth/mock_auth_attempt_state_resolver.h
index f96545d..6593e73 100644
--- a/chromeos/login/auth/mock_auth_attempt_state_resolver.h
+++ b/chromeos/login/auth/mock_auth_attempt_state_resolver.h
@@ -9,5 +9,5 @@
 #include "chromeos/chromeos_export.h"
 #include "chromeos/login/auth/auth_attempt_state_resolver.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/login/auth/mock_auth_status_consumer.cc b/chromeos/login/auth/mock_auth_status_consumer.cc
index abf6e96..79e4d32 100644
--- a/chromeos/login/auth/mock_auth_status_consumer.cc
+++ b/chromeos/login/auth/mock_auth_status_consumer.cc
@@ -7,5 +7,5 @@
 #include "base/message_loop/message_loop.h"
 #include "google_apis/gaia/gaia_auth_consumer.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace chromeos {
diff --git a/chromeos/login/auth/mock_auth_status_consumer.h b/chromeos/login/auth/mock_auth_status_consumer.h
index 649a6bb..2f11b39 100644
--- a/chromeos/login/auth/mock_auth_status_consumer.h
+++ b/chromeos/login/auth/mock_auth_status_consumer.h
@@ -9,5 +9,5 @@
 #include "chromeos/login/auth/auth_status_consumer.h"
 #include "chromeos/login/auth/user_context.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/login/auth/mock_url_fetchers.cc b/chromeos/login/auth/mock_url_fetchers.cc
index 744631f..b17c4af 100644
--- a/chromeos/login/auth/mock_url_fetchers.cc
+++ b/chromeos/login/auth/mock_url_fetchers.cc
@@ -12,5 +12,5 @@
 #include "net/url_request/url_fetcher.h"
 #include "net/url_request/url_fetcher_delegate.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace chromeos {
diff --git a/chromeos/network/device_state.cc b/chromeos/network/device_state.cc
index a59d4cd..ce4d1d9 100644
--- a/chromeos/network/device_state.cc
+++ b/chromeos/network/device_state.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "chromeos/network/network_event_log.h"
diff --git a/chromeos/network/mock_managed_network_configuration_handler.h b/chromeos/network/mock_managed_network_configuration_handler.h
index 8600eaa..8c9e3f4 100644
--- a/chromeos/network/mock_managed_network_configuration_handler.h
+++ b/chromeos/network/mock_managed_network_configuration_handler.h
@@ -12,5 +12,5 @@
 #include "chromeos/chromeos_export.h"
 #include "chromeos/network/managed_network_configuration_handler.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace chromeos {
diff --git a/chromeos/network/network_cert_migrator.cc b/chromeos/network/network_cert_migrator.cc
index 9bc90db..c6fba41 100644
--- a/chromeos/network/network_cert_migrator.cc
+++ b/chromeos/network/network_cert_migrator.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/location.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chromeos/dbus/dbus_thread_manager.h"
 #include "chromeos/dbus/shill_service_client.h"
diff --git a/chromeos/network/network_state_handler.cc b/chromeos/network/network_state_handler.cc
index a3aca7c..59bfd81 100644
--- a/chromeos/network/network_state_handler.cc
+++ b/chromeos/network/network_state_handler.cc
@@ -12,5 +12,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_util.h"
diff --git a/chromeos/network/onc/onc_utils.cc b/chromeos/network/onc/onc_utils.cc
index 6045ef1..5ae829c 100644
--- a/chromeos/network/onc/onc_utils.cc
+++ b/chromeos/network/onc/onc_utils.cc
@@ -8,5 +8,5 @@
 #include "base/json/json_reader.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chromeos/timezone/timezone_request.cc b/chromeos/timezone/timezone_request.cc
index c530e46..7350c2d 100644
--- a/chromeos/timezone/timezone_request.cc
+++ b/chromeos/timezone/timezone_request.cc
@@ -8,6 +8,6 @@
 
 #include "base/json/json_reader.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
diff --git a/chrome/renderer/BUILD.gn b/chrome/renderer/BUILD.gn
index 2e47170..901fd2e 100644
--- a/chrome/renderer/BUILD.gn
+++ b/chrome/renderer/BUILD.gn
@@ -36,13 +36,13 @@ static_library("renderer") {
     "//chrome:resources",
     "//chrome:strings",
-    "//components/autofill/content/renderer",
+#    "//components/autofill/content/renderer",
     "//components/cdm/renderer",
     "//components/data_reduction_proxy/content/common",
     "//components/network_hints/renderer",
     "//components/error_page/renderer",
-    "//components/password_manager/content/renderer",
-    "//components/plugins/renderer",
-    "//components/printing/renderer:printing_renderer",
-    "//components/startup_metric_utils",
+#    "//components/password_manager/content/renderer",
+#    "//components/plugins/renderer",
+#    "//components/printing/renderer:printing_renderer",
+#    "//components/startup_metric_utils",
     "//components/translate/content/renderer",
     "//components/translate/core/common",
@@ -95,5 +95,5 @@ static_library("renderer") {
     defines += [ "FULL_SAFE_BROWSING" ]
     deps += [
-      "//chrome/common/safe_browsing:proto",
+#      "//chrome/common/safe_browsing:proto",
       "//third_party/smhasher:murmurhash3",
     ]
@@ -147,5 +147,5 @@ static_library("renderer") {
 
   if (enable_basic_printing || enable_print_preview) {
-    deps += [ "//printing" ]
+#    deps += [ "//printing" ]
     sources +=
         rebase_path(gypi_values.chrome_renderer_printing_sources, ".", "..")
@@ -175,5 +175,5 @@ static_library("renderer") {
 source_set("test_support") {
   testonly = true
-  visibility = [ "//chrome/test:test_support" ]
+#  visibility = [ "//chrome/test:test_support" ]
 
   sources = [
@@ -188,7 +188,7 @@ source_set("test_support") {
   deps = [
     ":renderer",
-    "//content/test:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//content/test:test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 
diff --git a/chrome/renderer/chrome_content_renderer_client.cc b/chrome/renderer/chrome_content_renderer_client.cc
index 9d7e88c..e01eee4 100644
--- a/chrome/renderer/chrome_content_renderer_client.cc
+++ b/chrome/renderer/chrome_content_renderer_client.cc
@@ -8,7 +8,7 @@
 #include "base/debug/crash_logging.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/renderer/chrome_mock_render_thread.cc b/chrome/renderer/chrome_mock_render_thread.cc
index 61b68c0..553bdc1 100644
--- a/chrome/renderer/chrome_mock_render_thread.cc
+++ b/chrome/renderer/chrome_mock_render_thread.cc
@@ -5,5 +5,5 @@
 #include "chrome/renderer/chrome_mock_render_thread.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(ENABLE_EXTENSIONS)
diff --git a/chrome/renderer/chrome_render_process_observer.cc b/chrome/renderer/chrome_render_process_observer.cc
index c1c97c6..fb1bdfc 100644
--- a/chrome/renderer/chrome_render_process_observer.cc
+++ b/chrome/renderer/chrome_render_process_observer.cc
@@ -14,7 +14,7 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/native_library.h"
 #include "base/path_service.h"
diff --git a/chrome/renderer/chrome_render_process_observer.h b/chrome/renderer/chrome_render_process_observer.h
index 7bee794..e08883c 100644
--- a/chrome/renderer/chrome_render_process_observer.h
+++ b/chrome/renderer/chrome_render_process_observer.h
@@ -11,5 +11,5 @@
 #include "base/files/file_path.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "components/content_settings/core/common/content_settings.h"
 #include "content/public/renderer/render_process_observer.h"
diff --git a/chrome/renderer/chrome_render_view_observer.cc b/chrome/renderer/chrome_render_view_observer.cc
index db99bde..4e484bb 100644
--- a/chrome/renderer/chrome_render_view_observer.cc
+++ b/chrome/renderer/chrome_render_view_observer.cc
@@ -9,5 +9,5 @@
 #include "base/command_line.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/renderer/content_settings_observer.cc b/chrome/renderer/content_settings_observer.cc
index f1787b3..47dfb1a 100644
--- a/chrome/renderer/content_settings_observer.cc
+++ b/chrome/renderer/content_settings_observer.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/common/render_messages.h"
 #include "content/public/common/url_constants.h"
diff --git a/chrome/renderer/extensions/chrome_extensions_dispatcher_delegate.cc b/chrome/renderer/extensions/chrome_extensions_dispatcher_delegate.cc
index 77f2f17..bce05d4 100644
--- a/chrome/renderer/extensions/chrome_extensions_dispatcher_delegate.cc
+++ b/chrome/renderer/extensions/chrome_extensions_dispatcher_delegate.cc
@@ -151,6 +151,6 @@ void ChromeExtensionsDispatcherDelegate::PopulateSourceMap(
   source_map->RegisterSource("declarativeContent",
                              IDR_DECLARATIVE_CONTENT_CUSTOM_BINDINGS_JS);
-  source_map->RegisterSource("desktopCapture",
-                             IDR_DESKTOP_CAPTURE_CUSTOM_BINDINGS_JS);
+//  source_map->RegisterSource("desktopCapture",
+//                             IDR_DESKTOP_CAPTURE_CUSTOM_BINDINGS_JS);
   source_map->RegisterSource("developerPrivate",
                              IDR_DEVELOPER_PRIVATE_CUSTOM_BINDINGS_JS);
@@ -166,6 +166,6 @@ void ChromeExtensionsDispatcherDelegate::PopulateSourceMap(
   source_map->RegisterSource("enterprise.platformKeys.Token",
                              IDR_ENTERPRISE_PLATFORM_KEYS_TOKEN_JS);
-  source_map->RegisterSource("feedbackPrivate",
-                             IDR_FEEDBACK_PRIVATE_CUSTOM_BINDINGS_JS);
+//  source_map->RegisterSource("feedbackPrivate",
+//                             IDR_FEEDBACK_PRIVATE_CUSTOM_BINDINGS_JS);
   source_map->RegisterSource("fileBrowserHandler",
                              IDR_FILE_BROWSER_HANDLER_CUSTOM_BINDINGS_JS);
@@ -177,12 +177,12 @@ void ChromeExtensionsDispatcherDelegate::PopulateSourceMap(
   source_map->RegisterSource("gcm", IDR_GCM_CUSTOM_BINDINGS_JS);
   source_map->RegisterSource("identity", IDR_IDENTITY_CUSTOM_BINDINGS_JS);
-  source_map->RegisterSource("imageWriterPrivate",
-                             IDR_IMAGE_WRITER_PRIVATE_CUSTOM_BINDINGS_JS);
+//  source_map->RegisterSource("imageWriterPrivate",
+//                             IDR_IMAGE_WRITER_PRIVATE_CUSTOM_BINDINGS_JS);
   source_map->RegisterSource("input.ime", IDR_INPUT_IME_CUSTOM_BINDINGS_JS);
   source_map->RegisterSource("logPrivate", IDR_LOG_PRIVATE_CUSTOM_BINDINGS_JS);
   source_map->RegisterSource("mediaGalleries",
                              IDR_MEDIA_GALLERIES_CUSTOM_BINDINGS_JS);
-  source_map->RegisterSource("notifications",
-                             IDR_NOTIFICATIONS_CUSTOM_BINDINGS_JS);
+//  source_map->RegisterSource("notifications",
+//                             IDR_NOTIFICATIONS_CUSTOM_BINDINGS_JS);
   source_map->RegisterSource("omnibox", IDR_OMNIBOX_CUSTOM_BINDINGS_JS);
   source_map->RegisterSource("pageAction", IDR_PAGE_ACTION_CUSTOM_BINDINGS_JS);
diff --git a/chrome/renderer/net/net_error_helper.cc b/chrome/renderer/net/net_error_helper.cc
index be127aa..76c38c4 100644
--- a/chrome/renderer/net/net_error_helper.cc
+++ b/chrome/renderer/net/net_error_helper.cc
@@ -10,5 +10,5 @@
 #include "base/i18n/rtl.h"
 #include "base/json/json_writer.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/values.h"
diff --git a/chrome/renderer/page_load_histograms.cc b/chrome/renderer/page_load_histograms.cc
index 91ca92b..d636031 100644
--- a/chrome/renderer/page_load_histograms.cc
+++ b/chrome/renderer/page_load_histograms.cc
@@ -9,6 +9,6 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/chrome/renderer/pepper/pepper_flash_renderer_host.cc b/chrome/renderer/pepper/pepper_flash_renderer_host.cc
index 0b1cef1..652dccc 100644
--- a/chrome/renderer/pepper/pepper_flash_renderer_host.cc
+++ b/chrome/renderer/pepper/pepper_flash_renderer_host.cc
@@ -9,5 +9,5 @@
 
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "components/pdf/renderer/ppb_pdf_impl.h"
diff --git a/chrome/renderer/pepper/pepper_uma_host.cc b/chrome/renderer/pepper/pepper_uma_host.cc
index 693c497..2f0ecb0 100644
--- a/chrome/renderer/pepper/pepper_uma_host.cc
+++ b/chrome/renderer/pepper/pepper_uma_host.cc
@@ -5,5 +5,5 @@
 #include "chrome/renderer/pepper/pepper_uma_host.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sha1.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/chrome/renderer/plugins/plugin_uma.cc b/chrome/renderer/plugins/plugin_uma.cc
index 4040f63..c71b9d6 100644
--- a/chrome/renderer/plugins/plugin_uma.cc
+++ b/chrome/renderer/plugins/plugin_uma.cc
@@ -8,5 +8,5 @@
 #include <cstring>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "content/public/common/content_constants.h"
diff --git a/chrome/renderer/prerender/prerender_helper.cc b/chrome/renderer/prerender/prerender_helper.cc
index 797c05b..83ecef0 100644
--- a/chrome/renderer/prerender/prerender_helper.cc
+++ b/chrome/renderer/prerender/prerender_helper.cc
@@ -5,6 +5,6 @@
 #include "chrome/renderer/prerender/prerender_helper.h"
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/common/prerender_messages.h"
 #include "content/public/renderer/document_state.h"
diff --git a/chrome/renderer/resources/renderer_resources.grd b/chrome/renderer/resources/renderer_resources.grd
index 53b221d..17334a3 100644
--- a/chrome/renderer/resources/renderer_resources.grd
+++ b/chrome/renderer/resources/renderer_resources.grd
@@ -67,5 +67,5 @@
         <include name="IDR_GCM_CUSTOM_BINDINGS_JS" file="extensions\gcm_custom_bindings.js" type="BINDATA" />
         <include name="IDR_IDENTITY_CUSTOM_BINDINGS_JS" file="extensions\identity_custom_bindings.js" type="BINDATA" />
-        <include name="IDR_IMAGE_WRITER_PRIVATE_CUSTOM_BINDINGS_JS" file="extensions\image_writer_private_custom_bindings.js" type="BINDATA" />
+<!--        <include name="IDR_IMAGE_WRITER_PRIVATE_CUSTOM_BINDINGS_JS" file="extensions\image_writer_private_custom_bindings.js" type="BINDATA" /> -->
         <include name="IDR_INPUT_IME_CUSTOM_BINDINGS_JS" file="extensions\input.ime_custom_bindings.js" type="BINDATA" />
         <include name="IDR_LOG_PRIVATE_CUSTOM_BINDINGS_JS" file="extensions\log_private_custom_bindings.js" type="BINDATA" />
diff --git a/chrome/renderer/safe_browsing/features.cc b/chrome/renderer/safe_browsing/features.cc
index 29675db..c368889 100644
--- a/chrome/renderer/safe_browsing/features.cc
+++ b/chrome/renderer/safe_browsing/features.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace safe_browsing {
diff --git a/chrome/renderer/safe_browsing/mock_feature_extractor_clock.h b/chrome/renderer/safe_browsing/mock_feature_extractor_clock.h
index 05f3bef..079c646 100644
--- a/chrome/renderer/safe_browsing/mock_feature_extractor_clock.h
+++ b/chrome/renderer/safe_browsing/mock_feature_extractor_clock.h
@@ -9,5 +9,5 @@
 
 #include "chrome/renderer/safe_browsing/feature_extractor_clock.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace safe_browsing {
diff --git a/chrome/renderer/safe_browsing/phishing_classifier.cc b/chrome/renderer/safe_browsing/phishing_classifier.cc
index 78d67a2..1984131 100644
--- a/chrome/renderer/safe_browsing/phishing_classifier.cc
+++ b/chrome/renderer/safe_browsing/phishing_classifier.cc
@@ -12,5 +12,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "chrome/common/safe_browsing/csd.pb.h"
diff --git a/chrome/renderer/safe_browsing/phishing_classifier_delegate.cc b/chrome/renderer/safe_browsing/phishing_classifier_delegate.cc
index fb700e4..9f1357d 100644
--- a/chrome/renderer/safe_browsing/phishing_classifier_delegate.cc
+++ b/chrome/renderer/safe_browsing/phishing_classifier_delegate.cc
@@ -11,5 +11,5 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/common/safe_browsing/csd.pb.h"
 #include "chrome/common/safe_browsing/safebrowsing_messages.h"
diff --git a/chrome/renderer/safe_browsing/phishing_dom_feature_extractor.cc b/chrome/renderer/safe_browsing/phishing_dom_feature_extractor.cc
index ae5ad65..07f294f 100644
--- a/chrome/renderer/safe_browsing/phishing_dom_feature_extractor.cc
+++ b/chrome/renderer/safe_browsing/phishing_dom_feature_extractor.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/time/time.h"
diff --git a/chrome/renderer/safe_browsing/phishing_term_feature_extractor.cc b/chrome/renderer/safe_browsing/phishing_term_feature_extractor.cc
index de488f4..d36ca28 100644
--- a/chrome/renderer/safe_browsing/phishing_term_feature_extractor.cc
+++ b/chrome/renderer/safe_browsing/phishing_term_feature_extractor.cc
@@ -15,5 +15,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/time/time.h"
diff --git a/chrome/renderer/safe_browsing/phishing_url_feature_extractor.cc b/chrome/renderer/safe_browsing/phishing_url_feature_extractor.cc
index e353636..a066105 100644
--- a/chrome/renderer/safe_browsing/phishing_url_feature_extractor.cc
+++ b/chrome/renderer/safe_browsing/phishing_url_feature_extractor.cc
@@ -10,5 +10,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_split.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/renderer/safe_browsing/scorer.cc b/chrome/renderer/safe_browsing/scorer.cc
index a8a23af..3d78c73 100644
--- a/chrome/renderer/safe_browsing/scorer.cc
+++ b/chrome/renderer/safe_browsing/scorer.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_piece.h"
 #include "chrome/common/safe_browsing/client_model.pb.h"
diff --git a/chrome/renderer/safe_browsing/test_utils.cc b/chrome/renderer/safe_browsing/test_utils.cc
index b3d8f9b..897ecbc 100644
--- a/chrome/renderer/safe_browsing/test_utils.cc
+++ b/chrome/renderer/safe_browsing/test_utils.cc
@@ -9,5 +9,5 @@
 
 #include "chrome/renderer/safe_browsing/features.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace safe_browsing {
diff --git a/chrome/renderer/spellchecker/spellcheck_provider.cc b/chrome/renderer/spellchecker/spellcheck_provider.cc
index 840f3fb..3024ae5 100644
--- a/chrome/renderer/spellchecker/spellcheck_provider.cc
+++ b/chrome/renderer/spellchecker/spellcheck_provider.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "chrome/common/chrome_switches.h"
 #include "chrome/common/spellcheck_marker.h"
diff --git a/chrome/renderer/spellchecker/spellcheck_provider_test.h b/chrome/renderer/spellchecker/spellcheck_provider_test.h
index 5c1c559..968e063 100644
--- a/chrome/renderer/spellchecker/spellcheck_provider_test.h
+++ b/chrome/renderer/spellchecker/spellcheck_provider_test.h
@@ -11,5 +11,5 @@
 #include "base/strings/string16.h"
 #include "chrome/renderer/spellchecker/spellcheck_provider.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/WebKit/public/platform/WebVector.h"
 #include "third_party/WebKit/public/web/WebTextCheckingCompletion.h"
diff --git a/chrome/service/BUILD.gn b/chrome/service/BUILD.gn
index fe26068..4da628a 100644
--- a/chrome/service/BUILD.gn
+++ b/chrome/service/BUILD.gn
@@ -58,5 +58,5 @@ static_library("service") {
     "//jingle:notifier",
     "//net",
-    "//printing",
+#    "//printing",
     "//skia",
     "//third_party/libjingle",
@@ -65,5 +65,5 @@ static_library("service") {
   if (use_cups) {
     sources += [ "cloud_print/print_system_cups.cc" ]
-    configs += [ "//printing:cups" ]
+#    configs += [ "//printing:cups" ]
   } else if (is_win) {
     sources += [
diff --git a/chrome/service/cloud_print/cloud_print_auth.cc b/chrome/service/cloud_print/cloud_print_auth.cc
index b52ba0c..11f070f 100644
--- a/chrome/service/cloud_print/cloud_print_auth.cc
+++ b/chrome/service/cloud_print/cloud_print_auth.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "chrome/common/cloud_print/cloud_print_constants.h"
diff --git a/chrome/service/cloud_print/cloud_print_proxy_backend.cc b/chrome/service/cloud_print/cloud_print_proxy_backend.cc
index 233ff2e..f88f88b 100644
--- a/chrome/service/cloud_print/cloud_print_proxy_backend.cc
+++ b/chrome/service/cloud_print/cloud_print_proxy_backend.cc
@@ -11,5 +11,5 @@
 #include "base/command_line.h"
 #include "base/compiler_specific.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/strings/string_util.h"
diff --git a/chrome/service/cloud_print/cloud_print_proxy.cc b/chrome/service/cloud_print/cloud_print_proxy.cc
index a98fecb..7788574 100644
--- a/chrome/service/cloud_print/cloud_print_proxy.cc
+++ b/chrome/service/cloud_print/cloud_print_proxy.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/process/kill.h"
diff --git a/chrome/service/cloud_print/cloud_print_url_fetcher.cc b/chrome/service/cloud_print/cloud_print_url_fetcher.cc
index b1f0b51..22ae1cb 100644
--- a/chrome/service/cloud_print/cloud_print_url_fetcher.cc
+++ b/chrome/service/cloud_print/cloud_print_url_fetcher.cc
@@ -5,5 +5,5 @@
 #include "chrome/service/cloud_print/cloud_print_url_fetcher.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "base/values.h"
diff --git a/chrome/service/cloud_print/connector_settings.cc b/chrome/service/cloud_print/connector_settings.cc
index 01eadc9..f4c3b5e 100644
--- a/chrome/service/cloud_print/connector_settings.cc
+++ b/chrome/service/cloud_print/connector_settings.cc
@@ -5,5 +5,5 @@
 #include "chrome/service/cloud_print/connector_settings.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/values.h"
 #include "chrome/common/cloud_print/cloud_print_constants.h"
diff --git a/chrome/service/cloud_print/job_status_updater.cc b/chrome/service/cloud_print/job_status_updater.cc
index dcdca08..8969826 100644
--- a/chrome/service/cloud_print/job_status_updater.cc
+++ b/chrome/service/cloud_print/job_status_updater.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/json/json_reader.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/service/cloud_print/printer_job_handler.cc b/chrome/service/cloud_print/printer_job_handler.cc
index c243f23..dace9ff 100644
--- a/chrome/service/cloud_print/printer_job_handler.cc
+++ b/chrome/service/cloud_print/printer_job_handler.cc
@@ -10,5 +10,5 @@
 #include "base/json/json_reader.h"
 #include "base/md5.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/chrome/service/service_ipc_server.cc b/chrome/service/service_ipc_server.cc
index 3265b9e..716e3bf 100644
--- a/chrome/service/service_ipc_server.cc
+++ b/chrome/service/service_ipc_server.cc
@@ -5,5 +5,5 @@
 #include "chrome/service/service_ipc_server.h"
 
-#include "base/metrics/histogram_delta_serialization.h"
+//#include "base/metrics/histogram_delta_serialization.h"
 #include "chrome/common/service_messages.h"
 #include "chrome/service/cloud_print/cloud_print_proxy.h"
diff --git a/chrome/service/service_main.cc b/chrome/service/service_main.cc
index bc4f6ea..38e8357 100644
--- a/chrome/service/service_main.cc
+++ b/chrome/service/service_main.cc
@@ -6,5 +6,5 @@
 #include "base/debug/debugger.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "chrome/common/service_process_util.h"
 #include "chrome/service/service_process.h"
diff --git a/chrome/service/service_utility_process_host.cc b/chrome/service/service_utility_process_host.cc
index 7bb80e2..40ae88f 100644
--- a/chrome/service/service_utility_process_host.cc
+++ b/chrome/service/service_utility_process_host.cc
@@ -15,5 +15,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/kill.h"
 #include "base/process/launch.h"
diff --git a/chrome/tools/service_discovery_sniffer/BUILD.gn b/chrome/tools/service_discovery_sniffer/BUILD.gn
index 91c3bee..761fa6d 100644
--- a/chrome/tools/service_discovery_sniffer/BUILD.gn
+++ b/chrome/tools/service_discovery_sniffer/BUILD.gn
@@ -15,5 +15,5 @@ executable("service_discovery_sniffer") {
     "//base",
     "//base/allocator",
-    "//base/test:test_support",
+#    "//base/test:test_support",
     "//chrome/utility",
     "//net",
diff --git a/chrome/utility/BUILD.gn b/chrome/utility/BUILD.gn
index a99d954..b4b0a7a 100644
--- a/chrome/utility/BUILD.gn
+++ b/chrome/utility/BUILD.gn
@@ -61,5 +61,5 @@ static_library("utility") {
       deps += [ "//components/wifi" ]
     } else {
-      sources += [ "image_writer/image_writer_stub.cc" ]
+#      sources += [ "image_writer/image_writer_stub.cc" ]
     }
 
diff --git a/chrome/utility/chrome_content_utility_client.cc b/chrome/utility/chrome_content_utility_client.cc
index 843b1f3..d2c7c41 100644
--- a/chrome/utility/chrome_content_utility_client.cc
+++ b/chrome/utility/chrome_content_utility_client.cc
@@ -38,5 +38,5 @@
 #include "chrome/common/extensions/chrome_utility_extensions_messages.h"
 #include "chrome/utility/extensions/extensions_handler.h"
-#include "chrome/utility/image_writer/image_writer_handler.h"
+//#include "chrome/utility/image_writer/image_writer_handler.h"
 #include "chrome/utility/media_galleries/ipc_data_source.h"
 #include "chrome/utility/media_galleries/media_metadata_parser.h"
@@ -85,5 +85,5 @@ ChromeContentUtilityClient::ChromeContentUtilityClient()
 #if defined(ENABLE_EXTENSIONS)
   handlers_.push_back(new extensions::ExtensionsHandler());
-  handlers_.push_back(new image_writer::ImageWriterHandler());
+//  handlers_.push_back(new image_writer::ImageWriterHandler());
 #endif
 
diff --git a/cloud_print/cloud_print.gyp b/cloud_print/cloud_print.gyp
index e54dc86..b5c8fbd 100644
--- a/cloud_print/cloud_print.gyp
+++ b/cloud_print/cloud_print.gyp
@@ -29,13 +29,13 @@
     },
     {
-      'target_name': 'cloud_print_unittests',
+#      'target_name': 'cloud_print_unittests',
       'type': 'executable',
       'sources': [
-        'service/service_state_unittest.cc',
+#        'service/service_state_unittest.cc',
       ],
       'dependencies': [
         '<(DEPTH)/base/base.gyp:base',
-        '<(DEPTH)/base/base.gyp:run_all_unittests',
-        '<(DEPTH)/base/base.gyp:test_support_base',
+#        '<(DEPTH)/base/base.gyp:run_all_unittests',
+#        '<(DEPTH)/base/base.gyp:test_support_base',
         '<(DEPTH)/testing/gmock.gyp:gmock',
         '<(DEPTH)/testing/gtest.gyp:gtest',
@@ -45,6 +45,6 @@
         ['OS=="win"', {
           'sources': [
-            'service/win/service_ipc_unittest.cc',
-            'virtual_driver/win/port_monitor/port_monitor_unittest.cc',
+#            'service/win/service_ipc_unittest.cc',
+#            'virtual_driver/win/port_monitor/port_monitor_unittest.cc',
           ],
           'dependencies': [
diff --git a/cloud_print/gcp20/prototype/gcp20_device.gyp b/cloud_print/gcp20/prototype/gcp20_device.gyp
index 9198052..0ee7325 100644
--- a/cloud_print/gcp20/prototype/gcp20_device.gyp
+++ b/cloud_print/gcp20/prototype/gcp20_device.gyp
@@ -92,14 +92,14 @@
     },
     {
-      'target_name': 'gcp20_device_unittests',
+#      'target_name': 'gcp20_device_unittests',
       'type': 'executable',
       'sources': [
-        'printer_unittest.cc',
-        'x_privet_token_unittest.cc',
+#        'printer_unittest.cc',
+#        'x_privet_token_unittest.cc',
       ],
       'dependencies': [
         'gcp20_device_lib',
-        '<(DEPTH)/base/base.gyp:run_all_unittests',
-        '<(DEPTH)/base/base.gyp:test_support_base',
+#        '<(DEPTH)/base/base.gyp:run_all_unittests',
+#        '<(DEPTH)/base/base.gyp:test_support_base',
         '<(DEPTH)/testing/gmock.gyp:gmock',
         '<(DEPTH)/testing/gtest.gyp:gtest',
diff --git a/components/bookmarks/browser/bookmark_storage.cc b/components/bookmarks/browser/bookmark_storage.cc
index daafdbe..5b97461 100644
--- a/components/bookmarks/browser/bookmark_storage.cc
+++ b/components/bookmarks/browser/bookmark_storage.cc
@@ -10,5 +10,5 @@
 #include "base/json/json_file_value_serializer.h"
 #include "base/json/json_string_value_serializer.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/time/time.h"
diff --git a/components/bookmarks/browser/bookmark_utils.cc b/components/bookmarks/browser/bookmark_utils.cc
index 758f19f..e6ef2f9 100644
--- a/components/bookmarks/browser/bookmark_utils.cc
+++ b/components/bookmarks/browser/bookmark_utils.cc
@@ -13,5 +13,5 @@
 #include "base/i18n/case_conversion.h"
 #include "base/i18n/string_search.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_util.h"
diff --git a/components/bookmarks/browser/BUILD.gn b/components/bookmarks/browser/BUILD.gn
index 091b20a..734404c 100644
--- a/components/bookmarks/browser/BUILD.gn
+++ b/components/bookmarks/browser/BUILD.gn
@@ -47,5 +47,5 @@ source_set("browser") {
     "//components/pref_registry",
     "//components/query_parser",
-    "//components/startup_metric_utils",
+#    "//components/startup_metric_utils",
     "//components/strings",
     "//net",
@@ -64,9 +64,9 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "bookmark_codec_unittest.cc",
-    "bookmark_expanded_state_tracker_unittest.cc",
-    "bookmark_index_unittest.cc",
-    "bookmark_model_unittest.cc",
-    "bookmark_utils_unittest.cc",
+#    "bookmark_codec_unittest.cc",
+#    "bookmark_expanded_state_tracker_unittest.cc",
+#    "bookmark_index_unittest.cc",
+#    "bookmark_model_unittest.cc",
+#    "bookmark_utils_unittest.cc",
   ]
 
@@ -76,9 +76,9 @@ source_set("unit_tests") {
     ":browser",
     "//base:prefs",
-    "//base:prefs_test_support",
+#    "//base:prefs_test_support",
     "//components/bookmarks/common",
-    "//components/bookmarks/test",
+#    "//components/bookmarks/test",
     "//components/pref_registry",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//ui/base",
     "//url",
diff --git a/components/bookmarks/common/android/BUILD.gn b/components/bookmarks/common/android/BUILD.gn
index 4c7f080..b698c5e 100644
--- a/components/bookmarks/common/android/BUILD.gn
+++ b/components/bookmarks/common/android/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP: //components/bookmarks.gyp:bookmarks_browser (android part)
diff --git a/components/bookmarks.gypi b/components/bookmarks.gypi
index c697e02..78ef3f3 100644
--- a/components/bookmarks.gypi
+++ b/components/bookmarks.gypi
@@ -97,6 +97,6 @@
     },
     {
-      # GN version: //components/bookmarks/test
-      'target_name': 'bookmarks_test_support',
+#      # GN version: //components/bookmarks/test
+#      'target_name': 'bookmarks_test_support',
       'type': 'static_library',
       'include_dirs': [
@@ -111,6 +111,6 @@
       ],
       'sources': [
-        'bookmarks/test/bookmark_test_helpers.cc',
-        'bookmarks/test/bookmark_test_helpers.h',
+#        'bookmarks/test/bookmark_test_helpers.cc',
+#        'bookmarks/test/bookmark_test_helpers.h',
         'bookmarks/test/mock_bookmark_model_observer.cc',
         'bookmarks/test/mock_bookmark_model_observer.h',
diff --git a/components/browser_watcher/BUILD.gn b/components/browser_watcher/BUILD.gn
index 1f782c2..5ce0de9 100644
--- a/components/browser_watcher/BUILD.gn
+++ b/components/browser_watcher/BUILD.gn
@@ -34,9 +34,9 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "endsession_watcher_window_win_unittest.cc",
-    "exit_code_watcher_win_unittest.cc",
-    "exit_funnel_win_unittest.cc",
-    "watcher_client_win_unittest.cc",
-    "watcher_metrics_provider_win_unittest.cc",
+#    "endsession_watcher_window_win_unittest.cc",
+#    "exit_code_watcher_win_unittest.cc",
+#    "exit_funnel_win_unittest.cc",
+#    "watcher_client_win_unittest.cc",
+#    "watcher_metrics_provider_win_unittest.cc",
   ]
   configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
@@ -44,5 +44,5 @@ source_set("unit_tests") {
     ":browser_watcher",
     ":browser_watcher_client",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/browser_watcher/watcher_metrics_provider_win.cc b/components/browser_watcher/watcher_metrics_provider_win.cc
index 2798ae5..9f33c9c 100644
--- a/components/browser_watcher/watcher_metrics_provider_win.cc
+++ b/components/browser_watcher/watcher_metrics_provider_win.cc
@@ -8,5 +8,5 @@
 #include <vector>
 
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/process/process.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/components/BUILD.gn b/components/BUILD.gn
index 1765c1a..73ed9bc 100644
--- a/components/BUILD.gn
+++ b/components/BUILD.gn
@@ -5,5 +5,5 @@
 import("//build/config/features.gni")
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//tools/grit/repack.gni")
 
@@ -15,21 +15,21 @@ group("all_components") {
 
   deps = [
-    "//components/auto_login_parser",
-    "//components/autofill/content/browser",
-    "//components/autofill/content/common",
-    "//components/autofill/content/renderer",
+#    "//components/auto_login_parser",
+#    "//components/autofill/content/browser",
+#    "//components/autofill/content/common",
+#    "//components/autofill/content/renderer",
     "//components/bookmarks/browser",
     "//components/bookmarks/common",
-    "//components/bookmarks/test",
-    "//components/captive_portal",
+#    "//components/bookmarks/test",
+#    "//components/captive_portal",
     "//components/cdm/browser",
     "//components/cdm/common",
     "//components/cdm/renderer",
-    "//components/cloud_devices/common",
+#    "//components/cloud_devices/common",
     "//components/component_updater",
     "//components/content_settings/core/browser",
     "//components/content_settings/core/common",
-    "//components/crash/app",
-    "//components/crash/browser",
+#    "//components/crash/app",
+#    "//components/crash/browser",
     "//components/crx_file",
     "//components/data_reduction_proxy/core/browser",
@@ -41,7 +41,7 @@ group("all_components") {
     "//components/favicon/core",
     "//components/favicon_base",
-    "//components/feedback",
+#    "//components/feedback",
     "//components/gcm_driver",
-    "//components/google/core/browser",
+#    "//components/google/core/browser",
     "//components/history/content/browser",
     "//components/history/core/browser",
@@ -52,10 +52,10 @@ group("all_components") {
     "//components/json_schema",
     "//components/keyed_service/content",
-    "//components/language_usage_metrics",
+#    "//components/language_usage_metrics",
     "//components/leveldb_proto",
-    "//components/login",
-    "//components/metrics",
+#    "//components/login",
+#    "//components/metrics",
     "//components/navigation_interception",
-    "//components/navigation_metrics",
+#    "//components/navigation_metrics",
     "//components/network_time",
     "//components/omnibox",
@@ -63,12 +63,12 @@ group("all_components") {
     "//components/os_crypt",
     "//components/packed_ct_ev_whitelist",
-    "//components/pairing",
-    "//components/password_manager/content/browser",
-    "//components/password_manager/core/browser",
-    "//components/password_manager/core/common",
-    "//components/pdf/browser",
-    "//components/pdf/common",
-    "//components/pdf/renderer",
-    "//components/plugins/renderer",
+#    "//components/pairing",
+#    "//components/password_manager/content/browser",
+#    "//components/password_manager/core/browser",
+#    "//components/password_manager/core/common",
+#    "//components/pdf/browser",
+#    "//components/pdf/common",
+#    "//components/pdf/renderer",
+#    "//components/plugins/renderer",
     "//components/policy",
     "//components/power",
@@ -76,8 +76,8 @@ group("all_components") {
     "//components/precache/content",
     "//components/pref_registry",
-    "//components/proximity_auth",
-    "//components/proximity_auth/cryptauth",
+#    "//components/proximity_auth",
+#    "//components/proximity_auth/cryptauth",
     "//components/query_parser",
-    "//components/rappor",
+#    "//components/rappor",
     "//components/renderer_context_menu",
     "//components/resources:components_resources",
@@ -86,8 +86,8 @@ group("all_components") {
     "//components/search_provider_logos",
     "//components/sessions:sessions_content",
-    "//components/signin/core/browser",
-    "//components/startup_metric_utils",
+#    "//components/signin/core/browser",
+#    "//components/startup_metric_utils",
     "//components/strings",
-    "//components/sync_driver",
+#    "//components/sync_driver",
     "//components/tracing",
     "//components/translate/content/browser",
@@ -114,6 +114,6 @@ group("all_components") {
     "//components/webdata/common",
     "//components/webui_generator",
-    "//components/wifi",
-    "//components/wifi_sync",
+#    "//components/wifi",
+#    "//components/wifi_sync",
   ]
 
@@ -123,10 +123,10 @@ group("all_components") {
 
   if (!is_win && !is_mac) {
-    deps -= [ "//components/wifi" ]
+#    deps -= [ "//components/wifi" ]
   }
   if (!is_chromeos) {
     deps -= [
-      "//components/pairing",
-      "//components/wifi_sync",
+#      "//components/pairing",
+#      "//components/wifi_sync",
     ]
   }
@@ -140,20 +140,20 @@ group("all_components") {
 
   if (!enable_plugins) {
-    deps -= [
-      "//components/pdf/browser",
-      "//components/pdf/common",
-      "//components/pdf/renderer",
-    ]
+#    deps -= [
+#      "//components/pdf/browser",
+#      "//components/pdf/common",
+#      "//components/pdf/renderer",
+#    ]
   }
 
   if (is_android) {
     deps -= [
-      "//components/autofill/content/browser",  # Blocked on content/blink.
-      "//components/autofill/content/common",  # Blocked on content.
-      "//components/autofill/content/renderer",  # Blocked on content/blink.
-      "//components/crash/app",  # Should work, needs checking.
-      "//components/crash/browser",  # Should work, needs checking.
-      "//components/captive_portal",  # Should work, needs checking.
-      "//components/cloud_devices/common",  # Should work, needs checking.
+#      "//components/autofill/content/browser",  # Blocked on content/blink.
+#      "//components/autofill/content/common",  # Blocked on content.
+#      "//components/autofill/content/renderer",  # Blocked on content/blink.
+#      "//components/crash/app",  # Should work, needs checking.
+#      "//components/crash/browser",  # Should work, needs checking.
+#      "//components/captive_portal",  # Should work, needs checking.
+#      "//components/cloud_devices/common",  # Should work, needs checking.
       "//components/cdm/browser",  # Blocked on content.
       "//components/cdm/common",  # Blocked on content.
@@ -165,7 +165,7 @@ group("all_components") {
       "//components/favicon_base",  # Should work, needs checking.
       "//components/favicon/core",  # Blocked on keyed service.
-      "//components/feedback",  # Blocked on content.
+#      "//components/feedback",  # Blocked on content.
       "//components/gcm_driver",  # Should work, needs checking.
-      "//components/google/core/browser",  # Should work, needs checking.
+#      "//components/google/core/browser",  # Should work, needs checking.
       "//components/history/core/browser",  # Should work, needs checking.
       "//components/history/core/common",  # Should work, needs checking.
@@ -177,18 +177,18 @@ group("all_components") {
       "//components/navigation_interception",  # Blocked on content.
       "//components/omnibox",  # Should work, needs checking.
-      "//components/password_manager/content/browser",  # Blocked on content.
-      "//components/password_manager/core/browser",  # Should work, needs checking.
-      "//components/password_manager/core/common",  # Should work, needs checking.
-      "//components/plugins/renderer",  # Blocked on blink.
+#      "//components/password_manager/content/browser",  # Blocked on content.
+#      "//components/password_manager/core/browser",  # Should work, needs checking.
+#      "//components/password_manager/core/common",  # Should work, needs checking.
+#      "//components/plugins/renderer",  # Blocked on blink.
       "//components/power",  # Blocked on content.
       "//components/policy",  # Blocked on content (indirectly via autofill).
       "//components/precache/content",  # Blocked on content.
       "//components/precache/core",  # Should work, needs checking.
-      "//components/rappor",  # Should work, needs checking.
+#      "//components/rappor",  # Should work, needs checking.
       "//components/renderer_context_menu",  # Blocked on content.
       "//components/search_engines",  # Should work, needs checking.
       "//components/search_provider_logos",  # Should work, needs checking.
       "//components/sessions:sessions_content",  # Blocked on content.
-      "//components/signin/core/browser",  # Should work, needs checking.
+#      "//components/signin/core/browser",  # Should work, needs checking.
       "//components/translate/content/browser",  # Blocked on content.
       "//components/translate/content/common",  # Blocked on content.
@@ -206,6 +206,6 @@ group("all_components") {
   if (!is_ios && !is_android) {
     deps += [
-      "//components/copresence",
-      "//components/storage_monitor",
+#      "//components/copresence",
+#      "//components/storage_monitor",
     ]
   }
@@ -220,146 +220,3 @@ group("all_components") {
 }
 
-# To add a unit test to this target, make a "unit_test" source_set in your
-# component (it's important to use a source_set instead of a static library or
-# no tests will run) and add a reference here. You can add more than one unit
-# test target if convenient.
-test("components_unittests") {
-  sources = [
-    "test/run_all_unittests.cc",
-  ]
-
-  # Add only ":unit_tests" dependencies here. If your tests have dependencies
-  # (this would at least include the component itself), they should be on the
-  # test source set and not here.
-  deps = [
-    "//components/auto_login_parser:unit_tests",
-    "//components/autofill/content/browser:unit_tests",
-    "//components/autofill/core/browser:unit_tests",
-    "//components/autofill/core/common:unit_tests",
-    "//components/bookmarks/browser:unit_tests",
-    "//components/captive_portal:unit_tests",
-    "//components/cloud_devices/common:unit_tests",
-    "//components/content_settings/core/browser:unit_tests",
-    "//components/content_settings/core/common:unit_tests",
-    "//components/crx_file:unit_tests",
-    "//components/data_reduction_proxy/content/browser:unit_tests",
-    "//components/data_reduction_proxy/core/browser:unit_tests",
-    "//components/data_reduction_proxy/core/common:unit_tests",
-    "//components/device_event_log:unit_tests",
-    "//components/dom_distiller/core:unit_tests",
-    "//components/domain_reliability:unit_tests",
-    "//components/favicon_base:unit_tests",
-    "//components/google/core/browser:unit_tests",
-    "//components/invalidation:unittests",
-    "//components/login:unit_tests",
-    "//components/metrics:unit_tests",
-    "//components/omnibox:unit_tests",
-    "//components/ownership:unit_tests",
-    "//components/packed_ct_ev_whitelist:unit_tests",
-    "//components/proximity_auth:unit_tests",
-    "//components/update_client:unit_tests",
-    "//components/variations:unit_tests",
-    "//components/web_resource:unit_tests",
-    "//components/webdata/common:unit_tests",
-
-    # These are the deps required by the code in this target.
-    "//base",
-    "//base/test:test_support",
-    "//content/test:test_support",
-    "//ui/base",
-  ]
-  data_deps = [ ":components_tests_pak" ]
-
-  # TODO(GYP) need this target.
-  #'breakpad/app/crash_keys_win_unittest.cc',
-
-  # Precache tests need these defines.
-  #configs += [ "//components/precache/core:precache_config" ]
-
-  if (toolkit_views) {
-    # TODO(GYP) enable this as above.
-    #deps += [ "//components/constrained_window:unit_tests" ]
-  }
-  if (is_win) {
-    deps += [ "//components/browser_watcher:unit_tests" ]
-  }
-}
-
-repack("components_tests_pak") {
-  sources = [
-    "$root_gen_dir/components/components_resources.pak",
-    "$root_gen_dir/components/strings/components_strings_en-US.pak",
-    "$root_gen_dir/ui/resources/ui_resources_100_percent.pak",
-    "$root_gen_dir/ui/resources/webui_resources.pak",
-    "$root_gen_dir/ui/strings/app_locale_settings_en-US.pak",
-    "$root_gen_dir/ui/strings/ui_strings_en-US.pak",
-  ]
-
-  output = "$root_out_dir/components_tests_resources.pak"
-
-  deps = [
-    "//components/resources",
-    "//components/strings",
-    "//ui/resources",
-    "//ui/strings",
-  ]
-}
-
-if (is_linux && !is_chromeos) {
-  # TODO(GYP): Figure out which of these work and are needed on other platforms.
 
-  # TODO(GYP): Finish me ...
-  # test("components_browsertests") {
-  #   sources = [
-  #     "autofill/content/browser/risk/fingerprint_browsertest.cc",
-  #     "autofill/content/renderer/password_form_conversion_utils_browsertest.cc",
-  #     "dom_distiller/content/distiller_page_web_contents_browsertest.cc",
-  #     "password_manager/content/renderer/credential_manager_client_browsertest.cc",
-  #   ]
-  #
-  #   defines = [ "HAS_OUT_OF_PROC_TEST_RUNNER" ]
-  #
-  #   deps = [
-  #     "//components/resources:components_resources",
-  #     "//components/strings",
-  #     "//components/autofill/content/browser",
-  #     "//components/autofill/content/renderer",
-  #     "//components/dom_distiller/content",
-  #     "//components/dom_distiller/core",
-  #     "//components/password_manager/content/renderer",
-  #     "//testing/gmock",
-  #     "//testing/gtest",
-  #     "//content/public/common",
-  #     "//content/public/renderer",
-  #   ]
-  #
-  #   if (is_android) {
-  #     sources -= [
-  #     ]
-  #   }
-  #   if (is_linux) {
-  #     # content_extractor_browsertest is a standalone content extraction tool built as
-  #     # a MANUAL component_browsertest.
-  #     sources += [
-  #       "dom_distiller/standalone/content_extractor_browsertest.cc",
-  #     ]
-  #   }
-  # }
-
-  test("components_perftests") {
-    sources = [
-      "visitedlink/test/visitedlink_perftest.cc",
-    ]
-
-    # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-    configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-    deps = [
-      "//base",
-      "//base/test:test_support_perf",
-      "//testing/gtest",
-      "//content/test:test_support",
-      "//components/visitedlink/browser",
-    ]
-  }
-}
diff --git a/components/captive_portal/BUILD.gn b/components/captive_portal/BUILD.gn
index 3d77291..43967bb 100644
--- a/components/captive_portal/BUILD.gn
+++ b/components/captive_portal/BUILD.gn
@@ -31,5 +31,5 @@ source_set("test_support") {
     ":captive_portal",
     "//base",
-    "//net:test_support",
+#    "//net:test_support",
     "//url",
   ]
@@ -39,13 +39,13 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "captive_portal_detector_unittest.cc",
+#    "captive_portal_detector_unittest.cc",
   ]
 
   deps = [
     ":captive_portal",
-    ":test_support",
+#    ":test_support",
     "//base",
-    "//net:test_support",
-    "//testing/gtest",
+#    "//net:test_support",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/constrained_window/BUILD.gn b/components/constrained_window/BUILD.gn
index cbbb36f..2f83b21 100644
--- a/components/constrained_window/BUILD.gn
+++ b/components/constrained_window/BUILD.gn
@@ -20,10 +20,10 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "constrained_window_views_unittest.cc",
+#    "constrained_window_views_unittest.cc",
   ]
 
   deps = [
     ":constrained_window",
-    "//ui/views:test_support",
+#    "//ui/views:test_support",
   ]
 }
diff --git a/components/content_settings/core/browser/BUILD.gn b/components/content_settings/core/browser/BUILD.gn
index 667b5bc..5399e45 100644
--- a/components/content_settings/core/browser/BUILD.gn
+++ b/components/content_settings/core/browser/BUILD.gn
@@ -52,7 +52,7 @@ source_set("unit_tests") {
     "content_settings_mock_provider.cc",
     "content_settings_mock_provider.h",
-    "content_settings_provider_unittest.cc",
-    "content_settings_rule_unittest.cc",
-    "content_settings_utils_unittest.cc",
+#    "content_settings_provider_unittest.cc",
+#    "content_settings_rule_unittest.cc",
+#    "content_settings_utils_unittest.cc",
   ]
 
@@ -61,6 +61,6 @@ source_set("unit_tests") {
     "//base",
     "//components/content_settings/core/common",
-    "//components/content_settings/core/test:test_support",
-    "//testing/gtest",
+#    "//components/content_settings/core/test:test_support",
+#    "//testing/gtest",
     "//url",
   ]
diff --git a/components/content_settings/core/browser/content_settings_default_provider.cc b/components/content_settings/core/browser/content_settings_default_provider.cc
index bd0f474..256896a 100644
--- a/components/content_settings/core/browser/content_settings_default_provider.cc
+++ b/components/content_settings/core/browser/content_settings_default_provider.cc
@@ -12,5 +12,5 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/components/content_settings/core/browser/content_settings_pref_provider.cc b/components/content_settings/core/browser/content_settings_pref_provider.cc
index c506051..3a0d154 100644
--- a/components/content_settings/core/browser/content_settings_pref_provider.cc
+++ b/components/content_settings/core/browser/content_settings_pref_provider.cc
@@ -13,5 +13,5 @@
 #include "base/command_line.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/prefs/scoped_user_pref_update.h"
diff --git a/components/content_settings/core/common/BUILD.gn b/components/content_settings/core/common/BUILD.gn
index 3784bc6..48927dc 100644
--- a/components/content_settings/core/common/BUILD.gn
+++ b/components/content_settings/core/common/BUILD.gn
@@ -28,6 +28,6 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "content_settings_pattern_parser_unittest.cc",
-    "content_settings_pattern_unittest.cc",
+#    "content_settings_pattern_parser_unittest.cc",
+#    "content_settings_pattern_unittest.cc",
   ]
 
@@ -35,6 +35,6 @@ source_set("unit_tests") {
     ":common",
     "//net",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//testing/gmock",
+#    "//testing/gtest",
     "//url",
   ]
diff --git a/components/content_settings.gypi b/components/content_settings.gypi
index 6e7f0b2..c061c65 100644
--- a/components/content_settings.gypi
+++ b/components/content_settings.gypi
@@ -84,6 +84,6 @@
     },
     {
-      # GN version: //components/content_settings/core/test:test_support
-      'target_name': 'content_settings_core_test_support',
+#      # GN version: //components/content_settings/core/test:test_support
+#      'target_name': 'content_settings_core_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -97,6 +97,6 @@
       'sources': [
         # Note: sources list duplicated in GN build.
-        'content_settings/core/test/content_settings_test_utils.cc',
-        'content_settings/core/test/content_settings_test_utils.h',
+#        'content_settings/core/test/content_settings_test_utils.cc',
+#        'content_settings/core/test/content_settings_test_utils.h',
       ],
     },
diff --git a/components/crash/app/BUILD.gn b/components/crash/app/BUILD.gn
index 9dc7363..8214b41 100644
--- a/components/crash/app/BUILD.gn
+++ b/components/crash/app/BUILD.gn
@@ -4,5 +4,5 @@
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
diff --git a/components/crash/browser/BUILD.gn b/components/crash/browser/BUILD.gn
index 70d669f..a7241fc 100644
--- a/components/crash/browser/BUILD.gn
+++ b/components/crash/browser/BUILD.gn
@@ -4,5 +4,5 @@
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
diff --git a/components/crash.gypi b/components/crash.gypi
index e61d1c0..d6c03fb 100644
--- a/components/crash.gypi
+++ b/components/crash.gypi
@@ -87,6 +87,6 @@
     },
     {
-      # GN version: //components/crash/app:test_support
-      'target_name': 'crash_test_support',
+#      # GN version: //components/crash/app:test_support
+#      'target_name': 'crash_test_support',
       'type': 'none',
       'dependencies': [
diff --git a/components/cronet/android/chromium_url_request_context.cc b/components/cronet/android/chromium_url_request_context.cc
index bfe98d6..4bd9d22 100644
--- a/components/cronet/android/chromium_url_request_context.cc
+++ b/components/cronet/android/chromium_url_request_context.cc
@@ -12,5 +12,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/values.h"
 #include "components/cronet/android/chromium_url_request.h"
diff --git a/components/cronet/android/cronet_histogram_manager.cc b/components/cronet/android/cronet_histogram_manager.cc
index 8c30bbb..bec9957 100644
--- a/components/cronet/android/cronet_histogram_manager.cc
+++ b/components/cronet/android/cronet_histogram_manager.cc
@@ -9,5 +9,5 @@
 
 #include "base/android/jni_array.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "components/metrics/histogram_manager.h"
 
diff --git a/components/cronet.gypi b/components/cronet.gypi
index e7d6838..b067161 100644
--- a/components/cronet.gypi
+++ b/components/cronet.gypi
@@ -289,5 +289,5 @@
         },
         {
-          'target_name': 'cronet_sample_test_apk',
+#          'target_name': 'cronet_sample_test_apk',
           'type': 'none',
           'dependencies': [
@@ -295,5 +295,5 @@
             'cronet_sample_apk_java',
             'cronet_stub',
-            '../base/base.gyp:base_java_test_support',
+#            '../base/base.gyp:base_java_test_support',
           ],
           'variables': {
@@ -301,5 +301,5 @@
             'java_in_dir': 'cronet/android/sample/javatests',
             'resource_dir': 'cronet/android/sample/res',
-            'is_test_apk': 1,
+#            'is_test_apk': 1,
           },
           'includes': [ '../build/java_apk.gypi' ],
@@ -324,9 +324,9 @@
           'type': 'shared_library',
           'sources': [
-            'cronet/android/test/cronet_test_jni.cc',
+#            'cronet/android/test/cronet_test_jni.cc',
             'cronet/android/test/mock_url_request_job_factory.cc',
             'cronet/android/test/mock_url_request_job_factory.h',
-            'cronet/android/test/native_test_server.cc',
-            'cronet/android/test/native_test_server.h',
+#            'cronet/android/test/native_test_server.cc',
+#            'cronet/android/test/native_test_server.h',
             'cronet/android/test/test_upload_data_stream_handler.cc',
             'cronet/android/test/test_upload_data_stream_handler.h',
@@ -339,5 +339,5 @@
             '../base/base.gyp:base',
             '../net/net.gyp:net',
-            '../net/net.gyp:net_test_support',
+#            '../net/net.gyp:net_test_support',
             '../net/net.gyp:quic_tools',
             '../url/url.gyp:url_lib',
@@ -360,5 +360,5 @@
         },
         {
-          'target_name': 'cronet_test_apk',
+#          'target_name': 'cronet_test_apk',
           'type': 'none',
           'dependencies': [
@@ -375,22 +375,22 @@
         },
         {
-          # cronet_test_apk creates a .jar as a side effect. Any java targets
+#          # cronet_test_apk creates a .jar as a side effect. Any java targets
           # that need that .jar in their classpath should depend on this target,
-          # cronet_test_apk_java. Dependents of cronet_test_apk receive its
+#          # cronet_test_apk_java. Dependents of cronet_test_apk receive its
           # jar path in the variable 'apk_output_jar_path'. This target should
-          # only be used by targets which instrument cronet_test_apk.
-          'target_name': 'cronet_test_apk_java',
+#          # only be used by targets which instrument cronet_test_apk.
+#          'target_name': 'cronet_test_apk_java',
           'type': 'none',
           'dependencies': [
-            'cronet_test_apk',
+#            'cronet_test_apk',
           ],
           'includes': [ '../build/apk_fake_jar.gypi' ],
         },
         {
-          'target_name': 'cronet_test_instrumentation_apk',
+#          'target_name': 'cronet_test_instrumentation_apk',
           'type': 'none',
           'dependencies': [
-            'cronet_test_apk_java',
-            '../base/base.gyp:base_java_test_support',
+#            'cronet_test_apk_java',
+#            '../base/base.gyp:base_java_test_support',
           ],
           'variables': {
@@ -398,5 +398,5 @@
             'java_in_dir': 'cronet/android/test/javatests',
             'resource_dir': 'cronet/android/test/res',
-            'is_test_apk': 1,
+#            'is_test_apk': 1,
           },
           'includes': [ '../build/java_apk.gypi' ],
diff --git a/components/crx_file/BUILD.gn b/components/crx_file/BUILD.gn
index ab04a23..0ed204f 100644
--- a/components/crx_file/BUILD.gn
+++ b/components/crx_file/BUILD.gn
@@ -21,5 +21,5 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "id_util_unittest.cc",
+#    "id_util_unittest.cc",
   ]
 
@@ -27,5 +27,5 @@ source_set("unit_tests") {
     ":crx_file",
     "//base",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/data_reduction_proxy/content/browser/BUILD.gn b/components/data_reduction_proxy/content/browser/BUILD.gn
index 43af69b..9d167e0 100644
--- a/components/data_reduction_proxy/content/browser/BUILD.gn
+++ b/components/data_reduction_proxy/content/browser/BUILD.gn
@@ -41,5 +41,5 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "data_reduction_proxy_message_filter_unittest.cc",
+#    "data_reduction_proxy_message_filter_unittest.cc",
   ]
 
@@ -47,16 +47,16 @@ source_set("unit_tests") {
     ":browser",
     "//base",
-    "//components/data_reduction_proxy/core/browser:test_support",
-    "//components/data_reduction_proxy/core/common:test_support",
+#    "//components/data_reduction_proxy/core/browser:test_support",
+#    "//components/data_reduction_proxy/core/common:test_support",
     "//net",
-    "//testing/gtest",
-    "//testing/gmock",
+#    "//testing/gtest",
+#    "//testing/gmock",
   ]
 
   if (is_android) {
     sources += [
-      "data_reduction_proxy_debug_blocking_page_unittest.cc",
-      "data_reduction_proxy_debug_resource_throttle_unittest.cc",
-      "data_reduction_proxy_debug_ui_manager_unittest.cc",
+#      "data_reduction_proxy_debug_blocking_page_unittest.cc",
+#      "data_reduction_proxy_debug_resource_throttle_unittest.cc",
+#      "data_reduction_proxy_debug_ui_manager_unittest.cc",
     ]
 
diff --git a/components/data_reduction_proxy/core/browser/BUILD.gn b/components/data_reduction_proxy/core/browser/BUILD.gn
index 0bc2867..bcdba9b 100644
--- a/components/data_reduction_proxy/core/browser/BUILD.gn
+++ b/components/data_reduction_proxy/core/browser/BUILD.gn
@@ -55,12 +55,12 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "data_reduction_proxy_config_test_utils.cc",
-    "data_reduction_proxy_config_test_utils.h",
-    "data_reduction_proxy_configurator_test_utils.cc",
-    "data_reduction_proxy_configurator_test_utils.h",
-    "data_reduction_proxy_settings_test_utils.cc",
-    "data_reduction_proxy_settings_test_utils.h",
-    "data_reduction_proxy_test_utils.cc",
-    "data_reduction_proxy_test_utils.h",
+#    "data_reduction_proxy_config_test_utils.cc",
+#    "data_reduction_proxy_config_test_utils.h",
+#    "data_reduction_proxy_configurator_test_utils.cc",
+#    "data_reduction_proxy_configurator_test_utils.h",
+#    "data_reduction_proxy_settings_test_utils.cc",
+#    "data_reduction_proxy_settings_test_utils.h",
+#    "data_reduction_proxy_test_utils.cc",
+#    "data_reduction_proxy_test_utils.h",
   ]
 
@@ -72,11 +72,11 @@ source_set("test_support") {
   deps = [
     "//base",
-    "//base:prefs_test_support",
+#    "//base:prefs_test_support",
     "//components/data_reduction_proxy/core/common",
-    "//components/data_reduction_proxy/core/common:test_support",
+#    "//components/data_reduction_proxy/core/common:test_support",
     "//net",
-    "//net:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//net:test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 }
@@ -85,14 +85,14 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "data_reduction_proxy_bypass_protocol_unittest.cc",
-    "data_reduction_proxy_config_unittest.cc",
-    "data_reduction_proxy_configurator_unittest.cc",
-    "data_reduction_proxy_interceptor_unittest.cc",
-    "data_reduction_proxy_metrics_unittest.cc",
-    "data_reduction_proxy_network_delegate_unittest.cc",
-    "data_reduction_proxy_prefs_unittest.cc",
-    "data_reduction_proxy_request_options_unittest.cc",
-    "data_reduction_proxy_settings_unittest.cc",
-    "data_reduction_proxy_usage_stats_unittest.cc",
+#    "data_reduction_proxy_bypass_protocol_unittest.cc",
+#    "data_reduction_proxy_config_unittest.cc",
+#    "data_reduction_proxy_configurator_unittest.cc",
+#    "data_reduction_proxy_interceptor_unittest.cc",
+#    "data_reduction_proxy_metrics_unittest.cc",
+#    "data_reduction_proxy_network_delegate_unittest.cc",
+#    "data_reduction_proxy_prefs_unittest.cc",
+#    "data_reduction_proxy_request_options_unittest.cc",
+#    "data_reduction_proxy_settings_unittest.cc",
+#    "data_reduction_proxy_usage_stats_unittest.cc",
   ]
 
@@ -101,12 +101,12 @@ source_set("unit_tests") {
   deps = [
     ":browser",
-    ":test_support",
+#    ":test_support",
     "//base",
-    "//base:prefs_test_support",
-    "//base/test:test_support",
-    "//components/data_reduction_proxy/core/common:test_support",
-    "//net:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//base:prefs_test_support",
+#    "//base/test:test_support",
+#    "//components/data_reduction_proxy/core/common:test_support",
+#    "//net:test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/data_reduction_proxy/core/browser/data_reduction_proxy_config.cc b/components/data_reduction_proxy/core/browser/data_reduction_proxy_config.cc
index 29458b4..cee6386 100644
--- a/components/data_reduction_proxy/core/browser/data_reduction_proxy_config.cc
+++ b/components/data_reduction_proxy/core/browser/data_reduction_proxy_config.cc
@@ -7,6 +7,6 @@
 #include <string>
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/single_thread_task_runner.h"
 #include "base/strings/string_util.h"
diff --git a/components/data_reduction_proxy/core/browser/data_reduction_proxy_delegate.cc b/components/data_reduction_proxy/core/browser/data_reduction_proxy_delegate.cc
index b137580..1fcae34 100644
--- a/components/data_reduction_proxy/core/browser/data_reduction_proxy_delegate.cc
+++ b/components/data_reduction_proxy/core/browser/data_reduction_proxy_delegate.cc
@@ -7,5 +7,5 @@
 #include <cmath>
 
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "components/data_reduction_proxy/core/browser/data_reduction_proxy_config.h"
 #include "components/data_reduction_proxy/core/browser/data_reduction_proxy_request_options.h"
diff --git a/components/data_reduction_proxy/core/browser/data_reduction_proxy_metrics.cc b/components/data_reduction_proxy/core/browser/data_reduction_proxy_metrics.cc
index 728188d..c3b37de 100644
--- a/components/data_reduction_proxy/core/browser/data_reduction_proxy_metrics.cc
+++ b/components/data_reduction_proxy/core/browser/data_reduction_proxy_metrics.cc
@@ -5,5 +5,5 @@
 #include "components/data_reduction_proxy/core/browser/data_reduction_proxy_metrics.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/components/data_reduction_proxy/core/browser/data_reduction_proxy_network_delegate.cc b/components/data_reduction_proxy/core/browser/data_reduction_proxy_network_delegate.cc
index 029d53b..321aa42 100644
--- a/components/data_reduction_proxy/core/browser/data_reduction_proxy_network_delegate.cc
+++ b/components/data_reduction_proxy/core/browser/data_reduction_proxy_network_delegate.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/bind_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/single_thread_task_runner.h"
diff --git a/components/data_reduction_proxy/core/browser/data_reduction_proxy_settings.cc b/components/data_reduction_proxy/core/browser/data_reduction_proxy_settings.cc
index 712196b..0d571a4 100644
--- a/components/data_reduction_proxy/core/browser/data_reduction_proxy_settings.cc
+++ b/components/data_reduction_proxy/core/browser/data_reduction_proxy_settings.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_member.h"
 #include "base/prefs/pref_service.h"
diff --git a/components/data_reduction_proxy/core/browser/data_reduction_proxy_tamper_detection.cc b/components/data_reduction_proxy/core/browser/data_reduction_proxy_tamper_detection.cc
index 5db6551..d062c0c 100644
--- a/components/data_reduction_proxy/core/browser/data_reduction_proxy_tamper_detection.cc
+++ b/components/data_reduction_proxy/core/browser/data_reduction_proxy_tamper_detection.cc
@@ -10,6 +10,6 @@
 #include "base/base64.h"
 #include "base/md5.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/components/data_reduction_proxy/core/browser/data_reduction_proxy_usage_stats.cc b/components/data_reduction_proxy/core/browser/data_reduction_proxy_usage_stats.cc
index 84b14db..ebfc0ac 100644
--- a/components/data_reduction_proxy/core/browser/data_reduction_proxy_usage_stats.cc
+++ b/components/data_reduction_proxy/core/browser/data_reduction_proxy_usage_stats.cc
@@ -7,6 +7,6 @@
 #include "base/bind.h"
 #include "base/callback.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/prefs/pref_member.h"
 #include "base/single_thread_task_runner.h"
diff --git a/components/data_reduction_proxy/core/common/BUILD.gn b/components/data_reduction_proxy/core/common/BUILD.gn
index 674c361..ca97cbf 100644
--- a/components/data_reduction_proxy/core/common/BUILD.gn
+++ b/components/data_reduction_proxy/core/common/BUILD.gn
@@ -33,8 +33,8 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "data_reduction_proxy_headers_test_utils.cc",
-    "data_reduction_proxy_headers_test_utils.h",
-    "data_reduction_proxy_params_test_utils.cc",
-    "data_reduction_proxy_params_test_utils.h",
+#    "data_reduction_proxy_headers_test_utils.cc",
+#    "data_reduction_proxy_headers_test_utils.h",
+#    "data_reduction_proxy_params_test_utils.cc",
+#    "data_reduction_proxy_params_test_utils.h",
   ]
 
@@ -45,7 +45,7 @@ source_set("test_support") {
     "//base",
     "//net",
-    "//net:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//net:test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 }
@@ -54,16 +54,16 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "data_reduction_proxy_event_store_unittest.cc",
-    "data_reduction_proxy_headers_unittest.cc",
-    "data_reduction_proxy_params_unittest.cc",
+#    "data_reduction_proxy_event_store_unittest.cc",
+#    "data_reduction_proxy_headers_unittest.cc",
+#    "data_reduction_proxy_params_unittest.cc",
   ]
 
   deps = [
     ":common",
-    ":test_support",
+#    ":test_support",
     "//base",
-    "//base/test:test_support",
-    "//net:test_support",
-    "//testing/gtest",
+#    "//base/test:test_support",
+#    "//net:test_support",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/data_reduction_proxy/core/common/data_reduction_proxy_params.cc b/components/data_reduction_proxy/core/common/data_reduction_proxy_params.cc
index f2dca56..257aaf2 100644
--- a/components/data_reduction_proxy/core/common/data_reduction_proxy_params.cc
+++ b/components/data_reduction_proxy/core/common/data_reduction_proxy_params.cc
@@ -10,5 +10,5 @@
 #include "base/command_line.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_piece.h"
 #include "base/time/time.h"
diff --git a/components/data_reduction_proxy.gypi b/components/data_reduction_proxy.gypi
index 5e133e1..3325835 100644
--- a/components/data_reduction_proxy.gypi
+++ b/components/data_reduction_proxy.gypi
@@ -151,11 +151,11 @@
     },
     {
-      # GN version: //components/data_reduction_proxy/core/browser:test_support
-      'target_name': 'data_reduction_proxy_test_support',
+#      # GN version: //components/data_reduction_proxy/core/browser:test_support
+#      'target_name': 'data_reduction_proxy_test_support',
       'type': 'static_library',
       'dependencies' : [
         '../base/base.gyp:base',
         '../net/net.gyp:net',
-        '../net/net.gyp:net_test_support',
+#        '../net/net.gyp:net_test_support',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
@@ -169,16 +169,16 @@
       'sources': [
         # Note: sources list duplicated in GN build.
-        'data_reduction_proxy/core/browser/data_reduction_proxy_config_test_utils.cc',
-        'data_reduction_proxy/core/browser/data_reduction_proxy_config_test_utils.h',
-        'data_reduction_proxy/core/browser/data_reduction_proxy_configurator_test_utils.cc',
-        'data_reduction_proxy/core/browser/data_reduction_proxy_configurator_test_utils.h',
-        'data_reduction_proxy/core/browser/data_reduction_proxy_settings_test_utils.cc',
-        'data_reduction_proxy/core/browser/data_reduction_proxy_settings_test_utils.h',
-        'data_reduction_proxy/core/browser/data_reduction_proxy_test_utils.cc',
-        'data_reduction_proxy/core/browser/data_reduction_proxy_test_utils.h',
-        'data_reduction_proxy/core/common/data_reduction_proxy_headers_test_utils.cc',
-        'data_reduction_proxy/core/common/data_reduction_proxy_headers_test_utils.h',
-        'data_reduction_proxy/core/common/data_reduction_proxy_params_test_utils.cc',
-        'data_reduction_proxy/core/common/data_reduction_proxy_params_test_utils.h',
+#        'data_reduction_proxy/core/browser/data_reduction_proxy_config_test_utils.cc',
+#        'data_reduction_proxy/core/browser/data_reduction_proxy_config_test_utils.h',
+#        'data_reduction_proxy/core/browser/data_reduction_proxy_configurator_test_utils.cc',
+#        'data_reduction_proxy/core/browser/data_reduction_proxy_configurator_test_utils.h',
+#        'data_reduction_proxy/core/browser/data_reduction_proxy_settings_test_utils.cc',
+#        'data_reduction_proxy/core/browser/data_reduction_proxy_settings_test_utils.h',
+#        'data_reduction_proxy/core/browser/data_reduction_proxy_test_utils.cc',
+#        'data_reduction_proxy/core/browser/data_reduction_proxy_test_utils.h',
+#        'data_reduction_proxy/core/common/data_reduction_proxy_headers_test_utils.cc',
+#        'data_reduction_proxy/core/common/data_reduction_proxy_headers_test_utils.h',
+#        'data_reduction_proxy/core/common/data_reduction_proxy_params_test_utils.cc',
+#        'data_reduction_proxy/core/common/data_reduction_proxy_params_test_utils.h',
       ],
       # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
diff --git a/components/device_event_log/BUILD.gn b/components/device_event_log/BUILD.gn
index 0b1103b..56d3c9d 100644
--- a/components/device_event_log/BUILD.gn
+++ b/components/device_event_log/BUILD.gn
@@ -20,10 +20,10 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "device_event_log_impl_unittest.cc",
+#    "device_event_log_impl_unittest.cc",
   ]
 
   deps = [
     ":device_event_log",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/devtools_bridge.gyp b/components/devtools_bridge.gyp
index 37c5fce..caf9026 100644
--- a/components/devtools_bridge.gyp
+++ b/components/devtools_bridge.gyp
@@ -91,5 +91,5 @@
         'java_in_dir': 'devtools_bridge/android/javatests',
         'native_lib_target': 'libdevtools_bridge_natives_so',
-        'is_test_apk': 1,
+#        'is_test_apk': 1,
       },
       'includes': [ '../build/java_apk.gypi' ],
diff --git a/components/domain_reliability/BUILD.gn b/components/domain_reliability/BUILD.gn
index 9950a29..cf94e90 100644
--- a/components/domain_reliability/BUILD.gn
+++ b/components/domain_reliability/BUILD.gn
@@ -76,13 +76,13 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "config_unittest.cc",
-    "context_unittest.cc",
-    "dispatcher_unittest.cc",
-    "monitor_unittest.cc",
-    "scheduler_unittest.cc",
+#    "config_unittest.cc",
+#    "context_unittest.cc",
+#    "dispatcher_unittest.cc",
+#    "monitor_unittest.cc",
+#    "scheduler_unittest.cc",
     "test_util.cc",
     "test_util.h",
-    "uploader_unittest.cc",
-    "util_unittest.cc",
+#    "uploader_unittest.cc",
+#    "util_unittest.cc",
   ]
 
@@ -92,7 +92,7 @@ source_set("unit_tests") {
     ":domain_reliability",
     "//base",
-    "//base/test:test_support",
-    "//net:test_support",
-    "//testing/gtest",
+#    "//base/test:test_support",
+#    "//net:test_support",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/domain_reliability/context.cc b/components/domain_reliability/context.cc
index e33d056..42cf2ec 100644
--- a/components/domain_reliability/context.cc
+++ b/components/domain_reliability/context.cc
@@ -10,6 +10,6 @@
 #include "base/json/json_writer.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/values.h"
 #include "components/domain_reliability/dispatcher.h"
diff --git a/components/domain_reliability/scheduler.cc b/components/domain_reliability/scheduler.cc
index 2fc80bb..f02cf82 100644
--- a/components/domain_reliability/scheduler.cc
+++ b/components/domain_reliability/scheduler.cc
@@ -7,5 +7,5 @@
 #include <algorithm>
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/values.h"
diff --git a/components/domain_reliability/test_util.cc b/components/domain_reliability/test_util.cc
index b541bf7..a82c026 100644
--- a/components/domain_reliability/test_util.cc
+++ b/components/domain_reliability/test_util.cc
@@ -9,5 +9,5 @@
 #include "components/domain_reliability/scheduler.h"
 #include "net/url_request/url_request_status.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace domain_reliability {
diff --git a/components/domain_reliability/uploader.cc b/components/domain_reliability/uploader.cc
index fe968fb..5791315 100644
--- a/components/domain_reliability/uploader.cc
+++ b/components/domain_reliability/uploader.cc
@@ -8,5 +8,5 @@
 #include "base/callback.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/stl_util.h"
 #include "base/supports_user_data.h"
diff --git a/components/dom_distiller/android/BUILD.gn b/components/dom_distiller/android/BUILD.gn
index 3bda4e9..36a9467 100644
--- a/components/dom_distiller/android/BUILD.gn
+++ b/components/dom_distiller/android/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP: //components/dom_distiller.gypi:dom_distiller_core_java
diff --git a/components/dom_distiller/content/BUILD.gn b/components/dom_distiller/content/BUILD.gn
index 35af9dd..4ec61ee 100644
--- a/components/dom_distiller/content/BUILD.gn
+++ b/components/dom_distiller/content/BUILD.gn
@@ -25,5 +25,5 @@ if (!is_ios) {
       "//net",
       "//skia",
-      "//sync",
+#      "//sync",
       "//ui/gfx",
       "//url",
diff --git a/components/dom_distiller/content/dom_distiller_viewer_source.cc b/components/dom_distiller/content/dom_distiller_viewer_source.cc
index a3ae496..d5b3265 100644
--- a/components/dom_distiller/content/dom_distiller_viewer_source.cc
+++ b/components/dom_distiller/content/dom_distiller_viewer_source.cc
@@ -12,5 +12,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/strings/utf_string_conversions.h"
 #include "components/dom_distiller/core/distilled_page_prefs.h"
diff --git a/components/dom_distiller/core/BUILD.gn b/components/dom_distiller/core/BUILD.gn
index 2782d16..f145a8b 100644
--- a/components/dom_distiller/core/BUILD.gn
+++ b/components/dom_distiller/core/BUILD.gn
@@ -62,5 +62,5 @@ source_set("core") {
     "//net",
     "//skia",
-    "//sync",
+#    "//sync",
     "//ui/base",
     "//url",
@@ -80,6 +80,6 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "dom_distiller_test_util.cc",
-    "dom_distiller_test_util.h",
+#    "dom_distiller_test_util.cc",
+#    "dom_distiller_test_util.h",
     "fake_distiller.cc",
     "fake_distiller.h",
@@ -91,8 +91,8 @@ source_set("test_support") {
     ":core",
     "//base",
-    "//components/leveldb_proto:test_support",
-    "//sync",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//components/leveldb_proto:test_support",
+#    "//sync",
+#    "//testing/gmock",
+#    "//testing/gtest",
     "//url",
   ]
@@ -102,27 +102,27 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "article_entry_unittest.cc",
-    "distilled_content_store_unittest.cc",
-    "distilled_page_prefs_unittests.cc",
-    "distiller_unittest.cc",
-    "distiller_url_fetcher_unittest.cc",
-    "dom_distiller_model_unittest.cc",
-    "dom_distiller_service_unittest.cc",
-    "dom_distiller_store_unittest.cc",
-    "task_tracker_unittest.cc",
-    "url_utils_unittest.cc",
-    "viewer_unittest.cc",
+#    "article_entry_unittest.cc",
+#    "distilled_content_store_unittest.cc",
+#    "distilled_page_prefs_unittests.cc",
+#    "distiller_unittest.cc",
+#    "distiller_url_fetcher_unittest.cc",
+#    "dom_distiller_model_unittest.cc",
+#    "dom_distiller_service_unittest.cc",
+#    "dom_distiller_store_unittest.cc",
+#    "task_tracker_unittest.cc",
+#    "url_utils_unittest.cc",
+#    "viewer_unittest.cc",
   ]
 
   deps = [
     ":core",
-    ":test_support",
+#    ":test_support",
     "//base",
-    "//components/leveldb_proto:test_support",
-    "//components/pref_registry:test_support",
-    "//net:test_support",
-    "//sync",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//components/leveldb_proto:test_support",
+#    "//components/pref_registry:test_support",
+#    "//net:test_support",
+#    "//sync",
+#    "//testing/gmock",
+#    "//testing/gtest",
     "//url",
   ]
@@ -130,5 +130,5 @@ source_set("unit_tests") {
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 
   generate_jni("jni_headers") {
diff --git a/components/dom_distiller/core/distiller_page.cc b/components/dom_distiller/core/distiller_page.cc
index 1e70b83..97aba7c 100644
--- a/components/dom_distiller/core/distiller_page.cc
+++ b/components/dom_distiller/core/distiller_page.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/components/dom_distiller/core/fake_distiller.cc b/components/dom_distiller/core/fake_distiller.cc
index 8211032..21b7b8e 100644
--- a/components/dom_distiller/core/fake_distiller.cc
+++ b/components/dom_distiller/core/fake_distiller.cc
@@ -9,5 +9,5 @@
 #include "base/callback_helpers.h"
 #include "base/message_loop/message_loop.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace dom_distiller {
diff --git a/components/dom_distiller/core/fake_distiller.h b/components/dom_distiller/core/fake_distiller.h
index ac20a9b..73ecbde 100644
--- a/components/dom_distiller/core/fake_distiller.h
+++ b/components/dom_distiller/core/fake_distiller.h
@@ -10,5 +10,5 @@
 #include "components/dom_distiller/core/article_entry.h"
 #include "components/dom_distiller/core/distiller.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "url/gurl.h"
 
diff --git a/components/dom_distiller/core/fake_distiller_page.h b/components/dom_distiller/core/fake_distiller_page.h
index b1df4e8..6eb56bf 100644
--- a/components/dom_distiller/core/fake_distiller_page.h
+++ b/components/dom_distiller/core/fake_distiller_page.h
@@ -7,5 +7,5 @@
 
 #include "components/dom_distiller/core/distiller_page.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace dom_distiller {
diff --git a/components/dom_distiller/core/feedback_reporter.cc b/components/dom_distiller/core/feedback_reporter.cc
index a536ef7..b14d18b 100644
--- a/components/dom_distiller/core/feedback_reporter.cc
+++ b/components/dom_distiller/core/feedback_reporter.cc
@@ -5,5 +5,5 @@
 #include "components/dom_distiller/core/feedback_reporter.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace dom_distiller {
diff --git a/components/dom_distiller/core/viewer.cc b/components/dom_distiller/core/viewer.cc
index 00e05ca..2d09e0e 100644
--- a/components/dom_distiller/core/viewer.cc
+++ b/components/dom_distiller/core/viewer.cc
@@ -10,5 +10,5 @@
 #include "base/json/json_writer.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "components/dom_distiller/core/distilled_page_prefs.h"
diff --git a/components/dom_distiller.gypi b/components/dom_distiller.gypi
index 6e8cf3a..2007602 100644
--- a/components/dom_distiller.gypi
+++ b/components/dom_distiller.gypi
@@ -112,10 +112,10 @@
         },
         {
-          # GN version: components/dom_distiller/core:test_support
-          'target_name': 'dom_distiller_test_support',
+#          # GN version: components/dom_distiller/core:test_support
+#          'target_name': 'dom_distiller_test_support',
           'type': 'static_library',
           'dependencies': [
             'dom_distiller_core',
-            'components.gyp:leveldb_proto_test_support',
+#            'components.gyp:leveldb_proto_test_support',
             '../sync/sync.gyp:sync',
             '../testing/gmock.gyp:gmock',
@@ -126,6 +126,6 @@
           ],
           'sources': [
-            'dom_distiller/core/dom_distiller_test_util.cc',
-            'dom_distiller/core/dom_distiller_test_util.h',
+#            'dom_distiller/core/dom_distiller_test_util.cc',
+#            'dom_distiller/core/dom_distiller_test_util.h',
             'dom_distiller/core/fake_distiller.cc',
             'dom_distiller/core/fake_distiller.h',
diff --git a/components/dom_distiller/webui/BUILD.gn b/components/dom_distiller/webui/BUILD.gn
index 539c04b..2943407 100644
--- a/components/dom_distiller/webui/BUILD.gn
+++ b/components/dom_distiller/webui/BUILD.gn
@@ -21,5 +21,5 @@ static_library("webui") {
     "//net",
     "//skia",
-    "//sync",
+#    "//sync",
     "//url",
   ]
diff --git a/components/enhanced_bookmarks/BUILD.gn b/components/enhanced_bookmarks/BUILD.gn
index 924b570..df080c8 100644
--- a/components/enhanced_bookmarks/BUILD.gn
+++ b/components/enhanced_bookmarks/BUILD.gn
@@ -4,6 +4,6 @@
 
 if (is_android) {
-  import("//build/config/android/config.gni")
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/config.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -78,5 +78,5 @@ source_set("test_support") {
     ":enhanced_bookmarks",
     "//skia",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/enhanced_bookmarks.gypi b/components/enhanced_bookmarks.gypi
index 8b913fa..7f810bf 100644
--- a/components/enhanced_bookmarks.gypi
+++ b/components/enhanced_bookmarks.gypi
@@ -63,6 +63,6 @@
     },
     {
-      # GN: //components/enhanced_bookmarks:enhanced_bookmarks_test_support
-      'target_name': 'enhanced_bookmarks_test_support',
+#      # GN: //components/enhanced_bookmarks:enhanced_bookmarks_test_support
+#      'target_name': 'enhanced_bookmarks_test_support',
       'type': 'static_library',
       'include_dirs': [
diff --git a/components/error_page/common/net_error_info.cc b/components/error_page/common/net_error_info.cc
index d47e7e5..ea3bf28 100644
--- a/components/error_page/common/net_error_info.cc
+++ b/components/error_page/common/net_error_info.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace chrome_common_net {
diff --git a/components/error_page/renderer/net_error_helper_core.cc b/components/error_page/renderer/net_error_helper_core.cc
index 1cc3005..558c8bb 100644
--- a/components/error_page/renderer/net_error_helper_core.cc
+++ b/components/error_page/renderer/net_error_helper_core.cc
@@ -18,5 +18,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string16.h"
 #include "base/strings/string_util.h"
diff --git a/components/favicon_base/BUILD.gn b/components/favicon_base/BUILD.gn
index 07daa0a..fc4baff 100644
--- a/components/favicon_base/BUILD.gn
+++ b/components/favicon_base/BUILD.gn
@@ -33,10 +33,10 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "select_favicon_frames_unittest.cc",
+#    "select_favicon_frames_unittest.cc",
   ]
 
   deps = [
     ":favicon_base",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//ui/base",
     "//ui/gfx",
diff --git a/components/gcm_driver/android/BUILD.gn b/components/gcm_driver/android/BUILD.gn
index 70e99a9..38da57a 100644
--- a/components/gcm_driver/android/BUILD.gn
+++ b/components/gcm_driver/android/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP version: components/gcm_driver.gypi:gcm_driver_jni_headers
@@ -18,5 +18,5 @@ android_library("gcm_driver_java") {
     "//base:base_java",
     "//content/public/android:content_java",
-    "//sync/android:sync_java",
+#    "//sync/android:sync_java",
     "//third_party/android_tools:android_gcm_java",
     "//third_party/cacheinvalidation:cacheinvalidation_javalib",
diff --git a/components/gcm_driver/BUILD.gn b/components/gcm_driver/BUILD.gn
index e8c9a17..b7c465e 100644
--- a/components/gcm_driver/BUILD.gn
+++ b/components/gcm_driver/BUILD.gn
@@ -49,5 +49,5 @@ static_library("gcm_driver") {
     "//google_apis/gcm",
     "//net",
-    "//sync/protocol",
+#    "//sync/protocol",
   ]
 
@@ -80,32 +80,2 @@ static_library("gcm_driver") {
 }
 
-static_library("test_support") {
-  testonly = true
-  sources = [
-    "fake_gcm_app_handler.cc",
-    "fake_gcm_app_handler.h",
-    "fake_gcm_client.cc",
-    "fake_gcm_client.h",
-    "fake_gcm_client_factory.cc",
-    "fake_gcm_client_factory.h",
-    "fake_gcm_driver.cc",
-    "fake_gcm_driver.h",
-  ]
-
-  deps = [
-    ":gcm_driver",
-    "//base",
-    "//google_apis/gcm",
-    "//testing/gtest",
-  ]
-
-  if (is_android) {
-    sources -= [
-      "fake_gcm_client.cc",
-      "fake_gcm_client.h",
-      "fake_gcm_client_factory.cc",
-      "fake_gcm_client_factory.h",
-    ]
-    deps -= [ "//google_apis/gcm" ]
-  }
-}
diff --git a/components/gcm_driver/gcm_client_impl.cc b/components/gcm_driver/gcm_client_impl.cc
index 1c9f64f..f7687c9f 100644
--- a/components/gcm_driver/gcm_client_impl.cc
+++ b/components/gcm_driver/gcm_client_impl.cc
@@ -10,5 +10,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/sequenced_task_runner.h"
 #include "base/stl_util.h"
diff --git a/components/gcm_driver/gcm_driver_desktop.cc b/components/gcm_driver/gcm_driver_desktop.cc
index e6d04f5..32fd7a1 100644
--- a/components/gcm_driver/gcm_driver_desktop.cc
+++ b/components/gcm_driver/gcm_driver_desktop.cc
@@ -12,5 +12,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/threading/sequenced_worker_pool.h"
diff --git a/components/gcm_driver/gcm_stats_recorder_impl.cc b/components/gcm_driver/gcm_stats_recorder_impl.cc
index 524372d..f789762 100644
--- a/components/gcm_driver/gcm_stats_recorder_impl.cc
+++ b/components/gcm_driver/gcm_stats_recorder_impl.cc
@@ -10,5 +10,5 @@
 #include "base/format_macros.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/components/gcm_driver.gypi b/components/gcm_driver.gypi
index e783ba9..2b7329d 100644
--- a/components/gcm_driver.gypi
+++ b/components/gcm_driver.gypi
@@ -99,11 +99,11 @@
     },
     {
-      # GN version: //components/gcm_driver:test_support
-      'target_name': 'gcm_driver_test_support',
+#      # GN version: //components/gcm_driver:test_support
+#      'target_name': 'gcm_driver_test_support',
       'type': 'static_library',
       'dependencies': [
         'gcm_driver',
         '../base/base.gyp:base',
-        '../google_apis/gcm/gcm.gyp:gcm_test_support',
+#        '../google_apis/gcm/gcm.gyp:gcm_test_support',
         '../testing/gtest.gyp:gtest',
       ],
@@ -125,5 +125,5 @@
         ['OS == "android"', {
           'dependencies!': [
-            '../google_apis/gcm/gcm.gyp:gcm_test_support',
+#            '../google_apis/gcm/gcm.gyp:gcm_test_support',
           ],
           'sources!': [
diff --git a/components/history/core/browser/BUILD.gn b/components/history/core/browser/BUILD.gn
index 3a4571d..5bbf892 100644
--- a/components/history/core/browser/BUILD.gn
+++ b/components/history/core/browser/BUILD.gn
@@ -74,5 +74,5 @@ static_library("browser") {
     "//components/keyed_service/core",
     "//components/query_parser",
-    "//components/signin/core/browser",
+#    "//components/signin/core/browser",
     "//google_apis",
     "//net",
diff --git a/components/history/core/browser/download_database.cc b/components/history/core/browser/download_database.cc
index b0a253c..1fbe841 100644
--- a/components/history/core/browser/download_database.cc
+++ b/components/history/core/browser/download_database.cc
@@ -12,5 +12,5 @@
 #include "base/files/file_path.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/components/history/core/browser/history_database.cc b/components/history/core/browser/history_database.cc
index 3de4523..60ecac7 100644
--- a/components/history/core/browser/history_database.cc
+++ b/components/history/core/browser/history_database.cc
@@ -11,5 +11,5 @@
 #include "base/command_line.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/strings/string_util.h"
diff --git a/components/history/core/browser/in_memory_database.cc b/components/history/core/browser/in_memory_database.cc
index 5ae9b22..7cdf5fd 100644
--- a/components/history/core/browser/in_memory_database.cc
+++ b/components/history/core/browser/in_memory_database.cc
@@ -7,5 +7,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/time/time.h"
diff --git a/components/history/core/browser/thumbnail_database.cc b/components/history/core/browser/thumbnail_database.cc
index eefeca0..4e58d9e 100644
--- a/components/history/core/browser/thumbnail_database.cc
+++ b/components/history/core/browser/thumbnail_database.cc
@@ -14,5 +14,5 @@
 #include "base/format_macros.h"
 #include "base/memory/ref_counted_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/strings/string_util.h"
diff --git a/components/history/core/browser/top_sites_database.cc b/components/history/core/browser/top_sites_database.cc
index 74ab115..6315eaf 100644
--- a/components/history/core/browser/top_sites_database.cc
+++ b/components/history/core/browser/top_sites_database.cc
@@ -7,5 +7,5 @@
 #include "base/files/file_util.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_split.h"
 #include "base/strings/string_util.h"
diff --git a/components/history/core/browser/web_history_service.cc b/components/history/core/browser/web_history_service.cc
index b4e953e..a7a4a42 100644
--- a/components/history/core/browser/web_history_service.cc
+++ b/components/history/core/browser/web_history_service.cc
@@ -8,10 +8,10 @@
 #include "base/json/json_reader.h"
 #include "base/json/json_writer.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/values.h"
-#include "components/signin/core/browser/signin_manager.h"
+//#include "components/signin/core/browser/signin_manager.h"
 #include "google_apis/gaia/gaia_urls.h"
 #include "google_apis/gaia/google_service_auth_error.h"
diff --git a/components/history/core/test/BUILD.gn b/components/history/core/test/BUILD.gn
index 95c46db..0feab44 100644
--- a/components/history/core/test/BUILD.gn
+++ b/components/history/core/test/BUILD.gn
@@ -6,10 +6,10 @@ static_library("test") {
   testonly = true
   sources = [
-    "database_test_utils.cc",
-    "database_test_utils.h",
+#    "database_test_utils.cc",
+#    "database_test_utils.h",
     "history_client_fake_bookmarks.cc",
     "history_client_fake_bookmarks.h",
-    "history_unittest_base.cc",
-    "history_unittest_base.h",
+#    "history_unittest_base.cc",
+#    "history_unittest_base.h",
     "test_history_database.cc",
     "test_history_database.h",
@@ -20,5 +20,5 @@ static_library("test") {
     "//components/history/core/browser",
     "//sql",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//url",
   ]
diff --git a/components/history.gypi b/components/history.gypi
index 75be781..5a53d63 100644
--- a/components/history.gypi
+++ b/components/history.gypi
@@ -134,5 +134,5 @@
     {
       # GN version: //components/history/core/test
-      'target_name': 'history_core_test_support',
+#      'target_name': 'history_core_test_support',
       'type': 'static_library',
       'include_dirs': [
@@ -148,10 +148,10 @@
       'sources': [
         # Note: sources list duplicated in GN build.
-        'history/core/test/database_test_utils.cc',
-        'history/core/test/database_test_utils.h',
+#        'history/core/test/database_test_utils.cc',
+#        'history/core/test/database_test_utils.h',
         'history/core/test/history_client_fake_bookmarks.cc',
         'history/core/test/history_client_fake_bookmarks.h',
-        'history/core/test/history_unittest_base.cc',
-        'history/core/test/history_unittest_base.h',
+#        'history/core/test/history_unittest_base.cc',
+#        'history/core/test/history_unittest_base.h',
         'history/core/test/test_history_database.cc',
         'history/core/test/test_history_database.h',
diff --git a/components/invalidation/BUILD.gn b/components/invalidation/BUILD.gn
index a3f835b..5cae266 100644
--- a/components/invalidation/BUILD.gn
+++ b/components/invalidation/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -88,7 +88,7 @@ static_library("invalidation") {
     "//components/keyed_service/core",
     "//components/pref_registry",
-    "//components/signin/core/browser",
+#    "//components/signin/core/browser",
     "//google_apis",
-    "//jingle:notifier",
+#    "//jingle:notifier",
 
     # TODO(sync): Remove this (http://crbug.com/133352);
@@ -109,93 +109,4 @@ static_library("invalidation") {
 }
 
-group("unittests") {
-  testonly = true
-  deps = [
-    ":invalidation",
-    ":test_support",
-  ]
-  if (is_android) {
-    deps += [
-      ":javatests",
-      ":jni_headers",
-    ]
-  }
-}
-
-static_library("test_support") {
-  testonly = true
-  sources = [
-    "fake_invalidation_handler.cc",
-    "fake_invalidation_handler.h",
-    "fake_invalidation_state_tracker.cc",
-    "fake_invalidation_state_tracker.h",
-    "fake_invalidator.cc",
-    "fake_invalidator.h",
-    "invalidation_service_test_template.cc",
-    "invalidation_service_test_template.h",
-    "invalidation_test_util.cc",
-    "invalidation_test_util.h",
-    "invalidator_test_template.cc",
-    "invalidator_test_template.h",
-    "object_id_invalidation_map_test_util.cc",
-    "object_id_invalidation_map_test_util.h",
-    "unacked_invalidation_set_test_util.cc",
-    "unacked_invalidation_set_test_util.h",
-  ]
 
-  deps = [
-    "//base",
-    "//components/gcm_driver:test_support",
-    "//components/keyed_service/core",
-    "//google_apis",
-    "//jingle:notifier",
-    "//jingle:notifier_test_util",
-    "//net",
-    "//testing/gmock",
-    "//third_party/cacheinvalidation",
 
-    # TODO(sync): Remove this (http://crbug.com/133352);
-    "//third_party/protobuf:protobuf_lite",
-
-    # "//third_party/cacheinvalidation/src/google/cacheinvalidation:cacheinvalidation_proto_cpp",
-  ]
-
-  if (is_android) {
-    deps += [ ":jni_headers" ]
-  } else {
-    sources += [
-      "p2p_invalidation_service.cc",
-      "p2p_invalidation_service.h",
-    ]
-  }
-}
-
-if (is_android) {
-  android_library("java") {
-    deps = [
-      "//base:base_java",
-      "//sync/android:sync_java",
-      "//third_party/cacheinvalidation:cacheinvalidation_javalib",
-      "//third_party/cacheinvalidation:cacheinvalidation_proto_java",
-      "//third_party/jsr-305:jsr_305_javalib",
-    ]
-    DEPRECATED_java_in_dir = "android/java/src"
-  }
-  android_library("javatests") {
-    deps = [
-      ":java",
-      "//base:base_java",
-      "//base:base_java_test_support",
-      "//sync/android:sync_java",
-      "//third_party/cacheinvalidation:cacheinvalidation_javalib",
-      "//third_party/cacheinvalidation:cacheinvalidation_proto_java",
-    ]
-    DEPRECATED_java_in_dir = "android/javatests/src"
-  }
-  generate_jni("jni_headers") {
-    sources = [
-      "android/java/src/org/chromium/components/invalidation/InvalidationService.java",
-    ]
-    jni_package = "components/invalidation"
-  }
-}
diff --git a/components/invalidation/fake_invalidation_state_tracker.cc b/components/invalidation/fake_invalidation_state_tracker.cc
index 6dda929..95c7652 100644
--- a/components/invalidation/fake_invalidation_state_tracker.cc
+++ b/components/invalidation/fake_invalidation_state_tracker.cc
@@ -9,5 +9,5 @@
 #include "base/location.h"
 #include "base/task_runner.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace syncer {
diff --git a/components/invalidation/gcm_network_channel.cc b/components/invalidation/gcm_network_channel.cc
index 5d11990..a6f28d5 100644
--- a/components/invalidation/gcm_network_channel.cc
+++ b/components/invalidation/gcm_network_channel.cc
@@ -5,5 +5,5 @@
 #include "base/base64.h"
 #include "base/i18n/time_formatting.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sha1.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/components/invalidation.gypi b/components/invalidation.gypi
index 8378c2c..5935b23 100644
--- a/components/invalidation.gypi
+++ b/components/invalidation.gypi
@@ -118,6 +118,6 @@
 
     {
-      # GN version: //components/invalidation:test_support
-      'target_name': 'invalidation_test_support',
+#      # GN version: //components/invalidation:test_support
+#      'target_name': 'invalidation_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -125,10 +125,10 @@
         '../google_apis/google_apis.gyp:google_apis',
         '../jingle/jingle.gyp:notifier',
-        '../jingle/jingle.gyp:notifier_test_util',
+#        '../jingle/jingle.gyp:notifier_test_util',
         '../net/net.gyp:net',
         '../testing/gmock.gyp:gmock',
         '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation',
         '../third_party/cacheinvalidation/cacheinvalidation.gyp:cacheinvalidation_proto_cpp',
-        'gcm_driver_test_support',
+#        'gcm_driver_test_support',
         'keyed_service_core',
       ],
@@ -144,14 +144,14 @@
         'invalidation/fake_invalidator.cc',
         'invalidation/fake_invalidator.h',
-        'invalidation/invalidation_service_test_template.cc',
-        'invalidation/invalidation_service_test_template.h',
-        'invalidation/invalidation_test_util.cc',
-        'invalidation/invalidation_test_util.h',
-        'invalidation/invalidator_test_template.cc',
-        'invalidation/invalidator_test_template.h',
-        'invalidation/object_id_invalidation_map_test_util.cc',
-        'invalidation/object_id_invalidation_map_test_util.h',
-        'invalidation/unacked_invalidation_set_test_util.cc',
-        'invalidation/unacked_invalidation_set_test_util.h',
+#        'invalidation/invalidation_service_test_template.cc',
+#        'invalidation/invalidation_service_test_template.h',
+#        'invalidation/invalidation_test_util.cc',
+#        'invalidation/invalidation_test_util.h',
+#        'invalidation/invalidator_test_template.cc',
+#        'invalidation/invalidator_test_template.h',
+#        'invalidation/object_id_invalidation_map_test_util.cc',
+#        'invalidation/object_id_invalidation_map_test_util.h',
+#        'invalidation/unacked_invalidation_set_test_util.cc',
+#        'invalidation/unacked_invalidation_set_test_util.h',
       ],
       'conditions': [
@@ -192,5 +192,5 @@
           'dependencies': [
             'invalidation_java',
-            '../base/base.gyp:base_java_test_support',
+#            '../base/base.gyp:base_java_test_support',
           ],
           'variables': {
diff --git a/components/invalidation/invalidation_notifier.cc b/components/invalidation/invalidation_notifier.cc
index 901129b..e88f5fa 100644
--- a/components/invalidation/invalidation_notifier.cc
+++ b/components/invalidation/invalidation_notifier.cc
@@ -8,5 +8,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "components/invalidation/invalidation_handler.h"
 #include "google/cacheinvalidation/include/invalidation-client-factory.h"
diff --git a/components/invalidation/ticl_invalidation_service.cc b/components/invalidation/ticl_invalidation_service.cc
index e60902c..59374f5 100644
--- a/components/invalidation/ticl_invalidation_service.cc
+++ b/components/invalidation/ticl_invalidation_service.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "components/gcm_driver/gcm_driver.h"
 #include "components/invalidation/gcm_invalidation_bridge.h"
diff --git a/components/leveldb_proto.gypi b/components/leveldb_proto.gypi
index b90ad90..8580a28 100644
--- a/components/leveldb_proto.gypi
+++ b/components/leveldb_proto.gypi
@@ -23,5 +23,5 @@
     },
     {
-      'target_name': 'leveldb_proto_test_support',
+#      'target_name': 'leveldb_proto_test_support',
       'type': 'static_library',
       'dependencies': [
diff --git a/components/login/BUILD.gn b/components/login/BUILD.gn
index 26a2868..8e04fed 100644
--- a/components/login/BUILD.gn
+++ b/components/login/BUILD.gn
@@ -27,5 +27,5 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "screens/screen_context_unittest.cc",
+#    "screens/screen_context_unittest.cc",
   ]
 
@@ -33,5 +33,5 @@ source_set("unit_tests") {
     ":login",
     "//base",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/nacl/browser/nacl_browser.cc b/components/nacl/browser/nacl_browser.cc
index f53b3e0..9eca4cd 100644
--- a/components/nacl/browser/nacl_browser.cc
+++ b/components/nacl/browser/nacl_browser.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_util.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/pickle.h"
diff --git a/components/nacl/browser/nacl_process_host.cc b/components/nacl/browser/nacl_process_host.cc
index e143416..3087392 100644
--- a/components/nacl/browser/nacl_process_host.cc
+++ b/components/nacl/browser/nacl_process_host.cc
@@ -14,5 +14,5 @@
 #include "base/files/file_util.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/process/launch.h"
diff --git a/components/nacl/BUILD.gn b/components/nacl/BUILD.gn
index 8c63c51..12a4e66 100644
--- a/components/nacl/BUILD.gn
+++ b/components/nacl/BUILD.gn
@@ -30,5 +30,5 @@ if (enable_nacl) {
       "//ipc",
       "//mojo/nacl:monacl_sel",
-      "//native_client/src/trusted/service_runtime:sel_main_chrome",
+#      "//native_client/src/trusted/service_runtime:sel_main_chrome",
       "//ppapi/proxy:ipc",
       "//ppapi/shared_impl",
@@ -76,5 +76,5 @@ if (enable_nacl) {
       ":nacl_common",
       ":nacl_switches",
-      "//native_client/src/trusted/service_runtime:sel_main_chrome",
+#      "//native_client/src/trusted/service_runtime:sel_main_chrome",
       "//content//public/browser",
     ]
@@ -130,11 +130,11 @@ if (enable_nacl) {
     testonly = true
     sources = [
-      "loader/run_all_unittests.cc",
+#      "loader/run_all_unittests.cc",
     ]
 
     deps = [
       ":nacl",
-      "//base/test:test_support",
-      "//testing/gtest",
+#      "//base/test:test_support",
+#      "//testing/gtest",
     ]
   }
diff --git a/components/nacl.gyp b/components/nacl.gyp
index df9c827..a66846c 100644
--- a/components/nacl.gyp
+++ b/components/nacl.gyp
@@ -180,15 +180,15 @@
         },
         {
-          'target_name': 'nacl_loader_unittests',
+#          'target_name': 'nacl_loader_unittests',
           'type': '<(gtest_target_type)',
           'sources': [
-            'nacl/loader/nacl_ipc_adapter_unittest.cc',
-            'nacl/loader/nacl_validation_query_unittest.cc',
-            'nacl/loader/run_all_unittests.cc',
+#            'nacl/loader/nacl_ipc_adapter_unittest.cc',
+#            'nacl/loader/nacl_validation_query_unittest.cc',
+#            'nacl/loader/run_all_unittests.cc',
           ],
           'dependencies': [
             'nacl',
-            '../base/base.gyp:test_support_base',
-            '../ipc/ipc.gyp:test_support_ipc',
+#            '../base/base.gyp:test_support_base',
+#            '../ipc/ipc.gyp:test_support_ipc',
             '../testing/gtest.gyp:gtest',
           ],
@@ -199,13 +199,13 @@
                 # established a way to run browser_tests on ARM Chrome OS
                 # devices (http://crbug.com/364729).
-                'nacl/loader/nonsfi/irt_icache_unittest.cc',
+#                'nacl/loader/nonsfi/irt_icache_unittest.cc',
                 # TODO(hamaji): Currently, we build them twice. Stop building
-                # them for components_unittests. See crbug.com/364751
-                'nacl/loader/nonsfi/nonsfi_sandbox_sigsys_unittest.cc',
-                'nacl/loader/nonsfi/nonsfi_sandbox_unittest.cc',
+#                # them for components_unittests. See crbug.com/364751
+#                'nacl/loader/nonsfi/nonsfi_sandbox_sigsys_unittest.cc',
+#                'nacl/loader/nonsfi/nonsfi_sandbox_unittest.cc',
               ],
               'dependencies': [
                 'nacl_linux',
-                '../sandbox/sandbox.gyp:sandbox_linux_test_utils',
+#                '../sandbox/sandbox.gyp:sandbox_linux_test_utils',
               ],
             }],
@@ -440,8 +440,8 @@
       'targets': [
         {
-          'target_name': 'nacl_loader_unittests_run',
+#          'target_name': 'nacl_loader_unittests_run',
           'type': 'none',
           'dependencies': [
-            'nacl_loader_unittests',
+#            'nacl_loader_unittests',
           ],
           'includes': [
@@ -449,5 +449,5 @@
           ],
           'sources': [
-            'nacl_loader_unittests.isolate',
+#            'nacl_loader_unittests.isolate',
           ],
         },
diff --git a/components/nacl_nonsfi.gyp b/components/nacl_nonsfi.gyp
index 867bce0..d64996e 100644
--- a/components/nacl_nonsfi.gyp
+++ b/components/nacl_nonsfi.gyp
@@ -146,5 +146,5 @@
           ],
         },
-        # TODO(hidehiko): Add Non-SFI version of nacl_loader_unittests.
+#        # TODO(hidehiko): Add Non-SFI version of nacl_loader_unittests.
       ],
     }],
diff --git a/components/nacl/renderer/histogram.cc b/components/nacl/renderer/histogram.cc
index 9d8e15d..b4f04ac 100644
--- a/components/nacl/renderer/histogram.cc
+++ b/components/nacl/renderer/histogram.cc
@@ -5,5 +5,5 @@
 #include "components/nacl/renderer/histogram.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace nacl {
diff --git a/components/nacl/renderer/nexe_load_manager.cc b/components/nacl/renderer/nexe_load_manager.cc
index bb1f415..386479e 100644
--- a/components/nacl/renderer/nexe_load_manager.cc
+++ b/components/nacl/renderer/nexe_load_manager.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_tokenizer.h"
 #include "base/strings/string_util.h"
diff --git a/components/nacl/renderer/plugin/BUILD.gn b/components/nacl/renderer/plugin/BUILD.gn
index 5defb10..63cdf3c 100644
--- a/components/nacl/renderer/plugin/BUILD.gn
+++ b/components/nacl/renderer/plugin/BUILD.gn
@@ -22,12 +22,12 @@ source_set("nacl_trusted_plugin") {
   deps = [
     "//media:shared_memory_support",
-    "//native_client/src/shared/gio",
-    "//native_client/src/shared/imc",
-    "//native_client/src/shared/platform",
-    "//native_client/src/trusted/desc:nrd_xfer",
-    "//native_client/src/trusted/nonnacl_util:sel_ldr_launcher_base",
-    "//native_client/src/trusted/platform_qualify:platform_qual_lib",
-    "//native_client/src/trusted/simple_service",
-    "//native_client/src/trusted/weak_ref",
+#    "//native_client/src/shared/gio",
+#    "//native_client/src/shared/imc",
+#    "//native_client/src/shared/platform",
+#    "//native_client/src/trusted/desc:nrd_xfer",
+#    "//native_client/src/trusted/nonnacl_util:sel_ldr_launcher_base",
+#    "//native_client/src/trusted/platform_qualify:platform_qual_lib",
+#    "//native_client/src/trusted/simple_service",
+#    "//native_client/src/trusted/weak_ref",
     "//ppapi/cpp:objects",
     "//ppapi/cpp/private:internal_module",
diff --git a/components/navigation_interception/android/BUILD.gn b/components/navigation_interception/android/BUILD.gn
index b13a847..025e18a 100644
--- a/components/navigation_interception/android/BUILD.gn
+++ b/components/navigation_interception/android/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 android_library("navigation_interception_java") {
diff --git a/components/navigation_interception/BUILD.gn b/components/navigation_interception/BUILD.gn
index 788c2d7..083e49a 100644
--- a/components/navigation_interception/BUILD.gn
+++ b/components/navigation_interception/BUILD.gn
@@ -4,5 +4,5 @@
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 }
 
diff --git a/components/omnibox/BUILD.gn b/components/omnibox/BUILD.gn
index 08ff27d..372ecd3 100644
--- a/components/omnibox/BUILD.gn
+++ b/components/omnibox/BUILD.gn
@@ -39,5 +39,5 @@ static_library("omnibox") {
 
   public_deps = [
-    "//components/metrics/proto",
+#    "//components/metrics/proto",
   ]
   deps = [
@@ -58,35 +58,3 @@ static_library("omnibox") {
 }
 
-static_library("test_support") {
-  sources = [
-    "test_scheme_classifier.cc",
-    "test_scheme_classifier.h",
-  ]
-
-  deps = [
-    ":omnibox",
-    "//base",
-    "//components/metrics/proto",
-  ]
-}
 
-source_set("unit_tests") {
-  testonly = true
-  sources = [
-    "answers_cache_unittest.cc",
-    "autocomplete_input_unittest.cc",
-    "autocomplete_match_unittest.cc",
-    "autocomplete_result_unittest.cc",
-    "base_search_provider_unittest.cc",
-    "keyword_provider_unittest.cc",
-    "omnibox_field_trial_unittest.cc",
-    "suggestion_answer_unittest.cc",
-  ]
-
-  deps = [
-    ":omnibox",
-    ":test_support",
-    "//testing/gmock",
-    "//testing/gtest",
-  ]
-}
diff --git a/components/omnibox.gypi b/components/omnibox.gypi
index 2680cf0..4cabda4 100644
--- a/components/omnibox.gypi
+++ b/components/omnibox.gypi
@@ -68,6 +68,6 @@
     },
     {
-      # GN version: //components/omnibox:test_support
-      'target_name': 'omnibox_test_support',
+#      # GN version: //components/omnibox:test_support
+#      'target_name': 'omnibox_test_support',
       'type': 'static_library',
       'dependencies': [
diff --git a/components/omnibox/omnibox_field_trial.cc b/components/omnibox/omnibox_field_trial.cc
index 6dd2302..15d7747 100644
--- a/components/omnibox/omnibox_field_trial.cc
+++ b/components/omnibox/omnibox_field_trial.cc
@@ -9,5 +9,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/components/omnibox/search_provider.cc b/components/omnibox/search_provider.cc
index e140fc5..be3839c 100644
--- a/components/omnibox/search_provider.cc
+++ b/components/omnibox/search_provider.cc
@@ -13,6 +13,6 @@
 #include "base/i18n/case_conversion.h"
 #include "base/json/json_string_value_serializer.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/rand_util.h"
 #include "base/strings/string_util.h"
diff --git a/components/omnibox/search_suggestion_parser.cc b/components/omnibox/search_suggestion_parser.cc
index 27cc63b..0b5939e 100644
--- a/components/omnibox/search_suggestion_parser.cc
+++ b/components/omnibox/search_suggestion_parser.cc
@@ -9,5 +9,5 @@
 #include "base/json/json_writer.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/components/ownership/BUILD.gn b/components/ownership/BUILD.gn
index 1bca927..4e533f0 100644
--- a/components/ownership/BUILD.gn
+++ b/components/ownership/BUILD.gn
@@ -35,5 +35,5 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "owner_key_util_impl_unittest.cc",
+#    "owner_key_util_impl_unittest.cc",
   ]
 
@@ -42,5 +42,5 @@ source_set("unit_tests") {
   deps = [
     ":ownership",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/packed_ct_ev_whitelist/BUILD.gn b/components/packed_ct_ev_whitelist/BUILD.gn
index c3ca36c..d45ff94 100644
--- a/components/packed_ct_ev_whitelist/BUILD.gn
+++ b/components/packed_ct_ev_whitelist/BUILD.gn
@@ -23,11 +23,11 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "bit_stream_reader_unittest.cc",
-    "packed_ct_ev_whitelist_unittest.cc",
+#    "bit_stream_reader_unittest.cc",
+#    "packed_ct_ev_whitelist_unittest.cc",
   ]
 
   deps = [
     ":packed_ct_ev_whitelist",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/policy/BUILD.gn b/components/policy/BUILD.gn
index c8266de..edb5c5f 100644
--- a/components/policy/BUILD.gn
+++ b/components/policy/BUILD.gn
@@ -163,59 +163,5 @@ if (enable_configuration_policy) {
   }
 
-  group("test_support") {
-    deps = [
-      ":chrome_settings_proto_generated_compile",
-      ":policy",
-    ]
-  }
-
-  static_library("policy_component_test_support") {
-    testonly = true
-    sources = [
-      "core/browser/configuration_policy_pref_store_test.cc",
-      "core/browser/configuration_policy_pref_store_test.h",
-      "core/common/cloud/mock_cloud_external_data_manager.cc",
-      "core/common/cloud/mock_cloud_external_data_manager.h",
-      "core/common/cloud/mock_cloud_policy_client.cc",
-      "core/common/cloud/mock_cloud_policy_client.h",
-      "core/common/cloud/mock_cloud_policy_store.cc",
-      "core/common/cloud/mock_cloud_policy_store.h",
-      "core/common/cloud/mock_device_management_service.cc",
-      "core/common/cloud/mock_device_management_service.h",
-      "core/common/cloud/mock_user_cloud_policy_store.cc",
-      "core/common/cloud/mock_user_cloud_policy_store.h",
-      "core/common/cloud/policy_builder.cc",
-      "core/common/cloud/policy_builder.h",
-      "core/common/configuration_policy_provider_test.cc",
-      "core/common/configuration_policy_provider_test.h",
-      "core/common/fake_async_policy_loader.cc",
-      "core/common/fake_async_policy_loader.h",
-      "core/common/mock_configuration_policy_provider.cc",
-      "core/common/mock_configuration_policy_provider.h",
-      "core/common/mock_policy_service.cc",
-      "core/common/mock_policy_service.h",
-      "core/common/policy_test_utils.cc",
-      "core/common/policy_test_utils.h",
-      "core/common/preferences_mock_mac.cc",
-      "core/common/preferences_mock_mac.h",
-      "core/common/remote_commands/test_remote_command_job.cc",
-      "core/common/remote_commands/test_remote_command_job.h",
-    ]
-
-    if (is_chromeos) {
-      sources -= [
-        "core/common/cloud/mock_user_cloud_policy_store.cc",
-        "core/common/cloud/mock_user_cloud_policy_store.h",
-      ]
-    }
 
-    deps = [
-      ":policy_component",
-      ":test_support",
-      "//components/policy/proto",
-      "//testing/gmock",
-      "//testing/gtest",
-    ]
-  }
 }
 #TODO(GYP) policy templates, chrome_manifest_bundle
diff --git a/components/policy/core/browser/browser_policy_connector.cc b/components/policy/core/browser/browser_policy_connector.cc
index c476878..d6556b8 100644
--- a/components/policy/core/browser/browser_policy_connector.cc
+++ b/components/policy/core/browser/browser_policy_connector.cc
@@ -12,6 +12,6 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/strings/string16.h"
diff --git a/components/policy/core/browser/BUILD.gn b/components/policy/core/browser/BUILD.gn
index d9f1a63..ad0b215 100644
--- a/components/policy/core/browser/BUILD.gn
+++ b/components/policy/core/browser/BUILD.gn
@@ -38,6 +38,6 @@ source_set("browser") {
       "browser_policy_connector_ios.h",
       "browser_policy_connector_ios.mm",
-      "cloud/message_util.cc",
-      "cloud/message_util.h",
+#      "cloud/message_util.cc",
+#      "cloud/message_util.h",
       "configuration_policy_handler.cc",
       "configuration_policy_handler.h",
@@ -55,5 +55,5 @@ source_set("browser") {
 
     deps += [
-      "//components/autofill/core/common",
+#      "//components/autofill/core/common",
       "//components/policy",
       "//components/policy/proto",
diff --git a/components/policy/core/browser/configuration_policy_pref_store_test.cc b/components/policy/core/browser/configuration_policy_pref_store_test.cc
index 904a853..a2e6b73 100644
--- a/components/policy/core/browser/configuration_policy_pref_store_test.cc
+++ b/components/policy/core/browser/configuration_policy_pref_store_test.cc
@@ -15,5 +15,5 @@
 #include "components/policy/core/common/policy_map.h"
 #include "components/policy/core/common/policy_service_impl.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::Return;
diff --git a/components/policy/core/browser/configuration_policy_pref_store_test.h b/components/policy/core/browser/configuration_policy_pref_store_test.h
index 78003e8..5fef487 100644
--- a/components/policy/core/browser/configuration_policy_pref_store_test.h
+++ b/components/policy/core/browser/configuration_policy_pref_store_test.h
@@ -13,5 +13,5 @@
 #include "components/policy/core/common/mock_configuration_policy_provider.h"
 #include "components/policy/core/common/policy_service_impl.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace policy {
diff --git a/components/policy/core/common/cloud/cloud_policy_refresh_scheduler.cc b/components/policy/core/common/cloud/cloud_policy_refresh_scheduler.cc
index 77f86c2..e55ecc3 100644
--- a/components/policy/core/common/cloud/cloud_policy_refresh_scheduler.cc
+++ b/components/policy/core/common/cloud/cloud_policy_refresh_scheduler.cc
@@ -10,5 +10,5 @@
 #include "base/bind_helpers.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "components/policy/core/common/cloud/cloud_policy_constants.h"
diff --git a/components/policy/core/common/cloud/cloud_policy_validator.cc b/components/policy/core/common/cloud/cloud_policy_validator.cc
index 26cea60..f2da100 100644
--- a/components/policy/core/common/cloud/cloud_policy_validator.cc
+++ b/components/policy/core/common/cloud/cloud_policy_validator.cc
@@ -7,5 +7,5 @@
 #include "base/bind_helpers.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/stl_util.h"
diff --git a/components/policy/core/common/cloud/mock_cloud_external_data_manager.h b/components/policy/core/common/cloud/mock_cloud_external_data_manager.h
index cb4c5c9..8acfaa5 100644
--- a/components/policy/core/common/cloud/mock_cloud_external_data_manager.h
+++ b/components/policy/core/common/cloud/mock_cloud_external_data_manager.h
@@ -13,5 +13,5 @@
 #include "components/policy/core/common/cloud/cloud_external_data_manager.h"
 #include "components/policy/core/common/external_data_fetcher.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/components/policy/core/common/cloud/mock_cloud_policy_client.h b/components/policy/core/common/cloud/mock_cloud_policy_client.h
index f297221..92bc70f 100644
--- a/components/policy/core/common/cloud/mock_cloud_policy_client.h
+++ b/components/policy/core/common/cloud/mock_cloud_policy_client.h
@@ -10,5 +10,5 @@
 #include "base/basictypes.h"
 #include "components/policy/core/common/cloud/cloud_policy_client.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace policy {
diff --git a/components/policy/core/common/cloud/mock_cloud_policy_store.h b/components/policy/core/common/cloud/mock_cloud_policy_store.h
index 8479bef..f6fb704 100644
--- a/components/policy/core/common/cloud/mock_cloud_policy_store.h
+++ b/components/policy/core/common/cloud/mock_cloud_policy_store.h
@@ -7,5 +7,5 @@
 
 #include "components/policy/core/common/cloud/cloud_policy_store.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace policy {
diff --git a/components/policy/core/common/cloud/mock_device_management_service.h b/components/policy/core/common/cloud/mock_device_management_service.h
index 7cc6449..250c0a2 100644
--- a/components/policy/core/common/cloud/mock_device_management_service.h
+++ b/components/policy/core/common/cloud/mock_device_management_service.h
@@ -11,5 +11,5 @@
 #include "components/policy/core/common/cloud/device_management_service.h"
 #include "policy/proto/device_management_backend.pb.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace policy {
diff --git a/components/policy/core/common/cloud/mock_user_cloud_policy_store.h b/components/policy/core/common/cloud/mock_user_cloud_policy_store.h
index 8fae220..d3f96bf 100644
--- a/components/policy/core/common/cloud/mock_user_cloud_policy_store.h
+++ b/components/policy/core/common/cloud/mock_user_cloud_policy_store.h
@@ -7,5 +7,5 @@
 
 #include "components/policy/core/common/cloud/user_cloud_policy_store.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace policy {
diff --git a/components/policy/core/common/cloud/user_cloud_policy_store.cc b/components/policy/core/common/cloud/user_cloud_policy_store.cc
index db8302d..54c0385 100644
--- a/components/policy/core/common/cloud/user_cloud_policy_store.cc
+++ b/components/policy/core/common/cloud/user_cloud_policy_store.cc
@@ -8,5 +8,5 @@
 #include "base/files/file_util.h"
 #include "base/location.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/task_runner_util.h"
 #include "google_apis/gaia/gaia_auth_util.h"
diff --git a/components/policy/core/common/configuration_policy_provider_test.cc b/components/policy/core/common/configuration_policy_provider_test.cc
index 74c9cc1..c2f86e4 100644
--- a/components/policy/core/common/configuration_policy_provider_test.cc
+++ b/components/policy/core/common/configuration_policy_provider_test.cc
@@ -15,5 +15,5 @@
 #include "components/policy/core/common/policy_map.h"
 #include "components/policy/core/common/policy_namespace.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using ::testing::Mock;
diff --git a/components/policy/core/common/configuration_policy_provider_test.h b/components/policy/core/common/configuration_policy_provider_test.h
index a8a0d43..8aa72bf 100644
--- a/components/policy/core/common/configuration_policy_provider_test.h
+++ b/components/policy/core/common/configuration_policy_provider_test.h
@@ -16,5 +16,5 @@
 #include "components/policy/core/common/schema.h"
 #include "components/policy/core/common/schema_registry.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace base {
diff --git a/components/policy/core/common/mock_configuration_policy_provider.h b/components/policy/core/common/mock_configuration_policy_provider.h
index d891140..498df0f 100644
--- a/components/policy/core/common/mock_configuration_policy_provider.h
+++ b/components/policy/core/common/mock_configuration_policy_provider.h
@@ -10,5 +10,5 @@
 #include "components/policy/core/common/policy_map.h"
 #include "components/policy/core/common/schema_registry.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace policy {
diff --git a/components/policy/core/common/mock_policy_service.h b/components/policy/core/common/mock_policy_service.h
index 584f093..fd22c41 100644
--- a/components/policy/core/common/mock_policy_service.h
+++ b/components/policy/core/common/mock_policy_service.h
@@ -7,5 +7,5 @@
 
 #include "components/policy/core/common/policy_service.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace policy {
diff --git a/components/policy/core/common/policy_loader_win.cc b/components/policy/core/common/policy_loader_win.cc
index 3be28f3..128d7fe 100644
--- a/components/policy/core/common/policy_loader_win.cc
+++ b/components/policy/core/common/policy_loader_win.cc
@@ -30,6 +30,6 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/scoped_native_library.h"
 #include "base/sequenced_task_runner.h"
diff --git a/components/policy/core/common/policy_load_status.cc b/components/policy/core/common/policy_load_status.cc
index 71c5059..d577b20 100644
--- a/components/policy/core/common/policy_load_status.cc
+++ b/components/policy/core/common/policy_load_status.cc
@@ -5,5 +5,5 @@
 #include "components/policy/core/common/policy_load_status.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "components/policy/core/common/policy_types.h"
diff --git a/components/policy/core/common/policy_statistics_collector.cc b/components/policy/core/common/policy_statistics_collector.cc
index 3e6a588..3ff0326 100644
--- a/components/policy/core/common/policy_statistics_collector.cc
+++ b/components/policy/core/common/policy_statistics_collector.cc
@@ -12,5 +12,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/components/policy.gypi b/components/policy.gypi
index e6573b6..8900c94 100644
--- a/components/policy.gypi
+++ b/components/policy.gypi
@@ -261,6 +261,6 @@
         },
         {
-          # GN version: //components/policy:test_support
-          'target_name': 'policy_test_support',
+#          # GN version: //components/policy:test_support
+#          'target_name': 'policy_test_support',
           'type': 'none',
           'hard_dependency': 1,
@@ -277,6 +277,6 @@
         },
         {
-          # GN version: //components/policy:policy_component_test_support
-          'target_name': 'policy_component_test_support',
+#          # GN version: //components/policy:policy_component_test_support
+#          'target_name': 'policy_component_test_support',
           'type': 'static_library',
           # This must be undefined so that POLICY_EXPORT works correctly in
@@ -288,5 +288,5 @@
             'cloud_policy_proto',
             'policy_component',
-            'policy_test_support',
+#            'policy_test_support',
             '../testing/gmock.gyp:gmock',
             '../testing/gtest.gyp:gtest',
@@ -318,6 +318,6 @@
             'policy/core/common/mock_policy_service.cc',
             'policy/core/common/mock_policy_service.h',
-            'policy/core/common/policy_test_utils.cc',
-            'policy/core/common/policy_test_utils.h',
+#            'policy/core/common/policy_test_utils.cc',
+#            'policy/core/common/policy_test_utils.h',
             'policy/core/common/preferences_mock_mac.cc',
             'policy/core/common/preferences_mock_mac.h',
diff --git a/components/precache/content/precache_manager.cc b/components/precache/content/precache_manager.cc
index 62cf590..9eac245 100644
--- a/components/precache/content/precache_manager.cc
+++ b/components/precache/content/precache_manager.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/prefs/pref_service.h"
 #include "base/time/time.h"
diff --git a/components/precache/core/precache_database.cc b/components/precache/core/precache_database.cc
index aba25db..a3d3303 100644
--- a/components/precache/core/precache_database.cc
+++ b/components/precache/core/precache_database.cc
@@ -8,5 +8,5 @@
 #include "base/files/file_path.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "sql/connection.h"
@@ -98,10 +98,10 @@ void PrecacheDatabase::RecordURLPrecached(const GURL& url,
   }
 
-  if (!was_cached) {
+/*  if (!was_cached) {
     // The precache only counts as overhead if it was downloaded over the
     // network.
     UMA_HISTOGRAM_COUNTS("Precache.DownloadedPrecacheMotivated",
                          static_cast<base::HistogramBase::Sample>(size));
-  }
+  }*/
 
   // Use the URL table to keep track of URLs that are in the cache thanks to
@@ -135,5 +135,5 @@ void PrecacheDatabase::RecordURLFetched(const GURL& url,
   }
 
-  base::HistogramBase::Sample size_sample =
+/*  base::HistogramBase::Sample size_sample =
       static_cast<base::HistogramBase::Sample>(size);
   if (!was_cached) {
@@ -154,5 +154,5 @@ void PrecacheDatabase::RecordURLFetched(const GURL& url,
       UMA_HISTOGRAM_COUNTS("Precache.Saved.Cellular", size_sample);
     }
-  }
+  }*/
 
   // Since the resource has been fetched during user browsing, remove any record
diff --git a/components/pref_registry.gypi b/components/pref_registry.gypi
index 86dfdce..002f5bf 100644
--- a/components/pref_registry.gypi
+++ b/components/pref_registry.gypi
@@ -27,10 +27,10 @@
     },
     {
-      # GN version: //components/pref_registry:test_support
-      'target_name': 'pref_registry_test_support',
+#      # GN version: //components/pref_registry:test_support
+#      'target_name': 'pref_registry_test_support',
       'type': 'static_library',
       'dependencies': [
         'pref_registry',
-        '../base/base.gyp:base_prefs_test_support',
+#        '../base/base.gyp:base_prefs_test_support',
       ],
       'include_dirs': [
diff --git a/components/rappor.gypi b/components/rappor.gypi
index d5cde41..fa24591 100644
--- a/components/rappor.gypi
+++ b/components/rappor.gypi
@@ -48,6 +48,6 @@
     },
     {
-      # GN version: //components/rappor:test_support
-      'target_name': 'rappor_test_support',
+#      # GN version: //components/rappor:test_support
+#      'target_name': 'rappor_test_support',
       'type': 'static_library',
       'include_dirs': [
diff --git a/components/search_engines/BUILD.gn b/components/search_engines/BUILD.gn
index a1cb181..80a8b65 100644
--- a/components/search_engines/BUILD.gn
+++ b/components/search_engines/BUILD.gn
@@ -43,5 +43,5 @@ static_library("search_engines") {
 
   public_deps = [
-    "//components/metrics/proto",
+#    "//components/metrics/proto",
   ]
 
@@ -49,10 +49,10 @@ static_library("search_engines") {
     ":prepopulated_engines",
     "//base",
-    "//components/google/core/browser",
+#    "//components/google/core/browser",
     "//components/history/core/browser",
     "//components/keyed_service/core",
-    "//components/metrics/proto",
+#    "//components/metrics/proto",
     "//components/pref_registry",
-    "//components/rappor",
+#    "//components/rappor",
     "//components/strings",
     "//components/url_fixer",
@@ -61,5 +61,5 @@ static_library("search_engines") {
     "//net",
     "//sql",
-    "//sync",
+#    "//sync",
     "//third_party/libxml",
     "//ui/gfx",
@@ -79,6 +79,6 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "default_search_pref_test_util.cc",
-    "default_search_pref_test_util.h",
+#    "default_search_pref_test_util.cc",
+#    "default_search_pref_test_util.h",
     "testing_search_terms_data.cc",
     "testing_search_terms_data.h",
@@ -87,5 +87,5 @@ source_set("test_support") {
   deps = [
     ":search_engines",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/search_engines.gypi b/components/search_engines.gypi
index 3a5eb48..9781b45 100644
--- a/components/search_engines.gypi
+++ b/components/search_engines.gypi
@@ -86,6 +86,6 @@
     },
     {
-      # GN version: //components/search_engines:test_support
-      'target_name': 'search_engines_test_support',
+#      # GN version: //components/search_engines:test_support
+#      'target_name': 'search_engines_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -97,6 +97,6 @@
       ],
       'sources': [
-        'search_engines/default_search_pref_test_util.cc',
-        'search_engines/default_search_pref_test_util.h',
+#        'search_engines/default_search_pref_test_util.cc',
+#        'search_engines/default_search_pref_test_util.h',
         'search_engines/testing_search_terms_data.cc',
         'search_engines/testing_search_terms_data.h',
diff --git a/components/search_engines/template_url.cc b/components/search_engines/template_url.cc
index 0071218..ebda502 100644
--- a/components/search_engines/template_url.cc
+++ b/components/search_engines/template_url.cc
@@ -14,5 +14,5 @@
 #include "base/i18n/rtl.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/rand_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/components/search_engines/template_url_service.cc b/components/search_engines/template_url_service.cc
index 46c53fe..d0b4e26 100644
--- a/components/search_engines/template_url_service.cc
+++ b/components/search_engines/template_url_service.cc
@@ -14,5 +14,5 @@
 #include "base/i18n/case_conversion.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/stl_util.h"
diff --git a/components/search/search.cc b/components/search/search.cc
index c2d4b4e..74a09e9 100644
--- a/components/search/search.cc
+++ b/components/search/search.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/components/sessions/BUILD.gn b/components/sessions/BUILD.gn
index 4cf5709..bc8920f 100644
--- a/components/sessions/BUILD.gn
+++ b/components/sessions/BUILD.gn
@@ -4,5 +4,5 @@
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
@@ -44,7 +44,7 @@ source_set("sessions_core") {
   ]
 
-  if (!is_android || !is_android_webview_build) {
-    deps += [ "//sync" ]
-  }
+#  if (!is_android || !is_android_webview_build) {
+#    deps += [ "//sync" ]
+#  }
 }
 
@@ -52,6 +52,6 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "serialized_navigation_entry_test_helper.cc",
-    "serialized_navigation_entry_test_helper.h",
+#    "serialized_navigation_entry_test_helper.cc",
+#    "serialized_navigation_entry_test_helper.h",
   ]
 
@@ -59,15 +59,15 @@ source_set("test_support") {
     ":sessions_core",
     "//skia",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 
-  if (!is_android || !is_android_webview_build) {
-    deps += [ "//sync" ]
-  }
+#  if (!is_android || !is_android_webview_build) {
+#    deps += [ "//sync" ]
+#  }
 
   if (!is_android && !is_ios) {
     sources += [
-      "base_session_service_test_helper.cc",
-      "base_session_service_test_helper.h",
+#      "base_session_service_test_helper.cc",
+#      "base_session_service_test_helper.h",
     ]
   }
@@ -100,11 +100,11 @@ if (!is_ios && !is_android) {
     testonly = true
     sources = [
-      "session_backend_unittest.cc",
-      "session_types_unittest.cc",
+#      "session_backend_unittest.cc",
+#      "session_types_unittest.cc",
     ]
     deps = [
       ":sessions_content",
-      "//base/test:test_support",
-      "//testing/gtest",
+#      "//base/test:test_support",
+#      "//testing/gtest",
       "//third_party/protobuf:protobuf_lite",
     ]
diff --git a/components/sessions.gypi b/components/sessions.gypi
index 1b429ac..26eb1ae 100644
--- a/components/sessions.gypi
+++ b/components/sessions.gypi
@@ -37,6 +37,6 @@
   'targets': [
     {
-      # GN version: //components/sessions:test_support
-      'target_name': 'sessions_test_support',
+#      # GN version: //components/sessions:test_support
+#      'target_name': 'sessions_test_support',
       'type': 'static_library',
       'defines!': ['SESSIONS_IMPLEMENTATION'],
@@ -50,6 +50,6 @@
       'sources': [
         # Note: sources list duplicated in GN build.
-        'sessions/serialized_navigation_entry_test_helper.cc',
-        'sessions/serialized_navigation_entry_test_helper.h',
+#        'sessions/serialized_navigation_entry_test_helper.cc',
+#        'sessions/serialized_navigation_entry_test_helper.h',
       ],
       'conditions': [
@@ -61,6 +61,6 @@
         ['OS!="ios" and OS!="android"', {
          'sources': [
-           'sessions/base_session_service_test_helper.cc',
-           'sessions/base_session_service_test_helper.h',
+#           'sessions/base_session_service_test_helper.cc',
+#           'sessions/base_session_service_test_helper.h',
            'sessions/session_backend.cc',
            'sessions/session_backend.h',
diff --git a/components/sessions/session_backend.cc b/components/sessions/session_backend.cc
index 99520b4..b543695 100644
--- a/components/sessions/session_backend.cc
+++ b/components/sessions/session_backend.cc
@@ -10,5 +10,5 @@
 #include "base/files/file_util.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/threading/thread_restrictions.h"
 
diff --git a/components/suggestions/blacklist_store.cc b/components/suggestions/blacklist_store.cc
index 304df2f..75f58aa 100644
--- a/components/suggestions/blacklist_store.cc
+++ b/components/suggestions/blacklist_store.cc
@@ -10,5 +10,5 @@
 
 #include "base/base64.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "components/pref_registry/pref_registry_syncable.h"
diff --git a/components/suggestions/suggestions_service.cc b/components/suggestions/suggestions_service.cc
index 9c6f2c8..f503caa 100644
--- a/components/suggestions/suggestions_service.cc
+++ b/components/suggestions/suggestions_service.cc
@@ -9,6 +9,6 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
@@ -17,6 +17,6 @@
 #include "components/suggestions/blacklist_store.h"
 #include "components/suggestions/suggestions_store.h"
-#include "components/variations/net/variations_http_header_provider.h"
-#include "components/variations/variations_associated_data.h"
+//#include "components/variations/net/variations_http_header_provider.h"
+//#include "components/variations/variations_associated_data.h"
 #include "net/base/escape.h"
 #include "net/base/load_flags.h"
diff --git a/components/sync_driver.gypi b/components/sync_driver.gypi
index 9704592..7e1bac8 100644
--- a/components/sync_driver.gypi
+++ b/components/sync_driver.gypi
@@ -6,5 +6,5 @@
   'targets': [
     {
-      # GN version: //components/sync_driver
+#      # GN version: //components/sync_driver
       'target_name': 'sync_driver',
       'type': 'static_library',
@@ -77,5 +77,5 @@
     },
     {
-      'target_name': 'sync_driver_test_support',
+#      'target_name': 'sync_driver_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -83,5 +83,5 @@
         '../base/base.gyp:base',
         '../sync/sync.gyp:sync',
-        '../sync/sync.gyp:test_support_sync_internal_api',
+#        '../sync/sync.gyp:test_support_sync_internal_api',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
diff --git a/components/translate/content/renderer/translate_helper.cc b/components/translate/content/renderer/translate_helper.cc
index aa67a6a..bd6eda4 100644
--- a/components/translate/content/renderer/translate_helper.cc
+++ b/components/translate/content/renderer/translate_helper.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string16.h"
 #include "base/strings/string_util.h"
diff --git a/components/translate/core/browser/BUILD.gn b/components/translate/core/browser/BUILD.gn
index 13728f4..4534b3e 100644
--- a/components/translate/core/browser/BUILD.gn
+++ b/components/translate/core/browser/BUILD.gn
@@ -42,5 +42,5 @@ source_set("browser") {
   deps = [
     "//base",
-    "//components/language_usage_metrics",
+#    "//components/language_usage_metrics",
     "//components/resources:components_resources",
     "//components/strings",
diff --git a/components/translate/core/browser/options_menu_model.cc b/components/translate/core/browser/options_menu_model.cc
index 837cc68..500071d 100644
--- a/components/translate/core/browser/options_menu_model.cc
+++ b/components/translate/core/browser/options_menu_model.cc
@@ -5,5 +5,5 @@
 #include "components/translate/core/browser/options_menu_model.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "components/translate/core/browser/translate_driver.h"
 #include "components/translate/core/browser/translate_infobar_delegate.h"
diff --git a/components/translate/core/browser/translate_browser_metrics.cc b/components/translate/core/browser/translate_browser_metrics.cc
index 3b74cdc..c8b4e37 100644
--- a/components/translate/core/browser/translate_browser_metrics.cc
+++ b/components/translate/core/browser/translate_browser_metrics.cc
@@ -8,6 +8,6 @@
 
 #include "base/basictypes.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "components/language_usage_metrics/language_usage_metrics.h"
 
diff --git a/components/translate/core/browser/translate_infobar_delegate.cc b/components/translate/core/browser/translate_infobar_delegate.cc
index 9552463..fb48a93 100644
--- a/components/translate/core/browser/translate_infobar_delegate.cc
+++ b/components/translate/core/browser/translate_infobar_delegate.cc
@@ -8,5 +8,5 @@
 
 #include "base/i18n/string_compare.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "components/infobars/core/infobar.h"
 #include "components/infobars/core/infobar_manager.h"
diff --git a/components/translate/core/browser/translate_manager.cc b/components/translate/core/browser/translate_manager.cc
index d836e09..e373e73 100644
--- a/components/translate/core/browser/translate_manager.cc
+++ b/components/translate/core/browser/translate_manager.cc
@@ -7,6 +7,6 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/strings/string_split.h"
diff --git a/components/translate/core/browser/translate_ui_delegate.cc b/components/translate/core/browser/translate_ui_delegate.cc
index a51ef83..bece970 100644
--- a/components/translate/core/browser/translate_ui_delegate.cc
+++ b/components/translate/core/browser/translate_ui_delegate.cc
@@ -6,5 +6,5 @@
 
 #include "base/i18n/string_compare.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "components/translate/core/browser/language_state.h"
 #include "components/translate/core/browser/translate_client.h"
diff --git a/components/translate/core/common/translate_metrics.cc b/components/translate/core/common/translate_metrics.cc
index 3f4e10e..17eb01f 100644
--- a/components/translate/core/common/translate_metrics.cc
+++ b/components/translate/core/common/translate_metrics.cc
@@ -6,5 +6,5 @@
 
 #include "base/basictypes.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "url/url_constants.h"
 
diff --git a/components/translate/core/language_detection/language_detection_util.cc b/components/translate/core/language_detection/language_detection_util.cc
index 35a21b9..3a285e1 100644
--- a/components/translate/core/language_detection/language_detection_util.cc
+++ b/components/translate/core/language_detection/language_detection_util.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_split.h"
 #include "base/strings/string_util.h"
diff --git a/components/update_client/BUILD.gn b/components/update_client/BUILD.gn
index c968b4d..9d267ff 100644
--- a/components/update_client/BUILD.gn
+++ b/components/update_client/BUILD.gn
@@ -63,7 +63,7 @@ source_set("test_support") {
     ":update_client",
     "//base",
-    "//net:test_support",
-    "//testing/gtest",
-    "//testing/gmock",
+#    "//net:test_support",
+#    "//testing/gtest",
+#    "//testing/gmock",
     "//url",
   ]
@@ -73,20 +73,20 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "test/component_patcher_unittest.cc",
-    "test/crx_downloader_unittest.cc",
-    "test/ping_manager_unittest.cc",
-    "test/request_sender_unittest.cc",
-    "test/update_checker_unittest.cc",
-    "test/update_response_unittest.cc",
+#    "test/component_patcher_unittest.cc",
+#    "test/crx_downloader_unittest.cc",
+#    "test/ping_manager_unittest.cc",
+#    "test/request_sender_unittest.cc",
+#    "test/update_checker_unittest.cc",
+#    "test/update_response_unittest.cc",
   ]
 
   deps = [
     ":update_client",
-    ":test_support",
+#    ":test_support",
     "//base",
     "//courgette:courgette_lib",
-    "//net:test_support",
-    "//testing/gtest",
-    "//testing/gmock",
+#    "//net:test_support",
+#    "//testing/gtest",
+#    "//testing/gmock",
     "//third_party/libxml",
   ]
diff --git a/components/update_client.gypi b/components/update_client.gypi
index 77fbd5a..64541cf 100644
--- a/components/update_client.gypi
+++ b/components/update_client.gypi
@@ -57,6 +57,6 @@
     },
     {
-      # GN version: //components/update_client:test_support
-      'target_name': 'update_client_test_support',
+#      # GN version: //components/update_client:test_support
+#      'target_name': 'update_client_test_support',
       'type': 'static_library',
       'dependencies': [
diff --git a/components/user_manager.gypi b/components/user_manager.gypi
index 027e415..8995457 100644
--- a/components/user_manager.gypi
+++ b/components/user_manager.gypi
@@ -65,6 +65,6 @@
   },
   {
-    # GN version: //components/user_manager:test_support
-    'target_name': 'user_manager_test_support',
+#    # GN version: //components/user_manager:test_support
+#    'target_name': 'user_manager_test_support',
     'type': 'static_library',
     'conditions': [
@@ -72,5 +72,5 @@
         'dependencies': [
           '<(DEPTH)/base/base.gyp:base',
-          '<(DEPTH)/base/base.gyp:test_support_base',
+#          '<(DEPTH)/base/base.gyp:test_support_base',
           '<(DEPTH)/testing/gmock.gyp:gmock',
           '<(DEPTH)/testing/gtest.gyp:gtest',
diff --git a/components/user_manager/user_manager_base.cc b/components/user_manager/user_manager_base.cc
index c6c7ec0..bcdd49b 100644
--- a/components/user_manager/user_manager_base.cc
+++ b/components/user_manager/user_manager_base.cc
@@ -16,5 +16,5 @@
 #include "base/logging.h"
 #include "base/macros.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/components/variations/active_field_trials.h b/components/variations/active_field_trials.h
index 882ab8c..cb2fda8 100644
--- a/components/variations/active_field_trials.h
+++ b/components/variations/active_field_trials.h
@@ -9,5 +9,5 @@
 
 #include "base/basictypes.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 
 namespace variations {
diff --git a/components/variations/android/BUILD.gn b/components/variations/android/BUILD.gn
index 576db64..6536992 100644
--- a/components/variations/android/BUILD.gn
+++ b/components/variations/android/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP: //components/variations.gypi:variations_java
diff --git a/components/variations/BUILD.gn b/components/variations/BUILD.gn
index ed81870..2299fa1 100644
--- a/components/variations/BUILD.gn
+++ b/components/variations/BUILD.gn
@@ -4,5 +4,5 @@
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -64,13 +64,13 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "active_field_trials_unittest.cc",
-    "caching_permuted_entropy_provider_unittest.cc",
-    "entropy_provider_unittest.cc",
-    "metrics_util_unittest.cc",
-    "net/variations_http_header_provider_unittest.cc",
-    "study_filtering_unittest.cc",
-    "variations_associated_data_unittest.cc",
-    "variations_seed_processor_unittest.cc",
-    "variations_seed_simulator_unittest.cc",
+#    "active_field_trials_unittest.cc",
+#    "caching_permuted_entropy_provider_unittest.cc",
+#    "entropy_provider_unittest.cc",
+#    "metrics_util_unittest.cc",
+#    "net/variations_http_header_provider_unittest.cc",
+#    "study_filtering_unittest.cc",
+#    "variations_associated_data_unittest.cc",
+#    "variations_seed_processor_unittest.cc",
+#    "variations_seed_simulator_unittest.cc",
   ]
 
@@ -79,7 +79,7 @@ source_set("unit_tests") {
     "net",
     "proto",
-    "//base:prefs_test_support",
-    "//base/test:test_support",
-    "//testing/gtest",
+#    "//base:prefs_test_support",
+#    "//base/test:test_support",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/variations/entropy_provider.h b/components/variations/entropy_provider.h
index 0fff0b0..54b542d 100644
--- a/components/variations/entropy_provider.h
+++ b/components/variations/entropy_provider.h
@@ -12,5 +12,5 @@
 #include "base/basictypes.h"
 #include "base/compiler_specific.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "third_party/mt19937ar/mt19937ar.h"
 
diff --git a/components/variations/net/BUILD.gn b/components/variations/net/BUILD.gn
index 0511046..2b24cd0 100644
--- a/components/variations/net/BUILD.gn
+++ b/components/variations/net/BUILD.gn
@@ -16,6 +16,6 @@ source_set("net") {
   deps = [
     "//base",
-    "//components/google/core/browser",
-    "//components/metrics",
+#    "//components/google/core/browser",
+#    "//components/metrics",
     "//components/variations/proto",
   ]
diff --git a/components/variations/net/variations_http_header_provider.cc b/components/variations/net/variations_http_header_provider.cc
index 79a935a..e37d287 100644
--- a/components/variations/net/variations_http_header_provider.cc
+++ b/components/variations/net/variations_http_header_provider.cc
@@ -11,5 +11,5 @@
 #include "base/base64.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/components/variations/net/variations_http_header_provider.h b/components/variations/net/variations_http_header_provider.h
index 83fa546..ff8c634 100644
--- a/components/variations/net/variations_http_header_provider.h
+++ b/components/variations/net/variations_http_header_provider.h
@@ -12,5 +12,5 @@
 #include "base/basictypes.h"
 #include "base/gtest_prod_util.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/synchronization/lock.h"
 #include "components/metrics/metrics_service.h"
diff --git a/components/variations/processed_study.h b/components/variations/processed_study.h
index c9650fd..c71aabf 100644
--- a/components/variations/processed_study.h
+++ b/components/variations/processed_study.h
@@ -9,5 +9,5 @@
 #include <vector>
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 
 namespace variations {
diff --git a/components/variations/variations_associated_data.h b/components/variations/variations_associated_data.h
index 79f31a3..a591436 100644
--- a/components/variations/variations_associated_data.h
+++ b/components/variations/variations_associated_data.h
@@ -9,5 +9,5 @@
 #include <string>
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "components/variations/active_field_trials.h"
 
diff --git a/components/variations/variations_seed_processor.cc b/components/variations/variations_seed_processor.cc
index 9d7300d..08eb2e4 100644
--- a/components/variations/variations_seed_processor.cc
+++ b/components/variations/variations_seed_processor.cc
@@ -9,5 +9,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/utf_string_conversions.h"
 #include "components/variations/processed_study.h"
diff --git a/components/variations/variations_seed_processor.h b/components/variations/variations_seed_processor.h
index e8c6829..2cc72fc 100644
--- a/components/variations/variations_seed_processor.h
+++ b/components/variations/variations_seed_processor.h
@@ -12,5 +12,5 @@
 #include "base/compiler_specific.h"
 #include "base/gtest_prod_util.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string16.h"
 #include "base/time/time.h"
diff --git a/components/variations/variations_seed_simulator.cc b/components/variations/variations_seed_simulator.cc
index a2d5e1b..10fd9c5 100644
--- a/components/variations/variations_seed_simulator.cc
+++ b/components/variations/variations_seed_simulator.cc
@@ -7,5 +7,5 @@
 #include <map>
 
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "components/variations/processed_study.h"
 #include "components/variations/proto/study.pb.h"
diff --git a/components/variations/variations_seed_simulator.h b/components/variations/variations_seed_simulator.h
index 3ec3097..d615311 100644
--- a/components/variations/variations_seed_simulator.h
+++ b/components/variations/variations_seed_simulator.h
@@ -11,5 +11,5 @@
 #include "base/compiler_specific.h"
 #include "base/gtest_prod_util.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/version.h"
 #include "components/variations/proto/study.pb.h"
diff --git a/components/visitedlink/test/visitedlink_perftest.cc b/components/visitedlink/test/visitedlink_perftest.cc
index fd598c1..fc17c2a 100644
--- a/components/visitedlink/test/visitedlink_perftest.cc
+++ b/components/visitedlink/test/visitedlink_perftest.cc
@@ -16,5 +16,5 @@
 #include "base/timer/elapsed_timer.h"
 #include "components/visitedlink/browser/visitedlink_master.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/components/wallpaper/wallpaper_manager_base.cc b/components/wallpaper/wallpaper_manager_base.cc
index e40ea56..3669bdc 100644
--- a/components/wallpaper/wallpaper_manager_base.cc
+++ b/components/wallpaper/wallpaper_manager_base.cc
@@ -12,5 +12,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/prefs/pref_registry_simple.h"
diff --git a/components/web_cache/browser/web_cache_manager.cc b/components/web_cache/browser/web_cache_manager.cc
index 4acd209..7bfc73f 100644
--- a/components/web_cache/browser/web_cache_manager.cc
+++ b/components/web_cache/browser/web_cache_manager.cc
@@ -11,5 +11,5 @@
 #include "base/memory/singleton.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_registry_simple.h"
 #include "base/prefs/pref_service.h"
diff --git a/components/web_contents_delegate_android/BUILD.gn b/components/web_contents_delegate_android/BUILD.gn
index 56ee8de..edec40e 100644
--- a/components/web_contents_delegate_android/BUILD.gn
+++ b/components/web_contents_delegate_android/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP: //components/web_contents_delegate_android:web_contents_delegate_android
diff --git a/components/webdata/common/BUILD.gn b/components/webdata/common/BUILD.gn
index 8f29252..b4f356a 100644
--- a/components/webdata/common/BUILD.gn
+++ b/components/webdata/common/BUILD.gn
@@ -37,5 +37,5 @@ source_set("unit_tests") {
   testonly = true
   sources = [
-    "web_database_migration_unittest.cc",
+#    "web_database_migration_unittest.cc",
   ]
 
@@ -43,10 +43,10 @@ source_set("unit_tests") {
     ":common",
     "//base",
-    "//components/autofill/core/browser",
-    "//components/password_manager/core/browser",
+##    "//components/autofill/core/browser",
+#    "//components/password_manager/core/browser",
     "//components/search_engines",
-    "//components/signin/core/browser",
+#    "//components/signin/core/browser",
     "//sql",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/components/webdata_services/BUILD.gn b/components/webdata_services/BUILD.gn
index 8626a4c..4e1bb37 100644
--- a/components/webdata_services/BUILD.gn
+++ b/components/webdata_services/BUILD.gn
@@ -13,12 +13,12 @@ static_library("webdata_services") {
   deps = [
     "//base",
-    "//components/autofill/core/browser",
+#    "//components/autofill/core/browser",
     "//components/keyed_service/core",
-    "//components/password_manager/core/browser",
+#    "//components/password_manager/core/browser",
     "//components/search_engines",
-    "//components/signin/core/browser",
+#    "//components/signin/core/browser",
     "//components/webdata/common",
     "//sql",
-    "//sync",
+#    "//sync",
   ]
 }
@@ -27,6 +27,6 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "web_data_service_test_util.cc",
-    "web_data_service_test_util.h",
+#    "web_data_service_test_util.cc",
+#    "web_data_service_test_util.h",
   ]
 
@@ -34,6 +34,6 @@ source_set("test_support") {
     ":webdata_services",
     "//base",
-    "//components/autofill/core/browser",
-    "//components/signin/core/browser",
+#    "//components/autofill/core/browser",
+#    "//components/signin/core/browser",
   ]
 }
diff --git a/components/webdata_services.gypi b/components/webdata_services.gypi
index 3e7b5ec..3c3ea60 100644
--- a/components/webdata_services.gypi
+++ b/components/webdata_services.gypi
@@ -29,6 +29,6 @@
     },
     {
-      # GN version: //components/webdata_services:test_support
-      'target_name': 'webdata_services_test_support',
+#      # GN version: //components/webdata_services:test_support
+#      'target_name': 'webdata_services_test_support',
       'type': 'static_library',
       'include_dirs': [
@@ -42,6 +42,6 @@
       ],
       'sources': [
-        'webdata_services/web_data_service_test_util.cc',
-        'webdata_services/web_data_service_test_util.h',
+#        'webdata_services/web_data_service_test_util.cc',
+#        'webdata_services/web_data_service_test_util.h',
       ],
     },
diff --git a/components/web_modal/BUILD.gn b/components/web_modal/BUILD.gn
index 730d861..67adbcd 100644
--- a/components/web_modal/BUILD.gn
+++ b/components/web_modal/BUILD.gn
@@ -26,14 +26,2 @@ static_library("web_modal") {
 }
 
-static_library("test_support") {
-  sources = [
-    "test_web_contents_modal_dialog_host.cc",
-    "test_web_contents_modal_dialog_host.h",
-    "test_web_contents_modal_dialog_manager_delegate.cc",
-    "test_web_contents_modal_dialog_manager_delegate.h",
-  ]
-
-  deps = [
-    ":web_modal",
-  ]
-}
diff --git a/components/web_modal.gypi b/components/web_modal.gypi
index de1ff06..ce51b25 100644
--- a/components/web_modal.gypi
+++ b/components/web_modal.gypi
@@ -34,6 +34,6 @@
     },
     {
-      # GN version: //components/web_modal:test_support
-      'target_name': 'web_modal_test_support',
+#      # GN version: //components/web_modal:test_support
+#      'target_name': 'web_modal_test_support',
       'type': 'static_library',
       'dependencies': [
diff --git a/components/web_resource/BUILD.gn b/components/web_resource/BUILD.gn
index 6be678d..e60f3be 100644
--- a/components/web_resource/BUILD.gn
+++ b/components/web_resource/BUILD.gn
@@ -24,29 +24,3 @@ static_library("web_resource") {
 }
 
-static_library("test_support") {
-  sources = [
-    "resource_request_allowed_notifier_test_util.cc",
-    "resource_request_allowed_notifier_test_util.h",
-  ]
-
-  deps = [
-    ":web_resource",
-    "//base",
-  ]
-}
 
-source_set("unit_tests") {
-  testonly = true
-  sources = [
-    "eula_accepted_notifier_unittest.cc",
-    "resource_request_allowed_notifier_unittest.cc",
-  ]
-
-  deps = [
-    ":web_resource",
-    ":test_support",
-    "//base",
-    "//base:prefs_test_support",
-    "//testing/gtest",
-  ]
-}
diff --git a/components/web_resource.gypi b/components/web_resource.gypi
index b300556..c36d696 100644
--- a/components/web_resource.gypi
+++ b/components/web_resource.gypi
@@ -30,6 +30,6 @@
     },
     {
-      # GN version: //components/web_resources:test_support
-      'target_name': 'web_resource_test_support',
+#      # GN version: //components/web_resources:test_support
+#      'target_name': 'web_resource_test_support',
       'type': 'static_library',
       'include_dirs': [
@@ -40,6 +40,6 @@
       ],
       'sources': [
-        'web_resource/resource_request_allowed_notifier_test_util.cc',
-        'web_resource/resource_request_allowed_notifier_test_util.h',
+#        'web_resource/resource_request_allowed_notifier_test_util.cc',
+#        'web_resource/resource_request_allowed_notifier_test_util.h',
       ],
     },
diff --git a/content/app/BUILD.gn b/content/app/BUILD.gn
index 4e48811..22dd94e 100644
--- a/content/app/BUILD.gn
+++ b/content/app/BUILD.gn
@@ -46,5 +46,5 @@ if (is_win) {
   content_app_deps += [
     "//content/public/android:jni",
-    "//device/vibration",
+#    "//device/vibration",
     "//skia",
     "//third_party/android_tools:cpu_features",
diff --git a/content/browser/accessibility/browser_accessibility_state_impl.cc b/content/browser/accessibility/browser_accessibility_state_impl.cc
index 5d68c2c..7d30696 100644
--- a/content/browser/accessibility/browser_accessibility_state_impl.cc
+++ b/content/browser/accessibility/browser_accessibility_state_impl.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/browser/accessibility/accessibility_mode_helper.h"
 #include "content/browser/renderer_host/render_widget_host_impl.h"
diff --git a/content/browser/accessibility/browser_accessibility_state_impl_win.cc b/content/browser/accessibility/browser_accessibility_state_impl_win.cc
index ddce50e..a724fa9 100644
--- a/content/browser/accessibility/browser_accessibility_state_impl_win.cc
+++ b/content/browser/accessibility/browser_accessibility_state_impl_win.cc
@@ -10,5 +10,5 @@
 #include "base/files/file_path.h"
 #include "base/macros.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 
diff --git a/content/browser/android/content_video_view.cc b/content/browser/android/content_video_view.cc
index 52d0250..3b0ef7d 100644
--- a/content/browser/android/content_video_view.cc
+++ b/content/browser/android/content_video_view.cc
@@ -8,5 +8,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/browser/android/content_view_core_impl.h"
 #include "content/browser/media/android/browser_media_player_manager.h"
diff --git a/content/browser/android/content_view_core_impl.cc b/content/browser/android/content_view_core_impl.cc
index d13d796..f8148a4 100644
--- a/content/browser/android/content_view_core_impl.cc
+++ b/content/browser/android/content_view_core_impl.cc
@@ -11,5 +11,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/values.h"
diff --git a/content/browser/appcache/appcache_histograms.cc b/content/browser/appcache/appcache_histograms.cc
index ff221b0..2f0d6ee 100644
--- a/content/browser/appcache/appcache_histograms.cc
+++ b/content/browser/appcache/appcache_histograms.cc
@@ -5,5 +5,5 @@
 #include "content/browser/appcache/appcache_histograms.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace content {
diff --git a/content/browser/browser_child_process_host_impl.cc b/content/browser/browser_child_process_host_impl.cc
index e606902..1e64ce0 100644
--- a/content/browser/browser_child_process_host_impl.cc
+++ b/content/browser/browser_child_process_host_impl.cc
@@ -11,5 +11,5 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_util.h"
diff --git a/content/browser/browser_main_loop.cc b/content/browser/browser_main_loop.cc
index 2409bc7..67fd864 100644
--- a/content/browser/browser_main_loop.cc
+++ b/content/browser/browser_main_loop.cc
@@ -9,6 +9,6 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/pending_task.h"
 #include "base/power_monitor/power_monitor.h"
diff --git a/content/browser/browser_main_runner.cc b/content/browser/browser_main_runner.cc
index b12ccd6..79318cf 100644
--- a/content/browser/browser_main_runner.cc
+++ b/content/browser/browser_main_runner.cc
@@ -9,6 +9,6 @@
 #include "base/debug/leak_annotations.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/trace_event/trace_event.h"
 #include "content/browser/browser_main_loop.h"
diff --git a/content/browser/BUILD.gn b/content/browser/BUILD.gn
index 345d8db..6aa8f2d 100644
--- a/content/browser/BUILD.gn
+++ b/content/browser/BUILD.gn
@@ -24,9 +24,9 @@ source_set("browser") {
     "//content:resources",
     "//content/browser/service_worker:service_worker_proto",
-    "//content/browser/speech/proto",
+#    "//content/browser/speech/proto",
     "//content/public/common:common_sources",
     "//crypto",
-    "//device/battery",
-    "//device/vibration",
+#    "//device/battery",
+#    "//device/vibration",
     "//google_apis",
     "//net",
@@ -35,5 +35,5 @@ source_set("browser") {
     "//third_party/npapi",
     "//third_party/re2",
-    "//third_party/WebKit/public:blink_headers",
+#    "//third_party/WebKit/public:blink_headers",
     "//third_party/zlib",
     "//third_party/zlib:zip",
@@ -103,5 +103,5 @@ source_set("browser") {
       "//content/common:mojo_bindings",
       "//content/public/common:mojo_bindings",
-      "//device/bluetooth",
+#      "//device/bluetooth",
       "//net:http_server",
       "//storage/browser",
@@ -147,5 +147,5 @@ source_set("browser") {
 
   if (enable_basic_printing || enable_print_preview) {
-    deps += [ "//printing" ]
+#    deps += [ "//printing" ]
   }
 
@@ -185,5 +185,5 @@ source_set("browser") {
       }
       defines += [ "ENABLE_SCREEN_CAPTURE=1" ]
-      deps += [ "//third_party/webrtc/modules/desktop_capture" ]
+#      deps += [ "//third_party/webrtc/modules/desktop_capture" ]
     }
     if (is_linux || is_mac) {
@@ -198,5 +198,5 @@ source_set("browser") {
     sources -= [
       "device_sensors/data_fetcher_shared_memory_default.cc",
-      "geolocation/empty_wifi_data_provider.cc",
+#      "geolocation/empty_wifi_data_provider.cc",
     ]
     defines += [
@@ -233,5 +233,5 @@ source_set("browser") {
 
   if (use_udev) {
-    deps += [ "//device/udev_linux" ]
+#    deps += [ "//device/udev_linux" ]
   } else {
     # Remove udev-specific sources.
@@ -288,11 +288,11 @@ source_set("browser") {
   # android, chromeos, linux and use_dbus.
   if (is_android) {
-    sources -= [ "geolocation/wifi_data_provider_common.cc" ]
+#    sources -= [ "geolocation/wifi_data_provider_common.cc" ]
   }
   if (is_chromeos || (is_linux && !use_dbus)) {
-    sources -= [ "geolocation/wifi_data_provider_linux.cc" ]
+#    sources -= [ "geolocation/wifi_data_provider_linux.cc" ]
   }
   if (is_linux && use_dbus) {
-    sources -= [ "geolocation/empty_wifi_data_provider.cc" ]
+#    sources -= [ "geolocation/empty_wifi_data_provider.cc" ]
   }
 
@@ -308,32 +308,32 @@ source_set("browser") {
       "browser_ipc_logging.cc",
       "device_sensors/data_fetcher_shared_memory_default.cc",
-      "geolocation/network_location_provider.cc",
-      "geolocation/network_location_provider.h",
-      "geolocation/network_location_request.cc",
-      "geolocation/network_location_request.h",
+#      "geolocation/network_location_provider.cc",
+#      "geolocation/network_location_provider.h",
+#      "geolocation/network_location_request.cc",
+#      "geolocation/network_location_request.h",
       "tracing/tracing_ui.cc",
       "tracing/tracing_ui.h",
 
       # Android skips most, but not all, of the speech code.
-      "speech/audio_buffer.cc",
-      "speech/audio_buffer.h",
-      "speech/audio_encoder.cc",
-      "speech/audio_encoder.h",
-      "speech/chunked_byte_buffer.cc",
-      "speech/chunked_byte_buffer.h",
-      "speech/endpointer/endpointer.cc",
-      "speech/endpointer/endpointer.h",
-      "speech/endpointer/energy_endpointer.cc",
-      "speech/endpointer/energy_endpointer.h",
-      "speech/endpointer/energy_endpointer_params.cc",
-      "speech/endpointer/energy_endpointer_params.h",
-      "speech/google_one_shot_remote_engine.cc",
-      "speech/google_one_shot_remote_engine.h",
-      "speech/google_streaming_remote_engine.cc",
-      "speech/google_streaming_remote_engine.h",
-      "speech/speech_recognition_engine.cc",
-      "speech/speech_recognition_engine.h",
-      "speech/speech_recognizer_impl.cc",
-      "speech/speech_recognizer_impl.h",
+#      "speech/audio_buffer.cc",
+#      "speech/audio_buffer.h",
+#      "speech/audio_encoder.cc",
+#      "speech/audio_encoder.h",
+#      "speech/chunked_byte_buffer.cc",
+#      "speech/chunked_byte_buffer.h",
+#      "speech/endpointer/endpointer.cc",
+#      "speech/endpointer/endpointer.h",
+#      "speech/endpointer/energy_endpointer.cc",
+#      "speech/endpointer/energy_endpointer.h",
+#      "speech/endpointer/energy_endpointer_params.cc",
+#      "speech/endpointer/energy_endpointer_params.h",
+#      "speech/google_one_shot_remote_engine.cc",
+#      "speech/google_one_shot_remote_engine.h",
+#      "speech/google_streaming_remote_engine.cc",
+#      "speech/google_streaming_remote_engine.h",
+#      "speech/speech_recognition_engine.cc",
+#      "speech/speech_recognition_engine.h",
+#      "speech/speech_recognizer_impl.cc",
+#      "speech/speech_recognizer_impl.h",
     ]
     deps += [
@@ -349,6 +349,6 @@ source_set("browser") {
     sources -= [
       "device_sensors/data_fetcher_shared_memory_default.cc",
-      "geolocation/empty_wifi_data_provider.cc",
-      "geolocation/empty_wifi_data_provider.h",
+#      "geolocation/empty_wifi_data_provider.cc",
+#      "geolocation/empty_wifi_data_provider.h",
     ]
     deps += [ "//ui/accelerated_widget_mac" ]
diff --git a/content/browser/child_process_launcher.cc b/content/browser/child_process_launcher.cc
index 5a7be48..358ddec 100644
--- a/content/browser/child_process_launcher.cc
+++ b/content/browser/child_process_launcher.cc
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process.h"
 #include "base/synchronization/lock.h"
diff --git a/content/browser/child_process_security_policy_impl.cc b/content/browser/child_process_security_policy_impl.cc
index 34caa5a..d328a0f 100644
--- a/content/browser/child_process_security_policy_impl.cc
+++ b/content/browser/child_process_security_policy_impl.cc
@@ -8,5 +8,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_util.h"
diff --git a/content/browser/compositor/gpu_process_transport_factory.cc b/content/browser/compositor/gpu_process_transport_factory.cc
index 3658c25..af1512d 100644
--- a/content/browser/compositor/gpu_process_transport_factory.cc
+++ b/content/browser/compositor/gpu_process_transport_factory.cc
@@ -11,5 +11,5 @@
 #include "base/location.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/threading/thread.h"
 #include "cc/output/compositor_frame.h"
diff --git a/content/browser/device_sensors/data_fetcher_shared_memory_default.cc b/content/browser/device_sensors/data_fetcher_shared_memory_default.cc
index e97993f..3b0e8da 100644
--- a/content/browser/device_sensors/data_fetcher_shared_memory_default.cc
+++ b/content/browser/device_sensors/data_fetcher_shared_memory_default.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace {
diff --git a/content/browser/device_sensors/data_fetcher_shared_memory_mac.cc b/content/browser/device_sensors/data_fetcher_shared_memory_mac.cc
index 4a1644f..71c24a9 100644
--- a/content/browser/device_sensors/data_fetcher_shared_memory_mac.cc
+++ b/content/browser/device_sensors/data_fetcher_shared_memory_mac.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/browser/device_sensors/ambient_light_mac.h"
 #include "third_party/sudden_motion_sensor/sudden_motion_sensor_mac.h"
diff --git a/content/browser/device_sensors/data_fetcher_shared_memory_win.cc b/content/browser/device_sensors/data_fetcher_shared_memory_win.cc
index 7b29bfd..5c0b6d7 100644
--- a/content/browser/device_sensors/data_fetcher_shared_memory_win.cc
+++ b/content/browser/device_sensors/data_fetcher_shared_memory_win.cc
@@ -11,5 +11,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/win/iunknown_impl.h"
 #include "base/win/windows_version.h"
diff --git a/content/browser/device_sensors/sensor_manager_android.cc b/content/browser/device_sensors/sensor_manager_android.cc
index 0158dd7..449bd0c 100644
--- a/content/browser/device_sensors/sensor_manager_android.cc
+++ b/content/browser/device_sensors/sensor_manager_android.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/browser/device_sensors/inertial_sensor_consts.h"
 #include "content/public/browser/browser_thread.h"
diff --git a/content/browser/dom_storage/dom_storage_area.cc b/content/browser/dom_storage/dom_storage_area.cc
index 9ff7bfb..703cc5b 100644
--- a/content/browser/dom_storage/dom_storage_area.cc
+++ b/content/browser/dom_storage/dom_storage_area.cc
@@ -10,5 +10,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process_info.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/browser/dom_storage/session_storage_database.cc b/content/browser/dom_storage/session_storage_database.cc
index 3afc669..52691c1 100644
--- a/content/browser/dom_storage/session_storage_database.cc
+++ b/content/browser/dom_storage/session_storage_database.cc
@@ -7,5 +7,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/browser/download/base_file_win.cc b/content/browser/download/base_file_win.cc
index fec1454..3dccd1a 100644
--- a/content/browser/download/base_file_win.cc
+++ b/content/browser/download/base_file_win.cc
@@ -13,5 +13,5 @@
 #include "base/files/file_util.h"
 #include "base/guid.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/threading/thread_restrictions.h"
diff --git a/content/browser/download/download_item_impl.cc b/content/browser/download/download_item_impl.cc
index 753656f..1bb18a6 100644
--- a/content/browser/download/download_item_impl.cc
+++ b/content/browser/download/download_item_impl.cc
@@ -32,5 +32,5 @@
 #include "base/format_macros.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/browser/download/download_resource_handler.cc b/content/browser/download/download_resource_handler.cc
index 224f45c..65e8ff4 100644
--- a/content/browser/download/download_resource_handler.cc
+++ b/content/browser/download/download_resource_handler.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "content/browser/byte_stream.h"
diff --git a/content/browser/download/download_stats.cc b/content/browser/download/download_stats.cc
index d88eef2..2afc588 100644
--- a/content/browser/download/download_stats.cc
+++ b/content/browser/download/download_stats.cc
@@ -5,6 +5,6 @@
 #include "content/browser/download/download_stats.h"
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_util.h"
 #include "content/browser/download/download_resource_handler.h"
diff --git a/content/browser/download/mock_download_file.cc b/content/browser/download/mock_download_file.cc
index 9d883c7..76c0602 100644
--- a/content/browser/download/mock_download_file.cc
+++ b/content/browser/download/mock_download_file.cc
@@ -4,5 +4,5 @@
 
 #include "content/browser/download/mock_download_file.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using ::testing::_;
diff --git a/content/browser/download/mock_download_file.h b/content/browser/download/mock_download_file.h
index 5d4b270..d5fb70c 100644
--- a/content/browser/download/mock_download_file.h
+++ b/content/browser/download/mock_download_file.h
@@ -13,6 +13,6 @@
 #include "content/browser/download/download_file.h"
 #include "content/public/browser/download_manager.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace content {
diff --git a/content/browser/fileapi/mock_file_update_observer.cc b/content/browser/fileapi/mock_file_update_observer.cc
index 2951d3e..6e091ea 100644
--- a/content/browser/fileapi/mock_file_update_observer.cc
+++ b/content/browser/fileapi/mock_file_update_observer.cc
@@ -5,5 +5,5 @@
 #include "base/thread_task_runner_handle.h"
 #include "content/browser/fileapi/mock_file_update_observer.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace storage {
diff --git a/content/browser/fileapi/mock_url_request_delegate.cc b/content/browser/fileapi/mock_url_request_delegate.cc
index 40a975a..607815e 100644
--- a/content/browser/fileapi/mock_url_request_delegate.cc
+++ b/content/browser/fileapi/mock_url_request_delegate.cc
@@ -8,5 +8,5 @@
 #include "base/run_loop.h"
 #include "net/base/io_buffer.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/content/browser/frame_host/navigation_controller_impl.cc b/content/browser/frame_host/navigation_controller_impl.cc
index 6610cb1..377b2e2 100644
--- a/content/browser/frame_host/navigation_controller_impl.cc
+++ b/content/browser/frame_host/navigation_controller_impl.cc
@@ -8,5 +8,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"  // Temporary
 #include "base/strings/string_util.h"
diff --git a/content/browser/frame_host/navigation_entry_impl.cc b/content/browser/frame_host/navigation_entry_impl.cc
index 864c7c3..e528bec 100644
--- a/content/browser/frame_host/navigation_entry_impl.cc
+++ b/content/browser/frame_host/navigation_entry_impl.cc
@@ -5,5 +5,5 @@
 #include "content/browser/frame_host/navigation_entry_impl.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/browser/frame_host/navigator_impl.cc b/content/browser/frame_host/navigator_impl.cc
index 7194bbe..904c57d 100644
--- a/content/browser/frame_host/navigator_impl.cc
+++ b/content/browser/frame_host/navigator_impl.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "content/browser/frame_host/frame_tree.h"
diff --git a/content/browser/frame_host/render_frame_host_impl.cc b/content/browser/frame_host/render_frame_host_impl.cc
index df33497..67c8102 100644
--- a/content/browser/frame_host/render_frame_host_impl.cc
+++ b/content/browser/frame_host/render_frame_host_impl.cc
@@ -9,6 +9,6 @@
 #include "base/containers/hash_tables.h"
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/process/kill.h"
 #include "base/time/time.h"
diff --git a/content/browser/geolocation/fake_access_token_store.h b/content/browser/geolocation/fake_access_token_store.h
index 30a0185..957ab83 100644
--- a/content/browser/geolocation/fake_access_token_store.h
+++ b/content/browser/geolocation/fake_access_token_store.h
@@ -8,6 +8,6 @@
 #include "base/message_loop/message_loop_proxy.h"
 #include "content/public/browser/access_token_store.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace content {
diff --git a/content/browser/geolocation/geolocation_service_impl.cc b/content/browser/geolocation/geolocation_service_impl.cc
index 662319f..ba6c464 100644
--- a/content/browser/geolocation/geolocation_service_impl.cc
+++ b/content/browser/geolocation/geolocation_service_impl.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/browser/geolocation/geolocation_service_context.h"
 #include "content/public/common/mojo_geoposition.mojom.h"
diff --git a/content/browser/geolocation/network_location_request.cc b/content/browser/geolocation/network_location_request.cc
index 84ba5b0..78d475a 100644
--- a/content/browser/geolocation/network_location_request.cc
+++ b/content/browser/geolocation/network_location_request.cc
@@ -10,6 +10,6 @@
 #include "base/json/json_reader.h"
 #include "base/json/json_writer.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/browser/geolocation/wifi_data_provider_win.cc b/content/browser/geolocation/wifi_data_provider_win.cc
index 66c07c0..fcfad22 100644
--- a/content/browser/geolocation/wifi_data_provider_win.cc
+++ b/content/browser/geolocation/wifi_data_provider_win.cc
@@ -28,5 +28,5 @@
 #include <wlanapi.h>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/win/windows_version.h"
diff --git a/content/browser/gpu/compositor_util.cc b/content/browser/gpu/compositor_util.cc
index 18eefc7..c8afcb5 100644
--- a/content/browser/gpu/compositor_util.cc
+++ b/content/browser/gpu/compositor_util.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/sys_info.h"
diff --git a/content/browser/gpu/gpu_data_manager_impl_private.cc b/content/browser/gpu/gpu_data_manager_impl_private.cc
index c0e3fd6..74477f0 100644
--- a/content/browser/gpu/gpu_data_manager_impl_private.cc
+++ b/content/browser/gpu/gpu_data_manager_impl_private.cc
@@ -8,7 +8,7 @@
 #include "base/bind_helpers.h"
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/browser/gpu/gpu_process_host.cc b/content/browser/gpu/gpu_process_host.cc
index a857a9d..47bc285 100644
--- a/content/browser/gpu/gpu_process_host.cc
+++ b/content/browser/gpu/gpu_process_host.cc
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sha1.h"
 #include "base/threading/thread.h"
diff --git a/content/browser/histogram_controller.cc b/content/browser/histogram_controller.cc
index 3b11c32..4d8542c 100644
--- a/content/browser/histogram_controller.cc
+++ b/content/browser/histogram_controller.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process_handle.h"
 #include "content/browser/histogram_subscriber.h"
diff --git a/content/browser/histogram_internals_request_job.cc b/content/browser/histogram_internals_request_job.cc
index d8640dd..cb4df833 100644
--- a/content/browser/histogram_internals_request_job.cc
+++ b/content/browser/histogram_internals_request_job.cc
@@ -5,6 +5,6 @@
 #include "content/browser/histogram_internals_request_job.h"
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "content/browser/histogram_synchronizer.h"
 #include "net/base/escape.h"
diff --git a/content/browser/histogram_message_filter.cc b/content/browser/histogram_message_filter.cc
index 8eb7c72..46d7183 100644
--- a/content/browser/histogram_message_filter.cc
+++ b/content/browser/histogram_message_filter.cc
@@ -6,6 +6,6 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "content/browser/histogram_controller.h"
 #include "content/browser/tcmalloc_internals_request_job.h"
diff --git a/content/browser/histogram_synchronizer.cc b/content/browser/histogram_synchronizer.cc
index 1661723..25d1ac4 100644
--- a/content/browser/histogram_synchronizer.cc
+++ b/content/browser/histogram_synchronizer.cc
@@ -8,6 +8,6 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/histogram_delta_serialization.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram_delta_serialization.h"
 #include "base/pickle.h"
 #include "base/threading/thread.h"
diff --git a/content/browser/indexed_db/indexed_db_backing_store.cc b/content/browser/indexed_db/indexed_db_backing_store.cc
index 4ae9ed4..e86fd4d 100644
--- a/content/browser/indexed_db/indexed_db_backing_store.cc
+++ b/content/browser/indexed_db/indexed_db_backing_store.cc
@@ -13,5 +13,5 @@
 #include "base/json/json_writer.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/browser/indexed_db/indexed_db_callbacks.cc b/content/browser/indexed_db/indexed_db_callbacks.cc
index 147c5ab..9c0d55b 100644
--- a/content/browser/indexed_db/indexed_db_callbacks.cc
+++ b/content/browser/indexed_db/indexed_db_callbacks.cc
@@ -7,5 +7,5 @@
 #include <algorithm>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/time/time.h"
diff --git a/content/browser/indexed_db/indexed_db_context_impl.cc b/content/browser/indexed_db/indexed_db_context_impl.cc
index f1357fd..d722482 100644
--- a/content/browser/indexed_db/indexed_db_context_impl.cc
+++ b/content/browser/indexed_db/indexed_db_context_impl.cc
@@ -13,5 +13,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/strings/string_util.h"
diff --git a/content/browser/indexed_db/leveldb/leveldb_database.cc b/content/browser/indexed_db/leveldb/leveldb_database.cc
index c78ec0d..b5e5755 100644
--- a/content/browser/indexed_db/leveldb/leveldb_database.cc
+++ b/content/browser/indexed_db/leveldb/leveldb_database.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string16.h"
 #include "base/strings/string_piece.h"
diff --git a/content/browser/indexed_db/leveldb/leveldb_transaction.cc b/content/browser/indexed_db/leveldb/leveldb_transaction.cc
index a9e7109..56c9219 100644
--- a/content/browser/indexed_db/leveldb/leveldb_transaction.cc
+++ b/content/browser/indexed_db/leveldb/leveldb_transaction.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "content/browser/indexed_db/leveldb/leveldb_database.h"
diff --git a/content/browser/indexed_db/leveldb/mock_leveldb_factory.h b/content/browser/indexed_db/leveldb/mock_leveldb_factory.h
index dacb860..6e74a0d 100644
--- a/content/browser/indexed_db/leveldb/mock_leveldb_factory.h
+++ b/content/browser/indexed_db/leveldb/mock_leveldb_factory.h
@@ -8,5 +8,5 @@
 #include "base/files/file_path.h"
 #include "content/browser/indexed_db/leveldb/leveldb_factory.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace content {
diff --git a/content/browser/indexed_db/mock_indexed_db_callbacks.cc b/content/browser/indexed_db/mock_indexed_db_callbacks.cc
index 62afee8..d1863db 100644
--- a/content/browser/indexed_db/mock_indexed_db_callbacks.cc
+++ b/content/browser/indexed_db/mock_indexed_db_callbacks.cc
@@ -5,5 +5,5 @@
 #include "content/browser/indexed_db/mock_indexed_db_callbacks.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace content {
diff --git a/content/browser/indexed_db/mock_indexed_db_database_callbacks.cc b/content/browser/indexed_db/mock_indexed_db_database_callbacks.cc
index 479bb3a..cb5f5ef 100644
--- a/content/browser/indexed_db/mock_indexed_db_database_callbacks.cc
+++ b/content/browser/indexed_db/mock_indexed_db_database_callbacks.cc
@@ -5,5 +5,5 @@
 #include "content/browser/indexed_db/mock_indexed_db_database_callbacks.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace content {
diff --git a/content/browser/indexed_db/mock_indexed_db_factory.h b/content/browser/indexed_db/mock_indexed_db_factory.h
index 9c4e3f4..3e31e93 100644
--- a/content/browser/indexed_db/mock_indexed_db_factory.h
+++ b/content/browser/indexed_db/mock_indexed_db_factory.h
@@ -9,5 +9,5 @@
 
 #include "content/browser/indexed_db/indexed_db_factory.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace content {
diff --git a/content/browser/loader/async_resource_handler.cc b/content/browser/loader/async_resource_handler.cc
index 7c1ad33..0941b3b 100644
--- a/content/browser/loader/async_resource_handler.cc
+++ b/content/browser/loader/async_resource_handler.cc
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "base/memory/shared_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/time/time.h"
diff --git a/content/browser/loader/buffered_resource_handler.cc b/content/browser/loader/buffered_resource_handler.cc
index 67e74a5..70241bb 100644
--- a/content/browser/loader/buffered_resource_handler.cc
+++ b/content/browser/loader/buffered_resource_handler.cc
@@ -9,5 +9,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "content/browser/download/download_resource_handler.h"
diff --git a/content/browser/loader/resource_dispatcher_host_impl.cc b/content/browser/loader/resource_dispatcher_host_impl.cc
index 94d816b..8a32ae7 100644
--- a/content/browser/loader/resource_dispatcher_host_impl.cc
+++ b/content/browser/loader/resource_dispatcher_host_impl.cc
@@ -20,6 +20,6 @@
 #include "base/memory/shared_memory.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/content/browser/loader/resource_loader.cc b/content/browser/loader/resource_loader.cc
index b462a68..a53f691 100644
--- a/content/browser/loader/resource_loader.cc
+++ b/content/browser/loader/resource_loader.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/time/time.h"
diff --git a/content/browser/loader/resource_scheduler.cc b/content/browser/loader/resource_scheduler.cc
index a3d3d64..431394b 100644
--- a/content/browser/loader/resource_scheduler.cc
+++ b/content/browser/loader/resource_scheduler.cc
@@ -7,6 +7,6 @@
 #include "content/browser/loader/resource_scheduler.h"
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/time/time.h"
diff --git a/content/browser/media/capture/content_video_capture_device_core.cc b/content/browser/media/capture/content_video_capture_device_core.cc
index 4a85a77..6f84146 100644
--- a/content/browser/media/capture/content_video_capture_device_core.cc
+++ b/content/browser/media/capture/content_video_capture_device_core.cc
@@ -13,5 +13,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/content/browser/media/capture/desktop_capture_device_aura.cc b/content/browser/media/capture/desktop_capture_device_aura.cc
index de1a109..320f0eb 100644
--- a/content/browser/media/capture/desktop_capture_device_aura.cc
+++ b/content/browser/media/capture/desktop_capture_device_aura.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/timer/timer.h"
 #include "cc/output/copy_output_request.h"
diff --git a/content/browser/media/capture/desktop_capture_device.cc b/content/browser/media/capture/desktop_capture_device.cc
index 410a224..ae70250 100644
--- a/content/browser/media/capture/desktop_capture_device.cc
+++ b/content/browser/media/capture/desktop_capture_device.cc
@@ -8,5 +8,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/synchronization/lock.h"
diff --git a/content/browser/media/capture/desktop_capture_device_uma_types.cc b/content/browser/media/capture/desktop_capture_device_uma_types.cc
index c91641c..1a3353f 100644
--- a/content/browser/media/capture/desktop_capture_device_uma_types.cc
+++ b/content/browser/media/capture/desktop_capture_device_uma_types.cc
@@ -5,5 +5,5 @@
 #include "content/browser/media/capture/desktop_capture_device_uma_types.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace content {
diff --git a/content/browser/media/capture/web_contents_video_capture_device.cc b/content/browser/media/capture/web_contents_video_capture_device.cc
index 0d1a01f..11d0207 100644
--- a/content/browser/media/capture/web_contents_video_capture_device.cc
+++ b/content/browser/media/capture/web_contents_video_capture_device.cc
@@ -58,5 +58,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/threading/thread.h"
diff --git a/content/browser/media/media_internals.cc b/content/browser/media/media_internals.cc
index b5a9351..dff5387 100644
--- a/content/browser/media/media_internals.cc
+++ b/content/browser/media/media_internals.cc
@@ -5,5 +5,5 @@
 #include "content/browser/media/media_internals.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string16.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/content/browser/net/sqlite_persistent_cookie_store.cc b/content/browser/net/sqlite_persistent_cookie_store.cc
index 75c89fd..b86cf4c 100644
--- a/content/browser/net/sqlite_persistent_cookie_store.cc
+++ b/content/browser/net/sqlite_persistent_cookie_store.cc
@@ -20,6 +20,6 @@
 #include "base/memory/ref_counted.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/strings/string_util.h"
diff --git a/content/browser/net/sqlite_persistent_cookie_store_perftest.cc b/content/browser/net/sqlite_persistent_cookie_store_perftest.cc
index 2a708b4..11ec221 100644
--- a/content/browser/net/sqlite_persistent_cookie_store_perftest.cc
+++ b/content/browser/net/sqlite_persistent_cookie_store_perftest.cc
@@ -17,5 +17,5 @@
 #include "net/cookies/canonical_cookie.h"
 #include "net/cookies/cookie_constants.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/content/browser/plugin_data_remover_impl.cc b/content/browser/plugin_data_remover_impl.cc
index f74b378..5bf4043 100644
--- a/content/browser/plugin_data_remover_impl.cc
+++ b/content/browser/plugin_data_remover_impl.cc
@@ -8,5 +8,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner_helpers.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/browser/plugin_loader_posix.cc b/content/browser/plugin_loader_posix.cc
index 3523d32..28fd0af 100644
--- a/content/browser/plugin_loader_posix.cc
+++ b/content/browser/plugin_loader_posix.cc
@@ -8,5 +8,5 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/browser/utility_process_host_impl.h"
 #include "content/common/child_process_host_impl.h"
diff --git a/content/browser/plugin_process_host.cc b/content/browser/plugin_process_host.cc
index 3257ac3..0edee66 100644
--- a/content/browser/plugin_process_host.cc
+++ b/content/browser/plugin_process_host.cc
@@ -19,5 +19,5 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/content/browser/plugin_service_impl.cc b/content/browser/plugin_service_impl.cc
index e431095..53ebf27 100644
--- a/content/browser/plugin_service_impl.cc
+++ b/content/browser/plugin_service_impl.cc
@@ -11,5 +11,5 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/browser/power_usage_monitor_impl.cc b/content/browser/power_usage_monitor_impl.cc
index fb294f3..7cf0305 100644
--- a/content/browser/power_usage_monitor_impl.cc
+++ b/content/browser/power_usage_monitor_impl.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/macros.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "base/sys_info.h"
diff --git a/content/browser/ppapi_plugin_process_host.cc b/content/browser/ppapi_plugin_process_host.cc
index 480296f..723a272 100644
--- a/content/browser/ppapi_plugin_process_host.cc
+++ b/content/browser/ppapi_plugin_process_host.cc
@@ -10,5 +10,5 @@
 #include "base/command_line.h"
 #include "base/files/file_path.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/utf_string_conversions.h"
 #include "content/browser/browser_child_process_host_impl.h"
diff --git a/content/browser/push_messaging/push_messaging_message_filter.cc b/content/browser/push_messaging/push_messaging_message_filter.cc
index 66ff081..4f3f103 100644
--- a/content/browser/push_messaging/push_messaging_message_filter.cc
+++ b/content/browser/push_messaging/push_messaging_message_filter.cc
@@ -10,5 +10,5 @@
 #include "base/bind_helpers.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "content/browser/renderer_host/render_process_host_impl.h"
diff --git a/content/browser/renderer_host/input/input_router_impl.cc b/content/browser/renderer_host/input/input_router_impl.cc
index 54bf892..869c10a 100644
--- a/content/browser/renderer_host/input/input_router_impl.cc
+++ b/content/browser/renderer_host/input/input_router_impl.cc
@@ -9,5 +9,5 @@
 #include "base/auto_reset.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "content/browser/renderer_host/input/gesture_event_queue.h"
diff --git a/content/browser/renderer_host/input/input_router_impl_perftest.cc b/content/browser/renderer_host/input/input_router_impl_perftest.cc
index 017bd617..12f27a3 100644
--- a/content/browser/renderer_host/input/input_router_impl_perftest.cc
+++ b/content/browser/renderer_host/input/input_router_impl_perftest.cc
@@ -12,6 +12,6 @@
 #include "content/common/view_messages.h"
 #include "ipc/ipc_sender.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 #include "ui/gfx/geometry/vector2d_f.h"
 
diff --git a/content/browser/renderer_host/input/mock_input_ack_handler.cc b/content/browser/renderer_host/input/mock_input_ack_handler.cc
index 3092809..4333e23 100644
--- a/content/browser/renderer_host/input/mock_input_ack_handler.cc
+++ b/content/browser/renderer_host/input/mock_input_ack_handler.cc
@@ -6,5 +6,5 @@
 
 #include "content/browser/renderer_host/input/input_router.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::TimeDelta;
diff --git a/content/browser/renderer_host/input/mock_input_router_client.cc b/content/browser/renderer_host/input/mock_input_router_client.cc
index 068af8c..486c853 100644
--- a/content/browser/renderer_host/input/mock_input_router_client.cc
+++ b/content/browser/renderer_host/input/mock_input_router_client.cc
@@ -7,5 +7,5 @@
 #include "content/browser/renderer_host/input/input_router.h"
 #include "content/common/input/input_event.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::TimeDelta;
diff --git a/content/browser/renderer_host/media/audio_input_device_manager.cc b/content/browser/renderer_host/media/audio_input_device_manager.cc
index 111dc1e..7decae0 100644
--- a/content/browser/renderer_host/media/audio_input_device_manager.cc
+++ b/content/browser/renderer_host/media/audio_input_device_manager.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "content/public/browser/browser_thread.h"
 #include "content/public/common/media_stream_request.h"
diff --git a/content/browser/renderer_host/media/audio_input_renderer_host.cc b/content/browser/renderer_host/media/audio_input_renderer_host.cc
index 7b421ba..fb9d05c 100644
--- a/content/browser/renderer_host/media/audio_input_renderer_host.cc
+++ b/content/browser/renderer_host/media/audio_input_renderer_host.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/memory/shared_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_math.h"
 #include "base/process/process.h"
diff --git a/content/browser/renderer_host/media/audio_renderer_host.cc b/content/browser/renderer_host/media/audio_renderer_host.cc
index 85ac36e..a7cf35f 100644
--- a/content/browser/renderer_host/media/audio_renderer_host.cc
+++ b/content/browser/renderer_host/media/audio_renderer_host.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/memory/shared_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process.h"
 #include "content/browser/browser_main_loop.h"
diff --git a/content/browser/renderer_host/media/audio_sync_reader.cc b/content/browser/renderer_host/media/audio_sync_reader.cc
index 7c493e1..8018012 100644
--- a/content/browser/renderer_host/media/audio_sync_reader.cc
+++ b/content/browser/renderer_host/media/audio_sync_reader.cc
@@ -9,5 +9,5 @@
 #include "base/command_line.h"
 #include "base/memory/shared_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "content/browser/renderer_host/media/media_stream_manager.h"
diff --git a/content/browser/renderer_host/media/media_stream_track_metrics_host.cc b/content/browser/renderer_host/media/media_stream_track_metrics_host.cc
index 328d60e..e8a82f3 100644
--- a/content/browser/renderer_host/media/media_stream_track_metrics_host.cc
+++ b/content/browser/renderer_host/media/media_stream_track_metrics_host.cc
@@ -5,5 +5,5 @@
 #include "content/browser/renderer_host/media/media_stream_track_metrics_host.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/common/media/media_stream_track_metrics_host_messages.h"
 
diff --git a/content/browser/renderer_host/media/mock_media_observer.h b/content/browser/renderer_host/media/mock_media_observer.h
index ae4e7e6..62e8130 100644
--- a/content/browser/renderer_host/media/mock_media_observer.h
+++ b/content/browser/renderer_host/media/mock_media_observer.h
@@ -12,5 +12,5 @@
 #include "media/audio/audio_parameters.h"
 #include "media/base/media_log_event.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace content {
diff --git a/content/browser/renderer_host/media/video_capture_controller.cc b/content/browser/renderer_host/media/video_capture_controller.cc
index 3a54654..0294369 100644
--- a/content/browser/renderer_host/media/video_capture_controller.cc
+++ b/content/browser/renderer_host/media/video_capture_controller.cc
@@ -10,6 +10,6 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/stl_util.h"
 #include "content/browser/renderer_host/media/media_stream_manager.h"
diff --git a/content/browser/renderer_host/media/video_capture_manager.cc b/content/browser/renderer_host/media/video_capture_manager.cc
index 1606e48..bf1ca5d 100644
--- a/content/browser/renderer_host/media/video_capture_manager.cc
+++ b/content/browser/renderer_host/media/video_capture_manager.cc
@@ -12,5 +12,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/stl_util.h"
 #include "base/task_runner_util.h"
diff --git a/content/browser/renderer_host/p2p/socket_host.cc b/content/browser/renderer_host/p2p/socket_host.cc
index bc54d400..3e3646f 100644
--- a/content/browser/renderer_host/p2p/socket_host.cc
+++ b/content/browser/renderer_host/p2p/socket_host.cc
@@ -5,5 +5,5 @@
 #include "content/browser/renderer_host/p2p/socket_host.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sys_byteorder.h"
 #include "content/browser/renderer_host/p2p/socket_host_tcp.h"
diff --git a/content/browser/renderer_host/p2p/socket_host_udp.cc b/content/browser/renderer_host/p2p/socket_host_udp.cc
index fd09f7d..b8dc725 100644
--- a/content/browser/renderer_host/p2p/socket_host_udp.cc
+++ b/content/browser/renderer_host/p2p/socket_host_udp.cc
@@ -6,6 +6,6 @@
 
 #include "base/bind.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/content/browser/renderer_host/pepper/browser_ppapi_host_impl.cc b/content/browser/renderer_host/pepper/browser_ppapi_host_impl.cc
index 3011603..48d6b03 100644
--- a/content/browser/renderer_host/pepper/browser_ppapi_host_impl.cc
+++ b/content/browser/renderer_host/pepper/browser_ppapi_host_impl.cc
@@ -5,5 +5,5 @@
 #include "content/browser/renderer_host/pepper/browser_ppapi_host_impl.h"
 
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "content/browser/renderer_host/pepper/pepper_message_filter.h"
 #include "content/browser/tracing/trace_message_filter.h"
diff --git a/content/browser/renderer_host/render_process_host_impl.cc b/content/browser/renderer_host/render_process_host_impl.cc
index 9dbebd3..6cc675d 100644
--- a/content/browser/renderer_host/render_process_host_impl.cc
+++ b/content/browser/renderer_host/render_process_host_impl.cc
@@ -20,6 +20,6 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process_handle.h"
 #include "base/rand_util.h"
diff --git a/content/browser/renderer_host/render_view_host_impl.cc b/content/browser/renderer_host/render_view_host_impl.cc
index c9083b4..04b4e57 100644
--- a/content/browser/renderer_host/render_view_host_impl.cc
+++ b/content/browser/renderer_host/render_view_host_impl.cc
@@ -15,6 +15,6 @@
 #include "base/json/json_reader.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_util.h"
diff --git a/content/browser/renderer_host/render_widget_host_impl.cc b/content/browser/renderer_host/render_widget_host_impl.cc
index 29ec4b7..5d998d8 100644
--- a/content/browser/renderer_host/render_widget_host_impl.cc
+++ b/content/browser/renderer_host/render_widget_host_impl.cc
@@ -16,6 +16,6 @@
 #include "base/lazy_instance.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/browser/renderer_host/render_widget_host_latency_tracker.cc b/content/browser/renderer_host/render_widget_host_latency_tracker.cc
index 8de5512..6b46fe2 100644
--- a/content/browser/renderer_host/render_widget_host_latency_tracker.cc
+++ b/content/browser/renderer_host/render_widget_host_latency_tracker.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/browser/renderer_host/render_widget_host_impl.h"
 
diff --git a/content/browser/renderer_host/render_widget_host_view_android.cc b/content/browser/renderer_host/render_widget_host_view_android.cc
index 339fec9..3c43952 100644
--- a/content/browser/renderer_host/render_widget_host_view_android.cc
+++ b/content/browser/renderer_host/render_widget_host_view_android.cc
@@ -14,5 +14,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/sys_info.h"
diff --git a/content/browser/service_worker/embedded_worker_instance.cc b/content/browser/service_worker/embedded_worker_instance.cc
index e7b27c3..287b1c0 100644
--- a/content/browser/service_worker/embedded_worker_instance.cc
+++ b/content/browser/service_worker/embedded_worker_instance.cc
@@ -9,5 +9,5 @@
 
 #include "base/bind_helpers.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/threading/non_thread_safe.h"
 #include "base/trace_event/trace_event.h"
diff --git a/content/browser/service_worker/service_worker_database.cc b/content/browser/service_worker/service_worker_database.cc
index 2d0e2f2..2d9a6e5 100644
--- a/content/browser/service_worker/service_worker_database.cc
+++ b/content/browser/service_worker/service_worker_database.cc
@@ -8,5 +8,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/content/browser/service_worker/service_worker_metrics.cc b/content/browser/service_worker/service_worker_metrics.cc
index 30cd114..76219dc 100644
--- a/content/browser/service_worker/service_worker_metrics.cc
+++ b/content/browser/service_worker/service_worker_metrics.cc
@@ -5,6 +5,6 @@
 #include "content/browser/service_worker/service_worker_metrics.h"
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "content/public/browser/browser_thread.h"
 #include "content/public/browser/content_browser_client.h"
diff --git a/content/browser/service_worker/service_worker_version.cc b/content/browser/service_worker/service_worker_version.cc
index 7b2a5a2..93ce66c 100644
--- a/content/browser/service_worker/service_worker_version.cc
+++ b/content/browser/service_worker/service_worker_version.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/stl_util.h"
 #include "base/strings/string16.h"
diff --git a/content/browser/shared_worker/shared_worker_host.cc b/content/browser/shared_worker/shared_worker_host.cc
index 8500a79..2d8e820 100644
--- a/content/browser/shared_worker/shared_worker_host.cc
+++ b/content/browser/shared_worker/shared_worker_host.cc
@@ -5,5 +5,5 @@
 #include "content/browser/shared_worker/shared_worker_host.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/browser/devtools/shared_worker_devtools_manager.h"
 #include "content/browser/frame_host/render_frame_host_delegate.h"
diff --git a/content/browser/speech/proto/speech_proto.gyp b/content/browser/speech/proto/speech_proto.gyp
index 47da499..595a6d4 100644
--- a/content/browser/speech/proto/speech_proto.gyp
+++ b/content/browser/speech/proto/speech_proto.gyp
@@ -6,5 +6,5 @@
   'targets': [
     {
-     # GN version: //content/browser/speech/proto:proto
+#     # GN version: //content/browser/speech/proto:proto
      'target_name': 'speech_proto',
      'type': 'static_library',
@@ -14,5 +14,5 @@
      'variables': {
         'proto_in_dir': '.',
-        'proto_out_dir': 'content/browser/speech/proto',
+#        'proto_out_dir': 'content/browser/speech/proto',
       },
      'includes': [ '../../../../build/protoc.gypi' ],
diff --git a/content/browser/transition_request_manager.cc b/content/browser/transition_request_manager.cc
index f5f1e97..f63e16b 100644
--- a/content/browser/transition_request_manager.cc
+++ b/content/browser/transition_request_manager.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_split.h"
 #include "base/strings/string_util.h"
diff --git a/content/browser/user_metrics.cc b/content/browser/user_metrics.cc
index 200c851..d3ced2c 100644
--- a/content/browser/user_metrics.cc
+++ b/content/browser/user_metrics.cc
@@ -8,5 +8,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "content/public/browser/browser_thread.h"
 
diff --git a/content/browser/web_contents/web_contents_impl.cc b/content/browser/web_contents/web_contents_impl.cc
index 977824c..07c857e 100644
--- a/content/browser/web_contents/web_contents_impl.cc
+++ b/content/browser/web_contents/web_contents_impl.cc
@@ -10,5 +10,5 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process.h"
 #include "base/strings/string16.h"
diff --git a/content/browser/web_contents/web_contents_view_aura.cc b/content/browser/web_contents/web_contents_view_aura.cc
index da9af68..d442e0e 100644
--- a/content/browser/web_contents/web_contents_view_aura.cc
+++ b/content/browser/web_contents/web_contents_view_aura.cc
@@ -8,5 +8,5 @@
 #include "base/command_line.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "content/browser/browser_plugin/browser_plugin_guest.h"
diff --git a/content/browser/zygote_host/zygote_host_impl_linux.cc b/content/browser/zygote_host/zygote_host_impl_linux.cc
index 3506207..40953615 100644
--- a/content/browser/zygote_host/zygote_host_impl_linux.cc
+++ b/content/browser/zygote_host/zygote_host_impl_linux.cc
@@ -22,6 +22,6 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/path_service.h"
 #include "base/posix/eintr_wrapper.h"
diff --git a/content/child/blink_platform_impl.cc b/content/child/blink_platform_impl.cc
index 672e7cd..2a95abc 100644
--- a/content/child/blink_platform_impl.cc
+++ b/content/child/blink_platform_impl.cc
@@ -14,6 +14,6 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/process/process_metrics.h"
 #include "base/rand_util.h"
diff --git a/content/child/child_discardable_shared_memory_manager.cc b/content/child/child_discardable_shared_memory_manager.cc
index a5ab45a..fd3ae5e 100644
--- a/content/child/child_discardable_shared_memory_manager.cc
+++ b/content/child/child_discardable_shared_memory_manager.cc
@@ -7,5 +7,5 @@
 #include "base/debug/crash_logging.h"
 #include "base/memory/discardable_shared_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process_metrics.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/content/child/child_histogram_message_filter.cc b/content/child/child_histogram_message_filter.cc
index 3e778d5..3a4feae 100644
--- a/content/child/child_histogram_message_filter.cc
+++ b/content/child/child_histogram_message_filter.cc
@@ -9,5 +9,5 @@
 #include "base/bind.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_delta_serialization.h"
+//#include "base/metrics/histogram_delta_serialization.h"
 #include "content/child/child_process.h"
 #include "content/common/child_process_messages.h"
diff --git a/content/child/child_process.cc b/content/child/child_process.cc
index db73ea3..df1854e 100644
--- a/content/child/child_process.cc
+++ b/content/child/child_process.cc
@@ -11,5 +11,5 @@
 #include "base/lazy_instance.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/process/process_handle.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/content/child/child_thread_impl.cc b/content/child/child_thread_impl.cc
index cccefe5..e001ba4 100644
--- a/content/child/child_thread_impl.cc
+++ b/content/child/child_thread_impl.cc
@@ -18,5 +18,5 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/timer_slack.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/process/kill.h"
 #include "base/process/process_handle.h"
diff --git a/content/child/resource_dispatcher.cc b/content/child/resource_dispatcher.cc
index cf56a77..1d339c0 100644
--- a/content/child/resource_dispatcher.cc
+++ b/content/child/resource_dispatcher.cc
@@ -15,5 +15,5 @@
 #include "base/memory/shared_memory.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "content/child/request_extra_data.h"
diff --git a/content/child/runtime_features.cc b/content/child/runtime_features.cc
index b13ccc2..fdf6d73 100644
--- a/content/child/runtime_features.cc
+++ b/content/child/runtime_features.cc
@@ -8,5 +8,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_split.h"
 #include "content/common/content_switches_internal.h"
@@ -19,5 +19,5 @@
 #include <cpu-features.h>
 #include "base/android/build_info.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "media/base/android/media_codec_bridge.h"
 #elif defined(OS_WIN)
diff --git a/content/child/site_isolation_policy.cc b/content/child/site_isolation_policy.cc
index 2320e0e..097afcd 100644
--- a/content/child/site_isolation_policy.cc
+++ b/content/child/site_isolation_policy.cc
@@ -9,5 +9,5 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "content/public/common/content_switches.h"
diff --git a/content/child/webcrypto/test/test_helpers.h b/content/child/webcrypto/test/test_helpers.h
index 4d9da49..05541a7 100644
--- a/content/child/webcrypto/test/test_helpers.h
+++ b/content/child/webcrypto/test/test_helpers.h
@@ -11,5 +11,5 @@
 
 #include "base/memory/scoped_ptr.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/WebKit/public/platform/WebCryptoAlgorithm.h"
 #include "third_party/WebKit/public/platform/WebCryptoKey.h"
diff --git a/content/child/web_database_observer_impl.cc b/content/child/web_database_observer_impl.cc
index 3a88133..637f265 100644
--- a/content/child/web_database_observer_impl.cc
+++ b/content/child/web_database_observer_impl.cc
@@ -5,5 +5,5 @@
 #include "content/child/web_database_observer_impl.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string16.h"
 #include "content/common/database_messages.h"
diff --git a/content/child/web_gesture_curve_impl.cc b/content/child/web_gesture_curve_impl.cc
index da8a18c..315f977 100644
--- a/content/child/web_gesture_curve_impl.cc
+++ b/content/child/web_gesture_curve_impl.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "third_party/WebKit/public/platform/WebFloatSize.h"
 #include "third_party/WebKit/public/platform/WebGestureCurveTarget.h"
diff --git a/content/common/BUILD.gn b/content/common/BUILD.gn
index b18551d..a705e58 100644
--- a/content/common/BUILD.gn
+++ b/content/common/BUILD.gn
@@ -158,5 +158,5 @@ source_set("common") {
     "//ui/shell_dialogs",
     "//url",
-    "//third_party/libjingle",
+#    "//third_party/libjingle",
   ]
 
diff --git a/content/common/cc_messages_perftest.cc b/content/common/cc_messages_perftest.cc
index 78085d2..4686f2f 100644
--- a/content/common/cc_messages_perftest.cc
+++ b/content/common/cc_messages_perftest.cc
@@ -9,6 +9,6 @@
 #include "cc/output/compositor_frame.h"
 #include "ipc/ipc_message.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 using cc::CompositorFrame;
diff --git a/content/common/child_process_host_impl.cc b/content/common/child_process_host_impl.cc
index eabd30e..3a13e71 100644
--- a/content/common/child_process_host_impl.cc
+++ b/content/common/child_process_host_impl.cc
@@ -11,5 +11,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_math.h"
 #include "base/path_service.h"
diff --git a/content/common/content_switches_internal.cc b/content/common/content_switches_internal.cc
index 1e76f9b..6c4f9ce 100644
--- a/content/common/content_switches_internal.cc
+++ b/content/common/content_switches_internal.cc
@@ -8,5 +8,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "content/public/common/content_switches.h"
 
diff --git a/content/common/dwrite_font_platform_win.cc b/content/common/dwrite_font_platform_win.cc
index aa9d98f..271ddce 100644
--- a/content/common/dwrite_font_platform_win.cc
+++ b/content/common/dwrite_font_platform_win.cc
@@ -23,5 +23,5 @@
 #include "base/memory/scoped_vector.h"
 #include "base/memory/shared_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/process/process_handle.h"
diff --git a/content/common/gpu/client/gl_helper_benchmark.cc b/content/common/gpu/client/gl_helper_benchmark.cc
index 75a204d..dd686f7 100644
--- a/content/common/gpu/client/gl_helper_benchmark.cc
+++ b/content/common/gpu/client/gl_helper_benchmark.cc
@@ -28,5 +28,5 @@
 #include "content/test/content_test_suite.h"
 #include "gpu/blink/webgraphicscontext3d_in_process_command_buffer_impl.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/skia/include/core/SkBitmap.h"
 #include "third_party/skia/include/core/SkTypes.h"
diff --git a/content/common/gpu/client/webgraphicscontext3d_command_buffer_impl.cc b/content/common/gpu/client/webgraphicscontext3d_command_buffer_impl.cc
index 0cf028f..fba667e 100644
--- a/content/common/gpu/client/webgraphicscontext3d_command_buffer_impl.cc
+++ b/content/common/gpu/client/webgraphicscontext3d_command_buffer_impl.cc
@@ -20,6 +20,6 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/trace_event/trace_event.h"
diff --git a/content/common/gpu/media/android_video_decode_accelerator.cc b/content/common/gpu/media/android_video_decode_accelerator.cc
index eb01d27..dc6b268 100644
--- a/content/common/gpu/media/android_video_decode_accelerator.cc
+++ b/content/common/gpu/media/android_video_decode_accelerator.cc
@@ -8,5 +8,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/common/gpu/gpu_channel.h"
 #include "gpu/command_buffer/service/gles2_cmd_decoder.h"
diff --git a/content/common/gpu/media/android_video_encode_accelerator.cc b/content/common/gpu/media/android_video_encode_accelerator.cc
index 0fe13f5..908836f 100644
--- a/content/common/gpu/media/android_video_encode_accelerator.cc
+++ b/content/common/gpu/media/android_video_encode_accelerator.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/common/gpu/gpu_channel.h"
 #include "content/public/common/content_switches.h"
diff --git a/content/common/gpu/media/vaapi_video_decode_accelerator.cc b/content/common/gpu/media/vaapi_video_decode_accelerator.cc
index d24744d..446fdab 100644
--- a/content/common/gpu/media/vaapi_video_decode_accelerator.cc
+++ b/content/common/gpu/media/vaapi_video_decode_accelerator.cc
@@ -5,5 +5,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_util.h"
diff --git a/content/common/gpu/media/vaapi_video_encode_accelerator.cc b/content/common/gpu/media/vaapi_video_encode_accelerator.cc
index 3475ec0..d6989f1 100644
--- a/content/common/gpu/media/vaapi_video_encode_accelerator.cc
+++ b/content/common/gpu/media/vaapi_video_encode_accelerator.cc
@@ -8,5 +8,5 @@
 #include "base/callback.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "content/common/gpu/media/h264_dpb.h"
diff --git a/content/common/gpu/media/vt_video_decode_accelerator.cc b/content/common/gpu/media/vt_video_decode_accelerator.cc
index 75844ee..e2f1cd3 100644
--- a/content/common/gpu/media/vt_video_decode_accelerator.cc
+++ b/content/common/gpu/media/vt_video_decode_accelerator.cc
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "base/mac/mac_logging.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/sys_byteorder.h"
 #include "base/thread_task_runner_handle.h"
diff --git a/content/content_browser.gypi b/content/content_browser.gypi
index 06b1149..5440b49 100644
--- a/content/content_browser.gypi
+++ b/content/content_browser.gypi
@@ -7,6 +7,6 @@
     '../base/base.gyp:base_static',
     '../crypto/crypto.gyp:crypto',
-    '../device/vibration/vibration.gyp:device_vibration',
-    '../device/vibration/vibration.gyp:device_vibration_mojo_bindings',
+#    '../device/vibration/vibration.gyp:device_vibration',
+#    '../device/vibration/vibration.gyp:device_vibration_mojo_bindings',
     '../device/battery/battery.gyp:device_battery',
     '../device/battery/battery.gyp:device_battery_mojo_bindings',
@@ -31,5 +31,5 @@
     '../ui/snapshot/snapshot.gyp:snapshot',
     'browser/service_worker/service_worker_proto.gyp:service_worker_proto',
-    'browser/speech/proto/speech_proto.gyp:speech_proto',
+#    'browser/speech/proto/speech_proto.gyp:speech_proto',
     'content_common_mojo_bindings.gyp:content_common_mojo_bindings',
   ],
@@ -717,56 +717,56 @@
       'browser/gamepad/xbox_data_fetcher_mac.cc',
       'browser/gamepad/xbox_data_fetcher_mac.h',
-      'browser/geofencing/geofencing_dispatcher_host.cc',
-      'browser/geofencing/geofencing_dispatcher_host.h',
-      'browser/geofencing/geofencing_manager.cc',
-      'browser/geofencing/geofencing_manager.h',
-      'browser/geofencing/geofencing_provider.h',
-      'browser/geofencing/geofencing_registration_delegate.h',
-      'browser/geofencing/geofencing_service.cc',
-      'browser/geofencing/geofencing_service.h',
-      'browser/geofencing/mock_geofencing_service.cc',
-      'browser/geofencing/mock_geofencing_service.h',
-      'browser/geolocation/empty_wifi_data_provider.cc',
-      'browser/geolocation/empty_wifi_data_provider.h',
-      'browser/geolocation/geolocation_provider_impl.cc',
-      'browser/geolocation/geolocation_provider_impl.h',
-      'browser/geolocation/geolocation_service_context.cc',
-      'browser/geolocation/geolocation_service_context.h',
-      'browser/geolocation/geolocation_service_impl.cc',
-      'browser/geolocation/geolocation_service_impl.h',
-      'browser/geolocation/location_api_adapter_android.cc',
-      'browser/geolocation/location_api_adapter_android.h',
-      'browser/geolocation/location_arbitrator.h',
-      'browser/geolocation/location_arbitrator_impl.cc',
-      'browser/geolocation/location_arbitrator_impl.h',
-      'browser/geolocation/location_provider_android.cc',
-      'browser/geolocation/location_provider_android.h',
-      'browser/geolocation/location_provider_base.cc',
-      'browser/geolocation/location_provider_base.h',
-      'browser/geolocation/network_location_provider.cc',
-      'browser/geolocation/network_location_provider.h',
-      'browser/geolocation/network_location_request.cc',
-      'browser/geolocation/network_location_request.h',
-      'browser/geolocation/osx_wifi.h',
-      'browser/geolocation/wifi_data.cc',
-      'browser/geolocation/wifi_data.h',
-      'browser/geolocation/wifi_data_provider.cc',
-      'browser/geolocation/wifi_data_provider.h',
-      'browser/geolocation/wifi_data_provider_chromeos.cc',
-      'browser/geolocation/wifi_data_provider_chromeos.h',
-      'browser/geolocation/wifi_data_provider_common.cc',
-      'browser/geolocation/wifi_data_provider_common.h',
-      'browser/geolocation/wifi_data_provider_common_win.cc',
-      'browser/geolocation/wifi_data_provider_common_win.h',
-      'browser/geolocation/wifi_data_provider_corewlan_mac.mm',
-      'browser/geolocation/wifi_data_provider_linux.cc',
-      'browser/geolocation/wifi_data_provider_linux.h',
-      'browser/geolocation/wifi_data_provider_mac.cc',
-      'browser/geolocation/wifi_data_provider_mac.h',
-      'browser/geolocation/wifi_data_provider_manager.cc',
-      'browser/geolocation/wifi_data_provider_manager.h',
-      'browser/geolocation/wifi_data_provider_win.cc',
-      'browser/geolocation/wifi_data_provider_win.h',
-      'browser/geolocation/wifi_polling_policy.h',
+#      'browser/geofencing/geofencing_dispatcher_host.cc',
+#      'browser/geofencing/geofencing_dispatcher_host.h',
+#      'browser/geofencing/geofencing_manager.cc',
+#      'browser/geofencing/geofencing_manager.h',
+#      'browser/geofencing/geofencing_provider.h',
+#      'browser/geofencing/geofencing_registration_delegate.h',
+#      'browser/geofencing/geofencing_service.cc',
+#      'browser/geofencing/geofencing_service.h',
+#      'browser/geofencing/mock_geofencing_service.cc',
+#      'browser/geofencing/mock_geofencing_service.h',
+#      'browser/geolocation/empty_wifi_data_provider.cc',
+#      'browser/geolocation/empty_wifi_data_provider.h',
+#      'browser/geolocation/geolocation_provider_impl.cc',
+#      'browser/geolocation/geolocation_provider_impl.h',
+#      'browser/geolocation/geolocation_service_context.cc',
+#      'browser/geolocation/geolocation_service_context.h',
+#      'browser/geolocation/geolocation_service_impl.cc',
+#      'browser/geolocation/geolocation_service_impl.h',
+#      'browser/geolocation/location_api_adapter_android.cc',
+#      'browser/geolocation/location_api_adapter_android.h',
+#      'browser/geolocation/location_arbitrator.h',
+#      'browser/geolocation/location_arbitrator_impl.cc',
+#      'browser/geolocation/location_arbitrator_impl.h',
+#      'browser/geolocation/location_provider_android.cc',
+#      'browser/geolocation/location_provider_android.h',
+#      'browser/geolocation/location_provider_base.cc',
+#      'browser/geolocation/location_provider_base.h',
+#      'browser/geolocation/network_location_provider.cc',
+#      'browser/geolocation/network_location_provider.h',
+#      'browser/geolocation/network_location_request.cc',
+#      'browser/geolocation/network_location_request.h',
+#      'browser/geolocation/osx_wifi.h',
+#      'browser/geolocation/wifi_data.cc',
+#      'browser/geolocation/wifi_data.h',
+#      'browser/geolocation/wifi_data_provider.cc',
+#      'browser/geolocation/wifi_data_provider.h',
+#      'browser/geolocation/wifi_data_provider_chromeos.cc',
+#      'browser/geolocation/wifi_data_provider_chromeos.h',
+#      'browser/geolocation/wifi_data_provider_common.cc',
+#      'browser/geolocation/wifi_data_provider_common.h',
+#      'browser/geolocation/wifi_data_provider_common_win.cc',
+#      'browser/geolocation/wifi_data_provider_common_win.h',
+#      'browser/geolocation/wifi_data_provider_corewlan_mac.mm',
+#      'browser/geolocation/wifi_data_provider_linux.cc',
+#      'browser/geolocation/wifi_data_provider_linux.h',
+#      'browser/geolocation/wifi_data_provider_mac.cc',
+#      'browser/geolocation/wifi_data_provider_mac.h',
+#      'browser/geolocation/wifi_data_provider_manager.cc',
+#      'browser/geolocation/wifi_data_provider_manager.h',
+#      'browser/geolocation/wifi_data_provider_win.cc',
+#      'browser/geolocation/wifi_data_provider_win.h',
+#      'browser/geolocation/wifi_polling_policy.h',
       'browser/gpu/browser_gpu_channel_host_factory.cc',
       'browser/gpu/browser_gpu_channel_host_factory.h',
@@ -1327,31 +1327,31 @@
       'browser/site_instance_impl.cc',
       'browser/site_instance_impl.h',
-      'browser/speech/audio_buffer.cc',
-      'browser/speech/audio_buffer.h',
-      'browser/speech/audio_encoder.cc',
-      'browser/speech/audio_encoder.h',
-      'browser/speech/chunked_byte_buffer.cc',
-      'browser/speech/chunked_byte_buffer.h',
-      'browser/speech/endpointer/endpointer.cc',
-      'browser/speech/endpointer/endpointer.h',
-      'browser/speech/endpointer/energy_endpointer.cc',
-      'browser/speech/endpointer/energy_endpointer.h',
-      'browser/speech/endpointer/energy_endpointer_params.cc',
-      'browser/speech/endpointer/energy_endpointer_params.h',
-      'browser/speech/google_one_shot_remote_engine.cc',
-      'browser/speech/google_one_shot_remote_engine.h',
-      'browser/speech/google_streaming_remote_engine.cc',
-      'browser/speech/google_streaming_remote_engine.h',
-      'browser/speech/speech_recognition_dispatcher_host.cc',
-      'browser/speech/speech_recognition_dispatcher_host.h',
-      'browser/speech/speech_recognition_engine.cc',
-      'browser/speech/speech_recognition_engine.h',
-      'browser/speech/speech_recognition_manager_impl.cc',
-      'browser/speech/speech_recognition_manager_impl.h',
-      'browser/speech/speech_recognizer.h',
-      'browser/speech/speech_recognizer_impl.cc',
-      'browser/speech/speech_recognizer_impl.h',
-      'browser/speech/speech_recognizer_impl_android.cc',
-      'browser/speech/speech_recognizer_impl_android.h',
+#      'browser/speech/audio_buffer.cc',
+#      'browser/speech/audio_buffer.h',
+#      'browser/speech/audio_encoder.cc',
+#      'browser/speech/audio_encoder.h',
+#      'browser/speech/chunked_byte_buffer.cc',
+#      'browser/speech/chunked_byte_buffer.h',
+#      'browser/speech/endpointer/endpointer.cc',
+#      'browser/speech/endpointer/endpointer.h',
+#      'browser/speech/endpointer/energy_endpointer.cc',
+#      'browser/speech/endpointer/energy_endpointer.h',
+#      'browser/speech/endpointer/energy_endpointer_params.cc',
+#      'browser/speech/endpointer/energy_endpointer_params.h',
+#      'browser/speech/google_one_shot_remote_engine.cc',
+#      'browser/speech/google_one_shot_remote_engine.h',
+#      'browser/speech/google_streaming_remote_engine.cc',
+#      'browser/speech/google_streaming_remote_engine.h',
+#      'browser/speech/speech_recognition_dispatcher_host.cc',
+#      'browser/speech/speech_recognition_dispatcher_host.h',
+#      'browser/speech/speech_recognition_engine.cc',
+#      'browser/speech/speech_recognition_engine.h',
+#      'browser/speech/speech_recognition_manager_impl.cc',
+#      'browser/speech/speech_recognition_manager_impl.h',
+#      'browser/speech/speech_recognizer.h',
+#      'browser/speech/speech_recognizer_impl.cc',
+#      'browser/speech/speech_recognizer_impl.h',
+#      'browser/speech/speech_recognizer_impl_android.cc',
+#      'browser/speech/speech_recognizer_impl_android.h',
       'browser/ssl/ssl_cert_error_handler.cc',
       'browser/ssl/ssl_cert_error_handler.h',
@@ -1864,6 +1864,6 @@
       'sources/': [
         ['exclude', '^browser/device_sensors/data_fetcher_shared_memory_default\\.cc$'],
-        ['exclude', '^browser/geolocation/network_location_provider\\.(cc|h)$'],
-        ['exclude', '^browser/geolocation/network_location_request\\.(cc|h)$'],
+#        ['exclude', '^browser/geolocation/network_location_provider\\.(cc|h)$'],
+#        ['exclude', '^browser/geolocation/network_location_request\\.(cc|h)$'],
         ['exclude', '^browser/tracing/trace_uploader\\.(cc|h)$'],
         ['exclude', '^browser/tracing/tracing_ui\\.(cc|h)$'],
@@ -1874,7 +1874,7 @@
       'sources!': [
         'browser/browser_ipc_logging.cc',
-        'browser/geolocation/device_data_provider.cc',
-        'browser/geolocation/empty_device_data_provider.cc',
-        'browser/geolocation/wifi_data_provider_common.cc',
+#        'browser/geolocation/device_data_provider.cc',
+#        'browser/geolocation/empty_device_data_provider.cc',
+#        'browser/geolocation/wifi_data_provider_common.cc',
         'browser/renderer_host/native_web_keyboard_event.cc',
       ]
@@ -1885,5 +1885,5 @@
       ],
       'sources!': [
-        'browser/geolocation/empty_wifi_data_provider.cc',
+#        'browser/geolocation/empty_wifi_data_provider.cc',
       ],
       'dependencies': [
@@ -1906,5 +1906,5 @@
       'sources!': [
         'browser/device_sensors/data_fetcher_shared_memory_default.cc',
-        'browser/geolocation/wifi_data_provider_linux.cc',
+#        'browser/geolocation/wifi_data_provider_linux.cc',
         'browser/power_save_blocker_ozone.cc',
         'browser/power_save_blocker_x11.cc',
@@ -1949,19 +1949,19 @@
     ['enable_web_speech==0 and OS=="android"', {
       'sources/': [
-        ['exclude', '^browser/speech/'],
-        ['include', '^browser/speech/speech_recognition_dispatcher_host\\.(cc|h)$'],
-        ['include', '^browser/speech/speech_recognition_manager_impl\\.(cc|h)$'],
-        ['include', '^browser/speech/speech_recognizer\\.h$'],
-        ['include', '^browser/speech/speech_recognizer_impl_android\\.(cc|h)$'],
+#        ['exclude', '^browser/speech/'],
+#        ['include', '^browser/speech/speech_recognition_dispatcher_host\\.(cc|h)$'],
+#        ['include', '^browser/speech/speech_recognition_manager_impl\\.(cc|h)$'],
+#        ['include', '^browser/speech/speech_recognizer\\.h$'],
+#        ['include', '^browser/speech/speech_recognizer_impl_android\\.(cc|h)$'],
       ],
     }],
     ['OS == "win"', {
       'sources!': [
-        'browser/geolocation/empty_wifi_data_provider.cc',
+#        'browser/geolocation/empty_wifi_data_provider.cc',
       ],
     }],
     ['OS == "linux" and use_dbus==1', {
       'sources!': [
-        'browser/geolocation/empty_wifi_data_provider.cc',
+#        'browser/geolocation/empty_wifi_data_provider.cc',
       ],
       'dependencies': [
@@ -1971,5 +1971,5 @@
     }, {  # OS != "linux" or use_dbus==0
       'sources!': [
-        'browser/geolocation/wifi_data_provider_linux.cc',
+#        'browser/geolocation/wifi_data_provider_linux.cc',
       ],
     }],
diff --git a/content/content_child.gypi b/content/content_child.gypi
index 4ea20ba..b8b6ecd 100644
--- a/content/content_child.gypi
+++ b/content/content_child.gypi
@@ -84,10 +84,10 @@
       'child/ftp_directory_listing_response_delegate.cc',
       'child/ftp_directory_listing_response_delegate.h',
-      'child/geofencing/geofencing_dispatcher.cc',
-      'child/geofencing/geofencing_dispatcher.h',
-      'child/geofencing/geofencing_message_filter.cc',
-      'child/geofencing/geofencing_message_filter.h',
-      'child/geofencing/web_geofencing_provider_impl.cc',
-      'child/geofencing/web_geofencing_provider_impl.h',
+#      'child/geofencing/geofencing_dispatcher.cc',
+#      'child/geofencing/geofencing_dispatcher.h',
+#      'child/geofencing/geofencing_message_filter.cc',
+#      'child/geofencing/geofencing_message_filter.h',
+#      'child/geofencing/web_geofencing_provider_impl.cc',
+#      'child/geofencing/web_geofencing_provider_impl.h',
       'child/image_decoder.cc',
       'child/image_decoder.h',
diff --git a/content/content_common.gypi b/content/content_common.gypi
index c4fb4ab..5d08170 100644
--- a/content/content_common.gypi
+++ b/content/content_common.gypi
@@ -74,6 +74,6 @@
       'public/common/gpu_memory_stats.cc',
       'public/common/gpu_memory_stats.h',
-      'public/common/injection_test_mac.h',
-      'public/common/injection_test_win.h',
+#      'public/common/injection_test_mac.h',
+#      'public/common/injection_test_win.h',
       'public/common/javascript_message_type.h',
       'public/common/main_function_params.h',
diff --git a/content/content.gyp b/content/content.gyp
index a5d4829..e68ea99 100644
--- a/content/content.gyp
+++ b/content/content.gyp
@@ -430,5 +430,5 @@
             '../base/base.gyp:base',
             '../device/battery/battery.gyp:device_battery_java',
-            '../device/vibration/vibration.gyp:device_vibration_java',
+#            '../device/vibration/vibration.gyp:device_vibration_java',
             '../media/media.gyp:media_java',
             '../mojo/mojo_base.gyp:mojo_system_java',
diff --git a/content/content_renderer.gypi b/content/content_renderer.gypi
index 29a7b2b..8159147 100644
--- a/content/content_renderer.gypi
+++ b/content/content_renderer.gypi
@@ -11,6 +11,6 @@
     '../device/battery/battery.gyp:device_battery',
     '../device/battery/battery.gyp:device_battery_mojo_bindings',
-    '../device/vibration/vibration.gyp:device_vibration',
-    '../device/vibration/vibration.gyp:device_vibration_mojo_bindings',
+#    '../device/vibration/vibration.gyp:device_vibration',
+#    '../device/vibration/vibration.gyp:device_vibration_mojo_bindings',
     '../gin/gin.gyp:gin',
     '../gpu/gpu.gyp:gpu',
diff --git a/content/content_shell.gypi b/content/content_shell.gypi
index fa9ba12..786d1d7 100644
--- a/content/content_shell.gypi
+++ b/content/content_shell.gypi
@@ -40,6 +40,6 @@
         'content.gyp:content_utility',
         'content_shell_resources',
-        'copy_test_netscape_plugin',
-        'layouttest_support_content',
+#        'copy_test_netscape_plugin',
+#        'layouttest_support_content',
         '../base/base.gyp:base',
         '../base/base.gyp:base_static',
@@ -60,5 +60,5 @@
         '../storage/storage_browser.gyp:storage',
         '../third_party/WebKit/public/blink.gyp:blink',
-        '../third_party/WebKit/public/blink.gyp:blink_test_support',
+#        '../third_party/WebKit/public/blink.gyp:blink_test_support',
         '../ui/base/ime/ui_base_ime.gyp:ui_base_ime',
         '../ui/base/ui_base.gyp:ui_base',
@@ -80,9 +80,9 @@
         'shell/android/shell_manager.cc',
         'shell/android/shell_manager.h',
-        'shell/app/blink_test_platform_support.h',
-        'shell/app/blink_test_platform_support_android.cc',
-        'shell/app/blink_test_platform_support_linux.cc',
-        'shell/app/blink_test_platform_support_mac.mm',
-        'shell/app/blink_test_platform_support_win.cc',
+#        'shell/app/blink_test_platform_support.h',
+#        'shell/app/blink_test_platform_support_android.cc',
+#        'shell/app/blink_test_platform_support_linux.cc',
+#        'shell/app/blink_test_platform_support_mac.mm',
+#        'shell/app/blink_test_platform_support_win.cc',
         'shell/app/paths_mac.h',
         'shell/app/paths_mac.mm',
@@ -95,32 +95,32 @@
         'shell/browser/ipc_echo_message_filter.cc',
         'shell/browser/ipc_echo_message_filter.h',
-        'shell/browser/layout_test/layout_test_android.cc',
-        'shell/browser/layout_test/layout_test_android.h',
-        'shell/browser/layout_test/layout_test_browser_context.cc',
-        'shell/browser/layout_test/layout_test_browser_context.h',
-        'shell/browser/layout_test/layout_test_browser_main.cc',
-        'shell/browser/layout_test/layout_test_browser_main.h',
-        'shell/browser/layout_test/layout_test_browser_main_parts.cc',
-        'shell/browser/layout_test/layout_test_browser_main_parts.h',
-        'shell/browser/layout_test/layout_test_content_browser_client.cc',
-        'shell/browser/layout_test/layout_test_content_browser_client.h',
-        'shell/browser/layout_test/layout_test_devtools_frontend.cc',
-        'shell/browser/layout_test/layout_test_devtools_frontend.h',
-        'shell/browser/layout_test/layout_test_download_manager_delegate.cc',
-        'shell/browser/layout_test/layout_test_download_manager_delegate.h',
-        'shell/browser/layout_test/layout_test_javascript_dialog_manager.cc',
-        'shell/browser/layout_test/layout_test_javascript_dialog_manager.h',
-        'shell/browser/layout_test/layout_test_message_filter.cc',
-        'shell/browser/layout_test/layout_test_message_filter.h',
-        'shell/browser/layout_test/layout_test_navigator_connect_service_factory.cc',
-        'shell/browser/layout_test/layout_test_navigator_connect_service_factory.h',
-        'shell/browser/layout_test/layout_test_notification_manager.cc',
-        'shell/browser/layout_test/layout_test_notification_manager.h',
-        'shell/browser/layout_test/layout_test_push_messaging_service.cc',
-        'shell/browser/layout_test/layout_test_push_messaging_service.h',
-        'shell/browser/layout_test/layout_test_resource_dispatcher_host_delegate.cc',
-        'shell/browser/layout_test/layout_test_resource_dispatcher_host_delegate.h',
-        'shell/browser/layout_test/layout_test_url_request_context_getter.cc',
-        'shell/browser/layout_test/layout_test_url_request_context_getter.h',
+#        'shell/browser/layout_test/layout_test_android.cc',
+#        'shell/browser/layout_test/layout_test_android.h',
+#        'shell/browser/layout_test/layout_test_browser_context.cc',
+#        'shell/browser/layout_test/layout_test_browser_context.h',
+#        'shell/browser/layout_test/layout_test_browser_main.cc',
+#        'shell/browser/layout_test/layout_test_browser_main.h',
+#        'shell/browser/layout_test/layout_test_browser_main_parts.cc',
+#        'shell/browser/layout_test/layout_test_browser_main_parts.h',
+#        'shell/browser/layout_test/layout_test_content_browser_client.cc',
+#        'shell/browser/layout_test/layout_test_content_browser_client.h',
+#        'shell/browser/layout_test/layout_test_devtools_frontend.cc',
+#        'shell/browser/layout_test/layout_test_devtools_frontend.h',
+#        'shell/browser/layout_test/layout_test_download_manager_delegate.cc',
+#        'shell/browser/layout_test/layout_test_download_manager_delegate.h',
+#        'shell/browser/layout_test/layout_test_javascript_dialog_manager.cc',
+#        'shell/browser/layout_test/layout_test_javascript_dialog_manager.h',
+#        'shell/browser/layout_test/layout_test_message_filter.cc',
+#        'shell/browser/layout_test/layout_test_message_filter.h',
+#        'shell/browser/layout_test/layout_test_navigator_connect_service_factory.cc',
+#        'shell/browser/layout_test/layout_test_navigator_connect_service_factory.h',
+#        'shell/browser/layout_test/layout_test_notification_manager.cc',
+#        'shell/browser/layout_test/layout_test_notification_manager.h',
+#        'shell/browser/layout_test/layout_test_push_messaging_service.cc',
+#        'shell/browser/layout_test/layout_test_push_messaging_service.h',
+#        'shell/browser/layout_test/layout_test_resource_dispatcher_host_delegate.cc',
+#        'shell/browser/layout_test/layout_test_resource_dispatcher_host_delegate.h',
+#        'shell/browser/layout_test/layout_test_url_request_context_getter.cc',
+#        'shell/browser/layout_test/layout_test_url_request_context_getter.h',
         'shell/browser/notify_done_forwarder.cc',
         'shell/browser/notify_done_forwarder.h',
@@ -157,6 +157,6 @@
         'shell/browser/shell_login_dialog_mac.mm',
         'shell/browser/shell_mac.mm',
-        'shell/browser/shell_mojo_test_utils_android.cc',
-        'shell/browser/shell_mojo_test_utils_android.h',
+#        'shell/browser/shell_mojo_test_utils_android.cc',
+#        'shell/browser/shell_mojo_test_utils_android.h',
         'shell/browser/shell_net_log.cc',
         'shell/browser/shell_net_log.h',
@@ -181,8 +181,8 @@
         'shell/browser/shell_web_contents_view_delegate_mac.mm',
         'shell/browser/shell_web_contents_view_delegate_win.cc',
-        'shell/browser/webkit_test_controller.cc',
-        'shell/browser/webkit_test_controller.h',
-        'shell/common/layout_test/layout_test_messages.cc',
-        'shell/common/layout_test/layout_test_messages.h',
+#        'shell/browser/webkit_test_controller.cc',
+#        'shell/browser/webkit_test_controller.h',
+#        'shell/common/layout_test/layout_test_messages.cc',
+#        'shell/common/layout_test/layout_test_messages.h',
         'shell/common/leak_detection_result.h',
         'shell/common/shell_content_client.cc',
@@ -192,26 +192,26 @@
         'shell/common/shell_switches.cc',
         'shell/common/shell_switches.h',
-        'shell/common/shell_test_configuration.cc',
-        'shell/common/shell_test_configuration.h',
+#        'shell/common/shell_test_configuration.cc',
+#        'shell/common/shell_test_configuration.h',
         'shell/common/test_runner/test_preferences.cc',
         'shell/common/test_runner/test_preferences.h',
         'shell/common/v8_breakpad_support_win.cc',
         'shell/common/v8_breakpad_support_win.h',
-        'shell/common/webkit_test_helpers.cc',
-        'shell/common/webkit_test_helpers.h',
+#        'shell/common/webkit_test_helpers.cc',
+#        'shell/common/webkit_test_helpers.h',
         'shell/renderer/ipc_echo.cc',
         'shell/renderer/ipc_echo.h',
         'shell/renderer/layout_test/gc_controller.cc',
         'shell/renderer/layout_test/gc_controller.h',
-        'shell/renderer/layout_test/layout_test_content_renderer_client.cc',
-        'shell/renderer/layout_test/layout_test_content_renderer_client.h',
-        'shell/renderer/layout_test/layout_test_render_frame_observer.cc',
-        'shell/renderer/layout_test/layout_test_render_frame_observer.h',
-        'shell/renderer/layout_test/layout_test_render_process_observer.cc',
-        'shell/renderer/layout_test/layout_test_render_process_observer.h',
+#        'shell/renderer/layout_test/layout_test_content_renderer_client.cc',
+#        'shell/renderer/layout_test/layout_test_content_renderer_client.h',
+#        'shell/renderer/layout_test/layout_test_render_frame_observer.cc',
+#        'shell/renderer/layout_test/layout_test_render_frame_observer.h',
+#        'shell/renderer/layout_test/layout_test_render_process_observer.cc',
+#        'shell/renderer/layout_test/layout_test_render_process_observer.h',
         'shell/renderer/layout_test/leak_detector.cc',
         'shell/renderer/layout_test/leak_detector.h',
-        'shell/renderer/layout_test/webkit_test_runner.cc',
-        'shell/renderer/layout_test/webkit_test_runner.h',
+#        'shell/renderer/layout_test/webkit_test_runner.cc',
+#        'shell/renderer/layout_test/webkit_test_runner.h',
         'shell/renderer/shell_content_renderer_client.cc',
         'shell/renderer/shell_content_renderer_client.h',
@@ -270,13 +270,13 @@
         'shell/renderer/test_runner/web_content_settings.cc',
         'shell/renderer/test_runner/web_content_settings.h',
-        'shell/renderer/test_runner/web_frame_test_proxy.h',
+#        'shell/renderer/test_runner/web_frame_test_proxy.h',
         'shell/renderer/test_runner/web_task.cc',
         'shell/renderer/test_runner/web_task.h',
-        'shell/renderer/test_runner/web_test_delegate.h',
-        'shell/renderer/test_runner/web_test_interfaces.cc',
-        'shell/renderer/test_runner/web_test_interfaces.h',
-        'shell/renderer/test_runner/web_test_proxy.cc',
-        'shell/renderer/test_runner/web_test_proxy.h',
-        'shell/renderer/test_runner/web_test_runner.h',
+#        'shell/renderer/test_runner/web_test_delegate.h',
+#        'shell/renderer/test_runner/web_test_interfaces.cc',
+#        'shell/renderer/test_runner/web_test_interfaces.h',
+#        'shell/renderer/test_runner/web_test_proxy.cc',
+#        'shell/renderer/test_runner/web_test_proxy.h',
+#        'shell/renderer/test_runner/web_test_runner.h',
       ],
       'msvs_settings': {
@@ -327,5 +327,5 @@
           ],
           'dependencies!': [
-            'copy_test_netscape_plugin',
+#            'copy_test_netscape_plugin',
           ],
         }],  # OS=="android"
@@ -344,5 +344,5 @@
           'dependencies': [
             '../ui/aura/aura.gyp:aura',
-            '../ui/aura/aura.gyp:aura_test_support',
+#            '../ui/aura/aura.gyp:aura_test_support',
             '../ui/events/events.gyp:events',
             '../ui/strings/ui_strings.gyp:ui_strings',
@@ -355,5 +355,5 @@
                 '../ui/views/controls/webview/webview.gyp:webview',
                 '../ui/views/views.gyp:views',
-                '../ui/views/views.gyp:views_test_support',
+#                '../ui/views/views.gyp:views_test_support',
               ],
               'sources/': [
@@ -375,5 +375,5 @@
         ['OS=="linux" and use_x11==0', {
           'dependencies!': [
-            'copy_test_netscape_plugin',
+#            'copy_test_netscape_plugin',
           ],
         }],
@@ -381,5 +381,5 @@
           'dependencies': [
             '../chromeos/chromeos.gyp:chromeos',
-            '../ui/wm/wm.gyp:wm_test_support',
+#            '../ui/wm/wm.gyp:wm_test_support',
            ],
         }], # chromeos==1
@@ -749,6 +749,6 @@
             'shell/tools/plugin/win/TestNetscapePlugin.rc',
           ],
-          # The .rc file requires that the name of the dll is np_test_netscape_plugin.dll.
-          'product_name': 'np_test_netscape_plugin',
+#          # The .rc file requires that the name of the dll is np_test_netscape_plugin.dll.
+#          'product_name': 'np_test_netscape_plugin',
           # Disable c4267 warnings until we fix size_t to int truncations.
           'msvs_disabled_warnings': [ 4267, ],
@@ -757,5 +757,5 @@
     },
     {
-      'target_name': 'copy_test_netscape_plugin',
+#      'target_name': 'copy_test_netscape_plugin',
       'type': 'none',
       'dependencies': [
@@ -766,5 +766,5 @@
           'copies': [{
             'destination': '<(PRODUCT_DIR)/plugins',
-            'files': ['<(PRODUCT_DIR)/np_test_netscape_plugin.dll'],
+#            'files': ['<(PRODUCT_DIR)/np_test_netscape_plugin.dll'],
           }],
         }],
@@ -788,9 +788,9 @@
       'targets': [
         {
-          'target_name': 'layout_test_helper',
+#          'target_name': 'layout_test_helper',
           'type': 'executable',
           'sources': [
-            'shell/renderer/test_runner/helper/layout_test_helper_mac.mm',
-            'shell/renderer/test_runner/helper/layout_test_helper_win.cc',
+#            'shell/renderer/test_runner/helper/layout_test_helper_mac.mm',
+#            'shell/renderer/test_runner/helper/layout_test_helper_win.cc',
           ],
           'conditions': [
@@ -995,5 +995,5 @@
           'type': 'none',
           'sources': [
-            'shell/android/browsertests_apk/src/org/chromium/content_browsertests_apk/ContentBrowserTestsActivity.java',
+#            'shell/android/browsertests_apk/src/org/chromium/content_browsertests_apk/ContentBrowserTestsActivity.java',
             'shell/android/java/src/org/chromium/content_shell/ShellLayoutTestUtils.java',
             'shell/android/java/src/org/chromium/content_shell/ShellMojoTestUtils.java',
@@ -1074,5 +1074,5 @@
             'content.gyp:content_java',
             'content.gyp:content_v8_external_data',
-            'content_java_test_support',
+#            'content_java_test_support',
             'content_shell_java',
             'libcontent_shell_content_view',
diff --git a/content/gpu/gpu_main.cc b/content/gpu/gpu_main.cc
index 76a6020..9626b17 100644
--- a/content/gpu/gpu_main.cc
+++ b/content/gpu/gpu_main.cc
@@ -12,5 +12,5 @@
 #include "base/lazy_instance.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/metrics/statistics_recorder.h"
 #include "base/rand_util.h"
diff --git a/content/ppapi_plugin/ppapi_thread.cc b/content/ppapi_plugin/ppapi_thread.cc
index 8b612fb..4223452 100644
--- a/content/ppapi_plugin/ppapi_thread.cc
+++ b/content/ppapi_plugin/ppapi_thread.cc
@@ -12,6 +12,6 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/rand_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/public/android/BUILD.gn b/content/public/android/BUILD.gn
index 98c67be..bfd3101 100644
--- a/content/public/android/BUILD.gn
+++ b/content/public/android/BUILD.gn
@@ -3,6 +3,6 @@
 # found in the LICENSE file.
 
-import("//build/config/android/config.gni")
-import("//build/config/android/rules.gni")
+#import("//build/config/android/config.gni")
+#import("//build/config/android/rules.gni")
 
 content_jni_gypi_values = exec_script("//build/gypi_to_gn.py",
@@ -33,6 +33,6 @@ android_library("content_java") {
     ":content_java_resources",
     "//base:base_java",
-    "//device/battery/android:battery_monitor_android",
-    "//device/battery:mojo_bindings_java",
+#    "//device/battery/android:battery_monitor_android",
+#    "//device/battery:mojo_bindings_java",
     "//media/base/android:media_java",
     "//mojo/android:system_java",
@@ -160,15 +160,15 @@ android_library("content_javatests") {
   deps = [
     "//base:base_java",
-    "//base:base_java_test_support",
-    "//content/public/test/android:content_java_test_support",
+#    "//base:base_java_test_support",
+#    "//content/public/test/android:content_java_test_support",
     "//content/shell/android:content_shell_java",
     "//content/shell/android:content_shell_java_resources",
     "//content/shell/android:content_shell_apk_java",
-    "//content/shell/android:content_shell_test_java",
+#    "//content/shell/android:content_shell_test_java",
     "//media/base/android:media_java",
     "//mojo/android:system_java",
     "//net/android:net_java",
-    "//net/android:net_java_test_support",
-    "//third_party/mojo/src/mojo/public/interfaces/bindings/tests:test_interfaces_java",
+#    "//net/android:net_java_test_support",
+#    "//third_party/mojo/src/mojo/public/interfaces/bindings/tests:test_interfaces_java",
     "//third_party/mojo/src/mojo/public/java:bindings",
     "//third_party/mojo/src/mojo/public/java:system",
diff --git a/content/public/browser/user_metrics.h b/content/public/browser/user_metrics.h
index 118d8a9..9453f37 100644
--- a/content/public/browser/user_metrics.h
+++ b/content/public/browser/user_metrics.h
@@ -9,5 +9,5 @@
 
 #include "base/callback.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "content/common/content_export.h"
 
diff --git a/content/public/renderer/BUILD.gn b/content/public/renderer/BUILD.gn
index 0ab2d33..1358f63 100644
--- a/content/public/renderer/BUILD.gn
+++ b/content/public/renderer/BUILD.gn
@@ -32,5 +32,5 @@ source_set("renderer_sources") {
     "//content/renderer",
     "//skia",
-    "//third_party/libjingle",
+#    "//third_party/libjingle",
     "//third_party/WebKit/public:blink_headers",
     "//third_party/widevine/cdm:version_h",
@@ -50,5 +50,5 @@ source_set("renderer_sources") {
                     ".",
                     "//content")
-    deps += [ "//third_party/webrtc" ]
+#    deps += [ "//third_party/webrtc" ]
   }
 
diff --git a/content/public/renderer/render_thread.h b/content/public/renderer/render_thread.h
index 407128b..3deacae 100644
--- a/content/public/renderer/render_thread.h
+++ b/content/public/renderer/render_thread.h
@@ -9,5 +9,5 @@
 #include "base/callback.h"
 #include "base/memory/shared_memory.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "content/common/content_export.h"
 #include "content/public/child/child_thread.h"
diff --git a/content/public/test/android/BUILD.gn b/content/public/test/android/BUILD.gn
index c51441f..50943c5 100644
--- a/content/public/test/android/BUILD.gn
+++ b/content/public/test/android/BUILD.gn
@@ -1,7 +1,7 @@
-import("//build/config/android/config.gni")
-import("//build/config/android/rules.gni")
+#import("//build/config/android/config.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP: //content/content_tests.gypi:test_support_content_jni_headers
-generate_jni("test_support_content_jni_headers") {
+#generate_jni("test_support_content_jni_headers") {
   jni_package = "content/public/test"
   sources = [
@@ -14,5 +14,5 @@ android_library("content_java_test_support") {
   deps = [
     "//base:base_java",
-    "//base:base_java_test_support",
+#    "//base:base_java_test_support",
     "//content/public/android:content_java",
   ]
diff --git a/content/public/test/browser_test.h b/content/public/test/browser_test.h
index c8828d6..90f1e64 100644
--- a/content/public/test/browser_test.h
+++ b/content/public/test/browser_test.h
@@ -15,5 +15,5 @@
 
 #include "base/compiler_specific.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #define IN_PROC_BROWSER_TEST_(                                               \
diff --git a/content/public/test/fake_speech_recognition_manager.cc b/content/public/test/fake_speech_recognition_manager.cc
index 91e94dd..58716b3 100644
--- a/content/public/test/fake_speech_recognition_manager.cc
+++ b/content/public/test/fake_speech_recognition_manager.cc
@@ -11,5 +11,5 @@
 #include "content/public/common/speech_recognition_result.h"
 #include "content/public/test/test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/content/public/test/mock_download_item.h b/content/public/test/mock_download_item.h
index 19ebe62..3355d7e 100644
--- a/content/public/test/mock_download_item.h
+++ b/content/public/test/mock_download_item.h
@@ -11,6 +11,6 @@
 #include "content/public/browser/download_interrupt_reasons.h"
 #include "content/public/browser/download_item.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/content/public/test/mock_download_manager.h b/content/public/test/mock_download_manager.h
index b2e3ef1..571ab23 100644
--- a/content/public/test/mock_download_manager.h
+++ b/content/public/test/mock_download_manager.h
@@ -12,6 +12,6 @@
 #include "content/public/browser/download_save_info.h"
 #include "content/public/browser/download_url_parameters.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/content/public/test/mock_notification_observer.h b/content/public/test/mock_notification_observer.h
index c81efe5..fb9afdf 100644
--- a/content/public/test/mock_notification_observer.h
+++ b/content/public/test/mock_notification_observer.h
@@ -7,5 +7,5 @@
 
 #include "content/public/browser/notification_observer.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace content {
diff --git a/content/public/test/mock_render_thread.cc b/content/public/test/mock_render_thread.cc
index 34cabd7..00791a1 100644
--- a/content/public/test/mock_render_thread.cc
+++ b/content/public/test/mock_render_thread.cc
@@ -13,5 +13,5 @@
 #include "ipc/ipc_sync_message.h"
 #include "ipc/message_filter.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/WebKit/public/web/WebScriptController.h"
 
diff --git a/content/public/test/render_view_test.h b/content/public/test/render_view_test.h
index d512c54..5572123 100644
--- a/content/public/test/render_view_test.h
+++ b/content/public/test/render_view_test.h
@@ -16,5 +16,5 @@
 #include "content/public/common/page_state.h"
 #include "content/public/test/mock_render_thread.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/WebKit/public/platform/Platform.h"
 #include "third_party/WebKit/public/web/WebFrame.h"
diff --git a/content/public/test/test_browser_context.cc b/content/public/test/test_browser_context.cc
index 9c22851..b64895e 100644
--- a/content/public/test/test_browser_context.cc
+++ b/content/public/test/test_browser_context.cc
@@ -12,5 +12,5 @@
 #include "net/url_request/url_request_test_util.h"
 #include "storage/browser/quota/special_storage_policy.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/content/public/test/test_launcher.cc b/content/public/test/test_launcher.cc
index fc65ebd..b53fce3 100644
--- a/content/public/test/test_launcher.cc
+++ b/content/public/test/test_launcher.cc
@@ -34,5 +34,5 @@
 #include "content/public/test/browser_test.h"
 #include "net/base/escape.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(OS_WIN)
diff --git a/content/public/test/test_navigation_observer.cc b/content/public/test/test_navigation_observer.cc
index b82bda9..85bbdc4 100644
--- a/content/public/test/test_navigation_observer.cc
+++ b/content/public/test/test_navigation_observer.cc
@@ -11,5 +11,5 @@
 #include "content/browser/web_contents/web_contents_impl.h"
 #include "content/public/browser/web_contents_observer.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace content {
diff --git a/content/public/test/test_renderer_host.h b/content/public/test/test_renderer_host.h
index 029b70e..b3e795f 100644
--- a/content/public/test/test_renderer_host.h
+++ b/content/public/test/test_renderer_host.h
@@ -11,5 +11,5 @@
 #include "content/public/browser/render_view_host.h"
 #include "content/public/test/test_browser_thread_bundle.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/base/page_transition_types.h"
 
diff --git a/content/public/test/test_utils.cc b/content/public/test/test_utils.cc
index 566410d..c57ef3b 100644
--- a/content/public/test/test_utils.cc
+++ b/content/public/test/test_utils.cc
@@ -16,5 +16,5 @@
 #include "content/public/common/process_type.h"
 #include "content/public/test/test_launcher.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace content {
diff --git a/content/renderer/BUILD.gn b/content/renderer/BUILD.gn
index 73445e1..d16a708 100644
--- a/content/renderer/BUILD.gn
+++ b/content/renderer/BUILD.gn
@@ -34,10 +34,10 @@ source_set("renderer") {
     "//content/public/common:common_sources",
     "//content/public/common:mojo_bindings",
-    "//device/battery:mojo_bindings",
-    "//device/vibration:mojo_bindings",
+#    "//device/battery:mojo_bindings",
+#    "//device/vibration:mojo_bindings",
     "//gin",
     "//gpu",
     "//gpu/command_buffer/client:gles2_interface",
-    "//jingle:jingle_glue",
+#    "//jingle:jingle_glue",
     "//media",
     "//media/blink",
@@ -47,5 +47,5 @@ source_set("renderer") {
     "//storage/common",
     "//third_party/icu",
-    "//third_party/libjingle",
+#    "//third_party/libjingle",
     "//third_party/mojo/src/mojo/edk/js",
     "//third_party/mojo/src/mojo/public/js",
@@ -129,8 +129,8 @@ source_set("renderer") {
       "//crypto",
       "//third_party/libyuv",
-      "//third_party/webrtc/modules/audio_device",
-      "//third_party/webrtc/modules/audio_processing",
-      "//third_party/libjingle:libjingle_webrtc",
-      "//third_party/libjingle:libpeerconnection",
+#      "//third_party/webrtc/modules/audio_device",
+#      "//third_party/webrtc/modules/audio_processing",
+#      "//third_party/libjingle:libjingle_webrtc",
+#      "//third_party/libjingle:libpeerconnection",
     ]
   } else {
@@ -180,5 +180,5 @@ source_set("renderer") {
 
   if (enable_print_preview) {
-    deps += [ "//printing" ]
+#    deps += [ "//printing" ]
   }
 
diff --git a/content/renderer/dom_storage/dom_storage_cached_area.cc b/content/renderer/dom_storage/dom_storage_cached_area.cc
index a01d3c6..9bdc0e1 100644
--- a/content/renderer/dom_storage/dom_storage_cached_area.cc
+++ b/content/renderer/dom_storage/dom_storage_cached_area.cc
@@ -6,5 +6,5 @@
 
 #include "base/basictypes.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "content/common/dom_storage/dom_storage_map.h"
diff --git a/content/renderer/dom_storage/webstoragearea_impl.cc b/content/renderer/dom_storage/webstoragearea_impl.cc
index c307535..7047def 100644
--- a/content/renderer/dom_storage/webstoragearea_impl.cc
+++ b/content/renderer/dom_storage/webstoragearea_impl.cc
@@ -6,5 +6,5 @@
 
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/time/time.h"
diff --git a/content/renderer/gamepad_shared_memory_reader.cc b/content/renderer/gamepad_shared_memory_reader.cc
index 89ed79e..7eb8a31 100644
--- a/content/renderer/gamepad_shared_memory_reader.cc
+++ b/content/renderer/gamepad_shared_memory_reader.cc
@@ -5,5 +5,5 @@
 #include "content/renderer/gamepad_shared_memory_reader.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event.h"
 #include "content/common/gamepad_hardware_buffer.h"
diff --git a/content/renderer/input/input_handler_proxy.cc b/content/renderer/input/input_handler_proxy.cc
index f9cc75b..a209540 100644
--- a/content/renderer/input/input_handler_proxy.cc
+++ b/content/renderer/input/input_handler_proxy.cc
@@ -8,5 +8,5 @@
 #include "base/command_line.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event.h"
 #include "content/common/input/did_overscroll_params.h"
diff --git a/content/renderer/manifest/manifest_uma_util.cc b/content/renderer/manifest/manifest_uma_util.cc
index 513c4d8..37370c5 100644
--- a/content/renderer/manifest/manifest_uma_util.cc
+++ b/content/renderer/manifest/manifest_uma_util.cc
@@ -5,5 +5,5 @@
 #include "content/renderer/manifest/manifest_uma_util.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/public/common/manifest.h"
 
diff --git a/content/renderer/media/android/media_info_loader.cc b/content/renderer/media/android/media_info_loader.cc
index 35b7980..9233e65 100644
--- a/content/renderer/media/android/media_info_loader.cc
+++ b/content/renderer/media/android/media_info_loader.cc
@@ -7,5 +7,5 @@
 #include "base/bits.h"
 #include "base/callback_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "third_party/WebKit/public/platform/WebURLError.h"
 #include "third_party/WebKit/public/platform/WebURLLoader.h"
diff --git a/content/renderer/media/android/webmediaplayer_android.cc b/content/renderer/media/android/webmediaplayer_android.cc
index 47c37bd..aea1064 100644
--- a/content/renderer/media/android/webmediaplayer_android.cc
+++ b/content/renderer/media/android/webmediaplayer_android.cc
@@ -13,5 +13,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/single_thread_task_runner.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/content/renderer/media/media_stream_audio_processor.cc b/content/renderer/media/media_stream_audio_processor.cc
index e709d0c..85fb473 100644
--- a/content/renderer/media/media_stream_audio_processor.cc
+++ b/content/renderer/media/media_stream_audio_processor.cc
@@ -6,6 +6,6 @@
 
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event.h"
 #include "content/public/common/content_switches.h"
diff --git a/content/renderer/media/media_stream_audio_processor_options.cc b/content/renderer/media/media_stream_audio_processor_options.cc
index 2a8eb5f..93b611c 100644
--- a/content/renderer/media/media_stream_audio_processor_options.cc
+++ b/content/renderer/media/media_stream_audio_processor_options.cc
@@ -8,6 +8,6 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/renderer/media/mock_media_stream_dispatcher.cc b/content/renderer/media/mock_media_stream_dispatcher.cc
index 4c5becf..1c6a405 100644
--- a/content/renderer/media/mock_media_stream_dispatcher.cc
+++ b/content/renderer/media/mock_media_stream_dispatcher.cc
@@ -7,5 +7,5 @@
 #include "base/strings/string_number_conversions.h"
 #include "content/public/common/media_stream_request.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 // Used for ID for output devices and for matching output device ID for input
diff --git a/content/renderer/media/mock_media_stream_video_sink.h b/content/renderer/media/mock_media_stream_video_sink.h
index e82020b..7f80793 100644
--- a/content/renderer/media/mock_media_stream_video_sink.h
+++ b/content/renderer/media/mock_media_stream_video_sink.h
@@ -11,5 +11,5 @@
 #include "content/common/media/video_capture.h"
 #include "media/base/video_frame.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace content {
diff --git a/content/renderer/media/mock_media_stream_video_source.h b/content/renderer/media/mock_media_stream_video_source.h
index 0ae7507..f9b3913 100644
--- a/content/renderer/media/mock_media_stream_video_source.h
+++ b/content/renderer/media/mock_media_stream_video_source.h
@@ -8,5 +8,5 @@
 #include "content/renderer/media/media_stream_video_source.h"
 
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace content {
diff --git a/content/renderer/media/mock_peer_connection_impl.h b/content/renderer/media/mock_peer_connection_impl.h
index 5e89294..4d3805d 100644
--- a/content/renderer/media/mock_peer_connection_impl.h
+++ b/content/renderer/media/mock_peer_connection_impl.h
@@ -12,5 +12,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "third_party/libjingle/source/talk/app/webrtc/peerconnectioninterface.h"
 
diff --git a/content/renderer/media/mock_web_rtc_peer_connection_handler_client.h b/content/renderer/media/mock_web_rtc_peer_connection_handler_client.h
index 31b5a02..6e92b53 100644
--- a/content/renderer/media/mock_web_rtc_peer_connection_handler_client.h
+++ b/content/renderer/media/mock_web_rtc_peer_connection_handler_client.h
@@ -10,5 +10,5 @@
 #include "base/basictypes.h"
 #include "base/compiler_specific.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "third_party/WebKit/public/platform/WebMediaStream.h"
 #include "third_party/WebKit/public/platform/WebRTCICECandidate.h"
diff --git a/content/renderer/media/rtc_data_channel_handler.cc b/content/renderer/media/rtc_data_channel_handler.cc
index 5a21184..398eef3 100644
--- a/content/renderer/media/rtc_data_channel_handler.cc
+++ b/content/renderer/media/rtc_data_channel_handler.cc
@@ -12,5 +12,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/thread_task_runner_handle.h"
diff --git a/content/renderer/media/rtc_peer_connection_handler.cc b/content/renderer/media/rtc_peer_connection_handler.cc
index 9363fec..3f37464 100644
--- a/content/renderer/media/rtc_peer_connection_handler.cc
+++ b/content/renderer/media/rtc_peer_connection_handler.cc
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/renderer/media/rtc_video_decoder.cc b/content/renderer/media/rtc_video_decoder.cc
index 66ef349..e238a7f 100644
--- a/content/renderer/media/rtc_video_decoder.cc
+++ b/content/renderer/media/rtc_video_decoder.cc
@@ -9,5 +9,5 @@
 #include "base/memory/ref_counted.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/stl_util.h"
diff --git a/content/renderer/media/rtc_video_encoder.cc b/content/renderer/media/rtc_video_encoder.cc
index 44c9107..161f3e6 100644
--- a/content/renderer/media/rtc_video_encoder.cc
+++ b/content/renderer/media/rtc_video_encoder.cc
@@ -10,5 +10,5 @@
 #include "base/memory/scoped_vector.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/synchronization/waitable_event.h"
diff --git a/content/renderer/media/video_track_adapter.cc b/content/renderer/media/video_track_adapter.cc
index 746602a..aeeebb7 100644
--- a/content/renderer/media/video_track_adapter.cc
+++ b/content/renderer/media/video_track_adapter.cc
@@ -12,5 +12,5 @@
 #include "base/command_line.h"
 #include "base/location.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/trace_event/trace_event.h"
diff --git a/content/renderer/media/webmediaplayer_ms.cc b/content/renderer/media/webmediaplayer_ms.cc
index 34ad2a7..aee2998 100644
--- a/content/renderer/media/webmediaplayer_ms.cc
+++ b/content/renderer/media/webmediaplayer_ms.cc
@@ -10,5 +10,5 @@
 #include "base/callback.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "cc/blink/context_provider_web_context.h"
 #include "cc/blink/web_layer_impl.h"
diff --git a/content/renderer/media/webrtc_audio_capturer.cc b/content/renderer/media/webrtc_audio_capturer.cc
index 2145cee..df908f1 100644
--- a/content/renderer/media/webrtc_audio_capturer.cc
+++ b/content/renderer/media/webrtc_audio_capturer.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/renderer/media/webrtc_audio_device_impl.cc b/content/renderer/media/webrtc_audio_device_impl.cc
index 5b87c18..dc53d06 100644
--- a/content/renderer/media/webrtc_audio_device_impl.cc
+++ b/content/renderer/media/webrtc_audio_device_impl.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/win/windows_version.h"
diff --git a/content/renderer/media/webrtc_audio_renderer.cc b/content/renderer/media/webrtc_audio_renderer.cc
index 862c3fd..8002688 100644
--- a/content/renderer/media/webrtc_audio_renderer.cc
+++ b/content/renderer/media/webrtc_audio_renderer.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/renderer/media/webrtc_local_audio_renderer.cc b/content/renderer/media/webrtc_local_audio_renderer.cc
index d3a88d5..459b1db 100644
--- a/content/renderer/media/webrtc_local_audio_renderer.cc
+++ b/content/renderer/media/webrtc_local_audio_renderer.cc
@@ -7,5 +7,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/synchronization/lock.h"
 #include "base/trace_event/trace_event.h"
diff --git a/content/renderer/media/webrtc_uma_histograms.cc b/content/renderer/media/webrtc_uma_histograms.cc
index 3e804e1..0574d69 100644
--- a/content/renderer/media/webrtc_uma_histograms.cc
+++ b/content/renderer/media/webrtc_uma_histograms.cc
@@ -5,5 +5,5 @@
 #include "content/renderer/media/webrtc_uma_histograms.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace content {
diff --git a/content/renderer/npapi/plugin_channel_host.cc b/content/renderer/npapi/plugin_channel_host.cc
index 679288f..a799e9a 100644
--- a/content/renderer/npapi/plugin_channel_host.cc
+++ b/content/renderer/npapi/plugin_channel_host.cc
@@ -5,5 +5,5 @@
 #include "content/renderer/npapi/plugin_channel_host.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "content/child/child_process.h"
diff --git a/content/renderer/npapi/webplugin_impl.cc b/content/renderer/npapi/webplugin_impl.cc
index bb92c76..4f32af1 100644
--- a/content/renderer/npapi/webplugin_impl.cc
+++ b/content/renderer/npapi/webplugin_impl.cc
@@ -11,5 +11,5 @@
 #include "base/memory/linked_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/renderer/p2p/ipc_network_manager.cc b/content/renderer/p2p/ipc_network_manager.cc
index ad62327..448ba17 100644
--- a/content/renderer/p2p/ipc_network_manager.cc
+++ b/content/renderer/p2p/ipc_network_manager.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sys_byteorder.h"
 #include "content/public/common/content_switches.h"
diff --git a/content/renderer/p2p/ipc_socket_factory.cc b/content/renderer/p2p/ipc_socket_factory.cc
index e3808e8..8bee4b6 100644
--- a/content/renderer/p2p/ipc_socket_factory.cc
+++ b/content/renderer/p2p/ipc_socket_factory.cc
@@ -11,6 +11,6 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
diff --git a/content/renderer/pepper/content_decryptor_delegate.cc b/content/renderer/pepper/content_decryptor_delegate.cc
index 63ab818..f7034c4 100644
--- a/content/renderer/pepper/content_decryptor_delegate.cc
+++ b/content/renderer/pepper/content_decryptor_delegate.cc
@@ -7,5 +7,5 @@
 #include "base/callback_helpers.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/trace_event/trace_event.h"
diff --git a/content/renderer/pepper/pepper_plugin_instance_metrics.cc b/content/renderer/pepper/pepper_plugin_instance_metrics.cc
index 1c8a0e2..15112b2 100644
--- a/content/renderer/pepper/pepper_plugin_instance_metrics.cc
+++ b/content/renderer/pepper/pepper_plugin_instance_metrics.cc
@@ -5,6 +5,6 @@
 #include "content/renderer/pepper/pepper_plugin_instance_metrics.h"
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "ppapi/shared_impl/ppapi_preferences.h"
 
diff --git a/content/renderer/pepper/plugin_instance_throttler_impl.cc b/content/renderer/pepper/plugin_instance_throttler_impl.cc
index 1ff6248..6a8c11d 100644
--- a/content/renderer/pepper/plugin_instance_throttler_impl.cc
+++ b/content/renderer/pepper/plugin_instance_throttler_impl.cc
@@ -5,5 +5,5 @@
 #include "content/renderer/pepper/plugin_instance_throttler_impl.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "content/public/common/content_constants.h"
diff --git a/content/renderer/pepper/plugin_power_saver_helper.cc b/content/renderer/pepper/plugin_power_saver_helper.cc
index 9eec693..7c1292b 100644
--- a/content/renderer/pepper/plugin_power_saver_helper.cc
+++ b/content/renderer/pepper/plugin_power_saver_helper.cc
@@ -5,5 +5,5 @@
 #include "content/renderer/pepper/plugin_power_saver_helper.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "content/common/frame_messages.h"
diff --git a/content/renderer/pepper/ppb_video_decoder_impl.cc b/content/renderer/pepper/ppb_video_decoder_impl.cc
index ca052ea..eeaade1 100644
--- a/content/renderer/pepper/ppb_video_decoder_impl.cc
+++ b/content/renderer/pepper/ppb_video_decoder_impl.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/common/gpu/client/gpu_channel_host.h"
 #include "content/renderer/pepper/host_globals.h"
diff --git a/content/renderer/renderer_blink_platform_impl.cc b/content/renderer/renderer_blink_platform_impl.cc
index 2ac75e6..c0edbb4 100644
--- a/content/renderer/renderer_blink_platform_impl.cc
+++ b/content/renderer/renderer_blink_platform_impl.cc
@@ -11,5 +11,5 @@
 #include "base/memory/shared_memory.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/content/renderer/renderer_main.cc b/content/renderer/renderer_main.cc
index a76df80..d28e11f 100644
--- a/content/renderer/renderer_main.cc
+++ b/content/renderer/renderer_main.cc
@@ -11,7 +11,7 @@
 #include "base/memory/ref_counted.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/pending_task.h"
 #include "base/strings/string_util.h"
diff --git a/content/renderer/render_frame_impl.cc b/content/renderer/render_frame_impl.cc
index ebc42b1..6eaa035 100644
--- a/content/renderer/render_frame_impl.cc
+++ b/content/renderer/render_frame_impl.cc
@@ -14,5 +14,5 @@
 #include "base/debug/dump_without_crashing.h"
 #include "base/i18n/char_iterator.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/kill.h"
 #include "base/process/process.h"
diff --git a/content/renderer/render_thread_impl.cc b/content/renderer/render_thread_impl.cc
index 900ee6b..c363dba 100644
--- a/content/renderer/render_thread_impl.cc
+++ b/content/renderer/render_thread_impl.cc
@@ -18,6 +18,6 @@
 #include "base/memory/discardable_memory_shmem_allocator.h"
 #include "base/memory/shared_memory.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/single_thread_task_runner.h"
diff --git a/content/renderer/render_thread_impl.h b/content/renderer/render_thread_impl.h
index 26de62b..6e55a85 100644
--- a/content/renderer/render_thread_impl.h
+++ b/content/renderer/render_thread_impl.h
@@ -13,5 +13,5 @@
 #include "base/memory/memory_pressure_listener.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/observer_list.h"
 #include "base/strings/string16.h"
diff --git a/content/renderer/render_view_impl.cc b/content/renderer/render_view_impl.cc
index 81fd8b4..a0dedae 100644
--- a/content/renderer/render_view_impl.cc
+++ b/content/renderer/render_view_impl.cc
@@ -20,6 +20,6 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/kill.h"
 #include "base/process/process.h"
diff --git a/content/renderer/render_widget.cc b/content/renderer/render_widget.cc
index 8c5c6d6..332f1ac 100644
--- a/content/renderer/render_widget.cc
+++ b/content/renderer/render_widget.cc
@@ -12,5 +12,5 @@
 #include "base/memory/singleton.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/content/renderer/scheduler/task_queue_manager_perftest.cc b/content/renderer/scheduler/task_queue_manager_perftest.cc
index c4c0dd9..03b35f3 100644
--- a/content/renderer/scheduler/task_queue_manager_perftest.cc
+++ b/content/renderer/scheduler/task_queue_manager_perftest.cc
@@ -8,6 +8,6 @@
 #include "base/threading/thread.h"
 #include "content/renderer/scheduler/task_queue_selector.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace content {
diff --git a/content/renderer/service_worker/service_worker_cache_storage_dispatcher.cc b/content/renderer/service_worker/service_worker_cache_storage_dispatcher.cc
index 29170b1..2accc78 100644
--- a/content/renderer/service_worker/service_worker_cache_storage_dispatcher.cc
+++ b/content/renderer/service_worker/service_worker_cache_storage_dispatcher.cc
@@ -10,5 +10,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/strings/utf_string_conversions.h"
 #include "content/common/service_worker/service_worker_messages.h"
diff --git a/content/renderer/service_worker/service_worker_script_context.cc b/content/renderer/service_worker/service_worker_script_context.cc
index 7bd700c..fc57aee 100644
--- a/content/renderer/service_worker/service_worker_script_context.cc
+++ b/content/renderer/service_worker/service_worker_script_context.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/trace_event/trace_event.h"
 #include "content/child/notifications/notification_data_conversions.h"
diff --git a/content/renderer/stats_collection_controller.cc b/content/renderer/stats_collection_controller.cc
index da615e0..d35758f 100644
--- a/content/renderer/stats_collection_controller.cc
+++ b/content/renderer/stats_collection_controller.cc
@@ -6,6 +6,6 @@
 
 #include "base/json/json_writer.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/strings/string_util.h"
 #include "content/common/child_process_messages.h"
diff --git a/content/shell/BUILD.gn b/content/shell/BUILD.gn
index 96cee7c..137254a 100644
--- a/content/shell/BUILD.gn
+++ b/content/shell/BUILD.gn
@@ -8,5 +8,5 @@ import("//tools/grit/repack.gni")
 import("//tools/grit/grit_rule.gni")
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
@@ -27,9 +27,9 @@ static_library("content_shell_lib") {
     "android/shell_manager.cc",
     "android/shell_manager.h",
-    "app/blink_test_platform_support.h",
-    "app/blink_test_platform_support_android.cc",
-    "app/blink_test_platform_support_linux.cc",
-    "app/blink_test_platform_support_mac.mm",
-    "app/blink_test_platform_support_win.cc",
+#    "app/blink_test_platform_support.h",
+#    "app/blink_test_platform_support_android.cc",
+#    "app/blink_test_platform_support_linux.cc",
+#    "app/blink_test_platform_support_mac.mm",
+#    "app/blink_test_platform_support_win.cc",
     "app/paths_mac.h",
     "app/paths_mac.mm",
@@ -42,32 +42,32 @@ static_library("content_shell_lib") {
     "browser/ipc_echo_message_filter.cc",
     "browser/ipc_echo_message_filter.h",
-    "browser/layout_test/layout_test_android.cc",
-    "browser/layout_test/layout_test_android.h",
-    "browser/layout_test/layout_test_browser_context.cc",
-    "browser/layout_test/layout_test_browser_context.h",
-    "browser/layout_test/layout_test_browser_main.cc",
-    "browser/layout_test/layout_test_browser_main.h",
-    "browser/layout_test/layout_test_browser_main_parts.cc",
-    "browser/layout_test/layout_test_browser_main_parts.h",
-    "browser/layout_test/layout_test_content_browser_client.cc",
-    "browser/layout_test/layout_test_content_browser_client.h",
-    "browser/layout_test/layout_test_devtools_frontend.cc",
-    "browser/layout_test/layout_test_devtools_frontend.h",
-    "browser/layout_test/layout_test_download_manager_delegate.cc",
-    "browser/layout_test/layout_test_download_manager_delegate.h",
-    "browser/layout_test/layout_test_javascript_dialog_manager.cc",
-    "browser/layout_test/layout_test_javascript_dialog_manager.h",
-    "browser/layout_test/layout_test_message_filter.cc",
-    "browser/layout_test/layout_test_message_filter.h",
-    "browser/layout_test/layout_test_navigator_connect_service_factory.cc",
-    "browser/layout_test/layout_test_navigator_connect_service_factory.h",
-    "browser/layout_test/layout_test_notification_manager.cc",
-    "browser/layout_test/layout_test_notification_manager.h",
-    "browser/layout_test/layout_test_push_messaging_service.cc",
-    "browser/layout_test/layout_test_push_messaging_service.h",
-    "browser/layout_test/layout_test_resource_dispatcher_host_delegate.cc",
-    "browser/layout_test/layout_test_resource_dispatcher_host_delegate.h",
-    "browser/layout_test/layout_test_url_request_context_getter.cc",
-    "browser/layout_test/layout_test_url_request_context_getter.h",
+#    "browser/layout_test/layout_test_android.cc",
+#    "browser/layout_test/layout_test_android.h",
+#    "browser/layout_test/layout_test_browser_context.cc",
+#    "browser/layout_test/layout_test_browser_context.h",
+#    "browser/layout_test/layout_test_browser_main.cc",
+#    "browser/layout_test/layout_test_browser_main.h",
+#    "browser/layout_test/layout_test_browser_main_parts.cc",
+#    "browser/layout_test/layout_test_browser_main_parts.h",
+#    "browser/layout_test/layout_test_content_browser_client.cc",
+#    "browser/layout_test/layout_test_content_browser_client.h",
+#    "browser/layout_test/layout_test_devtools_frontend.cc",
+#    "browser/layout_test/layout_test_devtools_frontend.h",
+#    "browser/layout_test/layout_test_download_manager_delegate.cc",
+#    "browser/layout_test/layout_test_download_manager_delegate.h",
+#    "browser/layout_test/layout_test_javascript_dialog_manager.cc",
+#    "browser/layout_test/layout_test_javascript_dialog_manager.h",
+#    "browser/layout_test/layout_test_message_filter.cc",
+#    "browser/layout_test/layout_test_message_filter.h",
+#    "browser/layout_test/layout_test_navigator_connect_service_factory.cc",
+#    "browser/layout_test/layout_test_navigator_connect_service_factory.h",
+#    "browser/layout_test/layout_test_notification_manager.cc",
+#    "browser/layout_test/layout_test_notification_manager.h",
+#    "browser/layout_test/layout_test_push_messaging_service.cc",
+#    "browser/layout_test/layout_test_push_messaging_service.h",
+#    "browser/layout_test/layout_test_resource_dispatcher_host_delegate.cc",
+#    "browser/layout_test/layout_test_resource_dispatcher_host_delegate.h",
+#    "browser/layout_test/layout_test_url_request_context_getter.cc",
+#    "browser/layout_test/layout_test_url_request_context_getter.h",
     "browser/notify_done_forwarder.cc",
     "browser/notify_done_forwarder.h",
@@ -103,6 +103,6 @@ static_library("content_shell_lib") {
     "browser/shell_login_dialog_mac.mm",
     "browser/shell_mac.mm",
-    "browser/shell_mojo_test_utils_android.cc",
-    "browser/shell_mojo_test_utils_android.h",
+#    "browser/shell_mojo_test_utils_android.cc",
+#    "browser/shell_mojo_test_utils_android.h",
     "browser/shell_net_log.cc",
     "browser/shell_net_log.h",
@@ -126,8 +126,8 @@ static_library("content_shell_lib") {
     "browser/shell_web_contents_view_delegate_mac.mm",
     "browser/shell_web_contents_view_delegate_win.cc",
-    "browser/webkit_test_controller.cc",
-    "browser/webkit_test_controller.h",
-    "common/layout_test/layout_test_messages.cc",
-    "common/layout_test/layout_test_messages.h",
+#    "browser/webkit_test_controller.cc",
+#    "browser/webkit_test_controller.h",
+#    "common/layout_test/layout_test_messages.cc",
+#    "common/layout_test/layout_test_messages.h",
     "common/leak_detection_result.h",
     "common/shell_content_client.cc",
@@ -137,24 +137,24 @@ static_library("content_shell_lib") {
     "common/shell_switches.cc",
     "common/shell_switches.h",
-    "common/shell_test_configuration.cc",
-    "common/shell_test_configuration.h",
+#    "common/shell_test_configuration.cc",
+#    "common/shell_test_configuration.h",
     "common/test_runner/test_preferences.cc",
     "common/test_runner/test_preferences.h",
-    "common/webkit_test_helpers.cc",
-    "common/webkit_test_helpers.h",
+#    "common/webkit_test_helpers.cc",
+#    "common/webkit_test_helpers.h",
     "renderer/ipc_echo.cc",
     "renderer/ipc_echo.h",
     "renderer/layout_test/gc_controller.cc",
     "renderer/layout_test/gc_controller.h",
-    "renderer/layout_test/layout_test_content_renderer_client.cc",
-    "renderer/layout_test/layout_test_content_renderer_client.h",
-    "renderer/layout_test/layout_test_render_frame_observer.cc",
-    "renderer/layout_test/layout_test_render_frame_observer.h",
-    "renderer/layout_test/layout_test_render_process_observer.cc",
-    "renderer/layout_test/layout_test_render_process_observer.h",
+#    "renderer/layout_test/layout_test_content_renderer_client.cc",
+#    "renderer/layout_test/layout_test_content_renderer_client.h",
+#    "renderer/layout_test/layout_test_render_frame_observer.cc",
+#    "renderer/layout_test/layout_test_render_frame_observer.h",
+#    "renderer/layout_test/layout_test_render_process_observer.cc",
+#    "renderer/layout_test/layout_test_render_process_observer.h",
     "renderer/layout_test/leak_detector.cc",
     "renderer/layout_test/leak_detector.h",
-    "renderer/layout_test/webkit_test_runner.cc",
-    "renderer/layout_test/webkit_test_runner.h",
+#    "renderer/layout_test/webkit_test_runner.cc",
+#    "renderer/layout_test/webkit_test_runner.h",
     "renderer/shell_content_renderer_client.cc",
     "renderer/shell_content_renderer_client.h",
@@ -213,13 +213,13 @@ static_library("content_shell_lib") {
     "renderer/test_runner/web_content_settings.cc",
     "renderer/test_runner/web_content_settings.h",
-    "renderer/test_runner/web_frame_test_proxy.h",
+#    "renderer/test_runner/web_frame_test_proxy.h",
     "renderer/test_runner/web_task.cc",
     "renderer/test_runner/web_task.h",
-    "renderer/test_runner/web_test_delegate.h",
-    "renderer/test_runner/web_test_interfaces.cc",
-    "renderer/test_runner/web_test_interfaces.h",
-    "renderer/test_runner/web_test_proxy.cc",
-    "renderer/test_runner/web_test_proxy.h",
-    "renderer/test_runner/web_test_runner.h",
+#    "renderer/test_runner/web_test_delegate.h",
+#    "renderer/test_runner/web_test_interfaces.cc",
+#    "renderer/test_runner/web_test_interfaces.h",
+#    "renderer/test_runner/web_test_proxy.cc",
+#    "renderer/test_runner/web_test_proxy.h",
+#    "renderer/test_runner/web_test_runner.h",
   ]
 
@@ -251,5 +251,5 @@ static_library("content_shell_lib") {
     "//content/app/strings",
     "//content/gpu",
-    "//content/test:layouttest_support",
+#    "//content/test:layouttest_support",
     "//gin",
     "//gpu",
@@ -262,5 +262,5 @@ static_library("content_shell_lib") {
     "//third_party/WebKit/public:blink",
     "//third_party/WebKit/public:resources",
-    "//third_party/WebKit/public:test_support",
+#    "//third_party/WebKit/public:test_support",
     "//third_party/icu",
     "//ui/base",
@@ -274,5 +274,5 @@ static_library("content_shell_lib") {
     "//v8",
 
-    #'copy_test_netscape_plugin',  TODO(GYP)
+#    #'copy_test_netscape_plugin',  TODO(GYP)
   ]
   if (enable_plugins) {
@@ -304,5 +304,5 @@ static_library("content_shell_lib") {
   if (is_android) {
     deps += [ "//content/shell/android:content_shell_jni_headers" ]
-    #deps -= [ "copy_test_netscape_plugin" ]  TODO(GYP)
+#    #deps -= [ "copy_test_netscape_plugin" ]  TODO(GYP)
   }
 
@@ -314,5 +314,5 @@ static_library("content_shell_lib") {
     deps += [
       "//ui/aura",
-      "//ui/aura:test_support",
+#      "//ui/aura:test_support",
       "//ui/events",
       "//ui/strings",
@@ -326,5 +326,5 @@ static_library("content_shell_lib") {
         "//ui/views/controls/webview",
         "//ui/views",
-        "//ui/views:test_support",
+#        "//ui/views:test_support",
       ]
     } else {
@@ -340,5 +340,5 @@ static_library("content_shell_lib") {
   # The test plugin relies on X11.
   if (is_linux && !use_x11) {
-    #deps -= [ 'copy_test_netscape_plugin' ]  TODO(GYP)
+#    #deps -= [ 'copy_test_netscape_plugin' ]  TODO(GYP)
   }
 
@@ -346,5 +346,5 @@ static_library("content_shell_lib") {
     deps += [
       "//chromeos",
-      "//ui/wm:test_support",
+#      "//ui/wm:test_support",
     ]
   }
diff --git a/courgette/BUILD.gn b/courgette/BUILD.gn
index ce89c42..1be3248 100644
--- a/courgette/BUILD.gn
+++ b/courgette/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 static_library("courgette_lib") {
@@ -89,49 +89,3 @@ executable("courgette_minimal_tool") {
 }
 
-test("courgette_unittests") {
-  sources = [
-    "adjustment_method_unittest.cc",
-    "base_test_unittest.cc",
-    "base_test_unittest.h",
-    "bsdiff_memory_unittest.cc",
-    "difference_estimator_unittest.cc",
-    "disassembler_elf_32_x86_unittest.cc",
-    "disassembler_win32_x64_unittest.cc",
-    "disassembler_win32_x86_unittest.cc",
-    "encode_decode_unittest.cc",
-    "encoded_program_unittest.cc",
-    "ensemble_unittest.cc",
-    "streams_unittest.cc",
-    "third_party/paged_array_unittest.cc",
-    "typedrva_unittest.cc",
-    "versioning_unittest.cc",
-  ]
-
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":courgette_lib",
-    "//base",
-    "//base:i18n",
-    "//base/allocator",
-    "//base/test:run_all_unittests",
-    "//base/test:test_support",
-    "//testing/gtest",
-  ]
-}
 
-test("courgette_fuzz") {
-  sources = [
-    "base_test_unittest.cc",
-    "base_test_unittest.h",
-    "encoded_program_fuzz_unittest.cc",
-  ]
-  deps = [
-    ":courgette_lib",
-    "//base",
-    "//base:i18n",
-    "//base/test:test_support",
-    "//testing/gtest",
-  ]
-}
diff --git a/courgette/courgette.gyp b/courgette/courgette.gyp
index bc8b7bb..efdf957 100644
--- a/courgette/courgette.gyp
+++ b/courgette/courgette.gyp
@@ -91,62 +91,4 @@
       ],
     },
-    {
-      'target_name': 'courgette_unittests',
-      'type': 'executable',
-      'sources': [
-        'adjustment_method_unittest.cc',
-        'bsdiff_memory_unittest.cc',
-        'base_test_unittest.cc',
-        'base_test_unittest.h',
-        'difference_estimator_unittest.cc',
-        'disassembler_elf_32_x86_unittest.cc',
-        'disassembler_win32_x86_unittest.cc',
-        'disassembler_win32_x64_unittest.cc',
-        'encoded_program_unittest.cc',
-        'encode_decode_unittest.cc',
-        'ensemble_unittest.cc',
-        'streams_unittest.cc',
-        'typedrva_unittest.cc',
-        'versioning_unittest.cc',
-        'third_party/paged_array_unittest.cc'
-      ],
-      'dependencies': [
-        'courgette_lib',
-        '../base/base.gyp:base',
-        '../base/base.gyp:base_i18n',
-        '../base/base.gyp:run_all_unittests',
-        '../base/base.gyp:test_support_base',
-        '../testing/gtest.gyp:gtest',
-      ],
-      'conditions': [
-        [ 'os_posix == 1 and OS != "mac" and OS != "android" and OS != "ios"', {
-          'conditions': [
-            ['use_allocator!="none"', {
-              'dependencies': [
-                '../base/allocator/allocator.gyp:allocator',
-              ],
-            }],
-          ],
-        }],
-      ],
-      # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-      'msvs_disabled_warnings': [4267, ],
-    },
-    {
-      'target_name': 'courgette_fuzz',
-      'type': 'executable',
-      'sources': [
-        'base_test_unittest.cc',
-        'base_test_unittest.h',
-        'encoded_program_fuzz_unittest.cc',
-       ],
-      'dependencies': [
-        'courgette_lib',
-        '../base/base.gyp:base',
-        '../base/base.gyp:base_i18n',
-        '../base/base.gyp:test_support_base',
-        '../testing/gtest.gyp:gtest',
-      ],
-    },
   ],
   'conditions': [
@@ -214,21 +156,5 @@
       ],
     }],
-    ['test_isolation_mode != "noop"', {
-      'targets': [
-        {
-          'target_name': 'courgette_unittests_run',
-          'type': 'none',
-          'dependencies': [
-            'courgette_unittests',
-          ],
-          'includes': [
-            '../build/isolate.gypi',
-          ],
-          'sources': [
-            'courgette_unittests.isolate',
-          ],
-        },
-      ],
-    }],
+    ],
   ],
 }
diff --git a/crypto/BUILD.gn b/crypto/BUILD.gn
index 9f944e5..4782bab 100644
--- a/crypto/BUILD.gn
+++ b/crypto/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/crypto.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("crypto") {
@@ -43,10 +43,6 @@ component("crypto") {
     "mac_security_services_lock.h",
 
-    # TODO(brettw) these mocks should be moved to a test_support_crypto target
+#    # TODO(brettw) these mocks should be moved to a test_support_crypto target
     # if possible.
-    "mock_apple_keychain.cc",
-    "mock_apple_keychain.h",
-    "mock_apple_keychain_ios.cc",
-    "mock_apple_keychain_mac.cc",
     "nss_util.cc",
     "nss_util.h",
@@ -106,6 +102,4 @@ component("crypto") {
     sources -= [
       "apple_keychain.h",
-      "mock_apple_keychain.cc",
-      "mock_apple_keychain.h",
     ]
   }
@@ -206,84 +200,5 @@ if (false && is_win) {
 }
 
-# TODO(GYP): Make this link on win as well.
-if (!is_win) {
-  test("crypto_unittests") {
-    sources = [
-      # Tests.
-      "curve25519_unittest.cc",
-      "ec_private_key_unittest.cc",
-      "ec_signature_creator_unittest.cc",
-      "encryptor_unittest.cc",
-      "ghash_unittest.cc",
-      "hkdf_unittest.cc",
-      "hmac_unittest.cc",
-      "nss_util_unittest.cc",
-      "openssl_bio_string_unittest.cc",
-      "p224_spake_unittest.cc",
-      "p224_unittest.cc",
-      "random_unittest.cc",
-      "rsa_private_key_nss_unittest.cc",
-      "rsa_private_key_unittest.cc",
-      "secure_hash_unittest.cc",
-      "sha2_unittest.cc",
-      "signature_creator_unittest.cc",
-      "signature_verifier_unittest.cc",
-      "symmetric_key_unittest.cc",
-    ]
-
-    if (use_openssl || !is_linux) {
-      sources -= [ "rsa_private_key_nss_unittest.cc" ]
-    }
-
-    if (use_openssl) {
-      sources -= [ "nss_util_unittest.cc" ]
-    } else {
-      sources -= [ "openssl_bio_string_unittest.cc" ]
-    }
-
-    deps = [
-      ":crypto",
-      ":platform",
-      ":test_support",
-      "//base",
-      "//base/test:run_all_unittests",
-      "//base/test:test_support",
-      "//testing/gmock",
-      "//testing/gtest",
-    ]
-  }
-}
-
-source_set("test_support") {
-  sources = [
-    "scoped_test_nss_chromeos_user.cc",
-    "scoped_test_nss_chromeos_user.h",
-    "scoped_test_nss_db.cc",
-    "scoped_test_nss_db.h",
-    "scoped_test_system_nss_key_slot.cc",
-    "scoped_test_system_nss_key_slot.h",
-  ]
-  deps = [
-    ":crypto",
-    ":platform",
-    "//base",
-  ]
-
-  if (!use_nss_certs) {
-    sources -= [
-      "scoped_test_nss_db.cc",
-      "scoped_test_nss_db.h",
-    ]
-  }
 
-  if (!is_chromeos) {
-    sources -= [
-      "scoped_test_nss_chromeos_user.cc",
-      "scoped_test_nss_chromeos_user.h",
-      "scoped_test_system_nss_key_slot.cc",
-      "scoped_test_system_nss_key_slot.h",
-    ]
-  }
-}
 
 config("platform_config") {
diff --git a/crypto/crypto.gyp b/crypto/crypto.gyp
index c8fdbc5..b4b25c1 100644
--- a/crypto/crypto.gyp
+++ b/crypto/crypto.gyp
@@ -150,33 +150,33 @@
     },
     {
-      'target_name': 'crypto_unittests',
+#      'target_name': 'crypto_unittests',
       'type': 'executable',
       'sources': [
-        'curve25519_unittest.cc',
-        'ec_private_key_unittest.cc',
-        'ec_signature_creator_unittest.cc',
-        'encryptor_unittest.cc',
-        'ghash_unittest.cc',
-        'hkdf_unittest.cc',
-        'hmac_unittest.cc',
-        'nss_util_unittest.cc',
-        'openssl_bio_string_unittest.cc',
-        'p224_unittest.cc',
-        'p224_spake_unittest.cc',
-        'random_unittest.cc',
-        'rsa_private_key_unittest.cc',
-        'rsa_private_key_nss_unittest.cc',
-        'secure_hash_unittest.cc',
-        'sha2_unittest.cc',
-        'signature_creator_unittest.cc',
-        'signature_verifier_unittest.cc',
-        'symmetric_key_unittest.cc',
+#        'curve25519_unittest.cc',
+#        'ec_private_key_unittest.cc',
+#        'ec_signature_creator_unittest.cc',
+#        'encryptor_unittest.cc',
+#        'ghash_unittest.cc',
+#        'hkdf_unittest.cc',
+#        'hmac_unittest.cc',
+#        'nss_util_unittest.cc',
+#        'openssl_bio_string_unittest.cc',
+#        'p224_unittest.cc',
+#        'p224_spake_unittest.cc',
+#        'random_unittest.cc',
+#        'rsa_private_key_unittest.cc',
+#        'rsa_private_key_nss_unittest.cc',
+#        'secure_hash_unittest.cc',
+#        'sha2_unittest.cc',
+#        'signature_creator_unittest.cc',
+#        'signature_verifier_unittest.cc',
+#        'symmetric_key_unittest.cc',
       ],
       'dependencies': [
         'crypto',
-        'crypto_test_support',
+#        'crypto_test_support',
         '../base/base.gyp:base',
-        '../base/base.gyp:run_all_unittests',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:run_all_unittests',
+#        '../base/base.gyp:test_support_base',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
@@ -197,5 +197,5 @@
         }, {  # os_posix != 1 or OS == "mac" or OS == "android" or OS == "ios"
           'sources!': [
-            'rsa_private_key_nss_unittest.cc',
+#            'rsa_private_key_nss_unittest.cc',
           ]
         }],
@@ -214,10 +214,10 @@
           ],
           'sources!': [
-            'nss_util_unittest.cc',
-            'rsa_private_key_nss_unittest.cc',
+#            'nss_util_unittest.cc',
+#            'rsa_private_key_nss_unittest.cc',
           ],
         }, {
           'sources!': [
-            'openssl_bio_string_unittest.cc',
+#            'openssl_bio_string_unittest.cc',
           ],
         }],
@@ -259,5 +259,5 @@
       'targets': [
         {
-          'target_name': 'crypto_test_support',
+#          'target_name': 'crypto_test_support',
           'type': 'static_library',
           'dependencies': [
@@ -266,24 +266,24 @@
           ],
           'sources': [
-            'scoped_test_nss_db.cc',
-            'scoped_test_nss_db.h',
-            'scoped_test_nss_chromeos_user.cc',
-            'scoped_test_nss_chromeos_user.h',
-            'scoped_test_system_nss_key_slot.cc',
-            'scoped_test_system_nss_key_slot.h',
+#            'scoped_test_nss_db.cc',
+#            'scoped_test_nss_db.h',
+#            'scoped_test_nss_chromeos_user.cc',
+#            'scoped_test_nss_chromeos_user.h',
+#            'scoped_test_system_nss_key_slot.cc',
+#            'scoped_test_system_nss_key_slot.h',
           ],
           'conditions': [
             ['use_nss==0', {
               'sources!': [
-                'scoped_test_nss_db.cc',
-                'scoped_test_nss_db.h',
+#                'scoped_test_nss_db.cc',
+#                'scoped_test_nss_db.h',
               ],
             }],
             [ 'chromeos==0', {
               'sources!': [
-                'scoped_test_nss_chromeos_user.cc',
-                'scoped_test_nss_chromeos_user.h',
-                'scoped_test_system_nss_key_slot.cc',
-                'scoped_test_system_nss_key_slot.h',
+#                'scoped_test_nss_chromeos_user.cc',
+#                'scoped_test_nss_chromeos_user.h',
+#                'scoped_test_system_nss_key_slot.cc',
+#                'scoped_test_system_nss_key_slot.h',
               ],
             }],
@@ -293,5 +293,5 @@
       'targets': [
         {
-          'target_name': 'crypto_test_support',
+#          'target_name': 'crypto_test_support',
           'type': 'none',
           'sources': [],
@@ -301,8 +301,8 @@
       'targets': [
         {
-          'target_name': 'crypto_unittests_run',
+#          'target_name': 'crypto_unittests_run',
           'type': 'none',
           'dependencies': [
-            'crypto_unittests',
+#            'crypto_unittests',
           ],
           'includes': [
@@ -310,5 +310,5 @@
                       ],
           'sources': [
-            'crypto_unittests.isolate',
+#            'crypto_unittests.isolate',
           ],
         },
diff --git a/crypto/mock_apple_keychain.cc b/crypto/mock_apple_keychain.cc
index a1faa65..d85767d 100644
--- a/crypto/mock_apple_keychain.cc
+++ b/crypto/mock_apple_keychain.cc
@@ -4,5 +4,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "crypto/mock_apple_keychain.h"
diff --git a/crypto/nss_util.cc b/crypto/nss_util.cc
index 5ee7c32..3a8f59f 100644
--- a/crypto/nss_util.cc
+++ b/crypto/nss_util.cc
@@ -34,5 +34,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/native_library.h"
 #include "base/path_service.h"
@@ -649,5 +649,5 @@ class NSSInitSingleton {
         chaps_module_(NULL),
         root_(NULL) {
-    base::TimeTicks start_time = base::TimeTicks::Now();
+//    base::TimeTicks start_time = base::TimeTicks::Now();
 
     // It's safe to construct on any thread, since LazyInstance will prevent any
@@ -750,9 +750,9 @@ class NSSInitSingleton {
     // The UMA bit is conditionally set for this histogram in
     // components/startup_metric_utils.cc .
-    LOCAL_HISTOGRAM_CUSTOM_TIMES("Startup.SlowStartupNSSInit",
+/*    LOCAL_HISTOGRAM_CUSTOM_TIMES("Startup.SlowStartupNSSInit",
                                  base::TimeTicks::Now() - start_time,
                                  base::TimeDelta::FromMilliseconds(10),
                                  base::TimeDelta::FromHours(1),
-                                 50);
+                                 50);*/
   }
 
diff --git a/dbus/BUILD.gn b/dbus/BUILD.gn
index a133e72..aa5e551 100644
--- a/dbus/BUILD.gn
+++ b/dbus/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/protobuf/proto_library.gni")
 
@@ -49,82 +49,6 @@ component("dbus") {
 }
 
-proto_library("test_proto") {
-  sources = [
-    "test_proto.proto",
-  ]
-}
-
 # This target contains mocks that can be used to write unit tests without
 # issuing actual D-Bus calls.
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "mock_bus.cc",
-    "mock_bus.h",
-    "mock_exported_object.cc",
-    "mock_exported_object.h",
-    "mock_object_manager.cc",
-    "mock_object_manager.h",
-    "mock_object_proxy.cc",
-    "mock_object_proxy.h",
-  ]
 
-  public_deps = [
-    ":dbus",
-  ]
-  deps = [
-    "//testing/gmock",
-  ]
-
-  configs += [ "//build/config/linux:dbus" ]
-}
-
-test("dbus_unittests") {
-  sources = [
-    "bus_unittest.cc",
-    "dbus_statistics_unittest.cc",
-    "end_to_end_async_unittest.cc",
-    "end_to_end_sync_unittest.cc",
-    "message_unittest.cc",
-    "mock_unittest.cc",
-    "object_manager_unittest.cc",
-    "object_proxy_unittest.cc",
-    "property_unittest.cc",
-    "run_all_unittests.cc",
-    "signal_sender_verification_unittest.cc",
-    "string_util_unittest.cc",
-    "test_service.cc",
-    "test_service.h",
-    "util_unittest.cc",
-    "values_util_unittest.cc",
-  ]
 
-  deps = [
-    ":dbus",
-    ":test_proto",
-    ":test_support",
-    "//base/test:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/protobuf:protobuf_lite",
-  ]
-
-  configs += [ "//build/config/linux:dbus" ]
-}
-
-executable("dbus_test_server") {
-  testonly = true
-  sources = [
-    "test_server.cc",
-    "test_service.cc",
-    "test_service.h",
-  ]
-
-  deps = [
-    ":dbus",
-    "//base",
-    "//base/test:test_support",
-  ]
-
-  configs += [ "//build/config/linux:dbus" ]
-}
diff --git a/dbus/dbus.gyp b/dbus/dbus.gyp
index daac2e2..9618618 100644
--- a/dbus/dbus.gyp
+++ b/dbus/dbus.gyp
@@ -54,5 +54,5 @@
     {
       # Protobuf compiler / generator test protocol buffer
-      'target_name': 'dbus_test_proto',
+#      'target_name': 'dbus_test_proto',
       'type': 'static_library',
       'sources': [ 'test_proto.proto' ],
@@ -65,5 +65,5 @@
       # This target contains mocks that can be used to write unit tests
       # without issuing actual D-Bus calls.
-      'target_name': 'dbus_test_support',
+#      'target_name': 'dbus_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -87,32 +87,32 @@
     },
     {
-      'target_name': 'dbus_unittests',
+#      'target_name': 'dbus_unittests',
       'type': 'executable',
       'dependencies': [
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../build/linux/system.gyp:dbus',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
         'dbus',
-        'dbus_test_proto',
-        'dbus_test_support',
+#        'dbus_test_proto',
+#        'dbus_test_support',
       ],
       'sources': [
-        'bus_unittest.cc',
-        'dbus_statistics_unittest.cc',
-        'end_to_end_async_unittest.cc',
-        'end_to_end_sync_unittest.cc',
-        'message_unittest.cc',
-        'mock_unittest.cc',
-        'object_manager_unittest.cc',
-        'object_proxy_unittest.cc',
-        'property_unittest.cc',
-        'run_all_unittests.cc',
-        'signal_sender_verification_unittest.cc',
-        'string_util_unittest.cc',
+#        'bus_unittest.cc',
+#        'dbus_statistics_unittest.cc',
+#        'end_to_end_async_unittest.cc',
+#        'end_to_end_sync_unittest.cc',
+#        'message_unittest.cc',
+#        'mock_unittest.cc',
+#        'object_manager_unittest.cc',
+#        'object_proxy_unittest.cc',
+#        'property_unittest.cc',
+#        'run_all_unittests.cc',
+#        'signal_sender_verification_unittest.cc',
+#        'string_util_unittest.cc',
         'test_service.cc',
         'test_service.h',
-        'util_unittest.cc',
-        'values_util_unittest.cc',
+#        'util_unittest.cc',
+#        'values_util_unittest.cc',
       ],
       'include_dirs': [
@@ -121,8 +121,8 @@
     },
     {
-      'target_name': 'dbus_test_server',
+#      'target_name': 'dbus_test_server',
       'type': 'executable',
       'dependencies': [
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../base/base.gyp:base',
         '../build/linux/system.gyp:dbus',
diff --git a/dbus/exported_object.cc b/dbus/exported_object.cc
index 107d2e5..51b95c8 100644
--- a/dbus/exported_object.cc
+++ b/dbus/exported_object.cc
@@ -9,5 +9,5 @@
 #include "base/memory/ref_counted.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/threading/thread_restrictions.h"
 #include "base/time/time.h"
diff --git a/dbus/mock_bus.h b/dbus/mock_bus.h
index 6000067..76cd603 100644
--- a/dbus/mock_bus.h
+++ b/dbus/mock_bus.h
@@ -8,5 +8,5 @@
 #include "dbus/bus.h"
 #include "dbus/object_path.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace dbus {
diff --git a/dbus/mock_exported_object.h b/dbus/mock_exported_object.h
index 80ca951..336b457 100644
--- a/dbus/mock_exported_object.h
+++ b/dbus/mock_exported_object.h
@@ -10,5 +10,5 @@
 #include "dbus/exported_object.h"
 #include "dbus/object_path.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace dbus {
diff --git a/dbus/mock_object_manager.h b/dbus/mock_object_manager.h
index e4c76ba..39c9f2d 100644
--- a/dbus/mock_object_manager.h
+++ b/dbus/mock_object_manager.h
@@ -12,5 +12,5 @@
 #include "dbus/object_path.h"
 #include "dbus/object_proxy.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace dbus {
diff --git a/dbus/mock_object_proxy.h b/dbus/mock_object_proxy.h
index 7c61b47..e3fd2ca 100644
--- a/dbus/mock_object_proxy.h
+++ b/dbus/mock_object_proxy.h
@@ -11,5 +11,5 @@
 #include "dbus/object_path.h"
 #include "dbus/object_proxy.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace dbus {
diff --git a/dbus/object_manager.cc b/dbus/object_manager.cc
index 181a73b..f315ddf 100644
--- a/dbus/object_manager.cc
+++ b/dbus/object_manager.cc
@@ -8,5 +8,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "base/task_runner_util.h"
diff --git a/dbus/object_proxy.cc b/dbus/object_proxy.cc
index 7347db0..54ef608 100644
--- a/dbus/object_proxy.cc
+++ b/dbus/object_proxy.cc
@@ -8,5 +8,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_piece.h"
 #include "base/strings/stringprintf.h"
diff --git a/extensions/browser/api/app_runtime/app_runtime_api.cc b/extensions/browser/api/app_runtime/app_runtime_api.cc
index fba27b9..a267461 100644
--- a/extensions/browser/api/app_runtime/app_runtime_api.cc
+++ b/extensions/browser/api/app_runtime/app_runtime_api.cc
@@ -5,5 +5,5 @@
 #include "extensions/browser/api/app_runtime/app_runtime_api.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "base/values.h"
diff --git a/extensions/browser/api/bluetooth/bluetooth_apitest.cc b/extensions/browser/api/bluetooth/bluetooth_apitest.cc
index 0a78e1b..3c695a5 100644
--- a/extensions/browser/api/bluetooth/bluetooth_apitest.cc
+++ b/extensions/browser/api/bluetooth/bluetooth_apitest.cc
@@ -22,5 +22,5 @@
 #include "extensions/test/extension_test_message_listener.h"
 #include "extensions/test/result_catcher.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using device::BluetoothAdapter;
diff --git a/extensions/browser/api/bluetooth/bluetooth_private_apitest.cc b/extensions/browser/api/bluetooth/bluetooth_private_apitest.cc
index 203d749..6ac055e 100644
--- a/extensions/browser/api/bluetooth/bluetooth_private_apitest.cc
+++ b/extensions/browser/api/bluetooth/bluetooth_private_apitest.cc
@@ -14,5 +14,5 @@
 #include "extensions/common/api/bluetooth_private.h"
 #include "extensions/common/switches.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using device::MockBluetoothAdapter;
diff --git a/extensions/browser/api/bluetooth_low_energy/bluetooth_low_energy_apitest.cc b/extensions/browser/api/bluetooth_low_energy/bluetooth_low_energy_apitest.cc
index d300dfa..52afd51 100644
--- a/extensions/browser/api/bluetooth_low_energy/bluetooth_low_energy_apitest.cc
+++ b/extensions/browser/api/bluetooth_low_energy/bluetooth_low_energy_apitest.cc
@@ -17,5 +17,5 @@
 #include "extensions/test/extension_test_message_listener.h"
 #include "extensions/test/result_catcher.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using device::BluetoothUUID;
diff --git a/extensions/browser/api/bluetooth_socket/bluetooth_socket_apitest.cc b/extensions/browser/api/bluetooth_socket/bluetooth_socket_apitest.cc
index 530e96a..8dedd02 100644
--- a/extensions/browser/api/bluetooth_socket/bluetooth_socket_apitest.cc
+++ b/extensions/browser/api/bluetooth_socket/bluetooth_socket_apitest.cc
@@ -18,5 +18,5 @@
 #include "extensions/test/extension_test_message_listener.h"
 #include "extensions/test/result_catcher.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using device::BluetoothAdapter;
diff --git a/extensions/browser/api/cast_channel/cast_channel_apitest.cc b/extensions/browser/api/cast_channel/cast_channel_apitest.cc
index 41b3c5b..ae727d4 100644
--- a/extensions/browser/api/cast_channel/cast_channel_apitest.cc
+++ b/extensions/browser/api/cast_channel/cast_channel_apitest.cc
@@ -25,6 +25,6 @@
 #include "net/base/completion_callback.h"
 #include "net/base/net_errors.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gmock_mutant.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock_mutant.h"
 
 // TODO(mfoltz): Mock out the ApiResourceManager to resolve threading issues
diff --git a/extensions/browser/api/declarative/rules_registry.cc b/extensions/browser/api/declarative/rules_registry.cc
index dfd9c35..7aceac0 100644
--- a/extensions/browser/api/declarative/rules_registry.cc
+++ b/extensions/browser/api/declarative/rules_registry.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/extensions/browser/api/management/management_api.cc b/extensions/browser/api/management/management_api.cc
index c2fb30d..c077110 100644
--- a/extensions/browser/api/management/management_api.cc
+++ b/extensions/browser/api/management/management_api.cc
@@ -15,5 +15,5 @@
 #include "base/memory/linked_ptr.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/extensions/browser/api/printer_provider/printer_provider_apitest.cc b/extensions/browser/api/printer_provider/printer_provider_apitest.cc
index bd494d7..04549fb 100644
--- a/extensions/browser/api/printer_provider/printer_provider_apitest.cc
+++ b/extensions/browser/api/printer_provider/printer_provider_apitest.cc
@@ -20,5 +20,5 @@
 #include "extensions/test/extension_test_message_listener.h"
 #include "extensions/test/result_catcher.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/extensions/browser/api/runtime/runtime_api.cc b/extensions/browser/api/runtime/runtime_api.cc
index 6f0716a..d4a44c2 100644
--- a/extensions/browser/api/runtime/runtime_api.cc
+++ b/extensions/browser/api/runtime/runtime_api.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/values.h"
 #include "base/version.h"
diff --git a/extensions/browser/api/serial/serial_apitest.cc b/extensions/browser/api/serial/serial_apitest.cc
index 5306508..af2c25f 100644
--- a/extensions/browser/api/serial/serial_apitest.cc
+++ b/extensions/browser/api/serial/serial_apitest.cc
@@ -17,5 +17,5 @@
 #include "extensions/common/switches.h"
 #include "extensions/test/result_catcher.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::_;
diff --git a/extensions/browser/api/storage/settings_storage_quota_enforcer.cc b/extensions/browser/api/storage/settings_storage_quota_enforcer.cc
index e448a5d..d87ce5c 100644
--- a/extensions/browser/api/storage/settings_storage_quota_enforcer.cc
+++ b/extensions/browser/api/storage/settings_storage_quota_enforcer.cc
@@ -9,5 +9,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/extensions/browser/api/usb/usb_apitest.cc b/extensions/browser/api/usb/usb_apitest.cc
index f436f38..c9f4356 100644
--- a/extensions/browser/api/usb/usb_apitest.cc
+++ b/extensions/browser/api/usb/usb_apitest.cc
@@ -13,5 +13,5 @@
 #include "extensions/test/extension_test_message_listener.h"
 #include "net/base/io_buffer.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::_;
diff --git a/extensions/browser/api/web_request/web_request_api.cc b/extensions/browser/api/web_request/web_request_api.cc
index 7de492e..250dea3 100644
--- a/extensions/browser/api/web_request/web_request_api.cc
+++ b/extensions/browser/api/web_request/web_request_api.cc
@@ -11,5 +11,5 @@
 #include "base/json/json_writer.h"
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/extensions/browser/api/web_request/web_request_time_tracker.cc b/extensions/browser/api/web_request/web_request_time_tracker.cc
index 3449e90..8a42318 100644
--- a/extensions/browser/api/web_request/web_request_time_tracker.cc
+++ b/extensions/browser/api/web_request/web_request_time_tracker.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/compiler_specific.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "extensions/browser/warning_set.h"
 
diff --git a/extensions/browser/browser_context_keyed_service_factories.cc b/extensions/browser/browser_context_keyed_service_factories.cc
index ebdf0e4..2c42b12 100644
--- a/extensions/browser/browser_context_keyed_service_factories.cc
+++ b/extensions/browser/browser_context_keyed_service_factories.cc
@@ -8,5 +8,5 @@
 #include "extensions/browser/api/api_resource_manager.h"
 #include "extensions/browser/api/audio/audio_api.h"
-#include "extensions/browser/api/hid/hid_device_manager.h"
+//#include "extensions/browser/api/hid/hid_device_manager.h"
 #include "extensions/browser/api/idle/idle_manager_factory.h"
 #include "extensions/browser/api/management/management_api.h"
@@ -14,5 +14,5 @@
 #include "extensions/browser/api/networking_private/networking_private_event_router_factory.h"
 #include "extensions/browser/api/runtime/runtime_api.h"
-#include "extensions/browser/api/serial/serial_connection.h"
+//#include "extensions/browser/api/serial/serial_connection.h"
 #include "extensions/browser/api/socket/socket.h"
 #include "extensions/browser/api/socket/tcp_socket.h"
@@ -23,5 +23,5 @@
 #include "extensions/browser/api/storage/storage_frontend.h"
 #include "extensions/browser/api/system_info/system_info_api.h"
-#include "extensions/browser/api/usb/usb_event_router.h"
+//#include "extensions/browser/api/usb/usb_event_router.h"
 #include "extensions/browser/api/vpn_provider/vpn_service_factory.h"
 #include "extensions/browser/extension_message_filter.h"
@@ -37,5 +37,5 @@ void EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   ApiResourceManager<ResumableTCPSocket>::GetFactoryInstance();
   ApiResourceManager<ResumableUDPSocket>::GetFactoryInstance();
-  ApiResourceManager<SerialConnection>::GetFactoryInstance();
+//  ApiResourceManager<SerialConnection>::GetFactoryInstance();
   ApiResourceManager<Socket>::GetFactoryInstance();
   AudioAPI::GetFactoryInstance();
@@ -48,5 +48,5 @@ void EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   ExtensionMessageFilter::EnsureShutdownNotifierFactoryBuilt();
   ExtensionPrefsFactory::GetInstance();
-  HidDeviceManager::GetFactoryInstance();
+//  HidDeviceManager::GetFactoryInstance();
   IdleManagerFactory::GetInstance();
   ManagementAPI::GetFactoryInstance();
@@ -62,5 +62,5 @@ void EnsureBrowserContextKeyedServiceFactoriesBuilt() {
   StorageFrontend::GetFactoryInstance();
   SystemInfoAPI::GetFactoryInstance();
-  UsbEventRouter::GetFactoryInstance();
+//  UsbEventRouter::GetFactoryInstance();
 }
 
diff --git a/extensions/browser/BUILD.gn b/extensions/browser/BUILD.gn
index 4659457..4fece82 100644
--- a/extensions/browser/BUILD.gn
+++ b/extensions/browser/BUILD.gn
@@ -23,5 +23,5 @@ source_set("browser") {
     "//extensions/common",
     "//extensions/common/api",
-    "//extensions/common/api:api_registration",
+#    "//extensions/common/api:api_registration",
     "//extensions/strings",
     "//google_apis",
@@ -46,12 +46,12 @@ source_set("browser") {
     deps += [
       "//components/onc",
-      "//components/storage_monitor",
+#      "//components/storage_monitor",
       "//components/update_client",
       "//crypto:platform",
-      "//device/bluetooth",
-      "//device/core",
-      "//device/hid",
-      "//device/serial",
-      "//device/usb",
+#      "//device/bluetooth",
+#      "//device/core",
+#      "//device/hid",
+#      "//device/serial",
+#      "//device/usb",
       "//extensions/common/api/cast_channel:cast_channel_proto",
     ]
@@ -81,5 +81,30 @@ source_set("browser") {
                 ".",
                 "//extensions")
+#        print(linux_sources)
         sources += linux_sources
+#        print(sources)
+#          if (is_linux && !use_udev) {                                                                                
+#    # Udev is the only Linux implementation. If we're compiling without Udev,
+#    # disable these unittests.
+#    sources -= [
+##      "hid/hid_connection_unittest.cc",
+##      "hid/hid_device_filter_unittest.cc",
+##      "hid/hid_report_descriptor_unittest.cc",
+##      "hid/input_service_linux_unittest.cc",
+##      "hid/test_report_descriptors.cc",
+##      "hid/test_report_descriptors.h",
+##      "serial/data_sink_unittest.cc",
+##      "serial/data_source_unittest.cc",
+##      "serial/serial_connection_unittest.cc",
+##      "serial/serial_service_unittest.cc",
+#    ]
+#
+#    deps -= [
+##      "//device/hid",
+##      "//device/serial",
+##      "//device/serial:test_support",
+#    ]
+#  }
+
       } else {
         nonlinux_sources = rebase_path(
diff --git a/extensions/browser/content_hash_fetcher.cc b/extensions/browser/content_hash_fetcher.cc
index e4190be..4b615dd 100644
--- a/extensions/browser/content_hash_fetcher.cc
+++ b/extensions/browser/content_hash_fetcher.cc
@@ -12,5 +12,5 @@
 #include "base/json/json_reader.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/synchronization/lock.h"
 #include "base/task_runner_util.h"
diff --git a/extensions/browser/content_hash_reader.cc b/extensions/browser/content_hash_reader.cc
index 76c7e60..969619e 100644
--- a/extensions/browser/content_hash_reader.cc
+++ b/extensions/browser/content_hash_reader.cc
@@ -8,5 +8,5 @@
 #include "base/files/file_util.h"
 #include "base/json/json_reader.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/timer/elapsed_timer.h"
diff --git a/extensions/browser/content_verify_job.cc b/extensions/browser/content_verify_job.cc
index 651dcae..9026da7 100644
--- a/extensions/browser/content_verify_job.cc
+++ b/extensions/browser/content_verify_job.cc
@@ -7,5 +7,5 @@
 #include <algorithm>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/task_runner_util.h"
diff --git a/extensions/browser/extension_function_dispatcher.cc b/extensions/browser/extension_function_dispatcher.cc
index fcf4ab4..2843da6 100644
--- a/extensions/browser/extension_function_dispatcher.cc
+++ b/extensions/browser/extension_function_dispatcher.cc
@@ -10,6 +10,6 @@
 #include "base/logging.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram_macros.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/process/process.h"
 #include "base/profiler/scoped_profile.h"
diff --git a/extensions/browser/extension_host.cc b/extensions/browser/extension_host.cc
index bbf51ef..10c458c 100644
--- a/extensions/browser/extension_host.cc
+++ b/extensions/browser/extension_host.cc
@@ -6,6 +6,6 @@
 
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/strings/string_util.h"
diff --git a/extensions/browser/extension_protocols.cc b/extensions/browser/extension_protocols.cc
index 8ad21c1..9ba3ddd 100644
--- a/extensions/browser/extension_protocols.cc
+++ b/extensions/browser/extension_protocols.cc
@@ -17,7 +17,7 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/sha1.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/extensions/browser/extensions_test.h b/extensions/browser/extensions_test.h
index e930421..468146f 100644
--- a/extensions/browser/extensions_test.h
+++ b/extensions/browser/extensions_test.h
@@ -11,5 +11,5 @@
 #include "content/public/test/test_renderer_host.h"
 #include "extensions/browser/mock_extension_system.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace content {
diff --git a/extensions/browser/extension_web_contents_observer.cc b/extensions/browser/extension_web_contents_observer.cc
index 020cc32..98d01dd 100644
--- a/extensions/browser/extension_web_contents_observer.cc
+++ b/extensions/browser/extension_web_contents_observer.cc
@@ -13,5 +13,5 @@
 #include "extensions/browser/extension_prefs.h"
 #include "extensions/browser/extension_registry.h"
-#include "extensions/browser/mojo/service_registration.h"
+//#include "extensions/browser/mojo/service_registration.h"
 #include "extensions/browser/view_type_utils.h"
 #include "extensions/common/constants.h"
@@ -93,5 +93,6 @@ void ExtensionWebContentsObserver::RenderViewCreated(
 void ExtensionWebContentsObserver::RenderFrameCreated(
     content::RenderFrameHost* render_frame_host) {
-  RegisterCoreExtensionServices(render_frame_host);
+    //TODO: do we need this ? this whole file i mean!
+//  RegisterCoreExtensionServices(render_frame_host);
 }
 
diff --git a/extensions/browser/guest_view/extension_options/extension_options_guest.cc b/extensions/browser/guest_view/extension_options/extension_options_guest.cc
index 11e7062..3c63e63 100644
--- a/extensions/browser/guest_view/extension_options/extension_options_guest.cc
+++ b/extensions/browser/guest_view/extension_options/extension_options_guest.cc
@@ -5,5 +5,5 @@
 #include "extensions/browser/guest_view/extension_options/extension_options_guest.h"
 
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/values.h"
 #include "components/crx_file/id_util.h"
diff --git a/extensions/browser/guest_view/extension_view/extension_view_guest.cc b/extensions/browser/guest_view/extension_view/extension_view_guest.cc
index e9c309a..8cfb089 100644
--- a/extensions/browser/guest_view/extension_view/extension_view_guest.cc
+++ b/extensions/browser/guest_view/extension_view/extension_view_guest.cc
@@ -5,5 +5,5 @@
 #include "extensions/browser/guest_view/extension_view/extension_view_guest.h"
 
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/strings/string_util.h"
 #include "components/crx_file/id_util.h"
diff --git a/extensions/browser/guest_view/web_view/web_view_permission_helper.h b/extensions/browser/guest_view/web_view/web_view_permission_helper.h
index 3ee66b1..93d0fc5 100644
--- a/extensions/browser/guest_view/web_view/web_view_permission_helper.h
+++ b/extensions/browser/guest_view/web_view/web_view_permission_helper.h
@@ -7,5 +7,5 @@
 
 #include "base/memory/weak_ptr.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "content/public/browser/web_contents.h"
 #include "content/public/browser/web_contents_observer.h"
diff --git a/extensions/browser/load_monitoring_extension_host_queue.cc b/extensions/browser/load_monitoring_extension_host_queue.cc
index 1b8f870..97b56eb 100644
--- a/extensions/browser/load_monitoring_extension_host_queue.cc
+++ b/extensions/browser/load_monitoring_extension_host_queue.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "content/public/browser/render_frame_host.h"
 #include "extensions/browser/extension_host.h"
diff --git a/extensions/browser/process_manager.cc b/extensions/browser/process_manager.cc
index 5ba41c4..fe2bcc6 100644
--- a/extensions/browser/process_manager.cc
+++ b/extensions/browser/process_manager.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/extensions/browser/sandboxed_unpacker.cc b/extensions/browser/sandboxed_unpacker.cc
index 518cde7..645cb6e 100644
--- a/extensions/browser/sandboxed_unpacker.cc
+++ b/extensions/browser/sandboxed_unpacker.cc
@@ -15,5 +15,5 @@
 #include "base/json/json_string_value_serializer.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/path_service.h"
diff --git a/extensions/browser/updater/extension_downloader.cc b/extensions/browser/updater/extension_downloader.cc
index e1e61f8..20a0b88 100644
--- a/extensions/browser/updater/extension_downloader.cc
+++ b/extensions/browser/updater/extension_downloader.cc
@@ -12,6 +12,6 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/extensions/browser/updater/manifest_fetch_data.cc b/extensions/browser/updater/manifest_fetch_data.cc
index 6511a1e..dd8583e 100644
--- a/extensions/browser/updater/manifest_fetch_data.cc
+++ b/extensions/browser/updater/manifest_fetch_data.cc
@@ -8,5 +8,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/extensions/BUILD.gn b/extensions/BUILD.gn
index ae914e3..d439153 100644
--- a/extensions/BUILD.gn
+++ b/extensions/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//extensions/extensions.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//tools/grit/grit_rule.gni")
 import("//tools/grit/repack.gni")
@@ -60,5 +60,5 @@ grit("extensions_renderer_resources") {
 
   deps = [
-    "//device/serial:serial_mojo",
+#    "//device/serial:serial_mojo",
     "//extensions/common:mojo",
     "//extensions/common/api:mojom",
@@ -66,165 +66,5 @@ grit("extensions_renderer_resources") {
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = rebase_path(extensions_gypi_values.extensions_test_support_sources,
-                        ".",
-                        "//extensions")
 
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
 
-  deps = [
-    ":extensions_resources",
-    "//base",
-    "//base:prefs_test_support",
-    "//content/public/common",
-    "//content/test:test_support",
-    "//extensions/browser",
-    "//extensions/common",
-    "//extensions/common/api",
-    "//extensions/common/api:api_registration",
-    "//net:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
-  ]
-
-  public_deps = [
-    "//content/public/browser",
-    "//extensions/common/api/cast_channel:cast_channel_proto",
-  ]
-}
-
-# GYP version: //extensions/extensions.gyp:extensions_shell_and_test_pak
-repack("shell_and_test_pak") {
-  sources = [
-    "$root_gen_dir/blink/devtools_resources.pak",
-    "$root_gen_dir/blink/public/resources/blink_resources.pak",
-    "$root_gen_dir/content/app/strings/content_strings_en-US.pak",
-    "$root_gen_dir/content/content_resources.pak",
-    "$root_gen_dir/content/shell/shell_resources.pak",
-    "$root_gen_dir/extensions/extensions_browser_resources_100_percent.pak",
-    "$root_gen_dir/extensions/extensions_renderer_resources.pak",
-    "$root_gen_dir/extensions/extensions_resources.pak",
-    "$root_gen_dir/extensions/shell/app_shell_resources.pak",
-    "$root_gen_dir/extensions/strings/extensions_strings_en-US.pak",
-    "$root_gen_dir/ui/resources/ui_resources_100_percent.pak",
-    "$root_gen_dir/ui/strings/app_locale_settings_en-US.pak",
-    "$root_gen_dir/ui/strings/ui_strings_en-US.pak",
-  ]
-
-  output = "$root_out_dir/extensions_shell_and_test.pak"
-
-  deps = [
-    ":extensions_resources",
-    "//content:resources",
-    "//content/browser/devtools:devtools_resources",
-    "//content/shell:resources",
-    "//extensions/shell:resources",
-    "//extensions/strings",
-    "//third_party/WebKit/public:resources",
-    "//ui/resources",
-    "//ui/strings",
-  ]
-}
-
-test("extensions_unittests") {
-  sources =
-      rebase_path(extensions_tests_gypi_values.extensions_unittests_sources,
-                  ".",
-                  "//extensions")
-
-  sources += [
-    # TODO(rockot): DisplayInfoProvider::Create() is only implemented in Chrome
-    # and app_shell. This is wrong.
-    "shell/browser/shell_display_info_provider.cc",
-
-    # TODO(rockot): See above, but the header is in //components.
-    "shell/browser/shell_web_contents_modal_dialog_manager.cc",
-  ]
 
-  deps = [
-    ":extensions_resources",
-    ":shell_and_test_pak",
-    ":test_support",
-    "//base",
-    "//base:prefs_test_support",
-    "//base/test:test_support",
-    "//components/keyed_service/content",
-    "//components/user_prefs",
-    "//content/test:test_support",
-    "//device/bluetooth:mocks",
-    "//device/serial",
-    "//device/serial:test_support",
-    "//extensions/common",
-    "//extensions/common/api/cast_channel:cast_channel_proto",
-    "//extensions/renderer",
-    "//extensions/strings",
-    "//extensions/utility",
-    "//mojo/environment:chromium",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/leveldatabase",
-    "//third_party/mojo/src/mojo/edk/js",
-    "//third_party/mojo/src/mojo/edk/system",
-    "//third_party/mojo/src/mojo/public/cpp/bindings",
-    "//third_party/mojo/src/mojo/public/interfaces/application",
-  ]
-
-  if (is_win) {
-    deps += [ "//base/allocator" ]
-  }
-
-  if (is_chromeos) {
-    sources += [
-      # TODO(rockot): There are two implementations of VpnServiceFactory, a
-      # stub in app_shell and a real one in Chrome. This is wrong.
-      "shell/browser/api/vpn_provider/vpn_service_factory.cc",
-    ]
-
-    deps += [ "//chromeos:test_support" ]
-  }
-}
-
-test("extensions_browsertests") {
-  sources =
-      rebase_path(extensions_tests_gypi_values.extensions_browsertests_sources,
-                  ".",
-                  "//extensions")
-
-  defines = [ "HAS_OUT_OF_PROC_TEST_RUNNER" ]
-
-  deps = [
-    ":test_support",
-    "shell:app_shell_lib",
-
-    # TODO(yoz): find the right deps
-    "//base",
-    "//base:prefs_test_support",
-    "//base/test:test_support",
-    "//components/storage_monitor:test_support",
-    "//content/test:test_support",
-    "//device/bluetooth:mocks",
-    "//mojo/environment:chromium",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/mojo/src/mojo/edk/js",
-    "//third_party/mojo/src/mojo/edk/system",
-    "//third_party/mojo/src/mojo/public/cpp/bindings",
-  ]
-
-  if (is_chromeos) {
-    sources += rebase_path(
-            extensions_tests_gypi_values.extensions_browsertests_sources_chromeos,
-            ".",
-            "//extensions")
-  }
-
-  if (is_win) {
-    deps += [ "//base/allocator" ]
-  }
-
-  if (is_mac) {
-    deps += [ "shell:app_shell" ]  # Needed for App Shell.app's Helper.
-  }
-}
diff --git a/extensions/common/api/BUILD.gn b/extensions/common/api/BUILD.gn
index 38c379c..e8875d9 100644
--- a/extensions/common/api/BUILD.gn
+++ b/extensions/common/api/BUILD.gn
@@ -35,8 +35,9 @@ json_schema_api("api_registration") {
   impl_dir = "//extensions/browser/api"
   bundle_registration = true
+#  bundle_registration = false
 
   deps = [
     ":api",
-    "//device/serial",
+##    "//device/serial",
     "//extensions/common/api/cast_channel:cast_channel_proto",
     "//skia",
diff --git a/extensions/common/api/schemas.gypi b/extensions/common/api/schemas.gypi
index ee46bd2..e499061 100644
--- a/extensions/common/api/schemas.gypi
+++ b/extensions/common/api/schemas.gypi
@@ -16,8 +16,8 @@
       'app_window.idl',
       'audio.idl',
-      'bluetooth.idl',
-      'bluetooth_low_energy.idl',
-      'bluetooth_private.json',
-      'bluetooth_socket.idl',
+#      'bluetooth.idl',
+#      'bluetooth_low_energy.idl',
+#      'bluetooth_private.json',
+#      'bluetooth_socket.idl',
       'cast_channel.idl',
       'document_scan.idl',
@@ -30,15 +30,15 @@
       'guest_view_internal.json',
       'management.json',
-      'hid.idl',
+#      'hid.idl',
       'idle.json',
       'mime_handler_private.idl',
       'mime_handler_view_guest_internal.json',
-      'mojo_private.idl',
+#      'mojo_private.idl',
       'networking_private.json',
       'power.idl',
-      'printer_provider.idl',
-      'printer_provider_internal.idl',
+#      'printer_provider.idl',
+#      'printer_provider_internal.idl',
       'runtime.json',
-      'serial.idl',
+#      'serial.idl',
       'socket.idl',
       'sockets_tcp.idl',
@@ -53,5 +53,5 @@
       'system_storage.idl',
       'test.json',
-      'usb.idl',
+#      'usb.idl',
       'virtual_keyboard_private.json',
       'web_request.json',
diff --git a/extensions/common/BUILD.gn b/extensions/common/BUILD.gn
index 1718727..d86eb73 100644
--- a/extensions/common/BUILD.gn
+++ b/extensions/common/BUILD.gn
@@ -47,6 +47,6 @@ if (enable_extensions) {
       "//content/public/common",
       "//crypto",
-      "//device/bluetooth",
-      "//device/usb",
+#      "//device/bluetooth",
+#      "//device/usb",
       "//extensions/common/api",
       "//extensions/strings",
diff --git a/extensions/common/common_manifest_handlers.cc b/extensions/common/common_manifest_handlers.cc
index db137ff..a573f99 100644
--- a/extensions/common/common_manifest_handlers.cc
+++ b/extensions/common/common_manifest_handlers.cc
@@ -5,5 +5,5 @@
 #include "extensions/common/common_manifest_handlers.h"
 
-#include "extensions/common/api/bluetooth/bluetooth_manifest_handler.h"
+//#include "extensions/common/api/bluetooth/bluetooth_manifest_handler.h"
 #include "extensions/common/api/sockets/sockets_manifest_handler.h"
 #include "extensions/common/manifest_handler.h"
@@ -32,5 +32,5 @@ void RegisterCommonManifestHandlers() {
   DCHECK(!ManifestHandler::IsRegistrationFinalized());
   (new BackgroundManifestHandler)->Register();
-  (new BluetoothManifestHandler)->Register();
+//  (new BluetoothManifestHandler)->Register();
   (new ContentCapabilitiesHandler)->Register();
   (new CSPHandler(false))->Register();
@@ -52,4 +52,5 @@ void RegisterCommonManifestHandlers() {
   (new SharedModuleHandler)->Register();
   (new SocketsManifestHandler)->Register();
+  //TODO: what is this:
   (new WebAccessibleResourcesHandler)->Register();
   (new WebviewHandler)->Register();
diff --git a/extensions/common/feature_switch.cc b/extensions/common/feature_switch.cc
index 28c72c3..ef1a1a8 100644
--- a/extensions/common/feature_switch.cc
+++ b/extensions/common/feature_switch.cc
@@ -7,5 +7,5 @@
 #include "base/command_line.h"
 #include "base/lazy_instance.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_util.h"
 #include "extensions/common/switches.h"
diff --git a/extensions/common/manifest_test.h b/extensions/common/manifest_test.h
index cf416ce..be771f2 100644
--- a/extensions/common/manifest_test.h
+++ b/extensions/common/manifest_test.h
@@ -11,5 +11,5 @@
 #include "extensions/common/extension.h"
 #include "extensions/common/manifest.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace base {
diff --git a/extensions/common/permissions/extensions_api_permissions.cc b/extensions/common/permissions/extensions_api_permissions.cc
index 3b21c61..e36b088 100644
--- a/extensions/common/permissions/extensions_api_permissions.cc
+++ b/extensions/common/permissions/extensions_api_permissions.cc
@@ -10,5 +10,5 @@
 #include "extensions/common/permissions/permission_message.h"
 #include "extensions/common/permissions/socket_permission.h"
-#include "extensions/common/permissions/usb_device_permission.h"
+//#include "extensions/common/permissions/usb_device_permission.h"
 #include "grit/extensions_strings.h"
 
@@ -130,5 +130,5 @@ std::vector<APIPermissionInfo*> ExtensionsAPIPermissions::GetAllPermissions()
        APIPermissionInfo::kFlagCannotBeOptional |
            APIPermissionInfo::kFlagSupportsContentCapabilities},
-      {APIPermission::kUsb, "usb", APIPermissionInfo::kFlagNone},
+/*      {APIPermission::kUsb, "usb", APIPermissionInfo::kFlagNone},
       {APIPermission::kUsbDevice,
        "usbDevices",
@@ -136,5 +136,5 @@ std::vector<APIPermissionInfo*> ExtensionsAPIPermissions::GetAllPermissions()
        0,
        PermissionMessage::kNone,
-       &CreateAPIPermission<UsbDevicePermission>},
+       &CreateAPIPermission<UsbDevicePermission>},*/
       {APIPermission::kVideoCapture,
        "videoCapture",
diff --git a/extensions/extensions.gni b/extensions/extensions.gni
index 05f1108..5a3979c 100644
--- a/extensions/extensions.gni
+++ b/extensions/extensions.gni
@@ -16,10 +16,2 @@ extensions_gypi_values =
                 [ "extensions.gypi" ])
 
-extensions_tests_gypi_values =
-    exec_script("//build/gypi_to_gn.py",
-                [
-                  rebase_path("extensions_tests.gypi"),
-                  "--replace=<(SHARED_INTERMEDIATE_DIR)=$root_gen_dir",
-                ],
-                "scope",
-                [ "extensions_tests.gypi" ])
diff --git a/extensions/extensions.gyp b/extensions/extensions.gyp
index 9bf7e08..3f8f93b 100644
--- a/extensions/extensions.gyp
+++ b/extensions/extensions.gyp
@@ -243,15 +243,15 @@
     },
     {
-      # GN version: //extensions:test_support
-      'target_name': 'extensions_test_support',
+#      # GN version: //extensions:test_support
+#      'target_name': 'extensions_test_support',
       'type': 'static_library',
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:base_prefs_test_support',
+#        '../base/base.gyp:base_prefs_test_support',
         '../components/components.gyp:user_prefs',
         '../content/content.gyp:content_browser',
         '../content/content.gyp:content_common',
-        '../content/content_shell_and_tests.gyp:test_support_content',
-        '../net/net.gyp:net_test_support',
+#        '../content/content_shell_and_tests.gyp:test_support_content',
+#        '../net/net.gyp:net_test_support',
         '../testing/gtest.gyp:gtest',
         'browser/api/api_registration.gyp:extensions_api_registration',
@@ -267,5 +267,5 @@
       ],
       'sources': [
-        '<@(extensions_test_support_sources)',
+#        '<@(extensions_test_support_sources)',
       ],
       # Disable c4267 warnings until we fix size_t to int truncations.
@@ -277,5 +277,5 @@
       # little bit with build time by avoiding a repack step (one instead of
       # two).
-      'target_name': 'extensions_shell_and_test_pak',
+#      'target_name': 'extensions_shell_and_test_pak',
       'type': 'none',
       'dependencies': [
@@ -292,5 +292,5 @@
       'actions': [
         {
-          'action_name': 'repack_extensions_shell_and_test_pak',
+#          'action_name': 'repack_extensions_shell_and_test_pak',
           'variables': {
             'pak_inputs': [
diff --git a/extensions/extensions.gypi b/extensions/extensions.gypi
index b936841..59d3a1b 100644
--- a/extensions/extensions.gypi
+++ b/extensions/extensions.gypi
@@ -14,10 +14,10 @@
     ],
     'extensions_common_sources': [
-      'common/api/bluetooth/bluetooth_manifest_data.cc',
-      'common/api/bluetooth/bluetooth_manifest_data.h',
-      'common/api/bluetooth/bluetooth_manifest_handler.cc',
-      'common/api/bluetooth/bluetooth_manifest_handler.h',
-      'common/api/bluetooth/bluetooth_manifest_permission.cc',
-      'common/api/bluetooth/bluetooth_manifest_permission.h',
+#      'common/api/bluetooth/bluetooth_manifest_data.cc',
+#      'common/api/bluetooth/bluetooth_manifest_data.h',
+#      'common/api/bluetooth/bluetooth_manifest_handler.cc',
+#      'common/api/bluetooth/bluetooth_manifest_handler.h',
+#      'common/api/bluetooth/bluetooth_manifest_permission.cc',
+#      'common/api/bluetooth/bluetooth_manifest_permission.h',
       'common/api/messaging/message.h',
       'common/api/sockets/sockets_manifest_data.cc',
@@ -195,8 +195,8 @@
       'common/permissions/socket_permission_entry.cc',
       'common/permissions/socket_permission_entry.h',
-      'common/permissions/usb_device_permission.cc',
-      'common/permissions/usb_device_permission.h',
-      'common/permissions/usb_device_permission_data.cc',
-      'common/permissions/usb_device_permission_data.h',
+#      'common/permissions/usb_device_permission.cc',
+#      'common/permissions/usb_device_permission.h',
+#      'common/permissions/usb_device_permission_data.cc',
+#      'common/permissions/usb_device_permission_data.h',
       'common/stack_frame.cc',
       'common/stack_frame.h',
@@ -251,32 +251,32 @@
       'browser/api/audio/audio_api.h',
       'browser/api/audio/audio_service.h',
-      'browser/api/bluetooth/bluetooth_api.cc',
-      'browser/api/bluetooth/bluetooth_api.h',
-      'browser/api/bluetooth/bluetooth_api_pairing_delegate.cc',
-      'browser/api/bluetooth/bluetooth_api_pairing_delegate.h',
-      'browser/api/bluetooth/bluetooth_api_utils.cc',
-      'browser/api/bluetooth/bluetooth_api_utils.h',
-      'browser/api/bluetooth/bluetooth_event_router.cc',
-      'browser/api/bluetooth/bluetooth_event_router.h',
-      'browser/api/bluetooth/bluetooth_extension_function.cc',
-      'browser/api/bluetooth/bluetooth_extension_function.h',
-      'browser/api/bluetooth/bluetooth_private_api.cc',
-      'browser/api/bluetooth/bluetooth_private_api.h',
-      'browser/api/bluetooth_low_energy/bluetooth_low_energy_api.cc',
-      'browser/api/bluetooth_low_energy/bluetooth_low_energy_api.h',
-      'browser/api/bluetooth_low_energy/bluetooth_low_energy_connection.cc',
-      'browser/api/bluetooth_low_energy/bluetooth_low_energy_connection.h',
-      'browser/api/bluetooth_low_energy/bluetooth_low_energy_event_router.cc',
-      'browser/api/bluetooth_low_energy/bluetooth_low_energy_event_router.h',
-      'browser/api/bluetooth_low_energy/bluetooth_low_energy_notify_session.cc',
-      'browser/api/bluetooth_low_energy/bluetooth_low_energy_notify_session.h',
-      'browser/api/bluetooth_low_energy/utils.cc',
-      'browser/api/bluetooth_low_energy/utils.h',
-      'browser/api/bluetooth_socket/bluetooth_api_socket.cc',
-      'browser/api/bluetooth_socket/bluetooth_api_socket.h',
-      'browser/api/bluetooth_socket/bluetooth_socket_api.cc',
-      'browser/api/bluetooth_socket/bluetooth_socket_api.h',
-      'browser/api/bluetooth_socket/bluetooth_socket_event_dispatcher.cc',
-      'browser/api/bluetooth_socket/bluetooth_socket_event_dispatcher.h',
+#      'browser/api/bluetooth/bluetooth_api.cc',
+#      'browser/api/bluetooth/bluetooth_api.h',
+#      'browser/api/bluetooth/bluetooth_api_pairing_delegate.cc',
+#      'browser/api/bluetooth/bluetooth_api_pairing_delegate.h',
+#      'browser/api/bluetooth/bluetooth_api_utils.cc',
+#      'browser/api/bluetooth/bluetooth_api_utils.h',
+#      'browser/api/bluetooth/bluetooth_event_router.cc',
+#      'browser/api/bluetooth/bluetooth_event_router.h',
+#      'browser/api/bluetooth/bluetooth_extension_function.cc',
+#      'browser/api/bluetooth/bluetooth_extension_function.h',
+#      'browser/api/bluetooth/bluetooth_private_api.cc',
+#      'browser/api/bluetooth/bluetooth_private_api.h',
+#      'browser/api/bluetooth_low_energy/bluetooth_low_energy_api.cc',
+#      'browser/api/bluetooth_low_energy/bluetooth_low_energy_api.h',
+#      'browser/api/bluetooth_low_energy/bluetooth_low_energy_connection.cc',
+#      'browser/api/bluetooth_low_energy/bluetooth_low_energy_connection.h',
+#      'browser/api/bluetooth_low_energy/bluetooth_low_energy_event_router.cc',
+#      'browser/api/bluetooth_low_energy/bluetooth_low_energy_event_router.h',
+#      'browser/api/bluetooth_low_energy/bluetooth_low_energy_notify_session.cc',
+#      'browser/api/bluetooth_low_energy/bluetooth_low_energy_notify_session.h',
+#      'browser/api/bluetooth_low_energy/utils.cc',
+#      'browser/api/bluetooth_low_energy/utils.h',
+#      'browser/api/bluetooth_socket/bluetooth_api_socket.cc',
+#      'browser/api/bluetooth_socket/bluetooth_api_socket.h',
+#      'browser/api/bluetooth_socket/bluetooth_socket_api.cc',
+#      'browser/api/bluetooth_socket/bluetooth_socket_api.h',
+#      'browser/api/bluetooth_socket/bluetooth_socket_event_dispatcher.cc',
+#      'browser/api/bluetooth_socket/bluetooth_socket_event_dispatcher.h',
       'browser/api/capture_web_contents_function.cc',
       'browser/api/capture_web_contents_function.h',
@@ -347,10 +347,10 @@
       'browser/api/guest_view/guest_view_internal_api.cc',
       'browser/api/guest_view/guest_view_internal_api.h',
-      'browser/api/hid/hid_api.cc',
-      'browser/api/hid/hid_api.h',
-      'browser/api/hid/hid_connection_resource.cc',
-      'browser/api/hid/hid_connection_resource.h',
-      'browser/api/hid/hid_device_manager.cc',
-      'browser/api/hid/hid_device_manager.h',
+#      'browser/api/hid/hid_api.cc',
+#      'browser/api/hid/hid_api.h',
+#      'browser/api/hid/hid_connection_resource.cc',
+#      'browser/api/hid/hid_connection_resource.h',
+#      'browser/api/hid/hid_device_manager.cc',
+#      'browser/api/hid/hid_device_manager.h',
       'browser/api/idle/idle_api.cc',
       'browser/api/idle/idle_api.h',
@@ -384,25 +384,25 @@
       'browser/api/power/power_api.cc',
       'browser/api/power/power_api.h',
-      'browser/api/printer_provider/printer_provider_api.cc',
-      'browser/api/printer_provider/printer_provider_api.h',
-      'browser/api/printer_provider/printer_provider_api_factory.cc',
-      'browser/api/printer_provider/printer_provider_api_factory.h',
-      'browser/api/printer_provider/printer_provider_print_job.cc',
-      'browser/api/printer_provider/printer_provider_print_job.h',
-      'browser/api/printer_provider_internal/printer_provider_internal_api.cc',
-      'browser/api/printer_provider_internal/printer_provider_internal_api.h',
-      'browser/api/printer_provider_internal/printer_provider_internal_api_observer.h',
+#      'browser/api/printer_provider/printer_provider_api.cc',
+#      'browser/api/printer_provider/printer_provider_api.h',
+#      'browser/api/printer_provider/printer_provider_api_factory.cc',
+#      'browser/api/printer_provider/printer_provider_api_factory.h',
+#      'browser/api/printer_provider/printer_provider_print_job.cc',
+#      'browser/api/printer_provider/printer_provider_print_job.h',
+#      'browser/api/printer_provider_internal/printer_provider_internal_api.cc',
+#      'browser/api/printer_provider_internal/printer_provider_internal_api.h',
+#      'browser/api/printer_provider_internal/printer_provider_internal_api_observer.h',
       'browser/api/runtime/runtime_api.cc',
       'browser/api/runtime/runtime_api.h',
       'browser/api/runtime/runtime_api_delegate.cc',
       'browser/api/runtime/runtime_api_delegate.h',
-      'browser/api/serial/serial_api.cc',
-      'browser/api/serial/serial_api.h',
-      'browser/api/serial/serial_connection.cc',
-      'browser/api/serial/serial_connection.h',
-      'browser/api/serial/serial_event_dispatcher.cc',
-      'browser/api/serial/serial_event_dispatcher.h',
-      'browser/api/serial/serial_service_factory.cc',
-      'browser/api/serial/serial_service_factory.h',
+#      'browser/api/serial/serial_api.cc',
+#      'browser/api/serial/serial_api.h',
+#      'browser/api/serial/serial_connection.cc',
+#      'browser/api/serial/serial_connection.h',
+#      'browser/api/serial/serial_event_dispatcher.cc',
+#      'browser/api/serial/serial_event_dispatcher.h',
+#      'browser/api/serial/serial_service_factory.cc',
+#      'browser/api/serial/serial_service_factory.h',
       'browser/api/socket/socket.cc',
       'browser/api/socket/socket.h',
@@ -472,10 +472,10 @@
       'browser/api/test/test_api.cc',
       'browser/api/test/test_api.h',
-      'browser/api/usb/usb_api.cc',
-      'browser/api/usb/usb_api.h',
-      'browser/api/usb/usb_device_resource.cc',
-      'browser/api/usb/usb_device_resource.h',
-      'browser/api/usb/usb_event_router.cc',
-      'browser/api/usb/usb_event_router.h',
+#      'browser/api/usb/usb_api.cc',
+#      'browser/api/usb/usb_api.h',
+#      'browser/api/usb/usb_device_resource.cc',
+#      'browser/api/usb/usb_device_resource.h',
+#      'browser/api/usb/usb_event_router.cc',
+#      'browser/api/usb/usb_event_router.h',
       'browser/api/virtual_keyboard_private/virtual_keyboard_delegate.h',
       'browser/api/virtual_keyboard_private/virtual_keyboard_private_api.cc',
@@ -687,10 +687,10 @@
       'browser/management_policy.cc',
       'browser/management_policy.h',
-      'browser/mojo/keep_alive_impl.cc',
-      'browser/mojo/keep_alive_impl.h',
-      'browser/mojo/service_registration.cc',
-      'browser/mojo/service_registration.h',
-      'browser/mojo/stash_backend.cc',
-      'browser/mojo/stash_backend.h',
+#      'browser/mojo/keep_alive_impl.cc',
+#      'browser/mojo/keep_alive_impl.h',
+#      'browser/mojo/service_registration.cc',
+#      'browser/mojo/service_registration.h',
+#      'browser/mojo/stash_backend.cc',
+#      'browser/mojo/stash_backend.h',
       'browser/notification_types.cc',
       'browser/notification_types.h',
@@ -981,54 +981,4 @@
       'utility/utility_handler.h',
     ],
-    'extensions_test_support_sources': [
-      'browser/api/cast_channel/cast_test_util.cc',
-      'browser/api/cast_channel/cast_test_util.h',
-      'browser/api/dns/mock_host_resolver_creator.cc',
-      'browser/api/dns/mock_host_resolver_creator.h',
-      'browser/api/storage/settings_test_util.cc',
-      'browser/api/storage/settings_test_util.h',
-      'browser/api_test_utils.cc',
-      'browser/api_test_utils.h',
-      'browser/api_unittest.cc',
-      'browser/api_unittest.h',
-      'browser/app_window/test_app_window_contents.cc',
-      'browser/app_window/test_app_window_contents.h',
-      'browser/extension_error_test_util.cc',
-      'browser/extension_error_test_util.h',
-      'browser/extensions_test.cc',
-      'browser/extensions_test.h',
-      'browser/guest_view/test_guest_view_manager.cc',
-      'browser/guest_view/test_guest_view_manager.h',
-      'browser/mock_extension_system.cc',
-      'browser/mock_extension_system.h',
-      'browser/test_extension_registry_observer.cc',
-      'browser/test_extension_registry_observer.h',
-      'browser/test_extensions_browser_client.cc',
-      'browser/test_extensions_browser_client.h',
-      'browser/test_management_policy.cc',
-      'browser/test_management_policy.h',
-      'browser/test_runtime_api_delegate.cc',
-      'browser/test_runtime_api_delegate.h',
-      'common/extension_builder.cc',
-      'common/extension_builder.h',
-      'common/manifest_test.cc',
-      'common/manifest_test.h',
-      'common/test_util.cc',
-      'common/test_util.h',
-      'common/value_builder.cc',
-      'common/value_builder.h',
-      'renderer/test_extensions_renderer_client.cc',
-      'renderer/test_extensions_renderer_client.h',
-      'test/extension_test_message_listener.cc',
-      'test/extension_test_message_listener.h',
-      'test/result_catcher.cc',
-      'test/result_catcher.h',
-      'test/test_content_utility_client.cc',
-      'test/test_content_utility_client.h',
-      'test/test_extensions_client.cc',
-      'test/test_extensions_client.h',
-      'test/test_permission_message_provider.cc',
-      'test/test_permission_message_provider.h',
-    ],
   },
 }
diff --git a/extensions/renderer/dispatcher.cc b/extensions/renderer/dispatcher.cc
index 8cd6bac..ab418e0 100644
--- a/extensions/renderer/dispatcher.cc
+++ b/extensions/renderer/dispatcher.cc
@@ -10,6 +10,6 @@
 #include "base/debug/alias.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram_macros.h"
-#include "base/metrics/user_metrics_action.h"
+//#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/user_metrics_action.h"
 #include "base/strings/string_piece.h"
 #include "base/strings/string_split.h"
@@ -623,4 +623,5 @@ std::vector<std::pair<std::string, int> > Dispatcher::GetJsResources() {
                                      IDR_WEB_VIEW_INTERNAL_CUSTOM_BINDINGS_JS));
   resources.push_back(std::make_pair("denyWebView", IDR_WEB_VIEW_DENY_JS));
+#if defined(ENABLE_MEDIA_MOJO_RENDERER)
   resources.push_back(
       std::make_pair(mojo::kBindingsModuleName, IDR_MOJO_BINDINGS_JS));
@@ -653,5 +654,5 @@ std::vector<std::pair<std::string, int> > Dispatcher::GetJsResources() {
   resources.push_back(
       std::make_pair("extensions/common/mojo/stash.mojom", IDR_STASH_MOJOM_JS));
-
+#endif
   // Custom bindings.
   resources.push_back(
@@ -669,8 +670,10 @@ std::vector<std::pair<std::string, int> > Dispatcher::GetJsResources() {
   resources.push_back(std::make_pair(
       "mimeHandlerPrivate", IDR_MIME_HANDLER_PRIVATE_CUSTOM_BINDINGS_JS));
+#if defined(ENABLE_MEDIA_MOJO_RENDERER)
   resources.push_back(std::make_pair("extensions/common/api/mime_handler.mojom",
                                      IDR_MIME_HANDLER_MOJOM_JS));
   resources.push_back(
       std::make_pair("mojoPrivate", IDR_MOJO_PRIVATE_CUSTOM_BINDINGS_JS));
+#endif
   resources.push_back(
       std::make_pair("permissions", IDR_PERMISSIONS_CUSTOM_BINDINGS_JS));
@@ -685,4 +688,5 @@ std::vector<std::pair<std::string, int> > Dispatcher::GetJsResources() {
   resources.push_back(std::make_pair("binding", IDR_BINDING_JS));
 
+#if defined(ENABLE_MEDIA_MOJO_RENDERER)
   if (base::CommandLine::ForCurrentProcess()->HasSwitch(
           switches::kEnableMojoSerialService)) {
@@ -695,4 +699,5 @@ std::vector<std::pair<std::string, int> > Dispatcher::GetJsResources() {
   resources.push_back(std::make_pair("device/serial/serial_serialization.mojom",
                                      IDR_SERIAL_SERIALIZATION_MOJOM_JS));
+#endif
 
   // Custom types sources.
diff --git a/extensions/renderer/module_system_test.h b/extensions/renderer/module_system_test.h
index 1b75696..dd92d57 100644
--- a/extensions/renderer/module_system_test.h
+++ b/extensions/renderer/module_system_test.h
@@ -9,5 +9,5 @@
 #include "extensions/renderer/script_context.h"
 #include "gin/public/context_holder.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "v8/include/v8.h"
 
diff --git a/extensions/renderer/resources/extensions_renderer_resources.grd b/extensions/renderer/resources/extensions_renderer_resources.grd
index 44ecddd..a534a26 100644
--- a/extensions/renderer/resources/extensions_renderer_resources.grd
+++ b/extensions/renderer/resources/extensions_renderer_resources.grd
@@ -12,4 +12,5 @@
       <include name="IDR_APP_VIEW_DENY_JS" file="guest_view/app_view/app_view_deny.js" type="BINDATA" />
       <include name="IDR_APP_VIEW_JS" file="guest_view/app_view/app_view.js" type="BINDATA" />
+      <!--
       <include name="IDR_ASYNC_WAITER_JS" file="async_waiter.js" type="BINDATA" />
       <include name="IDR_BROWSER_TEST_ENVIRONMENT_SPECIFIC_BINDINGS_JS" file="browser_test_environment_specific_bindings.js" type="BINDATA" />
@@ -18,4 +19,5 @@
       <include name="IDR_DATA_STREAM_MOJOM_JS" file="${mojom_root}\device\serial\data_stream.mojom.js" use_base_dir="false" type="BINDATA" />
       <include name="IDR_DATA_STREAM_SERIALIZATION_MOJOM_JS" file="${mojom_root}\device\serial\data_stream_serialization.mojom.js" use_base_dir="false" type="BINDATA" />
+      -->
       <include name="IDR_ENTRY_ID_MANAGER" file="entry_id_manager.js" type="BINDATA" />
       <include name="IDR_EVENT_BINDINGS_JS" file="event.js" type="BINDATA" />
@@ -32,19 +34,27 @@
       <include name="IDR_JSON_SCHEMA_JS" file="json_schema.js" type="BINDATA" />
       <include name="IDR_KEEP_ALIVE_JS" file="keep_alive.js" type="BINDATA" />
+      <!--
       <include name="IDR_KEEP_ALIVE_MOJOM_JS" file="${mojom_root}\extensions\common\mojo\keep_alive.mojom.js" use_base_dir="false" type="BINDATA" />
+      -->
       <include name="IDR_LAST_ERROR_JS" file="last_error.js" type="BINDATA" />
       <include name="IDR_MESSAGING_JS" file="messaging.js" type="BINDATA" />
       <include name="IDR_MESSAGING_UTILS_JS" file="messaging_utils.js" type="BINDATA" />
       <include name="IDR_MIME_HANDLER_PRIVATE_CUSTOM_BINDINGS_JS" file="mime_handler_private_custom_bindings.js" type="BINDATA" />
+      <!--
       <include name="IDR_MIME_HANDLER_MOJOM_JS" file="${mojom_root}\extensions\common\api\mime_handler.mojom.js" use_base_dir="false" type="BINDATA" />
+      -->
       <include name="IDR_SCHEMA_UTILS_JS" file="schema_utils.js" type="BINDATA" />
       <include name="IDR_SEND_REQUEST_JS" file="send_request.js" type="BINDATA" />
+      <!--
       <include name="IDR_SERIAL_CUSTOM_BINDINGS_JS" file="serial_custom_bindings.js" type="BINDATA" />
       <include name="IDR_SERIAL_MOJOM_JS" file="${mojom_root}\device\serial\serial.mojom.js" use_base_dir="false" type="BINDATA" />
       <include name="IDR_SERIAL_SERIALIZATION_MOJOM_JS" file="${mojom_root}\device\serial\serial_serialization.mojom.js" use_base_dir="false" type="BINDATA" />
       <include name="IDR_SERIAL_SERVICE_JS" file="serial_service.js" type="BINDATA" />
+      -->
       <include name="IDR_SET_ICON_JS" file="set_icon.js" type="BINDATA" />
       <include name="IDR_STASH_CLIENT_JS" file="stash_client.js" type="BINDATA" />
+      <!--
       <include name="IDR_STASH_MOJOM_JS" file="${mojom_root}\extensions\common\mojo\stash.mojom.js" use_base_dir="false" type="BINDATA" />
+      -->
       <include name="IDR_SURFACE_VIEW_JS" file="guest_view/surface_view/surface_view.js" type="BINDATA" />
       <include name="IDR_TEST_CUSTOM_BINDINGS_JS" file="test_custom_bindings.js" type="BINDATA" />
diff --git a/extensions/renderer/script_injection.cc b/extensions/renderer/script_injection.cc
index 95f4174..0086a19 100644
--- a/extensions/renderer/script_injection.cc
+++ b/extensions/renderer/script_injection.cc
@@ -8,5 +8,5 @@
 
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/timer/elapsed_timer.h"
 #include "base/values.h"
diff --git a/extensions/renderer/scripts_run_info.cc b/extensions/renderer/scripts_run_info.cc
index f5a85d1..c0e5a75 100644
--- a/extensions/renderer/scripts_run_info.cc
+++ b/extensions/renderer/scripts_run_info.cc
@@ -5,5 +5,5 @@
 #include "extensions/renderer/scripts_run_info.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "content/public/renderer/render_view.h"
 #include "extensions/common/extension_messages.h"
diff --git a/extensions/shell/app_shell.gyp b/extensions/shell/app_shell.gyp
index 1837fd8..ad4d20e 100644
--- a/extensions/shell/app_shell.gyp
+++ b/extensions/shell/app_shell.gyp
@@ -33,5 +33,5 @@
         '<(DEPTH)/content/content_shell_and_tests.gyp:content_shell_lib',
         '<(DEPTH)/device/core/core.gyp:device_core',
-        '<(DEPTH)/device/hid/hid.gyp:device_hid',
+#        '<(DEPTH)/device/hid/hid.gyp:device_hid',
         '<(DEPTH)/extensions/browser/api/api_registration.gyp:extensions_api_registration',
         '<(DEPTH)/extensions/common/api/api.gyp:extensions_api',
@@ -39,5 +39,5 @@
         '<(DEPTH)/extensions/extensions.gyp:extensions_common',
         '<(DEPTH)/extensions/extensions.gyp:extensions_renderer',
-        '<(DEPTH)/extensions/extensions.gyp:extensions_shell_and_test_pak',
+#        '<(DEPTH)/extensions/extensions.gyp:extensions_shell_and_test_pak',
         '<(DEPTH)/extensions/extensions.gyp:extensions_utility',
         '<(DEPTH)/extensions/extensions_resources.gyp:extensions_resources',
@@ -107,5 +107,5 @@
       'dependencies': [
         'app_shell_lib',
-        '<(DEPTH)/extensions/extensions.gyp:extensions_shell_and_test_pak',
+#        '<(DEPTH)/extensions/extensions.gyp:extensions_shell_and_test_pak',
       ],
       'include_dirs': [
@@ -203,39 +203,39 @@
     },
     {
-      'target_name': 'app_shell_unittests',
+#      'target_name': 'app_shell_unittests',
       'type': 'executable',
       'dependencies': [
         'app_shell_lib',
         '<(DEPTH)/base/base.gyp:base',
-        '<(DEPTH)/base/base.gyp:test_support_base',
+#        '<(DEPTH)/base/base.gyp:test_support_base',
         '<(DEPTH)/content/content.gyp:content_app_both',
-        '<(DEPTH)/content/content_shell_and_tests.gyp:test_support_content',
-        '<(DEPTH)/extensions/extensions.gyp:extensions_shell_and_test_pak',
-        '<(DEPTH)/extensions/extensions.gyp:extensions_test_support',
+#        '<(DEPTH)/content/content_shell_and_tests.gyp:test_support_content',
+#        '<(DEPTH)/extensions/extensions.gyp:extensions_shell_and_test_pak',
+#        '<(DEPTH)/extensions/extensions.gyp:extensions_test_support',
         '<(DEPTH)/testing/gtest.gyp:gtest',
       ],
       'sources': [
-        '<@(app_shell_unittests_sources)',
+#        '<@(app_shell_unittests_sources)',
       ],
       'conditions': [
         ['disable_nacl==0', {
           'sources': [
-            '<@(app_shell_unittests_sources_nacl)',
+#            '<@(app_shell_unittests_sources_nacl)',
           ],
         }],
         ['use_aura==1', {
           'sources': [
-            '<@(app_shell_unittests_sources_aura)',
+#            '<@(app_shell_unittests_sources_aura)',
           ],
           'dependencies': [
-            '<(DEPTH)/ui/aura/aura.gyp:aura_test_support',
+#            '<(DEPTH)/ui/aura/aura.gyp:aura_test_support',
           ],
         }],
         ['chromeos==1', {
           'dependencies': [
-            '<(DEPTH)/chromeos/chromeos.gyp:chromeos_test_support_without_gmock',
+#            '<(DEPTH)/chromeos/chromeos.gyp:chromeos_test_support_without_gmock',
           ],
           'sources': [
-            '<@(app_shell_unittests_sources_chromeos)',
+#            '<@(app_shell_unittests_sources_chromeos)',
           ],
         }],
diff --git a/extensions/shell/app_shell.gypi b/extensions/shell/app_shell.gypi
index 4c6bc8d..7b1bba3 100644
--- a/extensions/shell/app_shell.gypi
+++ b/extensions/shell/app_shell.gypi
@@ -115,22 +115,4 @@
       'app/shell_main_mac.h',
     ],
-    'app_shell_unittests_sources': [
-      '../test/extensions_unittests_main.cc',
-      'browser/api/identity/identity_api_unittest.cc',
-      'browser/shell_oauth2_token_service_unittest.cc',
-      'browser/shell_prefs_unittest.cc',
-      'common/shell_content_client_unittest.cc',
-    ],
-    'app_shell_unittests_sources_aura': [
-      'browser/shell_desktop_controller_aura_unittest.cc',
-      'browser/shell_native_app_window_aura_unittest.cc',
-      'browser/shell_screen_unittest.cc',
-    ],
-    'app_shell_unittests_sources_chromeos': [
-      'browser/shell_audio_controller_chromeos_unittest.cc',
-    ],
-    'app_shell_unittests_sources_nacl': [
-      'browser/shell_nacl_browser_delegate_unittest.cc',
-    ],
   },
 }
diff --git a/extensions/shell/BUILD.gn b/extensions/shell/BUILD.gn
index 2e12978..581ccc6 100644
--- a/extensions/shell/BUILD.gn
+++ b/extensions/shell/BUILD.gn
@@ -9,5 +9,5 @@ import("//extensions/shell/app_shell.gni")
 # src/build.
 import("//chrome/version.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//tools/grit/grit_rule.gni")
 
@@ -38,8 +38,8 @@ source_set("app_shell_lib") {
     "//content",
     "//content/shell:content_shell_lib",
-    "//device/core",
-    "//device/hid",
+#    "//device/core",
+#    "//device/hid",
     "//extensions/common/api",
-    "//extensions/common/api:api_registration",
+#    "//extensions/common/api:api_registration",
     "//extensions/browser",
     "//extensions/common",
@@ -49,5 +49,5 @@ source_set("app_shell_lib") {
     "//extensions/utility",
     "//extensions:extensions_resources",
-    "//extensions:shell_and_test_pak",
+#    "//extensions:shell_and_test_pak",
     "//mojo/environment:chromium",
     "//skia",
@@ -137,5 +137,5 @@ if (!(is_chromeos && !use_ozone)) {
     deps = [
       ":app_shell_lib",
-      "//extensions:shell_and_test_pak",
+#      "//extensions:shell_and_test_pak",
     ]
 
@@ -152,54 +152,4 @@ if (!(is_chromeos && !use_ozone)) {
 }
 
-test("app_shell_unittests") {
-  sources = rebase_path(app_shell_gypi_values.app_shell_unittests_sources,
-                        ".",
-                        "//extensions/shell")
-
-  deps = [
-    ":app_shell_lib",
-    "//base",
-    "//base/test:test_support",
-    "//content/test:test_support",
-    "//extensions:shell_and_test_pak",
-    "//extensions:test_support",
-    "//testing/gtest",
-  ]
-
-  if (use_aura) {
-    deps += [ "//ui/aura:test_support" ]
-
-    aura_sources =
-        rebase_path(app_shell_gypi_values.app_shell_unittests_sources_aura,
-                    ".",
-                    "//extensions/shell")
-    sources += aura_sources
-  }
-
-  if (is_chromeos) {
-    deps += [ "//chromeos:test_support_without_gmock" ]
-
-    chromeos_sources =
-        rebase_path(app_shell_gypi_values.app_shell_unittests_sources_chromeos,
-                    ".",
-                    "//extensions/shell")
-    sources += chromeos_sources
-  }
-
-  # TODO(GYP): Enable this when //components/nacl GN is done.
-  if (false) {
-    if (use_nacl) {
-      nacl_sources =
-          rebase_path(app_shell_gypi_values.app_shell_unittests_sources_nacl,
-                      ".",
-                      "//extensions/shell")
-      sources += nacl_sources
-    }
-  }
-
-  if (is_win) {
-    deps += [ "//base/allocator" ]
-  }
-}
 
 process_version("version_header") {
diff --git a/gin/BUILD.gn b/gin/BUILD.gn
index 5446d56..e321a1d 100644
--- a/gin/BUILD.gn
+++ b/gin/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/module_args/v8.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("gin") {
@@ -121,46 +121,2 @@ executable("gin_shell") {
 }
 
-source_set("gin_test") {
-  testonly = true
-  sources = [
-    "test/file.cc",
-    "test/file.h",
-    "test/file_runner.cc",
-    "test/file_runner.h",
-    "test/gc.cc",
-    "test/gc.h",
-    "test/gtest.cc",
-    "test/gtest.h",
-    "test/v8_test.cc",
-    "test/v8_test.h",
-  ]
-
-  public_deps = [
-    ":gin",
-    "//testing/gtest",
-  ]
-  deps = [
-    "//v8",
-  ]
-}
-
-test("gin_unittests") {
-  sources = [
-    "converter_unittest.cc",
-    "interceptor_unittest.cc",
-    "modules/module_registry_unittest.cc",
-    "modules/timer_unittest.cc",
-    "per_context_data_unittest.cc",
-    "shell/gin_shell_unittest.cc",
-    "shell_runner_unittest.cc",
-    "test/run_all_unittests.cc",
-    "test/run_js_tests.cc",
-    "wrappable_unittest.cc",
-  ]
-
-  deps = [
-    ":gin_test",
-    "//base/test:test_support",
-    "//v8",
-  ]
-}
diff --git a/gin/gin.gyp b/gin/gin.gyp
index 096c120..ee1750f 100644
--- a/gin/gin.gyp
+++ b/gin/gin.gyp
@@ -148,22 +148,22 @@
     },
     {
-      'target_name': 'gin_unittests',
+#      'target_name': 'gin_unittests',
       'type': 'executable',
       'dependencies': [
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../v8/tools/gyp/v8.gyp:v8',
         'gin_test',
       ],
       'sources': [
-        'converter_unittest.cc',
-        'interceptor_unittest.cc',
-        'modules/module_registry_unittest.cc',
-        'modules/timer_unittest.cc',
-        'per_context_data_unittest.cc',
-        'shell_runner_unittest.cc',
-        'shell/gin_shell_unittest.cc',
-        'test/run_all_unittests.cc',
+#        'converter_unittest.cc',
+#        'interceptor_unittest.cc',
+#        'modules/module_registry_unittest.cc',
+#        'modules/timer_unittest.cc',
+#        'per_context_data_unittest.cc',
+#        'shell_runner_unittest.cc',
+#        'shell/gin_shell_unittest.cc',
+#        'test/run_all_unittests.cc',
         'test/run_js_tests.cc',
-        'wrappable_unittest.cc',
+#        'wrappable_unittest.cc',
       ],
     },
diff --git a/gin/isolate_holder.cc b/gin/isolate_holder.cc
index 92fb362..ea2e9a6 100644
--- a/gin/isolate_holder.cc
+++ b/gin/isolate_holder.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/rand_util.h"
 #include "base/strings/sys_string_conversions.h"
diff --git a/gin/test/file_runner.cc b/gin/test/file_runner.cc
index b639d06..236b8d4 100644
--- a/gin/test/file_runner.cc
+++ b/gin/test/file_runner.cc
@@ -18,5 +18,5 @@
 #include "gin/test/gtest.h"
 #include "gin/try_catch.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #ifdef V8_USE_EXTERNAL_STARTUP_DATA
diff --git a/gin/test/gc.cc b/gin/test/gc.cc
index 4cd67e1..0eae323 100644
--- a/gin/test/gc.cc
+++ b/gin/test/gc.cc
@@ -14,5 +14,5 @@
 #include "gin/public/wrapper_info.h"
 #include "gin/wrappable.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace gin {
diff --git a/gin/test/gtest.cc b/gin/test/gtest.cc
index b4060a3..6c415bd 100644
--- a/gin/test/gtest.cc
+++ b/gin/test/gtest.cc
@@ -14,5 +14,5 @@
 #include "gin/public/wrapper_info.h"
 #include "gin/wrappable.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace gin {
diff --git a/gin/test/v8_test.h b/gin/test/v8_test.h
index e9209ce..83b6ee7 100644
--- a/gin/test/v8_test.h
+++ b/gin/test/v8_test.h
@@ -9,5 +9,5 @@
 #include "base/compiler_specific.h"
 #include "base/memory/scoped_ptr.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "v8/include/v8.h"
 
diff --git a/.gn b/.gn
index 7787ba5..c843661 100644
--- a/.gn
+++ b/.gn
@@ -57,5 +57,5 @@ check_targets = [
   #"//pdf/*",  # Medium-hard.
   #"//ppapi/*",  # Lots of errors.
-  "//printing/*",
+#  "//printing/*",
 
   #"//remoting/*",  # Medium-hard.
@@ -66,5 +66,5 @@ check_targets = [
   "//sql/*",
   "//storage/*",
-  "//sync/*",
+#  "//sync/*",
   "//testing/*",
 
diff --git a/google_apis/BUILD.gn b/google_apis/BUILD.gn
index b8ab4b6..114e202 100644
--- a/google_apis/BUILD.gn
+++ b/google_apis/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/features.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 declare_args() {
@@ -165,76 +165,3 @@ source_set("google_apis") {
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "gaia/fake_gaia.cc",
-    "gaia/fake_gaia.h",
-    "gaia/fake_identity_provider.cc",
-    "gaia/fake_identity_provider.h",
-    "gaia/fake_oauth2_token_service.cc",
-    "gaia/fake_oauth2_token_service.h",
-    "gaia/mock_url_fetcher_factory.h",
-    "gaia/oauth2_token_service_test_util.cc",
-    "gaia/oauth2_token_service_test_util.h",
-  ]
-
-  public_deps = [
-    "//base",
-    "//base/test:test_support",
-    "//net",
-    "//net:test_support",
-  ]
-
-  deps = [
-    ":google_apis",
-  ]
-  if (enable_extensions) {
-    sources += [
-      "drive/dummy_auth_service.cc",
-      "drive/dummy_auth_service.h",
-      "drive/test_util.cc",
-      "drive/test_util.h",
-    ]
-  }
-}
 
-test("google_apis_unittests") {
-  sources = [
-    "gaia/gaia_auth_fetcher_unittest.cc",
-    "gaia/gaia_auth_util_unittest.cc",
-    "gaia/gaia_oauth_client_unittest.cc",
-    "gaia/google_service_auth_error_unittest.cc",
-    "gaia/merge_session_helper_unittest.cc",
-    "gaia/oauth2_access_token_fetcher_impl_unittest.cc",
-    "gaia/oauth2_api_call_flow_unittest.cc",
-    "gaia/oauth2_mint_token_flow_unittest.cc",
-    "gaia/oauth2_token_service_unittest.cc",
-    "gaia/oauth_request_signer_unittest.cc",
-    "gaia/ubertoken_fetcher_unittest.cc",
-    "google_api_keys_unittest.cc",
-  ]
-
-  configs += [ ":key_defines" ]
-
-  deps = [
-    ":google_apis",
-    ":test_support",
-    "//base",
-    "//base/test:run_all_unittests",
-    "//testing/gmock",
-    "//testing/gtest",
-  ]
-
-  if (enable_extensions) {
-    sources += [
-      "drive/base_requests_server_unittest.cc",
-      "drive/base_requests_unittest.cc",
-      "drive/drive_api_parser_unittest.cc",
-      "drive/drive_api_requests_unittest.cc",
-      "drive/drive_api_url_generator_unittest.cc",
-      "drive/request_sender_unittest.cc",
-      "drive/request_util_unittest.cc",
-      "drive/time_util_unittest.cc",
-    ]
-  }
-}
diff --git a/google_apis/drive/auth_service.cc b/google_apis/drive/auth_service.cc
index 0fbc132..20610ec 100644
--- a/google_apis/drive/auth_service.cc
+++ b/google_apis/drive/auth_service.cc
@@ -11,5 +11,5 @@
 #include "base/location.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "google_apis/drive/auth_service_observer.h"
 #include "google_apis/gaia/google_service_auth_error.h"
diff --git a/google_apis/gaia/oauth2_access_token_fetcher_impl.cc b/google_apis/gaia/oauth2_access_token_fetcher_impl.cc
index 08e45d2..f768c15 100644
--- a/google_apis/gaia/oauth2_access_token_fetcher_impl.cc
+++ b/google_apis/gaia/oauth2_access_token_fetcher_impl.cc
@@ -10,6 +10,6 @@
 
 #include "base/json/json_reader.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/google_apis/gcm/BUILD.gn b/google_apis/gcm/BUILD.gn
index ff96ea8..10e6a27 100644
--- a/google_apis/gcm/BUILD.gn
+++ b/google_apis/gcm/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/protobuf/proto_library.gni")
 
@@ -72,26 +72,4 @@ proto_library("proto") {
 }
 
-static_library("test_support") {
-  testonly = true
-  sources = [
-    "base/fake_encryptor.cc",
-    "base/fake_encryptor.h",
-    "engine/fake_connection_factory.cc",
-    "engine/fake_connection_factory.h",
-    "engine/fake_connection_handler.cc",
-    "engine/fake_connection_handler.h",
-    "monitoring/fake_gcm_stats_recorder.cc",
-    "monitoring/fake_gcm_stats_recorder.h",
-  ]
-
-  public_deps = [
-    ":gcm",
-  ]
-  deps = [
-    "//base",
-    "//net",
-    "//testing/gtest",
-  ]
-}
 
 # A standalone MCS (mobile connection server) client.
@@ -105,36 +83,9 @@ executable("mcs_probe") {
     ":gcm",
     ":proto",
-    ":test_support",
+#    ":test_support",
     "//base",
     "//net",
-    "//net:test_support",
+#    "//net:test_support",
   ]
 }
 
-test("gcm_unit_tests") {
-  sources = [
-    "base/mcs_message_unittest.cc",
-    "base/mcs_util_unittest.cc",
-    "base/socket_stream_unittest.cc",
-    "engine/account_mapping_unittest.cc",
-    "engine/checkin_request_unittest.cc",
-    "engine/connection_factory_impl_unittest.cc",
-    "engine/connection_handler_impl_unittest.cc",
-    "engine/gcm_store_impl_unittest.cc",
-    "engine/gservices_settings_unittest.cc",
-    "engine/heartbeat_manager_unittest.cc",
-    "engine/mcs_client_unittest.cc",
-    "engine/registration_request_unittest.cc",
-    "engine/unregistration_request_unittest.cc",
-  ]
-
-  deps = [
-    ":proto",
-    ":test_support",
-    "//base",
-    "//base/test:run_all_unittests",
-    "//net",
-    "//net:test_support",
-    "//testing/gtest",
-  ]
-}
diff --git a/google_apis/gcm/engine/checkin_request.cc b/google_apis/gcm/engine/checkin_request.cc
index 428e526..774715e 100644
--- a/google_apis/gcm/engine/checkin_request.cc
+++ b/google_apis/gcm/engine/checkin_request.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "google_apis/gcm/monitoring/gcm_stats_recorder.h"
 #include "google_apis/gcm/protocol/checkin.pb.h"
diff --git a/google_apis/gcm/engine/connection_factory_impl.cc b/google_apis/gcm/engine/connection_factory_impl.cc
index 5be2eb6..a5c29d4 100644
--- a/google_apis/gcm/engine/connection_factory_impl.cc
+++ b/google_apis/gcm/engine/connection_factory_impl.cc
@@ -6,6 +6,6 @@
 
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "google_apis/gcm/engine/connection_handler_impl.h"
 #include "google_apis/gcm/monitoring/gcm_stats_recorder.h"
diff --git a/google_apis/gcm/engine/fake_connection_handler.cc b/google_apis/gcm/engine/fake_connection_handler.cc
index 243c280..bfa9535 100644
--- a/google_apis/gcm/engine/fake_connection_handler.cc
+++ b/google_apis/gcm/engine/fake_connection_handler.cc
@@ -8,5 +8,5 @@
 #include "google_apis/gcm/base/mcs_util.h"
 #include "net/socket/stream_socket.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace gcm {
diff --git a/google_apis/gcm/engine/gcm_store_impl.cc b/google_apis/gcm/engine/gcm_store_impl.cc
index 8f701a1..57e7fa1 100644
--- a/google_apis/gcm/engine/gcm_store_impl.cc
+++ b/google_apis/gcm/engine/gcm_store_impl.cc
@@ -12,5 +12,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/sequenced_task_runner.h"
 #include "base/stl_util.h"
diff --git a/google_apis/gcm/engine/heartbeat_manager.cc b/google_apis/gcm/engine/heartbeat_manager.cc
index 53e0344..c14749e 100644
--- a/google_apis/gcm/engine/heartbeat_manager.cc
+++ b/google_apis/gcm/engine/heartbeat_manager.cc
@@ -6,5 +6,5 @@
 
 #include "base/callback.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/power_monitor/power_monitor.h"
 #include "base/time/time.h"
diff --git a/google_apis/gcm/engine/mcs_client.cc b/google_apis/gcm/engine/mcs_client.cc
index f952839..d69b9cc 100644
--- a/google_apis/gcm/engine/mcs_client.cc
+++ b/google_apis/gcm/engine/mcs_client.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/time/clock.h"
diff --git a/google_apis/gcm/engine/registration_request.cc b/google_apis/gcm/engine/registration_request.cc
index baffcc7..3e7255a 100644
--- a/google_apis/gcm/engine/registration_request.cc
+++ b/google_apis/gcm/engine/registration_request.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/values.h"
diff --git a/google_apis/gcm/engine/unregistration_request.cc b/google_apis/gcm/engine/unregistration_request.cc
index 7272fc7..c6ee996 100644
--- a/google_apis/gcm/engine/unregistration_request.cc
+++ b/google_apis/gcm/engine/unregistration_request.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_piece.h"
diff --git a/google_apis/gcm/gcm.gyp b/google_apis/gcm/gcm.gyp
index 20a63b9..bc81208 100644
--- a/google_apis/gcm/gcm.gyp
+++ b/google_apis/gcm/gcm.gyp
@@ -86,6 +86,6 @@
     # The test support library that is needed to test gcm.
     {
-      # GN version: //google_apis/gcm:test_support
-      'target_name': 'gcm_test_support',
+#      # GN version: //google_apis/gcm:test_support
+#      'target_name': 'gcm_test_support',
       'type': 'static_library',
       'include_dirs': [
@@ -126,8 +126,8 @@
         '../../base/base.gyp:base',
         '../../net/net.gyp:net',
-        '../../net/net.gyp:net_test_support',
+#        '../../net/net.gyp:net_test_support',
         '../../third_party/protobuf/protobuf.gyp:protobuf_lite',
         'gcm',
-        'gcm_test_support'
+#        'gcm_test_support'
       ],
       'sources': [
@@ -139,5 +139,5 @@
     # The main GCM unit tests.
     {
-      'target_name': 'gcm_unit_tests',
+#      'target_name': 'gcm_unit_tests',
       'type': '<(gtest_target_type)',
       'variables': { 'enable_wexit_time_destructors': 1, },
@@ -149,27 +149,27 @@
       ],
       'dependencies': [
-        '../../base/base.gyp:run_all_unittests',
+#        '../../base/base.gyp:run_all_unittests',
         '../../base/base.gyp:base',
         '../../net/net.gyp:net',
-        '../../net/net.gyp:net_test_support',
+#        '../../net/net.gyp:net_test_support',
         '../../testing/gtest.gyp:gtest',
         '../../third_party/protobuf/protobuf.gyp:protobuf_lite',
         'gcm',
-        'gcm_test_support'
+#        'gcm_test_support'
       ],
       'sources': [
-        'base/mcs_message_unittest.cc',
-        'base/mcs_util_unittest.cc',
-        'base/socket_stream_unittest.cc',
-        'engine/account_mapping_unittest.cc',
-        'engine/checkin_request_unittest.cc',
-        'engine/connection_factory_impl_unittest.cc',
-        'engine/connection_handler_impl_unittest.cc',
-        'engine/gcm_store_impl_unittest.cc',
-        'engine/gservices_settings_unittest.cc',
-        'engine/heartbeat_manager_unittest.cc',
-        'engine/mcs_client_unittest.cc',
-        'engine/registration_request_unittest.cc',
-        'engine/unregistration_request_unittest.cc',
+#        'base/mcs_message_unittest.cc',
+#        'base/mcs_util_unittest.cc',
+#        'base/socket_stream_unittest.cc',
+#        'engine/account_mapping_unittest.cc',
+#        'engine/checkin_request_unittest.cc',
+#        'engine/connection_factory_impl_unittest.cc',
+#        'engine/connection_handler_impl_unittest.cc',
+#        'engine/gcm_store_impl_unittest.cc',
+#        'engine/gservices_settings_unittest.cc',
+#        'engine/heartbeat_manager_unittest.cc',
+#        'engine/mcs_client_unittest.cc',
+#        'engine/registration_request_unittest.cc',
+#        'engine/unregistration_request_unittest.cc',
       ]
     },
diff --git a/google_apis/google_apis.gyp b/google_apis/google_apis.gyp
index 7859a73..7c0a71e 100644
--- a/google_apis/google_apis.gyp
+++ b/google_apis/google_apis.gyp
@@ -117,12 +117,12 @@
     },
     {
-      'target_name': 'google_apis_unittests',
+#      'target_name': 'google_apis_unittests',
       'type': 'executable',
       'dependencies': [
-        '../base/base.gyp:run_all_unittests',
+#        '../base/base.gyp:run_all_unittests',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
         'google_apis',
-        'google_apis_test_support',
+#        'google_apis_test_support',
       ],
       'includes': [
@@ -133,30 +133,30 @@
       ],
       'sources': [
-        'gaia/account_tracker_unittest.cc',
-        'gaia/gaia_auth_fetcher_unittest.cc',
-        'gaia/gaia_auth_util_unittest.cc',
-        'gaia/gaia_oauth_client_unittest.cc',
-        'gaia/google_service_auth_error_unittest.cc',
-        'gaia/merge_session_helper_unittest.cc',
-        'gaia/oauth2_access_token_fetcher_impl_unittest.cc',
-        'gaia/oauth2_api_call_flow_unittest.cc',
-        'gaia/oauth2_mint_token_flow_unittest.cc',
-        'gaia/oauth2_token_service_request_unittest.cc',
-        'gaia/oauth2_token_service_unittest.cc',
-        'gaia/oauth_request_signer_unittest.cc',
-        'gaia/ubertoken_fetcher_unittest.cc',
-        'google_api_keys_unittest.cc',
+#        'gaia/account_tracker_unittest.cc',
+#        'gaia/gaia_auth_fetcher_unittest.cc',
+#        'gaia/gaia_auth_util_unittest.cc',
+#        'gaia/gaia_oauth_client_unittest.cc',
+#        'gaia/google_service_auth_error_unittest.cc',
+#        'gaia/merge_session_helper_unittest.cc',
+#        'gaia/oauth2_access_token_fetcher_impl_unittest.cc',
+#        'gaia/oauth2_api_call_flow_unittest.cc',
+#        'gaia/oauth2_mint_token_flow_unittest.cc',
+#        'gaia/oauth2_token_service_request_unittest.cc',
+#        'gaia/oauth2_token_service_unittest.cc',
+#        'gaia/oauth_request_signer_unittest.cc',
+#        'gaia/ubertoken_fetcher_unittest.cc',
+#        'google_api_keys_unittest.cc',
       ],
       'conditions': [
         ['enable_extensions==1', {
           'sources': [
-            'drive/base_requests_server_unittest.cc',
-            'drive/base_requests_unittest.cc',
-            'drive/drive_api_parser_unittest.cc',
-            'drive/drive_api_requests_unittest.cc',
-            'drive/drive_api_url_generator_unittest.cc',
-            'drive/request_sender_unittest.cc',
-            'drive/request_util_unittest.cc',
-            'drive/time_util_unittest.cc',
+#            'drive/base_requests_server_unittest.cc',
+#            'drive/base_requests_unittest.cc',
+#            'drive/drive_api_parser_unittest.cc',
+#            'drive/drive_api_requests_unittest.cc',
+#            'drive/drive_api_url_generator_unittest.cc',
+#            'drive/request_sender_unittest.cc',
+#            'drive/request_util_unittest.cc',
+#            'drive/time_util_unittest.cc',
           ],
         }],
@@ -164,18 +164,18 @@
     },
     {
-      # GN version: //google_apis:test_support
-      'target_name': 'google_apis_test_support',
+#      # GN version: //google_apis:test_support
+#      'target_name': 'google_apis_test_support',
       'type': 'static_library',
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../net/net.gyp:net',
-        '../net/net.gyp:net_test_support',
+#        '../net/net.gyp:net_test_support',
       ],
       'export_dependent_settings': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../net/net.gyp:net',
-        '../net/net.gyp:net_test_support',
+#        '../net/net.gyp:net_test_support',
       ],
       'sources': [
@@ -187,6 +187,6 @@
         'gaia/fake_oauth2_token_service.h',
         'gaia/mock_url_fetcher_factory.h',
-        'gaia/oauth2_token_service_test_util.cc',
-        'gaia/oauth2_token_service_test_util.h',
+#        'gaia/oauth2_token_service_test_util.cc',
+#        'gaia/oauth2_token_service_test_util.h',
       ],
       'conditions': [
diff --git a/gpu/BUILD.gn b/gpu/BUILD.gn
index 6270d00..26dc52a 100644
--- a/gpu/BUILD.gn
+++ b/gpu/BUILD.gn
@@ -34,5 +34,5 @@
 # gpu/skia_bindings/skia_bindings.gyp:gpu_skia_bindings => //gpu/skia_bindings
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//build/config/ui.gni")
 
@@ -48,241 +48,6 @@ component("gpu") {
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "command_buffer/client/gles2_interface_stub.cc",
-    "command_buffer/client/gles2_interface_stub.h",
-    "command_buffer/service/error_state_mock.cc",
-    "command_buffer/service/gles2_cmd_decoder_mock.cc",
-  ]
-
-  public_deps = [
-    ":gpu",
-    "//gpu/command_buffer/client:gles2_interface",
-  ]
-  deps = [
-    "//testing/gmock",
-    "//testing/gtest",
-    "//ui/gl:gl_unittest_utils",
-  ]
-}
-
-test("gl_tests") {
-  sources = [
-    "command_buffer/tests/compressed_texture_test.cc",
-    "command_buffer/tests/gl_bind_uniform_location_unittest.cc",
-    "command_buffer/tests/gl_chromium_framebuffer_multisample_unittest.cc",
-    "command_buffer/tests/gl_chromium_path_rendering_unittest.cc",
-    "command_buffer/tests/gl_clear_framebuffer_unittest.cc",
-    "command_buffer/tests/gl_copy_texture_CHROMIUM_unittest.cc",
-    "command_buffer/tests/gl_depth_texture_unittest.cc",
-    "command_buffer/tests/gl_gpu_memory_buffer_unittest.cc",
-    "command_buffer/tests/gl_lose_context_chromium_unittest.cc",
-    "command_buffer/tests/gl_manager.cc",
-    "command_buffer/tests/gl_manager.h",
-    "command_buffer/tests/gl_pointcoord_unittest.cc",
-    "command_buffer/tests/gl_program_unittest.cc",
-    "command_buffer/tests/gl_query_unittest.cc",
-    "command_buffer/tests/gl_readback_unittest.cc",
-    "command_buffer/tests/gl_shared_resources_unittest.cc",
-    "command_buffer/tests/gl_stream_draw_unittest.cc",
-    "command_buffer/tests/gl_test_utils.cc",
-    "command_buffer/tests/gl_test_utils.h",
-    "command_buffer/tests/gl_tests_main.cc",
-    "command_buffer/tests/gl_texture_mailbox_unittest.cc",
-    "command_buffer/tests/gl_texture_storage_unittest.cc",
-    "command_buffer/tests/gl_unittest.cc",
-    "command_buffer/tests/gl_unittests_android.cc",
-    "command_buffer/tests/gl_virtual_contexts_unittest.cc",
-    "command_buffer/tests/occlusion_query_unittest.cc",
-  ]
-
-  defines = [ "GL_GLEXT_PROTOTYPES" ]
-
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":gpu",
-    ":test_support",
-    "//base",
-    "//base/test:test_support",
-    "//base/third_party/dynamic_annotations",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/angle:translator",
-    "//ui/gfx",
-    "//ui/gfx:test_support",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-    "//gpu/command_buffer/common:gles2_utils",
-    "//gpu/command_buffer/client:gles2_c_lib",
-    "//gpu/command_buffer/client:gles2_implementation",
-  ]
-
-  libs = []
-
-  if (is_android) {
-    deps += [ "//testing/android:native_test_native_code" ]
-    libs += [ "android" ]
-  }
-
-  # TODO(GYP)
-  #     ['OS == "win"', {
-  #       'dependencies': [
-  #         '../third_party/angle/src/build_angle.gyp:libEGL',
-  #         '../third_party/angle/src/build_angle.gyp:libGLESv2',
-  #       ],
-  #     }],
-}
-
-test("gpu_unittests") {
-  sources = [
-    "command_buffer/client/buffer_tracker_unittest.cc",
-    "command_buffer/client/client_test_helper.cc",
-    "command_buffer/client/client_test_helper.h",
-    "command_buffer/client/cmd_buffer_helper_test.cc",
-    "command_buffer/client/fenced_allocator_test.cc",
-    "command_buffer/client/gles2_implementation_unittest.cc",
-    "command_buffer/client/mapped_memory_unittest.cc",
-    "command_buffer/client/program_info_manager_unittest.cc",
-    "command_buffer/client/query_tracker_unittest.cc",
-    "command_buffer/client/ring_buffer_test.cc",
-    "command_buffer/client/transfer_buffer_unittest.cc",
-    "command_buffer/client/vertex_array_object_manager_unittest.cc",
-    "command_buffer/common/bitfield_helpers_test.cc",
-    "command_buffer/common/command_buffer_mock.cc",
-    "command_buffer/common/command_buffer_mock.h",
-    "command_buffer/common/command_buffer_shared_test.cc",
-    "command_buffer/common/debug_marker_manager_unittest.cc",
-    "command_buffer/common/gles2_cmd_format_test.cc",
-    "command_buffer/common/gles2_cmd_format_test_autogen.h",
-    "command_buffer/common/gles2_cmd_utils_unittest.cc",
-    "command_buffer/common/id_allocator_test.cc",
-    "command_buffer/common/trace_event.h",
-    "command_buffer/common/unittest_main.cc",
-    "command_buffer/service/async_pixel_transfer_delegate_mock.cc",
-    "command_buffer/service/async_pixel_transfer_delegate_mock.h",
-    "command_buffer/service/async_pixel_transfer_manager_mock.cc",
-    "command_buffer/service/async_pixel_transfer_manager_mock.h",
-    "command_buffer/service/buffer_manager_unittest.cc",
-    "command_buffer/service/cmd_parser_test.cc",
-    "command_buffer/service/command_buffer_service_unittest.cc",
-    "command_buffer/service/common_decoder_unittest.cc",
-    "command_buffer/service/context_group_unittest.cc",
-    "command_buffer/service/feature_info_unittest.cc",
-    "command_buffer/service/framebuffer_manager_unittest.cc",
-    "command_buffer/service/gl_surface_mock.cc",
-    "command_buffer/service/gl_surface_mock.h",
-    "command_buffer/service/gles2_cmd_decoder_unittest.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest.h",
-    "command_buffer/service/gles2_cmd_decoder_unittest_0_autogen.h",
-    "command_buffer/service/gles2_cmd_decoder_unittest_1.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_1_autogen.h",
-    "command_buffer/service/gles2_cmd_decoder_unittest_2.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_2_autogen.h",
-    "command_buffer/service/gles2_cmd_decoder_unittest_3.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_3_autogen.h",
-    "command_buffer/service/gles2_cmd_decoder_unittest_async_pixel.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_attribs.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_base.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_base.h",
-    "command_buffer/service/gles2_cmd_decoder_unittest_context_state.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_drawing.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_extensions.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_framebuffers.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_programs.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_textures.cc",
-    "command_buffer/service/gles2_cmd_decoder_unittest_valuebuffer.cc",
-    "command_buffer/service/gpu_scheduler_unittest.cc",
-    "command_buffer/service/gpu_service_test.cc",
-    "command_buffer/service/gpu_service_test.h",
-    "command_buffer/service/gpu_tracer_unittest.cc",
-    "command_buffer/service/id_manager_unittest.cc",
-    "command_buffer/service/mailbox_manager_unittest.cc",
-    "command_buffer/service/memory_program_cache_unittest.cc",
-    "command_buffer/service/mocks.cc",
-    "command_buffer/service/mocks.h",
-    "command_buffer/service/program_cache_unittest.cc",
-    "command_buffer/service/program_manager_unittest.cc",
-    "command_buffer/service/query_manager_unittest.cc",
-    "command_buffer/service/renderbuffer_manager_unittest.cc",
-    "command_buffer/service/shader_manager_unittest.cc",
-    "command_buffer/service/shader_translator_cache_unittest.cc",
-    "command_buffer/service/shader_translator_unittest.cc",
-    "command_buffer/service/test_helper.cc",
-    "command_buffer/service/test_helper.h",
-    "command_buffer/service/texture_manager_unittest.cc",
-    "command_buffer/service/transfer_buffer_manager_unittest.cc",
-    "command_buffer/service/valuebuffer_manager_unittest.cc",
-    "command_buffer/service/vertex_array_manager_unittest.cc",
-    "command_buffer/service/vertex_attrib_manager_unittest.cc",
-    "config/gpu_blacklist_unittest.cc",
-    "config/gpu_control_list_entry_unittest.cc",
-    "config/gpu_control_list_number_info_unittest.cc",
-    "config/gpu_control_list_os_info_unittest.cc",
-    "config/gpu_control_list_unittest.cc",
-    "config/gpu_control_list_version_info_unittest.cc",
-    "config/gpu_driver_bug_list_unittest.cc",
-    "config/gpu_info_collector_unittest.cc",
-    "config/gpu_info_unittest.cc",
-    "config/gpu_test_config_unittest.cc",
-    "config/gpu_test_expectations_parser_unittest.cc",
-    "config/gpu_util_unittest.cc",
-  ]
-
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":gpu",
-    ":test_support",
-    "//base",
-    "//base/test:test_support",
-    "//base/third_party/dynamic_annotations",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/angle:translator",
-    "//ui/gfx",
-    "//ui/gfx:test_support",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-    "//gpu/command_buffer/common:gles2_utils",
-    "//gpu/command_buffer/client:gles2_c_lib",
-    "//gpu/command_buffer/client:gles2_implementation",
-  ]
-}
-
-test("gpu_perftests") {
-  sources = [
-    "perftests/measurements.cc",
-    "perftests/run_all_tests.cc",
-    "perftests/texture_upload_perftest.cc",
-  ]
-
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "//gpu/command_buffer/service",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//testing/perf",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-  ]
-}
 
-test("angle_unittests") {
-  sources = [
-    "angle_unittest_main.cc",
-  ]
 
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "//base/third_party/dynamic_annotations",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/angle:translator_static",
-  ]
-}
 
 if (is_linux && !is_chromeos && target_cpu != "arm" && use_x11) {
diff --git a/gpu/command_buffer/client/cmd_buffer_helper_test.cc b/gpu/command_buffer/client/cmd_buffer_helper_test.cc
index ac83da5..c519204 100644
--- a/gpu/command_buffer/client/cmd_buffer_helper_test.cc
+++ b/gpu/command_buffer/client/cmd_buffer_helper_test.cc
@@ -16,5 +16,5 @@
 #include "gpu/command_buffer/service/mocks.h"
 #include "gpu/command_buffer/service/transfer_buffer_manager.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(OS_MACOSX)
diff --git a/gpu/command_buffer/client/fenced_allocator_test.cc b/gpu/command_buffer/client/fenced_allocator_test.cc
index 3af9367..5371f0b 100644
--- a/gpu/command_buffer/client/fenced_allocator_test.cc
+++ b/gpu/command_buffer/client/fenced_allocator_test.cc
@@ -16,5 +16,5 @@
 #include "gpu/command_buffer/service/mocks.h"
 #include "gpu/command_buffer/service/transfer_buffer_manager.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(OS_MACOSX)
diff --git a/gpu/command_buffer/client/ring_buffer_test.cc b/gpu/command_buffer/client/ring_buffer_test.cc
index c1aab88..6d84dfd 100644
--- a/gpu/command_buffer/client/ring_buffer_test.cc
+++ b/gpu/command_buffer/client/ring_buffer_test.cc
@@ -16,5 +16,5 @@
 #include "gpu/command_buffer/service/mocks.h"
 #include "gpu/command_buffer/service/transfer_buffer_manager.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(OS_MACOSX)
diff --git a/gpu/command_buffer/common/bitfield_helpers_test.cc b/gpu/command_buffer/common/bitfield_helpers_test.cc
index 705e933..7dad870 100644
--- a/gpu/command_buffer/common/bitfield_helpers_test.cc
+++ b/gpu/command_buffer/common/bitfield_helpers_test.cc
@@ -5,5 +5,5 @@
 // Tests for the bitfield helper class.
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "gpu/command_buffer/common/bitfield_helpers.h"
 
diff --git a/gpu/command_buffer/common/command_buffer_mock.h b/gpu/command_buffer/common/command_buffer_mock.h
index 9e1f713..c984a56 100644
--- a/gpu/command_buffer/common/command_buffer_mock.h
+++ b/gpu/command_buffer/common/command_buffer_mock.h
@@ -7,5 +7,5 @@
 
 #include "gpu/command_buffer/service/command_buffer_service.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace base {
diff --git a/gpu/command_buffer/common/command_buffer_shared_test.cc b/gpu/command_buffer/common/command_buffer_shared_test.cc
index 0615f74..d833d3e 100644
--- a/gpu/command_buffer/common/command_buffer_shared_test.cc
+++ b/gpu/command_buffer/common/command_buffer_shared_test.cc
@@ -9,5 +9,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/threading/thread.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/common/gles2_cmd_format_test.cc b/gpu/command_buffer/common/gles2_cmd_format_test.cc
index ea683a6..86bba09 100644
--- a/gpu/command_buffer/common/gles2_cmd_format_test.cc
+++ b/gpu/command_buffer/common/gles2_cmd_format_test.cc
@@ -10,5 +10,5 @@
 #include "base/synchronization/waitable_event.h"
 #include "base/threading/thread.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "gpu/command_buffer/common/gles2_cmd_format.h"
 
diff --git a/gpu/command_buffer/common/id_allocator_test.cc b/gpu/command_buffer/common/id_allocator_test.cc
index 7d93906..25be590 100644
--- a/gpu/command_buffer/common/id_allocator_test.cc
+++ b/gpu/command_buffer/common/id_allocator_test.cc
@@ -6,5 +6,5 @@
 
 #include "gpu/command_buffer/common/id_allocator.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/common/unittest_main.cc b/gpu/command_buffer/common/unittest_main.cc
index 874bae7..a5103ee 100644
--- a/gpu/command_buffer/common/unittest_main.cc
+++ b/gpu/command_buffer/common/unittest_main.cc
@@ -8,6 +8,6 @@
 #include "base/test/launcher/unit_test_launcher.h"
 #include "base/test/test_suite.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/gpu/command_buffer/service/async_pixel_transfer_delegate_mock.h b/gpu/command_buffer/service/async_pixel_transfer_delegate_mock.h
index 9d28730..a350e6b 100644
--- a/gpu/command_buffer/service/async_pixel_transfer_delegate_mock.h
+++ b/gpu/command_buffer/service/async_pixel_transfer_delegate_mock.h
@@ -8,5 +8,5 @@
 #include "base/basictypes.h"
 #include "gpu/command_buffer/service/async_pixel_transfer_delegate.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/service/async_pixel_transfer_manager_mock.cc b/gpu/command_buffer/service/async_pixel_transfer_manager_mock.cc
index 84e95e3..1752e4e 100644
--- a/gpu/command_buffer/service/async_pixel_transfer_manager_mock.cc
+++ b/gpu/command_buffer/service/async_pixel_transfer_manager_mock.cc
@@ -5,5 +5,5 @@
 #include "gpu/command_buffer/service/async_pixel_transfer_manager_mock.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/service/async_pixel_transfer_manager_mock.h b/gpu/command_buffer/service/async_pixel_transfer_manager_mock.h
index 3bc8b6b..f4aefd4 100644
--- a/gpu/command_buffer/service/async_pixel_transfer_manager_mock.h
+++ b/gpu/command_buffer/service/async_pixel_transfer_manager_mock.h
@@ -7,5 +7,5 @@
 
 #include "gpu/command_buffer/service/async_pixel_transfer_manager.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/service/cmd_parser_test.cc b/gpu/command_buffer/service/cmd_parser_test.cc
index d880830..b612101 100644
--- a/gpu/command_buffer/service/cmd_parser_test.cc
+++ b/gpu/command_buffer/service/cmd_parser_test.cc
@@ -9,5 +9,5 @@
 #include "gpu/command_buffer/service/cmd_parser.h"
 #include "gpu/command_buffer/service/mocks.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/service/error_state_mock.h b/gpu/command_buffer/service/error_state_mock.h
index eb056f3..439b683 100644
--- a/gpu/command_buffer/service/error_state_mock.h
+++ b/gpu/command_buffer/service/error_state_mock.h
@@ -9,5 +9,5 @@
 
 #include "gpu/command_buffer/service/error_state.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/service/feature_info.cc b/gpu/command_buffer/service/feature_info.cc
index 2452954..3eda6f5 100644
--- a/gpu/command_buffer/service/feature_info.cc
+++ b/gpu/command_buffer/service/feature_info.cc
@@ -9,5 +9,5 @@
 #include "base/command_line.h"
 #include "base/macros.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/gpu/command_buffer/service/gles2_cmd_decoder_mock.h b/gpu/command_buffer/service/gles2_cmd_decoder_mock.h
index c58405b..730ecbf 100644
--- a/gpu/command_buffer/service/gles2_cmd_decoder_mock.h
+++ b/gpu/command_buffer/service/gles2_cmd_decoder_mock.h
@@ -13,5 +13,5 @@
 #include "gpu/command_buffer/common/mailbox.h"
 #include "gpu/command_buffer/service/gles2_cmd_decoder.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "ui/gfx/geometry/size.h"
 
diff --git a/gpu/command_buffer/service/gl_surface_mock.h b/gpu/command_buffer/service/gl_surface_mock.h
index 0652be6..79bd472 100644
--- a/gpu/command_buffer/service/gl_surface_mock.h
+++ b/gpu/command_buffer/service/gl_surface_mock.h
@@ -7,5 +7,5 @@
 
 #include "ui/gl/gl_surface.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/service/gpu_scheduler_mock.h b/gpu/command_buffer/service/gpu_scheduler_mock.h
index ed308e0..0385bb2 100644
--- a/gpu/command_buffer/service/gpu_scheduler_mock.h
+++ b/gpu/command_buffer/service/gpu_scheduler_mock.h
@@ -7,5 +7,5 @@
 
 #include "gpu/command_buffer/service/gpu_scheduler.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/service/gpu_service_test.cc b/gpu/command_buffer/service/gpu_service_test.cc
index d0b9117..a1eb97f 100644
--- a/gpu/command_buffer/service/gpu_service_test.cc
+++ b/gpu/command_buffer/service/gpu_service_test.cc
@@ -6,5 +6,5 @@
 
 #include "gpu/command_buffer/service/test_helper.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/gl/gl_context_stub_with_extensions.h"
 #include "ui/gl/gl_implementation.h"
diff --git a/gpu/command_buffer/service/gpu_service_test.h b/gpu/command_buffer/service/gpu_service_test.h
index 7c9c978..72db036 100644
--- a/gpu/command_buffer/service/gpu_service_test.h
+++ b/gpu/command_buffer/service/gpu_service_test.h
@@ -8,6 +8,6 @@
 #include "base/memory/ref_counted.h"
 #include "base/memory/scoped_ptr.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/gl/gl_mock.h"
 
diff --git a/gpu/command_buffer/service/memory_program_cache.cc b/gpu/command_buffer/service/memory_program_cache.cc
index 16509e5..829ae82 100644
--- a/gpu/command_buffer/service/memory_program_cache.cc
+++ b/gpu/command_buffer/service/memory_program_cache.cc
@@ -7,5 +7,5 @@
 #include "base/base64.h"
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sha1.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/gpu/command_buffer/service/mocks.h b/gpu/command_buffer/service/mocks.h
index d5cff51..3249b24 100644
--- a/gpu/command_buffer/service/mocks.h
+++ b/gpu/command_buffer/service/mocks.h
@@ -20,5 +20,5 @@
 #include "gpu/command_buffer/service/program_cache.h"
 #include "gpu/command_buffer/service/shader_translator.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace gpu {
diff --git a/gpu/command_buffer/service/program_manager.cc b/gpu/command_buffer/service/program_manager.cc
index aef7e44..aa8d0bc 100644
--- a/gpu/command_buffer/service/program_manager.cc
+++ b/gpu/command_buffer/service/program_manager.cc
@@ -14,5 +14,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_math.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/gpu/command_buffer/service/test_helper.cc b/gpu/command_buffer/service/test_helper.cc
index 096a60c..bacc182 100644
--- a/gpu/command_buffer/service/test_helper.cc
+++ b/gpu/command_buffer/service/test_helper.cc
@@ -17,5 +17,5 @@
 #include "gpu/command_buffer/service/program_manager.h"
 #include "gpu/command_buffer/service/texture_manager.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/gl/gl_mock.h"
 
diff --git a/gpu/command_buffer/tests/compressed_texture_test.cc b/gpu/command_buffer/tests/compressed_texture_test.cc
index 754e2d4..83878b4 100644
--- a/gpu/command_buffer/tests/compressed_texture_test.cc
+++ b/gpu/command_buffer/tests/compressed_texture_test.cc
@@ -10,5 +10,5 @@
 #include "gpu/command_buffer/tests/gl_manager.h"
 #include "gpu/command_buffer/tests/gl_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #define SHADER(src) #src
diff --git a/gpu/command_buffer/tests/gl_manager.cc b/gpu/command_buffer/tests/gl_manager.cc
index 4e4eccb..daf8a79 100644
--- a/gpu/command_buffer/tests/gl_manager.cc
+++ b/gpu/command_buffer/tests/gl_manager.cc
@@ -29,5 +29,5 @@
 #include "gpu/command_buffer/service/memory_tracking.h"
 #include "gpu/command_buffer/service/valuebuffer_manager.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/gfx/gpu_memory_buffer.h"
 #include "ui/gl/gl_context.h"
diff --git a/gpu/config/BUILD.gn b/gpu/config/BUILD.gn
index 4d068ed..4f5f577 100644
--- a/gpu/config/BUILD.gn
+++ b/gpu/config/BUILD.gn
@@ -37,8 +37,8 @@ source_set("config") {
     "gpu_info_collector_x11.cc",
     "gpu_performance_stats.h",
-    "gpu_test_config.cc",
-    "gpu_test_config.h",
-    "gpu_test_expectations_parser.cc",
-    "gpu_test_expectations_parser.h",
+#    "gpu_test_config.cc",
+#    "gpu_test_config.h",
+#    "gpu_test_expectations_parser.cc",
+#    "gpu_test_expectations_parser.h",
     "gpu_util.cc",
     "gpu_util.h",
diff --git a/gpu/config/gpu_info_collector_win.cc b/gpu/config/gpu_info_collector_win.cc
index 4deee7c..87155ee 100644
--- a/gpu/config/gpu_info_collector_win.cc
+++ b/gpu/config/gpu_info_collector_win.cc
@@ -21,6 +21,6 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/scoped_native_library.h"
 #include "base/strings/string16.h"
diff --git a/gpu/gles2_conform_support/gles2_conform.gypi b/gpu/gles2_conform_support/gles2_conform.gypi
index 6dcf277..3a830c9 100644
--- a/gpu/gles2_conform_support/gles2_conform.gypi
+++ b/gpu/gles2_conform_support/gles2_conform.gypi
@@ -5,5 +5,5 @@
 {
   'variables': {
-    'gl2_extension_test_sources': [
+#    'gl2_extension_test_sources': [
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/GL2ExtensionTests/GTFExtensionTestCompressedETC1RGB8Texture.c',
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/GL2ExtensionTests/GTFExtensionTestCompressedETC1RGB8Texture.h',
@@ -82,5 +82,5 @@
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/GL2ExtensionTests/GTFExtensionTestVisibilityQuery.h',
     ],
-    'gl2_fixed_test_sources': [
+#    'gl2_fixed_test_sources': [
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/GL2FixedTests/GTFFixedTestBlend.c',
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/GL2FixedTests/GTFFixedTestBlend.h',
@@ -148,5 +148,5 @@
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/GL2FixedTests/GTFFixedUtilr.h',
     ],
-    'gl2_test_sources': [
+#    'gl2_test_sources': [
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/GL2Tests/GTFGL2TestAttributeGL.c',
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/GL2Tests/GTFGL2TestAttributeGL.h',
@@ -299,10 +299,10 @@
       '<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/gl2ext_missing.h',
       #'<(DEPTH)/third_party/gles2_conform/GTF_ES/glsl/GTF/Source/main.c',
-      '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesDATA.c',
-      '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesDATA.h',
-      '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesTOC.c',
-      '<@(gl2_extension_test_sources)',
-      '<@(gl2_fixed_test_sources)',
-      '<@(gl2_test_sources)',
+#      '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesDATA.c',
+#      '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesDATA.h',
+#      '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesTOC.c',
+#      '<@(gl2_extension_test_sources)',
+#      '<@(gl2_fixed_test_sources)',
+#      '<@(gl2_test_sources)',
     ],
   },
diff --git a/gpu/gles2_conform_support/gles2_conform_test.cc b/gpu/gles2_conform_support/gles2_conform_test.cc
index 906e1af..4a7da92 100644
--- a/gpu/gles2_conform_support/gles2_conform_test.cc
+++ b/gpu/gles2_conform_support/gles2_conform_test.cc
@@ -21,5 +21,5 @@
 #include "gpu/config/gpu_test_config.h"
 #include "gpu/config/gpu_test_expectations_parser.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 bool RunGLES2ConformTest(const char* path) {
diff --git a/gpu/gles2_conform_support/gles2_conform_test.gyp b/gpu/gles2_conform_support/gles2_conform_test.gyp
index 1f23efa..ef82754 100644
--- a/gpu/gles2_conform_support/gles2_conform_test.gyp
+++ b/gpu/gles2_conform_support/gles2_conform_test.gyp
@@ -11,5 +11,5 @@
     'msvs_disabled_warnings': [4005, 4013, 4018, 4101, 4716],
      'include_dirs': [
-       '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data',
+#       '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data',
        '../../third_party/gles2_conform/GTF_ES/glsl/GTF/Source',
      ],
@@ -30,11 +30,11 @@
         ['internal_gles2_conform_tests', {
           'dependencies': [
-            'gles2_conform_test_windowless',
+#            'gles2_conform_test_windowless',
           ],
           'variables': {
-            'gles2_conform_test_output_dir': '<(SHARED_INTERMEDIATE_DIR)/gpu/gles2_conform_test',
+#            'gles2_conform_test_output_dir': '<(SHARED_INTERMEDIATE_DIR)/gpu/gles2_conform_test',
           },
           'sources': [
-            '<(gles2_conform_test_output_dir)/gles2_conform_test_autogen.cc',
+#            '<(gles2_conform_test_output_dir)/gles2_conform_test_autogen.cc',
           ],
           'actions': [
@@ -47,10 +47,10 @@
               ],
               'outputs': [
-                '<(gles2_conform_test_output_dir)/gles2_conform_test_autogen.cc',
+#                '<(gles2_conform_test_output_dir)/gles2_conform_test_autogen.cc',
               ],
               'action': [
                 'python',
                 'generate_gles2_conform_tests.py',
-                '<(gles2_conform_test_output_dir)',
+#                '<(gles2_conform_test_output_dir)',
               ],
             },
@@ -59,5 +59,5 @@
       ],
     },
-    # TODO(alokp): Add gles2_conform_test_pepper target
+#    # TODO(alokp): Add gles2_conform_test_pepper target
   ],
   'conditions': [
@@ -65,5 +65,5 @@
       'targets': [
         {
-          'target_name': 'gles2_conform_test_embedded_data',
+#          'target_name': 'gles2_conform_test_embedded_data',
           'type': 'none',
           'hard_dependency': 1,
@@ -82,7 +82,7 @@
                 #'../../third_party/gles2_conform/GTF_ES/glsl/GTF/Source/FilesDATA.h',
                 #'../../third_party/gles2_conform/GTF_ES/glsl/GTF/Source/FilesTOC.c',
-                '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesDATA.c',
-                '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesDATA.h',
-                '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesTOC.c',
+#                '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesDATA.c',
+#                '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesDATA.h',
+#                '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data/FilesTOC.c',
               ],
               'action': [
@@ -90,5 +90,5 @@
                 '<(generator_path)',
                 '../../third_party/gles2_conform/GTF_ES/glsl/GTF',
-                '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data',
+#                '<(SHARED_INTERMEDIATE_DIR)/gles2_conform_test_embedded_data',
               ],
             },
@@ -96,8 +96,8 @@
         },
         {
-          'target_name': 'gles2_conform_test_windowless',
+#          'target_name': 'gles2_conform_test_windowless',
           'type': 'executable',
           'dependencies': [
-            'gles2_conform_test_embedded_data',
+#            'gles2_conform_test_embedded_data',
             '<(DEPTH)/gpu/gles2_conform_support/gles2_conform_support.gyp:egl_native',
             '<(DEPTH)/gpu/gles2_conform_support/gles2_conform_support.gyp:egl_main_windowless',
@@ -202,8 +202,8 @@
       'targets': [
         {
-          'target_name': 'gles2_conform_test_angle',
+#          'target_name': 'gles2_conform_test_angle',
           'type': 'executable',
           'dependencies': [
-            'gles2_conform_test_embedded_data',
+#            'gles2_conform_test_embedded_data',
             '<(DEPTH)/base/base.gyp:base',
             '<(DEPTH)/third_party/expat/expat.gyp:expat',
@@ -228,8 +228,8 @@
       'targets': [
         {
-          'target_name': 'gles2_conform_test_chromeos',
+#          'target_name': 'gles2_conform_test_chromeos',
           'type': 'executable',
           'dependencies': [
-            'gles2_conform_test_embedded_data',
+#            'gles2_conform_test_embedded_data',
             '<(DEPTH)/base/base.gyp:*',
             '<(DEPTH)/third_party/expat/expat.gyp:expat',
diff --git a/gpu/gpu_config.gypi b/gpu/gpu_config.gypi
index f1915f3..07b4756 100644
--- a/gpu/gpu_config.gypi
+++ b/gpu/gpu_config.gypi
@@ -38,8 +38,8 @@
     'config/gpu_info_collector_x11.cc',
     'config/gpu_performance_stats.h',
-    'config/gpu_test_config.cc',
-    'config/gpu_test_config.h',
-    'config/gpu_test_expectations_parser.cc',
-    'config/gpu_test_expectations_parser.h',
+#    'config/gpu_test_config.cc',
+#    'config/gpu_test_config.h',
+#    'config/gpu_test_expectations_parser.cc',
+#    'config/gpu_test_expectations_parser.h',
     'config/gpu_util.cc',
     'config/gpu_util.h',
diff --git a/gpu/gpu.gyp b/gpu/gpu.gyp
index 6021f56..6d91306 100644
--- a/gpu/gpu.gyp
+++ b/gpu/gpu.gyp
@@ -124,15 +124,15 @@
     },
     {
-      # GN version: //gpu:angle_unittests
+#      # GN version: //gpu:angle_unittests
       # TODO(kbr): port this refactoring to the GN build.
-      'target_name': 'angle_unittests',
+#      'target_name': 'angle_unittests',
       'type': '<(gtest_target_type)',
       'includes': [
         '../third_party/angle/build/common_defines.gypi',
-        '../third_party/angle/tests/angle_unittests.gypi',
+#        '../third_party/angle/tests/angle_unittests.gypi',
       ],
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
       ],
       'include_dirs': [
@@ -142,14 +142,14 @@
       'sources':
       [
-        'angle_unittest_main.cc',
+#        'angle_unittest_main.cc',
       ],
     },
     {
-      # GN version: //gpu:gpu_unittests
-      'target_name': 'gpu_unittests',
+#      # GN version: //gpu:gpu_unittests
+#      'target_name': 'gpu_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../base/third_party/dynamic_annotations/dynamic_annotations.gyp:dynamic_annotations',
         '../testing/gmock.gyp:gmock',
@@ -159,5 +159,5 @@
         '../ui/gfx/gfx.gyp:gfx',
         '../ui/gfx/gfx.gyp:gfx_geometry',
-        '../ui/gfx/gfx.gyp:gfx_test_support',
+#        '../ui/gfx/gfx.gyp:gfx_test_support',
         'command_buffer/command_buffer.gyp:gles2_utils',
         'command_buffer_client',
@@ -165,5 +165,5 @@
         'command_buffer_service',
         'gpu',
-        'gpu_unittest_utils',
+#        'gpu_unittest_utils',
         'gles2_implementation',
         'gles2_cmd_helper',
@@ -172,24 +172,24 @@
       'sources': [
         # Note: sources list duplicated in GN build.
-        'command_buffer/client/buffer_tracker_unittest.cc',
-        'command_buffer/client/client_test_helper.cc',
-        'command_buffer/client/client_test_helper.h',
+#        'command_buffer/client/buffer_tracker_unittest.cc',
+#        'command_buffer/client/client_test_helper.cc',
+#        'command_buffer/client/client_test_helper.h',
         'command_buffer/client/cmd_buffer_helper_test.cc',
         'command_buffer/client/fenced_allocator_test.cc',
-        'command_buffer/client/gles2_implementation_unittest.cc',
-        'command_buffer/client/mapped_memory_unittest.cc',
-        'command_buffer/client/program_info_manager_unittest.cc',
-        'command_buffer/client/query_tracker_unittest.cc',
+#        'command_buffer/client/gles2_implementation_unittest.cc',
+#        'command_buffer/client/mapped_memory_unittest.cc',
+#        'command_buffer/client/program_info_manager_unittest.cc',
+#        'command_buffer/client/query_tracker_unittest.cc',
         'command_buffer/client/ring_buffer_test.cc',
-        'command_buffer/client/transfer_buffer_unittest.cc',
-        'command_buffer/client/vertex_array_object_manager_unittest.cc',
+#        'command_buffer/client/transfer_buffer_unittest.cc',
+#        'command_buffer/client/vertex_array_object_manager_unittest.cc',
         'command_buffer/common/bitfield_helpers_test.cc',
         'command_buffer/common/command_buffer_mock.cc',
         'command_buffer/common/command_buffer_mock.h',
         'command_buffer/common/command_buffer_shared_test.cc',
-        'command_buffer/common/debug_marker_manager_unittest.cc',
+#        'command_buffer/common/debug_marker_manager_unittest.cc',
         'command_buffer/common/gles2_cmd_format_test.cc',
-        'command_buffer/common/gles2_cmd_format_test_autogen.h',
-        'command_buffer/common/gles2_cmd_utils_unittest.cc',
+#        'command_buffer/common/gles2_cmd_format_test_autogen.h',
+#        'command_buffer/common/gles2_cmd_utils_unittest.cc',
         'command_buffer/common/id_allocator_test.cc',
         'command_buffer/common/trace_event.h',
@@ -199,74 +199,74 @@
         'command_buffer/service/async_pixel_transfer_manager_mock.cc',
         'command_buffer/service/async_pixel_transfer_manager_mock.h',
-        'command_buffer/service/buffer_manager_unittest.cc',
+#        'command_buffer/service/buffer_manager_unittest.cc',
         'command_buffer/service/cmd_parser_test.cc',
-        'command_buffer/service/command_buffer_service_unittest.cc',
-        'command_buffer/service/common_decoder_unittest.cc',
-        'command_buffer/service/context_group_unittest.cc',
-        'command_buffer/service/feature_info_unittest.cc',
-        'command_buffer/service/framebuffer_manager_unittest.cc',
+#        'command_buffer/service/command_buffer_service_unittest.cc',
+#        'command_buffer/service/common_decoder_unittest.cc',
+#        'command_buffer/service/context_group_unittest.cc',
+#        'command_buffer/service/feature_info_unittest.cc',
+#        'command_buffer/service/framebuffer_manager_unittest.cc',
         'command_buffer/service/gl_surface_mock.cc',
         'command_buffer/service/gl_surface_mock.h',
-        'command_buffer/service/gles2_cmd_decoder_unittest.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest.h',
-        'command_buffer/service/gles2_cmd_decoder_unittest_0_autogen.h',
-        'command_buffer/service/gles2_cmd_decoder_unittest_1.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_1_autogen.h',
-        'command_buffer/service/gles2_cmd_decoder_unittest_2.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_2_autogen.h',
-        'command_buffer/service/gles2_cmd_decoder_unittest_3.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_3_autogen.h',
-        'command_buffer/service/gles2_cmd_decoder_unittest_async_pixel.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_attribs.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_base.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_base.h',
-        'command_buffer/service/gles2_cmd_decoder_unittest_context_state.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_drawing.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_extensions.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_extensions_autogen.h',
-        'command_buffer/service/gles2_cmd_decoder_unittest_framebuffers.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_programs.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_textures.cc',
-        'command_buffer/service/gles2_cmd_decoder_unittest_valuebuffer.cc',
-        'command_buffer/service/gpu_scheduler_unittest.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest.h',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_0_autogen.h',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_1.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_1_autogen.h',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_2.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_2_autogen.h',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_3.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_3_autogen.h',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_async_pixel.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_attribs.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_base.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_base.h',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_context_state.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_drawing.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_extensions.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_extensions_autogen.h',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_framebuffers.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_programs.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_textures.cc',
+#        'command_buffer/service/gles2_cmd_decoder_unittest_valuebuffer.cc',
+#        'command_buffer/service/gpu_scheduler_unittest.cc',
         'command_buffer/service/gpu_service_test.cc',
         'command_buffer/service/gpu_service_test.h',
-        'command_buffer/service/gpu_tracer_unittest.cc',
-        'command_buffer/service/id_manager_unittest.cc',
-        'command_buffer/service/mailbox_manager_unittest.cc',
-        'command_buffer/service/memory_program_cache_unittest.cc',
+#        'command_buffer/service/gpu_tracer_unittest.cc',
+#        'command_buffer/service/id_manager_unittest.cc',
+#        'command_buffer/service/mailbox_manager_unittest.cc',
+#        'command_buffer/service/memory_program_cache_unittest.cc',
         'command_buffer/service/mocks.cc',
         'command_buffer/service/mocks.h',
-        'command_buffer/service/program_cache_unittest.cc',
-        'command_buffer/service/program_manager_unittest.cc',
-        'command_buffer/service/query_manager_unittest.cc',
-        'command_buffer/service/renderbuffer_manager_unittest.cc',
-        'command_buffer/service/shader_manager_unittest.cc',
-        'command_buffer/service/shader_translator_cache_unittest.cc',
-        'command_buffer/service/shader_translator_unittest.cc',
+#        'command_buffer/service/program_cache_unittest.cc',
+#        'command_buffer/service/program_manager_unittest.cc',
+#        'command_buffer/service/query_manager_unittest.cc',
+#        'command_buffer/service/renderbuffer_manager_unittest.cc',
+#        'command_buffer/service/shader_manager_unittest.cc',
+#        'command_buffer/service/shader_translator_cache_unittest.cc',
+#        'command_buffer/service/shader_translator_unittest.cc',
         'command_buffer/service/test_helper.cc',
         'command_buffer/service/test_helper.h',
-        'command_buffer/service/texture_manager_unittest.cc',
-        'command_buffer/service/transfer_buffer_manager_unittest.cc',
-        'command_buffer/service/valuebuffer_manager_unittest.cc',
-        'command_buffer/service/vertex_array_manager_unittest.cc',
-        'command_buffer/service/vertex_attrib_manager_unittest.cc',
-        'config/gpu_blacklist_unittest.cc',
-        'config/gpu_control_list_entry_unittest.cc',
-        'config/gpu_control_list_number_info_unittest.cc',
-        'config/gpu_control_list_os_info_unittest.cc',
-        'config/gpu_control_list_unittest.cc',
-        'config/gpu_control_list_version_info_unittest.cc',
-        'config/gpu_driver_bug_list_unittest.cc',
-        'config/gpu_info_collector_unittest.cc',
-        'config/gpu_info_unittest.cc',
-        'config/gpu_test_config_unittest.cc',
-        'config/gpu_test_expectations_parser_unittest.cc',
-        'config/gpu_util_unittest.cc',
+#        'command_buffer/service/texture_manager_unittest.cc',
+#        'command_buffer/service/transfer_buffer_manager_unittest.cc',
+#        'command_buffer/service/valuebuffer_manager_unittest.cc',
+#        'command_buffer/service/vertex_array_manager_unittest.cc',
+#        'command_buffer/service/vertex_attrib_manager_unittest.cc',
+#        'config/gpu_blacklist_unittest.cc',
+#        'config/gpu_control_list_entry_unittest.cc',
+#        'config/gpu_control_list_number_info_unittest.cc',
+#        'config/gpu_control_list_os_info_unittest.cc',
+#        'config/gpu_control_list_unittest.cc',
+#        'config/gpu_control_list_version_info_unittest.cc',
+#        'config/gpu_driver_bug_list_unittest.cc',
+#        'config/gpu_info_collector_unittest.cc',
+#        'config/gpu_info_unittest.cc',
+#        'config/gpu_test_config_unittest.cc',
+#        'config/gpu_test_expectations_parser_unittest.cc',
+#        'config/gpu_util_unittest.cc',
       ],
       'conditions': [
         ['OS == "android"', {
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -282,10 +282,10 @@
     },
     {
-      # GN version: //gpu/gpu_perftests
-      'target_name': 'gpu_perftests',
+#      # GN version: //gpu/gpu_perftests
+#      'target_name': 'gpu_perftests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
@@ -304,5 +304,5 @@
           {
             'dependencies': [
-              '../testing/android/native_test.gyp:native_test_native_code',
+#              '../testing/android/native_test.gyp:native_test_native_code',
             ],
           }
@@ -324,5 +324,5 @@
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../base/third_party/dynamic_annotations/dynamic_annotations.gyp:dynamic_annotations',
         '../testing/gmock.gyp:gmock',
@@ -330,5 +330,5 @@
         '<(angle_path)/src/angle.gyp:translator',
         '../ui/gfx/gfx.gyp:gfx',
-        '../ui/gfx/gfx.gyp:gfx_test_support',
+#        '../ui/gfx/gfx.gyp:gfx_test_support',
         '../ui/gfx/gfx.gyp:gfx_geometry',
         '../ui/gl/gl.gyp:gl',
@@ -338,9 +338,9 @@
         'command_buffer_service',
         'gpu',
-        'gpu_unittest_utils',
+#        'gpu_unittest_utils',
         'gles2_implementation',
         'gles2_cmd_helper',
         'gles2_c_lib',
-        #'gl_unittests',
+#        #'gl_unittests',
       ],
       'defines': [
@@ -350,34 +350,34 @@
         # Note: sources list duplicated in GN build.
         'command_buffer/tests/compressed_texture_test.cc',
-        'command_buffer/tests/gl_bind_uniform_location_unittest.cc',
-        'command_buffer/tests/gl_chromium_framebuffer_multisample_unittest.cc',
-        'command_buffer/tests/gl_chromium_path_rendering_unittest.cc',
-        'command_buffer/tests/gl_clear_framebuffer_unittest.cc',
-        'command_buffer/tests/gl_copy_texture_CHROMIUM_unittest.cc',
-        'command_buffer/tests/gl_depth_texture_unittest.cc',
-        'command_buffer/tests/gl_gpu_memory_buffer_unittest.cc',
-        'command_buffer/tests/gl_lose_context_chromium_unittest.cc',
+#        'command_buffer/tests/gl_bind_uniform_location_unittest.cc',
+#        'command_buffer/tests/gl_chromium_framebuffer_multisample_unittest.cc',
+#        'command_buffer/tests/gl_chromium_path_rendering_unittest.cc',
+#        'command_buffer/tests/gl_clear_framebuffer_unittest.cc',
+#        'command_buffer/tests/gl_copy_texture_CHROMIUM_unittest.cc',
+#        'command_buffer/tests/gl_depth_texture_unittest.cc',
+#        'command_buffer/tests/gl_gpu_memory_buffer_unittest.cc',
+#        'command_buffer/tests/gl_lose_context_chromium_unittest.cc',
         'command_buffer/tests/gl_manager.cc',
         'command_buffer/tests/gl_manager.h',
-        'command_buffer/tests/gl_pointcoord_unittest.cc',
-        'command_buffer/tests/gl_program_unittest.cc',
-        'command_buffer/tests/gl_query_unittest.cc',
-        'command_buffer/tests/gl_readback_unittest.cc',
-        'command_buffer/tests/gl_shared_resources_unittest.cc',
-        'command_buffer/tests/gl_stream_draw_unittest.cc',
-        'command_buffer/tests/gl_test_utils.cc',
-        'command_buffer/tests/gl_test_utils.h',
+#        'command_buffer/tests/gl_pointcoord_unittest.cc',
+#        'command_buffer/tests/gl_program_unittest.cc',
+#        'command_buffer/tests/gl_query_unittest.cc',
+#        'command_buffer/tests/gl_readback_unittest.cc',
+#        'command_buffer/tests/gl_shared_resources_unittest.cc',
+#        'command_buffer/tests/gl_stream_draw_unittest.cc',
+#        'command_buffer/tests/gl_test_utils.cc',
+#        'command_buffer/tests/gl_test_utils.h',
         'command_buffer/tests/gl_tests_main.cc',
-        'command_buffer/tests/gl_texture_mailbox_unittest.cc',
-        'command_buffer/tests/gl_texture_storage_unittest.cc',
-        'command_buffer/tests/gl_unittest.cc',
-        'command_buffer/tests/gl_unittests_android.cc',
-        'command_buffer/tests/gl_virtual_contexts_unittest.cc',
-        'command_buffer/tests/occlusion_query_unittest.cc',
+#        'command_buffer/tests/gl_texture_mailbox_unittest.cc',
+#        'command_buffer/tests/gl_texture_storage_unittest.cc',
+#        'command_buffer/tests/gl_unittest.cc',
+#        'command_buffer/tests/gl_unittests_android.cc',
+#        'command_buffer/tests/gl_virtual_contexts_unittest.cc',
+#        'command_buffer/tests/occlusion_query_unittest.cc',
       ],
       'conditions': [
         ['OS == "android"', {
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -393,6 +393,6 @@
     },
     {
-      # GN version: //gpu:test_support
-      'target_name': 'gpu_unittest_utils',
+#      # GN version: //gpu:test_support
+#      'target_name': 'gpu_unittest_utils',
       'type': 'static_library',
       'dependencies': [
@@ -400,5 +400,5 @@
         '../testing/gtest.gyp:gtest',
         '../third_party/khronos/khronos.gyp:khronos_headers',
-        '../ui/gl/gl.gyp:gl_unittest_utils',
+#        '../ui/gl/gl.gyp:gl_unittest_utils',
         'gpu',
       ],
@@ -677,22 +677,22 @@
         },
         {
-          'target_name': 'gpu_unittests_apk',
+#          'target_name': 'gpu_unittests_apk',
           'type': 'none',
           'dependencies': [
-            'gpu_unittests',
+#            'gpu_unittests',
           ],
           'variables': {
-            'test_suite_name': 'gpu_unittests',
+#            'test_suite_name': 'gpu_unittests',
           },
           'includes': [ '../build/apk_test.gypi' ],
         },
         {
-          'target_name': 'gpu_perftests_apk',
+#          'target_name': 'gpu_perftests_apk',
           'type': 'none',
           'dependencies': [
-            'gpu_perftests',
+#            'gpu_perftests',
           ],
           'variables': {
-            'test_suite_name': 'gpu_perftests',
+#            'test_suite_name': 'gpu_perftests',
           },
           'includes': [ '../build/apk_test.gypi' ],
@@ -708,5 +708,5 @@
           'dependencies': [
             '../base/base.gyp:base',
-            '../base/base.gyp:test_support_base',
+#            '../base/base.gyp:test_support_base',
           ],
           'includes':
@@ -725,8 +725,8 @@
       'targets': [
         {
-          'target_name': 'gpu_unittests_run',
+#          'target_name': 'gpu_unittests_run',
           'type': 'none',
           'dependencies': [
-            'gpu_unittests',
+#            'gpu_unittests',
           ],
           'includes': [
@@ -734,5 +734,5 @@
           ],
           'sources': [
-            'gpu_unittests.isolate',
+#            'gpu_unittests.isolate',
           ],
         },
diff --git a/gpu/khronos_glcts_support/khronos_glcts_test.cc b/gpu/khronos_glcts_support/khronos_glcts_test.cc
index 287b5d0..0c08af7 100644
--- a/gpu/khronos_glcts_support/khronos_glcts_test.cc
+++ b/gpu/khronos_glcts_support/khronos_glcts_test.cc
@@ -18,5 +18,5 @@
 #include "gpu/config/gpu_test_config.h"
 #include "gpu/config/gpu_test_expectations_parser.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 base::FilePath g_deqp_log_dir;
diff --git a/gpu/khronos_glcts_support/khronos_glcts_test.gyp b/gpu/khronos_glcts_support/khronos_glcts_test.gyp
index 70b1932..1a54788 100644
--- a/gpu/khronos_glcts_support/khronos_glcts_test.gyp
+++ b/gpu/khronos_glcts_support/khronos_glcts_test.gyp
@@ -22,11 +22,11 @@
         ['internal_khronos_glcts_tests', {
           'dependencies': [
-            'khronos_glcts_test_windowless',
+#            'khronos_glcts_test_windowless',
           ],
           'variables': {
-            'khronos_glcts_test_output_dir': '<(SHARED_INTERMEDIATE_DIR)/gpu/khronos_glcts_test',
+#            'khronos_glcts_test_output_dir': '<(SHARED_INTERMEDIATE_DIR)/gpu/khronos_glcts_test',
           },
           'sources': [
-            '<(khronos_glcts_test_output_dir)/khronos_glcts_test_autogen.cc',
+#            '<(khronos_glcts_test_output_dir)/khronos_glcts_test_autogen.cc',
           ],
           'actions': [
@@ -39,10 +39,10 @@
               ],
               'outputs': [
-                '<(khronos_glcts_test_output_dir)/khronos_glcts_test_autogen.cc',
+#                '<(khronos_glcts_test_output_dir)/khronos_glcts_test_autogen.cc',
               ],
               'action': [
                 'python',
                 'generate_khronos_glcts_tests.py',
-                '--outdir=<(khronos_glcts_test_output_dir)',
+#                '--outdir=<(khronos_glcts_test_output_dir)',
                 '<@(glcts_gtf_runfiles)',
               ],
@@ -67,5 +67,5 @@
         },
         {
-          'target_name': 'khronos_glcts_test_windowless',
+#          'target_name': 'khronos_glcts_test_windowless',
           'type': 'executable',
           'dependencies': [
diff --git a/ipc/BUILD.gn b/ipc/BUILD.gn
index b756921..b457ba3 100644
--- a/ipc/BUILD.gn
+++ b/ipc/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("ipc") {
@@ -95,98 +95,3 @@ component("ipc") {
 }
 
-# TODO(GYP): crbug.com/360936. Get this to build and run on Android.
-if (!is_android) {
-  test("ipc_tests") {
-    sources = [
-      "ipc_channel_posix_unittest.cc",
-      "ipc_channel_unittest.cc",
-      "ipc_fuzzing_tests.cc",
-      "ipc_message_attachment_set_posix_unittest.cc",
-      "ipc_message_unittest.cc",
-      "ipc_message_utils_unittest.cc",
-      "ipc_send_fds_test.cc",
-      "ipc_sync_channel_unittest.cc",
-      "ipc_sync_message_unittest.cc",
-      "ipc_sync_message_unittest.h",
-      "sync_socket_unittest.cc",
-      "unix_domain_socket_util_unittest.cc",
-    ]
-
-    if (is_win || is_ios) {
-      sources -= [ "unix_domain_socket_util_unittest.cc" ]
-    }
-
-    # TODO(brettw) hook up Android testing.
-    #if (is_android && gtest_target_type == "shared_library") {
-    #  deps += "/testing/android/native_test.gyp:native_testNative_code"
-    #}
-
-    # TODO(brettw) hook up tcmalloc to this target.
-    #if (is_posix && !is_mac && !is_android) {
-    #  if (use_allocator!="none") {
-    #    deps += "/base/allocator"
-    #  }
-    #}
-
-    deps = [
-      ":ipc",
-      ":test_support",
-      "//base",
-      "//base:i18n",
-      "//base/test:run_all_unittests",
-      "//base/test:test_support",
-      "//testing/gtest",
-    ]
-  }
-
-  test("ipc_perftests") {
-    sources = [
-      "ipc_perftests.cc",
-    ]
-
-    # TODO(brettw) hook up Android testing.
-    #if (is_android && gtest_target_type == "shared_library") {
-    #  deps += "/testing/android/native_test.gyp:native_testNative_code"
-    #}
 
-    # TODO(brettw) hook up tcmalloc to this target.
-    #if (is_posix && !is_mac && !is_android) {
-    #  if (use_allocator!="none") {
-    #    deps += "//base/allocator"
-    #  }
-    #}
-    deps = [
-      ":ipc",
-      ":test_support",
-      "//base",
-      "//base:i18n",
-      "//base/test:test_support",
-      "//base/test:test_support_perf",
-      "//testing/gtest",
-    ]
-  }
-}
-
-static_library("test_support") {
-  testonly = true
-  sources = [
-    "ipc_multiprocess_test.cc",
-    "ipc_multiprocess_test.h",
-    "ipc_perftest_support.cc",
-    "ipc_perftest_support.h",
-    "ipc_security_test_util.cc",
-    "ipc_security_test_util.h",
-    "ipc_test_base.cc",
-    "ipc_test_base.h",
-    "ipc_test_channel_listener.cc",
-    "ipc_test_channel_listener.h",
-    "ipc_test_sink.cc",
-    "ipc_test_sink.h",
-  ]
-  deps = [
-    ":ipc",
-    "//base",
-    "//base/test:test_support",
-    "//testing/gtest",
-  ]
-}
diff --git a/ipc/ipc.gyp b/ipc/ipc.gyp
index 1a28fc2..b93b2fa 100644
--- a/ipc/ipc.gyp
+++ b/ipc/ipc.gyp
@@ -35,8 +35,8 @@
       'dependencies': [
         'ipc',
-        'test_support_ipc',
+#        'test_support_ipc',
         '../base/base.gyp:base',
         '../base/base.gyp:base_i18n',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gtest.gyp:gtest',
       ],
@@ -45,28 +45,28 @@
       ],
       'sources': [
-        'ipc_channel_posix_unittest.cc',
-        'ipc_channel_proxy_unittest.cc',
-        'ipc_channel_unittest.cc',
+#        'ipc_channel_posix_unittest.cc',
+#        'ipc_channel_proxy_unittest.cc',
+#        'ipc_channel_unittest.cc',
         'ipc_fuzzing_tests.cc',
-        'ipc_message_attachment_set_posix_unittest.cc',
-        'ipc_message_unittest.cc',
-        'ipc_message_utils_unittest.cc',
+#        'ipc_message_attachment_set_posix_unittest.cc',
+#        'ipc_message_unittest.cc',
+#        'ipc_message_utils_unittest.cc',
         'ipc_send_fds_test.cc',
-        'ipc_sync_channel_unittest.cc',
-        'ipc_sync_message_unittest.cc',
-        'ipc_sync_message_unittest.h',
-        'run_all_unittests.cc',
-        'sync_socket_unittest.cc',
-        'unix_domain_socket_util_unittest.cc',
+#        'ipc_sync_channel_unittest.cc',
+#        'ipc_sync_message_unittest.cc',
+#        'ipc_sync_message_unittest.h',
+#        'run_all_unittests.cc',
+#        'sync_socket_unittest.cc',
+#        'unix_domain_socket_util_unittest.cc',
       ],
       'conditions': [
         ['OS == "win" or OS == "ios"', {
           'sources!': [
-            'unix_domain_socket_util_unittest.cc',
+#            'unix_domain_socket_util_unittest.cc',
           ],
         }],
         ['OS == "android"', {
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -83,14 +83,14 @@
     },
     {
-      'target_name': 'ipc_perftests',
+#      'target_name': 'ipc_perftests',
       'type': '<(gtest_target_type)',
       # TODO(viettrungluu): Figure out which dependencies are really needed.
       'dependencies': [
         'ipc',
-        'test_support_ipc',
+#        'test_support_ipc',
         '../base/base.gyp:base',
         '../base/base.gyp:base_i18n',
-        '../base/base.gyp:test_support_base',
-        '../base/base.gyp:test_support_perf',
+#        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_perf',
         '../testing/gtest.gyp:gtest',
       ],
@@ -99,12 +99,12 @@
       ],
       'sources': [
-        'ipc_perftests.cc',
-        'ipc_test_base.cc',
-        'ipc_test_base.h',
+#        'ipc_perftests.cc',
+#        'ipc_test_base.cc',
+#        'ipc_test_base.h',
       ],
       'conditions': [
         ['OS == "android"', {
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -121,5 +121,5 @@
     },
     {
-      'target_name': 'test_support_ipc',
+#      'target_name': 'test_support_ipc',
       'type': 'static_library',
       'dependencies': [
@@ -131,14 +131,14 @@
         'ipc_multiprocess_test.cc',
         'ipc_multiprocess_test.h',
-        'ipc_perftest_support.cc',
-        'ipc_perftest_support.h',
-        'ipc_security_test_util.cc',
-        'ipc_security_test_util.h',
-        'ipc_test_base.cc',
-        'ipc_test_base.h',
-        'ipc_test_channel_listener.cc',
-        'ipc_test_channel_listener.h',
-        'ipc_test_sink.cc',
-        'ipc_test_sink.h',
+#        'ipc_perftest_support.cc',
+#        'ipc_perftest_support.h',
+#        'ipc_security_test_util.cc',
+#        'ipc_security_test_util.h',
+#        'ipc_test_base.cc',
+#        'ipc_test_base.h',
+#        'ipc_test_channel_listener.cc',
+#        'ipc_test_channel_listener.h',
+#        'ipc_test_sink.cc',
+#        'ipc_test_sink.h',
       ],
     },
@@ -188,11 +188,11 @@
         },
         {
-          'target_name': 'ipc_perftests_apk',
+#          'target_name': 'ipc_perftests_apk',
           'type': 'none',
           'dependencies': [
-            'ipc_perftests',
+#            'ipc_perftests',
           ],
           'variables': {
-            'test_suite_name': 'ipc_perftests',
+#            'test_suite_name': 'ipc_perftests',
           },
           'includes': [ '../build/apk_test.gypi' ],
diff --git a/ipc/ipc_multiprocess_test.h b/ipc/ipc_multiprocess_test.h
index 43aaa6b..b5b3ca3 100644
--- a/ipc/ipc_multiprocess_test.h
+++ b/ipc/ipc_multiprocess_test.h
@@ -6,5 +6,5 @@
 #define IPC_IPC_MULTIPROCESS_TEST_H_
 
-#include "testing/multiprocess_func_list.h"
+//#include "testing/multiprocess_func_list.h"
 
 // Use this macro when your sub-process is using an IPCChannel to communicate
diff --git a/ipc/mojo/BUILD.gn b/ipc/mojo/BUILD.gn
index 6d2a9f8..f97c2a5 100644
--- a/ipc/mojo/BUILD.gn
+++ b/ipc/mojo/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/mojo/src/mojo/public/tools/bindings/mojom.gni")
 
@@ -47,42 +47,3 @@ component("mojo") {
 }
 
-test("ipc_mojo_unittests") {
-  sources = [
-    "async_handle_waiter_unittest.cc",
-    "ipc_channel_mojo_unittest.cc",
-    "ipc_mojo_bootstrap_unittest.cc",
-    "run_all_unittests.cc",
-  ]
-
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "//base/third_party/dynamic_annotations",
-    "//ipc",
-    "//ipc:test_support",
-    "//ipc/mojo",
-    "//mojo/environment:chromium",
-    "//testing/gtest",
-    "//third_party/mojo/src/mojo/edk/system",
-    "//url",
-  ]
-}
 
-test("ipc_mojo_perftests") {
-  sources = [
-    "ipc_mojo_perftest.cc",
-  ]
-
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "//base/test:test_support_perf",
-    "//base/third_party/dynamic_annotations",
-    "//ipc",
-    "//ipc:test_support",
-    "//ipc/mojo",
-    "//mojo/environment:chromium",
-    "//third_party/mojo/src/mojo/edk/system",
-    "//url",
-  ]
-}
diff --git a/ipc/mojo/ipc_mojo.gyp b/ipc/mojo/ipc_mojo.gyp
index 44f1817..c9d886c 100644
--- a/ipc/mojo/ipc_mojo.gyp
+++ b/ipc/mojo/ipc_mojo.gyp
@@ -55,12 +55,12 @@
     },
     {
-      'target_name': 'ipc_mojo_unittests',
+#      'target_name': 'ipc_mojo_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../ipc.gyp:ipc',
-        '../ipc.gyp:test_support_ipc',
+#        '../ipc.gyp:test_support_ipc',
         '../../base/base.gyp:base',
         '../../base/base.gyp:base_i18n',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../mojo/mojo_base.gyp:mojo_environment_chromium',
         '../../testing/gtest.gyp:gtest',
@@ -73,8 +73,8 @@
       ],
       'sources': [
-        'async_handle_waiter_unittest.cc',
-        'run_all_unittests.cc',
-        'ipc_channel_mojo_unittest.cc',
-        'ipc_mojo_bootstrap_unittest.cc',
+#        'async_handle_waiter_unittest.cc',
+#        'run_all_unittests.cc',
+#        'ipc_channel_mojo_unittest.cc',
+#        'ipc_mojo_bootstrap_unittest.cc',
       ],
       'conditions': [
@@ -82,13 +82,13 @@
     },
     {
-      'target_name': 'ipc_mojo_perftests',
+#      'target_name': 'ipc_mojo_perftests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../ipc.gyp:ipc',
-        '../ipc.gyp:test_support_ipc',
+#        '../ipc.gyp:test_support_ipc',
         '../../base/base.gyp:base',
         '../../base/base.gyp:base_i18n',
-        '../../base/base.gyp:test_support_base',
-        '../../base/base.gyp:test_support_perf',
+#        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_perf',
         '../../mojo/mojo_base.gyp:mojo_environment_chromium',
         '../../testing/gtest.gyp:gtest',
diff --git a/media/audio/alsa/audio_manager_alsa.cc b/media/audio/alsa/audio_manager_alsa.cc
index e44c8c8..7ae20eb 100644
--- a/media/audio/alsa/audio_manager_alsa.cc
+++ b/media/audio/alsa/audio_manager_alsa.cc
@@ -9,5 +9,5 @@
 #include "base/files/file_path.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/nix/xdg_util.h"
 #include "base/process/launch.h"
diff --git a/media/audio/audio_input_controller.cc b/media/audio/audio_input_controller.cc
index a8a0d02..371f7c1 100644
--- a/media/audio/audio_input_controller.cc
+++ b/media/audio/audio_input_controller.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/stringprintf.h"
@@ -50,9 +50,9 @@ enum MicrophoneMuteResult {
 };
 
-void LogMicrophoneMuteResult(MicrophoneMuteResult result) {
+/*void LogMicrophoneMuteResult(MicrophoneMuteResult result) {
   UMA_HISTOGRAM_ENUMERATION("Media.MicrophoneMuted",
                             result,
                             MICROPHONE_MUTE_MAX + 1);
-}
+}*/
 
 // Helper method which calculates the average power of an audio bus. Unit is in
@@ -104,10 +104,10 @@ enum CaptureStartupResult {
 };
 
-void LogCaptureStartupResult(CaptureStartupResult result) {
+/*void LogCaptureStartupResult(CaptureStartupResult result) {
   UMA_HISTOGRAM_ENUMERATION("Media.AudioInputControllerCaptureStartupSuccess",
                             result,
                             CAPTURE_STARTUP_RESULT_MAX + 1);
 
-}
+}*/
 
 namespace media {
@@ -131,5 +131,5 @@ AudioInputController::AudioInputController(EventHandler* handler,
 #if defined(AUDIO_POWER_MONITORING)
       power_measurement_is_enabled_(false),
-      log_silence_state_(false),
+//      log_silence_state_(false),
       silence_state_(SILENCE_STATE_NO_MEASUREMENT),
 #endif
@@ -268,5 +268,5 @@ void AudioInputController::DoCreate(AudioManager* audio_manager,
                                     const std::string& device_id) {
   DCHECK(task_runner_->BelongsToCurrentThread());
-  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioInputController.CreateTime");
+//  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioInputController.CreateTime");
   if (handler_)
     handler_->OnLog(this, "AIC::DoCreate");
@@ -295,6 +295,6 @@ void AudioInputController::DoCreateForLowLatency(AudioManager* audio_manager,
   // We only log silence state UMA stats for low latency mode and if we use a
   // real device.
-  if (params.format() != AudioParameters::AUDIO_FAKE)
-    log_silence_state_ = true;
+//  if (params.format() != AudioParameters::AUDIO_FAKE)
+//    log_silence_state_ = true;
 #endif
 
@@ -313,5 +313,5 @@ void AudioInputController::DoCreateForStream(
     if (handler_)
       handler_->OnError(this, STREAM_CREATE_ERROR);
-    LogCaptureStartupResult(CAPTURE_STARTUP_CREATE_STREAM_FAILED);
+//    LogCaptureStartupResult(CAPTURE_STARTUP_CREATE_STREAM_FAILED);
     return;
   }
@@ -322,5 +322,5 @@ void AudioInputController::DoCreateForStream(
     if (handler_)
       handler_->OnError(this, STREAM_OPEN_ERROR);
-    LogCaptureStartupResult(CAPTURE_STARTUP_OPEN_STREAM_FAILED);
+//    LogCaptureStartupResult(CAPTURE_STARTUP_OPEN_STREAM_FAILED);
     return;
   }
@@ -367,5 +367,5 @@ void AudioInputController::DoCreateForStream(
 void AudioInputController::DoRecord() {
   DCHECK(task_runner_->BelongsToCurrentThread());
-  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioInputController.RecordTime");
+//  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioInputController.RecordTime");
 
   if (state_ != CREATED)
@@ -393,5 +393,5 @@ void AudioInputController::DoRecord() {
 void AudioInputController::DoClose() {
   DCHECK(task_runner_->BelongsToCurrentThread());
-  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioInputController.CloseTime");
+//  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioInputController.CloseTime");
 
   if (state_ == CLOSED)
@@ -403,5 +403,5 @@ void AudioInputController::DoClose() {
     base::TimeDelta duration =
         base::TimeTicks::Now() - low_latency_create_time_;
-    UMA_HISTOGRAM_LONG_TIMES("Media.InputStreamDuration", duration);
+//    UMA_HISTOGRAM_LONG_TIMES("Media.InputStreamDuration", duration);
     if (handler_) {
       std::string log_string =
@@ -427,7 +427,7 @@ void AudioInputController::DoClose() {
 #if defined(AUDIO_POWER_MONITORING)
   // Send UMA stats if enabled.
-  if (log_silence_state_)
-    LogSilenceState(silence_state_);
-  log_silence_state_ = false;
+//  if (log_silence_state_)
+//    LogSilenceState(silence_state_);
+//  log_silence_state_ = false;
 #endif
 
@@ -466,7 +466,7 @@ void AudioInputController::DoSetVolume(double volume) {
 void AudioInputController::FirstCheckForNoData() {
   DCHECK(task_runner_->BelongsToCurrentThread());
-  LogCaptureStartupResult(GetDataIsActive() ?
-                          CAPTURE_STARTUP_OK :
-                          CAPTURE_STARTUP_NO_DATA_CALLBACK);
+//  LogCaptureStartupResult(GetDataIsActive() ?
+//                          CAPTURE_STARTUP_OK :
+//                          CAPTURE_STARTUP_NO_DATA_CALLBACK);
   if (handler_) {
     handler_->OnLog(this, GetDataIsActive() ?
@@ -591,5 +591,5 @@ void AudioInputController::DoLogAudioLevels(float level_dbfs,
   const bool microphone_is_muted = stream_->IsMuted();
   if (microphone_is_muted) {
-    LogMicrophoneMuteResult(MICROPHONE_IS_MUTED);
+//    LogMicrophoneMuteResult(MICROPHONE_IS_MUTED);
     handler_->OnLog(this, "AIC::OnData: microphone is muted!");
     // Return early if microphone is muted. No need to adding logs and UMA stats
@@ -598,5 +598,5 @@ void AudioInputController::DoLogAudioLevels(float level_dbfs,
   }
 
-  LogMicrophoneMuteResult(MICROPHONE_IS_NOT_MUTED);
+//  LogMicrophoneMuteResult(MICROPHONE_IS_NOT_MUTED);
 
   std::string log_string = base::StringPrintf(
@@ -609,5 +609,5 @@ void AudioInputController::DoLogAudioLevels(float level_dbfs,
   UpdateSilenceState(level_dbfs < kSilenceThresholdDBFS);
 
-  UMA_HISTOGRAM_PERCENTAGE("Media.MicrophoneVolume", microphone_volume_percent);
+//  UMA_HISTOGRAM_PERCENTAGE("Media.MicrophoneVolume", microphone_volume_percent);
   log_string = base::StringPrintf(
       "AIC::OnData: microphone volume=%d%%", microphone_volume_percent);
@@ -669,9 +669,9 @@ void AudioInputController::UpdateSilenceState(bool silence) {
 }
 
-void AudioInputController::LogSilenceState(SilenceState value) {
+/*void AudioInputController::LogSilenceState(SilenceState value) {
   UMA_HISTOGRAM_ENUMERATION("Media.AudioInputControllerSessionSilenceReport",
                             value,
                             SILENCE_STATE_MAX + 1);
-}
+}*/
 #endif
 
diff --git a/media/audio/audio_input_controller.h b/media/audio/audio_input_controller.h
index 5bfe6bd..233e265 100644
--- a/media/audio/audio_input_controller.h
+++ b/media/audio/audio_input_controller.h
@@ -304,5 +304,5 @@ class MEDIA_EXPORT AudioInputController
 
   // Logs the silence state as UMA stat.
-  void LogSilenceState(SilenceState value);
+//  void LogSilenceState(SilenceState value);
 #endif
 
@@ -359,5 +359,5 @@ class MEDIA_EXPORT AudioInputController
 
   // Whether the silence state should sent as UMA stat.
-  bool log_silence_state_;
+//  bool log_silence_state_;
 
   // The silence report sent as UMA stat at the end of a session.
diff --git a/media/audio/audio_output_controller.cc b/media/audio/audio_output_controller.cc
index f95dab0..4bd7f54 100644
--- a/media/audio/audio_output_controller.cc
+++ b/media/audio/audio_output_controller.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/task_runner_util.h"
@@ -109,5 +109,5 @@ void AudioOutputController::SwitchOutputDevice(
 void AudioOutputController::DoCreate(bool is_for_device_change) {
   DCHECK(message_loop_->BelongsToCurrentThread());
-  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.CreateTime");
+//  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.CreateTime");
   TRACE_EVENT0("audio", "AudioOutputController::DoCreate");
 
@@ -153,5 +153,5 @@ void AudioOutputController::DoCreate(bool is_for_device_change) {
 void AudioOutputController::DoPlay() {
   DCHECK(message_loop_->BelongsToCurrentThread());
-  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.PlayTime");
+//  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.PlayTime");
   TRACE_EVENT0("audio", "AudioOutputController::DoPlay");
 
@@ -178,8 +178,8 @@ void AudioOutputController::DoPlay() {
   // statistic if state is still kPlaying.  Additional Start() calls will
   // invalidate the previous timer.
-  wedge_timer_.reset(new base::OneShotTimer<AudioOutputController>());
-  wedge_timer_->Start(
-      FROM_HERE, TimeDelta::FromSeconds(5), this,
-      &AudioOutputController::WedgeCheck);
+//  wedge_timer_.reset(new base::OneShotTimer<AudioOutputController>());
+//  wedge_timer_->Start(
+//      FROM_HERE, TimeDelta::FromSeconds(5), this,
+//      &AudioOutputController::WedgeCheck);
 
   handler_->OnPlaying();
@@ -190,5 +190,5 @@ void AudioOutputController::StopStream() {
 
   if (state_ == kPlaying) {
-    wedge_timer_.reset();
+//    wedge_timer_.reset();
     stream_->Stop();
 
@@ -203,5 +203,5 @@ void AudioOutputController::StopStream() {
 void AudioOutputController::DoPause() {
   DCHECK(message_loop_->BelongsToCurrentThread());
-  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.PauseTime");
+//  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.PauseTime");
   TRACE_EVENT0("audio", "AudioOutputController::DoPause");
 
@@ -221,5 +221,5 @@ void AudioOutputController::DoPause() {
 void AudioOutputController::DoClose() {
   DCHECK(message_loop_->BelongsToCurrentThread());
-  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.CloseTime");
+//  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.CloseTime");
   TRACE_EVENT0("audio", "AudioOutputController::DoClose");
 
@@ -331,5 +331,5 @@ void AudioOutputController::DoStopCloseAndClearStream() {
 void AudioOutputController::OnDeviceChange() {
   DCHECK(message_loop_->BelongsToCurrentThread());
-  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.DeviceChangeTime");
+//  SCOPED_UMA_HISTOGRAM_TIMER("Media.AudioOutputController.DeviceChangeTime");
   TRACE_EVENT0("audio", "AudioOutputController::OnDeviceChange");
 
@@ -406,5 +406,5 @@ std::pair<float, bool> AudioOutputController::ReadCurrentPowerAndClip() {
 }
 
-void AudioOutputController::WedgeCheck() {
+/*void AudioOutputController::WedgeCheck() {
   DCHECK(message_loop_->BelongsToCurrentThread());
 
@@ -414,5 +414,5 @@ void AudioOutputController::WedgeCheck() {
                           base::AtomicRefCountIsOne(&on_more_io_data_called_));
   }
-}
+}*/
 
 }  // namespace media
diff --git a/media/audio/audio_output_controller.h b/media/audio/audio_output_controller.h
index 23dc897..534f97f 100644
--- a/media/audio/audio_output_controller.h
+++ b/media/audio/audio_output_controller.h
@@ -9,5 +9,5 @@
 #include "base/callback.h"
 #include "base/memory/ref_counted.h"
-#include "base/timer/timer.h"
+//#include "base/timer/timer.h"
 #include "build/build_config.h"
 #include "media/audio/audio_io.h"
@@ -250,5 +250,5 @@ class MEDIA_EXPORT AudioOutputController
   // Flags when we've asked for a stream to start but it never did.
   base::AtomicRefCount on_more_io_data_called_;
-  scoped_ptr<base::OneShotTimer<AudioOutputController> > wedge_timer_;
+//  scoped_ptr<base::OneShotTimer<AudioOutputController> > wedge_timer_;
 
   DISALLOW_COPY_AND_ASSIGN(AudioOutputController);
diff --git a/media/audio/audio_output_resampler.cc b/media/audio/audio_output_resampler.cc
index f053444..8dde973e 100644
--- a/media/audio/audio_output_resampler.cc
+++ b/media/audio/audio_output_resampler.cc
@@ -8,5 +8,5 @@
 #include "base/bind_helpers.h"
 #include "base/compiler_specific.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/single_thread_task_runner.h"
@@ -69,4 +69,5 @@ class OnMoreDataConverter
 };
 
+/*
 // Record UMA statistics for hardware output configuration.
 static void RecordStats(const AudioParameters& output_params) {
@@ -123,5 +124,5 @@ static void RecordFallbackStats(const AudioParameters& output_params) {
         output_params.sample_rate());
   }
-}
+}*/
 
 // Converts low latency based |output_params| into high latency appropriate
@@ -167,5 +168,5 @@ AudioOutputResampler::AudioOutputResampler(AudioManager* audio_manager,
 
   // Record UMA statistics for the hardware configuration.
-  RecordStats(output_params);
+//  RecordStats(output_params);
 
   Initialize();
@@ -207,8 +208,8 @@ bool AudioOutputResampler::OpenStream() {
     // Only record the UMA statistic if we didn't fallback during construction
     // and only for the first stream we open.
-    if (!streams_opened_ &&
+/*    if (!streams_opened_ &&
         output_params_.format() == AudioParameters::AUDIO_PCM_LOW_LATENCY) {
       UMA_HISTOGRAM_BOOLEAN("Media.FallbackToHighLatencyAudioPath", false);
-    }
+    }*/
     streams_opened_ = true;
     return true;
@@ -226,5 +227,5 @@ bool AudioOutputResampler::OpenStream() {
   // Record UMA statistics about the hardware which triggered the failure so
   // we can debug and triage later.
-  RecordFallbackStats(output_params_);
+//  RecordFallbackStats(output_params_);
 
   // Only Windows has a high latency output driver that is not the same as the
diff --git a/media/audio/BUILD.gn b/media/audio/BUILD.gn
index 968a2e9..943d8b0 100644
--- a/media/audio/BUILD.gn
+++ b/media/audio/BUILD.gn
@@ -251,6 +251,6 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "audio_unittest_util.cc",
-    "audio_unittest_util.h",
+#    "audio_unittest_util.cc",
+#    "audio_unittest_util.h",
     "mock_audio_manager.cc",
     "mock_audio_manager.h",
@@ -261,5 +261,5 @@ source_set("test_support") {
   ]
   deps = [
-    "//testing/gmock",
+#    "//testing/gmock",
   ]
   configs += [ "//media:media_config" ]
@@ -269,21 +269,21 @@ source_set("unittests") {
   testonly = true
   sources = [
-    "audio_input_controller_unittest.cc",
-    "audio_input_unittest.cc",
-    "audio_manager_unittest.cc",
-    "audio_output_controller_unittest.cc",
-    "audio_output_device_unittest.cc",
-    "audio_output_proxy_unittest.cc",
-    "audio_parameters_unittest.cc",
-    "audio_power_monitor_unittest.cc",
-    "fake_audio_worker_unittest.cc",
-    "simple_sources_unittest.cc",
-    "virtual_audio_input_stream_unittest.cc",
-    "virtual_audio_output_stream_unittest.cc",
+#    "audio_input_controller_unittest.cc",
+#    "audio_input_unittest.cc",
+#    "audio_manager_unittest.cc",
+#    "audio_output_controller_unittest.cc",
+#    "audio_output_device_unittest.cc",
+#    "audio_output_proxy_unittest.cc",
+#    "audio_parameters_unittest.cc",
+#    "audio_power_monitor_unittest.cc",
+#    "fake_audio_worker_unittest.cc",
+#    "simple_sources_unittest.cc",
+#    "virtual_audio_input_stream_unittest.cc",
+#    "virtual_audio_output_stream_unittest.cc",
   ]
   deps = [
-    ":test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    ":test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 
@@ -294,14 +294,14 @@ source_set("unittests") {
 
   if (is_android) {
-    sources += [ "android/audio_android_unittest.cc" ]
+#    sources += [ "android/audio_android_unittest.cc" ]
   } else {
-    sources += [ "audio_input_volume_unittest.cc" ]
+#    sources += [ "audio_input_volume_unittest.cc" ]
   }
 
   if (is_mac) {
     sources += [
-      "mac/audio_auhal_mac_unittest.cc",
-      "mac/audio_device_listener_mac_unittest.cc",
-      "mac/audio_low_latency_input_mac_unittest.cc",
+#      "mac/audio_auhal_mac_unittest.cc",
+#      "mac/audio_device_listener_mac_unittest.cc",
+#      "mac/audio_low_latency_input_mac_unittest.cc",
     ]
   }
@@ -309,15 +309,15 @@ source_set("unittests") {
   if (is_chromeos) {
     sources += [
-      "sounds/audio_stream_handler_unittest.cc",
-      "sounds/sounds_manager_unittest.cc",
+#      "sounds/audio_stream_handler_unittest.cc",
+#      "sounds/sounds_manager_unittest.cc",
       "sounds/test_data.cc",
       "sounds/test_data.h",
-      "sounds/wav_audio_handler_unittest.cc",
+#      "sounds/wav_audio_handler_unittest.cc",
     ]
 
     if (use_cras) {
       sources += [
-        "cras/cras_input_unittest.cc",
-        "cras/cras_unified_unittest.cc",
+#        "cras/cras_input_unittest.cc",
+#        "cras/cras_unified_unittest.cc",
       ]
     }
@@ -326,9 +326,9 @@ source_set("unittests") {
   if (is_win) {
     sources += [
-      "win/audio_device_listener_win_unittest.cc",
-      "win/audio_low_latency_input_win_unittest.cc",
-      "win/audio_low_latency_output_win_unittest.cc",
-      "win/audio_output_win_unittest.cc",
-      "win/core_audio_util_win_unittest.cc",
+#      "win/audio_device_listener_win_unittest.cc",
+#      "win/audio_low_latency_input_win_unittest.cc",
+#      "win/audio_low_latency_output_win_unittest.cc",
+#      "win/audio_output_win_unittest.cc",
+#      "win/core_audio_util_win_unittest.cc",
     ]
   }
@@ -336,6 +336,6 @@ source_set("unittests") {
   if (use_alsa) {
     sources += [
-      "alsa/alsa_output_unittest.cc",
-      "audio_low_latency_input_output_unittest.cc",
+#      "alsa/alsa_output_unittest.cc",
+#      "audio_low_latency_input_output_unittest.cc",
     ]
   }
diff --git a/media/audio/linux/audio_manager_linux.cc b/media/audio/linux/audio_manager_linux.cc
index 0e7c981..91c071f 100644
--- a/media/audio/linux/audio_manager_linux.cc
+++ b/media/audio/linux/audio_manager_linux.cc
@@ -4,5 +4,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #if defined(USE_ALSA)
 #include "media/audio/alsa/audio_manager_alsa.h"
@@ -30,5 +30,5 @@ AudioManager* CreateAudioManager(AudioLogFactory* audio_log_factory) {
 #if defined(USE_CRAS)
   if (base::CommandLine::ForCurrentProcess()->HasSwitch(switches::kUseCras)) {
-    UMA_HISTOGRAM_ENUMERATION("Media.LinuxAudioIO", kCras, kAudioIOMax + 1);
+//    UMA_HISTOGRAM_ENUMERATION("Media.LinuxAudioIO", kCras, kAudioIOMax + 1);
     return new AudioManagerCras(audio_log_factory);
   }
@@ -38,5 +38,5 @@ AudioManager* CreateAudioManager(AudioLogFactory* audio_log_factory) {
   AudioManager* manager = AudioManagerPulse::Create(audio_log_factory);
   if (manager) {
-    UMA_HISTOGRAM_ENUMERATION("Media.LinuxAudioIO", kPulse, kAudioIOMax + 1);
+//    UMA_HISTOGRAM_ENUMERATION("Media.LinuxAudioIO", kPulse, kAudioIOMax + 1);
     return manager;
   }
@@ -44,5 +44,5 @@ AudioManager* CreateAudioManager(AudioLogFactory* audio_log_factory) {
 
 #if defined(USE_ALSA)
-  UMA_HISTOGRAM_ENUMERATION("Media.LinuxAudioIO", kAlsa, kAudioIOMax + 1);
+//  UMA_HISTOGRAM_ENUMERATION("Media.LinuxAudioIO", kAlsa, kAudioIOMax + 1);
   return new AudioManagerAlsa(audio_log_factory);
 #else
diff --git a/media/audio/mac/audio_low_latency_input_mac.cc b/media/audio/mac/audio_low_latency_input_mac.cc
index 4d8de90..9ed2623 100644
--- a/media/audio/mac/audio_low_latency_input_mac.cc
+++ b/media/audio/mac/audio_low_latency_input_mac.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/mac/mac_logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "media/audio/mac/audio_manager_mac.h"
 #include "media/base/audio_bus.h"
diff --git a/media/audio/mock_audio_source_callback.h b/media/audio/mock_audio_source_callback.h
index 9284d0bf..9a3283a 100644
--- a/media/audio/mock_audio_source_callback.h
+++ b/media/audio/mock_audio_source_callback.h
@@ -7,5 +7,5 @@
 
 #include "media/audio/audio_io.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/audio/win/audio_low_latency_output_win.cc b/media/audio/win/audio_low_latency_output_win.cc
index 5907f9c..194db5d 100644
--- a/media/audio/win/audio_low_latency_output_win.cc
+++ b/media/audio/win/audio_low_latency_output_win.cc
@@ -10,5 +10,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "base/trace_event/trace_event.h"
diff --git a/media/audio/win/audio_manager_win.cc b/media/audio/win/audio_manager_win.cc
index c09fb46..b5fe0b2 100644
--- a/media/audio/win/audio_manager_win.cc
+++ b/media/audio/win/audio_manager_win.cc
@@ -17,5 +17,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/process/launch.h"
diff --git a/media/base/android/BUILD.gn b/media/base/android/BUILD.gn
index 71e9edc..f9fe354 100644
--- a/media/base/android/BUILD.gn
+++ b/media/base/android/BUILD.gn
@@ -3,6 +3,6 @@
 # found in the LICENSE file.
 
-import("//build/config/android/config.gni")
-import("//build/config/android/rules.gni")
+#import("//build/config/android/config.gni")
+#import("//build/config/android/rules.gni")
 import("//build/config/arm.gni")
 import("//build/config/ui.gni")
@@ -60,13 +60,13 @@ source_set("unittests") {
   testonly = true
   sources = [
-    "media_codec_bridge_unittest.cc",
-    "media_drm_bridge_unittest.cc",
-    "media_source_player_unittest.cc",
+#    "media_codec_bridge_unittest.cc",
+#    "media_drm_bridge_unittest.cc",
+#    "media_source_player_unittest.cc",
   ]
   deps = [
     ":android",
-    "//media/base:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//media/base:test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
     "//third_party/widevine/cdm:version_h",
   ]
diff --git a/media/base/audio_bus_perftest.cc b/media/base/audio_bus_perftest.cc
index 71e8132..1b14ab0 100644
--- a/media/base/audio_bus_perftest.cc
+++ b/media/base/audio_bus_perftest.cc
@@ -6,6 +6,6 @@
 #include "media/base/audio_bus.h"
 #include "media/base/fake_audio_render_callback.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace media {
diff --git a/media/base/audio_converter_perftest.cc b/media/base/audio_converter_perftest.cc
index 92bff29..8ea994d 100644
--- a/media/base/audio_converter_perftest.cc
+++ b/media/base/audio_converter_perftest.cc
@@ -6,6 +6,6 @@
 #include "media/base/audio_converter.h"
 #include "media/base/fake_audio_render_callback.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace media {
diff --git a/media/base/audio_decoder_config.cc b/media/base/audio_decoder_config.cc
index 4526859..d88ac56 100644
--- a/media/base/audio_decoder_config.cc
+++ b/media/base/audio_decoder_config.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "media/audio/sample_rates.h"
diff --git a/media/base/BUILD.gn b/media/base/BUILD.gn
index 235ef60..acfe2a0ad 100644
--- a/media/base/BUILD.gn
+++ b/media/base/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/config.gni")
+#import("//build/config/android/config.gni")
 import("//build/config/arm.gni")
 import("//build/config/ui.gni")
@@ -308,5 +308,5 @@ source_set("test_support") {
   configs += [ "//media:media_config" ]
   deps = [
-    "//testing/gmock",
+#    "//testing/gmock",
   ]
 }
@@ -315,50 +315,50 @@ source_set("unittests") {
   testonly = true
   sources = [
-    "audio_block_fifo_unittest.cc",
-    "audio_buffer_converter_unittest.cc",
-    "audio_buffer_queue_unittest.cc",
-    "audio_buffer_unittest.cc",
-    "audio_bus_unittest.cc",
-    "audio_converter_unittest.cc",
-    "audio_discard_helper_unittest.cc",
-    "audio_fifo_unittest.cc",
-    "audio_hardware_config_unittest.cc",
-    "audio_hash_unittest.cc",
-    "audio_pull_fifo_unittest.cc",
-    "audio_renderer_mixer_input_unittest.cc",
-    "audio_renderer_mixer_unittest.cc",
-    "audio_shifter_unittest.cc",
-    "audio_splicer_unittest.cc",
-    "audio_timestamp_helper_unittest.cc",
-    "bind_to_current_loop_unittest.cc",
-    "bit_reader_unittest.cc",
+#    "audio_block_fifo_unittest.cc",
+#    "audio_buffer_converter_unittest.cc",
+#    "audio_buffer_queue_unittest.cc",
+#    "audio_buffer_unittest.cc",
+#    "audio_bus_unittest.cc",
+#    "audio_converter_unittest.cc",
+#    "audio_discard_helper_unittest.cc",
+#    "audio_fifo_unittest.cc",
+#    "audio_hardware_config_unittest.cc",
+#    "audio_hash_unittest.cc",
+#    "audio_pull_fifo_unittest.cc",
+#    "audio_renderer_mixer_input_unittest.cc",
+#    "audio_renderer_mixer_unittest.cc",
+#    "audio_shifter_unittest.cc",
+#    "audio_splicer_unittest.cc",
+#    "audio_timestamp_helper_unittest.cc",
+#    "bind_to_current_loop_unittest.cc",
+#    "bit_reader_unittest.cc",
     "callback_holder.h",
-    "callback_holder_unittest.cc",
-    "channel_mixer_unittest.cc",
-    "channel_mixing_matrix_unittest.cc",
-    "data_buffer_unittest.cc",
-    "decoder_buffer_queue_unittest.cc",
-    "decoder_buffer_unittest.cc",
-    "djb2_unittest.cc",
-    "gmock_callback_support_unittest.cc",
-    "key_systems_unittest.cc",
-    "multi_channel_resampler_unittest.cc",
-    "pipeline_unittest.cc",
-    "ranges_unittest.cc",
-    "run_all_unittests.cc",
-    "seekable_buffer_unittest.cc",
-    "serial_runner_unittest.cc",
-    "sinc_resampler_unittest.cc",
-    "stream_parser_unittest.cc",
-    "text_ranges_unittest.cc",
-    "text_renderer_unittest.cc",
-    "user_input_monitor_unittest.cc",
+#    "callback_holder_unittest.cc",
+#    "channel_mixer_unittest.cc",
+#    "channel_mixing_matrix_unittest.cc",
+#    "data_buffer_unittest.cc",
+#    "decoder_buffer_queue_unittest.cc",
+#    "decoder_buffer_unittest.cc",
+#    "djb2_unittest.cc",
+#    "gmock_callback_support_unittest.cc",
+#    "key_systems_unittest.cc",
+#    "multi_channel_resampler_unittest.cc",
+#    "pipeline_unittest.cc",
+#    "ranges_unittest.cc",
+#    "run_all_unittests.cc",
+#    "seekable_buffer_unittest.cc",
+#    "serial_runner_unittest.cc",
+#    "sinc_resampler_unittest.cc",
+#    "stream_parser_unittest.cc",
+#    "text_ranges_unittest.cc",
+#    "text_renderer_unittest.cc",
+#    "user_input_monitor_unittest.cc",
     "vector_math_testing.h",
-    "vector_math_unittest.cc",
-    "video_frame_pool_unittest.cc",
-    "video_frame_unittest.cc",
-    "video_util_unittest.cc",
-    "wall_clock_time_source_unittest.cc",
-    "yuv_convert_unittest.cc",
+#    "vector_math_unittest.cc",
+#    "video_frame_pool_unittest.cc",
+#    "video_frame_unittest.cc",
+#    "video_util_unittest.cc",
+#    "wall_clock_time_source_unittest.cc",
+#    "yuv_convert_unittest.cc",
   ]
   configs += [
@@ -368,19 +368,19 @@ source_set("unittests") {
   deps = [
     ":base",
-    ":test_support",
+#    ":test_support",
     "//skia",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 
   if (media_use_ffmpeg) {
     sources += [
-      "audio_video_metadata_extractor_unittest.cc",
-      "media_file_checker_unittest.cc",
+#      "audio_video_metadata_extractor_unittest.cc",
+#      "media_file_checker_unittest.cc",
     ]
   }
 
   if (!is_android) {
-    sources += [ "container_names_unittest.cc" ]
+#    sources += [ "container_names_unittest.cc" ]
   } else {
     deps += [ "//ui/gl" ]
@@ -388,5 +388,5 @@ source_set("unittests") {
 
   if (current_cpu == "x86" || current_cpu == "x64") {
-    sources += [ "simd/convert_rgb_to_yuv_unittest.cc" ]
+#    sources += [ "simd/convert_rgb_to_yuv_unittest.cc" ]
   }
 }
@@ -397,5 +397,5 @@ source_set("perftests") {
     "audio_bus_perftest.cc",
     "audio_converter_perftest.cc",
-    "run_all_perftests.cc",
+#    "run_all_perftests.cc",
     "sinc_resampler_perftest.cc",
     "vector_math_perftest.cc",
@@ -405,7 +405,7 @@ source_set("perftests") {
   deps = [
     ":base",
-    ":test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    ":test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 
diff --git a/media/base/demuxer_perftest.cc b/media/base/demuxer_perftest.cc
index 42fc6e8..e73193c 100644
--- a/media/base/demuxer_perftest.cc
+++ b/media/base/demuxer_perftest.cc
@@ -13,6 +13,6 @@
 #include "media/filters/ffmpeg_demuxer.h"
 #include "media/filters/file_data_source.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace media {
diff --git a/media/base/fake_audio_render_callback.h b/media/base/fake_audio_render_callback.h
index 695365f..76699c4 100644
--- a/media/base/fake_audio_render_callback.h
+++ b/media/base/fake_audio_render_callback.h
@@ -8,5 +8,5 @@
 #include "media/base/audio_converter.h"
 #include "media/base/audio_renderer_sink.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/base/fake_text_track_stream.h b/media/base/fake_text_track_stream.h
index 919ae81..f1b96f2 100644
--- a/media/base/fake_text_track_stream.h
+++ b/media/base/fake_text_track_stream.h
@@ -7,5 +7,5 @@
 #include "media/base/demuxer_stream.h"
 #include "media/base/video_decoder_config.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/base/gmock_callback_support.h b/media/base/gmock_callback_support.h
index 22f4c10..cbe89f5 100644
--- a/media/base/gmock_callback_support.h
+++ b/media/base/gmock_callback_support.h
@@ -6,5 +6,5 @@
 #define MEDIA_BASE_GMOCK_CALLBACK_SUPPORT_H_
 
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/base/key_systems_support_uma.cc b/media/base/key_systems_support_uma.cc
index f0cdf84..188b0bc 100644
--- a/media/base/key_systems_support_uma.cc
+++ b/media/base/key_systems_support_uma.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "media/base/key_systems.h"
 
diff --git a/media/base/mac/BUILD.gn b/media/base/mac/BUILD.gn
index 2bb7294..bbdac2a 100644
--- a/media/base/mac/BUILD.gn
+++ b/media/base/mac/BUILD.gn
@@ -29,9 +29,9 @@ source_set("unittests") {
   testonly = true
   sources = [
-    "video_frame_mac_unittests.cc",
+#    "video_frame_mac_unittests.cc",
   ]
   configs += [ "//media:media_config" ]
   deps = [
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 }
diff --git a/media/base/media_win.cc b/media/base/media_win.cc
index 03d78b1..e00093d 100644
--- a/media/base/media_win.cc
+++ b/media/base/media_win.cc
@@ -13,5 +13,5 @@
 
 #include "base/files/file_path.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "media/ffmpeg/ffmpeg_common.h"
 
diff --git a/media/base/mock_audio_renderer_sink.h b/media/base/mock_audio_renderer_sink.h
index 5f1c245..c7b10fb 100644
--- a/media/base/mock_audio_renderer_sink.h
+++ b/media/base/mock_audio_renderer_sink.h
@@ -8,5 +8,5 @@
 #include "media/audio/audio_parameters.h"
 #include "media/base/audio_renderer_sink.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/base/mock_demuxer_host.h b/media/base/mock_demuxer_host.h
index f9e8e43..8f3871e 100644
--- a/media/base/mock_demuxer_host.h
+++ b/media/base/mock_demuxer_host.h
@@ -8,5 +8,5 @@
 #include "media/base/demuxer.h"
 #include "media/base/text_track_config.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/base/mock_filters.h b/media/base/mock_filters.h
index 9731fd0..716bdea 100644
--- a/media/base/mock_filters.h
+++ b/media/base/mock_filters.h
@@ -23,5 +23,5 @@
 #include "media/base/video_frame.h"
 #include "media/base/video_renderer.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/base/pipeline.cc b/media/base/pipeline.cc
index d1fae01..918b63d 100644
--- a/media/base/pipeline.cc
+++ b/media/base/pipeline.cc
@@ -13,5 +13,5 @@
 #include "base/compiler_specific.h"
 #include "base/location.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/single_thread_task_runner.h"
 #include "base/stl_util.h"
diff --git a/media/base/sinc_resampler_perftest.cc b/media/base/sinc_resampler_perftest.cc
index 5ee3348..d4873cb 100644
--- a/media/base/sinc_resampler_perftest.cc
+++ b/media/base/sinc_resampler_perftest.cc
@@ -7,7 +7,7 @@
 #include "base/time/time.h"
 #include "media/base/sinc_resampler.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace media {
diff --git a/media/base/test_helpers.h b/media/base/test_helpers.h
index 3401a09..59b1ea7 100644
--- a/media/base/test_helpers.h
+++ b/media/base/test_helpers.h
@@ -12,5 +12,5 @@
 #include "media/base/sample_format.h"
 #include "media/base/video_decoder_config.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "ui/gfx/geometry/size.h"
 
diff --git a/media/base/vector_math_perftest.cc b/media/base/vector_math_perftest.cc
index ae3b54e..d00dd0a 100644
--- a/media/base/vector_math_perftest.cc
+++ b/media/base/vector_math_perftest.cc
@@ -8,6 +8,6 @@
 #include "media/base/vector_math.h"
 #include "media/base/vector_math_testing.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 using base::TimeTicks;
diff --git a/media/base/video_decoder_config.cc b/media/base/video_decoder_config.cc
index 27fe9f5..fadc63b 100644
--- a/media/base/video_decoder_config.cc
+++ b/media/base/video_decoder_config.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace media {
diff --git a/media/base/yuv_convert_perftest.cc b/media/base/yuv_convert_perftest.cc
index 7d3d64c..3a12517 100644
--- a/media/base/yuv_convert_perftest.cc
+++ b/media/base/yuv_convert_perftest.cc
@@ -11,6 +11,6 @@
 #include "media/base/simd/convert_yuv_to_rgb.h"
 #include "media/base/yuv_convert.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/perf/perf_test.h"
 
 namespace media {
diff --git a/media/blink/buffered_resource_loader.cc b/media/blink/buffered_resource_loader.cc
index d88266d..13227b4 100644
--- a/media/blink/buffered_resource_loader.cc
+++ b/media/blink/buffered_resource_loader.cc
@@ -7,5 +7,5 @@
 #include "base/bits.h"
 #include "base/callback_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/media/blink/BUILD.gn b/media/blink/BUILD.gn
index 33d26d5..d304a726 100644
--- a/media/blink/BUILD.gn
+++ b/media/blink/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("blink") {
@@ -84,41 +84,2 @@ component("blink") {
 }
 
-if (!is_mac) {
-  # TODO(GYP): Make linking this work on the mac.
-  test("media_blink_unittests") {
-    deps = [
-      ":blink",
-      "//base",
-      "//base/test:test_support",
-      "//cc",
-      "//cc/blink",
-      "//media",
-      "//media:shared_memory_support",
-      "//media/base:test_support",
-      "//net",
-      "//testing/gmock",
-      "//testing/gtest",
-      "//third_party/WebKit/public:blink",
-      "//ui/gfx/geometry",
-      "//ui/gfx:test_support",
-      "//url",
-    ]
-
-    configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-    sources = [
-      "buffered_data_source_host_impl_unittest.cc",
-      "buffered_data_source_unittest.cc",
-      "buffered_resource_loader_unittest.cc",
-      "cache_util_unittest.cc",
-      "mock_webframeclient.h",
-      "mock_weburlloader.cc",
-      "mock_weburlloader.h",
-      "run_all_unittests.cc",
-      "test_response_generator.cc",
-      "test_response_generator.h",
-      "video_frame_compositor_unittest.cc",
-      "webaudiosourceprovider_impl_unittest.cc",
-    ]
-  }
-}
diff --git a/media/blink/cdm_result_promise_helper.cc b/media/blink/cdm_result_promise_helper.cc
index c96121a..3e1a164 100644
--- a/media/blink/cdm_result_promise_helper.cc
+++ b/media/blink/cdm_result_promise_helper.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace media {
diff --git a/media/blink/encrypted_media_player_support.cc b/media/blink/encrypted_media_player_support.cc
index 7b7669d..97c64c7 100644
--- a/media/blink/encrypted_media_player_support.cc
+++ b/media/blink/encrypted_media_player_support.cc
@@ -9,5 +9,5 @@
 #include "base/bind.h"
 #include "base/callback_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/media/blink/media_blink.gyp b/media/blink/media_blink.gyp
index fa6042f..26f1e30 100644
--- a/media/blink/media_blink.gyp
+++ b/media/blink/media_blink.gyp
@@ -86,12 +86,12 @@
     },
     {
-      'target_name': 'media_blink_unittests',
+#      'target_name': 'media_blink_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         'media_blink',
         '../media.gyp:media',
-        '../media.gyp:media_test_support',
+#        '../media.gyp:media_test_support',
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../cc/cc.gyp:cc',
         '../../cc/blink/cc_blink.gyp:cc_blink',
@@ -102,20 +102,20 @@
         '../../ui/gfx/gfx.gyp:gfx',
         '../../ui/gfx/gfx.gyp:gfx_geometry',
-        '../../ui/gfx/gfx.gyp:gfx_test_support',
+#        '../../ui/gfx/gfx.gyp:gfx_test_support',
         '../../url/url.gyp:url_lib',
       ],
       'sources': [
-        'buffered_data_source_host_impl_unittest.cc',
-        'buffered_data_source_unittest.cc',
-        'buffered_resource_loader_unittest.cc',
-        'cache_util_unittest.cc',
+#        'buffered_data_source_host_impl_unittest.cc',
+#        'buffered_data_source_unittest.cc',
+#        'buffered_resource_loader_unittest.cc',
+#        'cache_util_unittest.cc',
         'mock_webframeclient.h',
         'mock_weburlloader.cc',
         'mock_weburlloader.h',
-        'run_all_unittests.cc',
+#        'run_all_unittests.cc',
         'test_response_generator.cc',
         'test_response_generator.h',
-        'video_frame_compositor_unittest.cc',
-        'webaudiosourceprovider_impl_unittest.cc',
+#        'video_frame_compositor_unittest.cc',
+#        'webaudiosourceprovider_impl_unittest.cc',
       ],
     },
diff --git a/media/blink/mock_weburlloader.h b/media/blink/mock_weburlloader.h
index 70dd5a6..5eca8e3 100644
--- a/media/blink/mock_weburlloader.h
+++ b/media/blink/mock_weburlloader.h
@@ -6,5 +6,5 @@
 #define MEDIA_BLINK_MOCK_WEBURLLOADER_H_
 
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "third_party/WebKit/public/platform/WebURLLoader.h"
 
diff --git a/media/blink/webencryptedmediaclient_impl.cc b/media/blink/webencryptedmediaclient_impl.cc
index e770c4e..a831ce6 100644
--- a/media/blink/webencryptedmediaclient_impl.cc
+++ b/media/blink/webencryptedmediaclient_impl.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/media/blink/webmediaplayer_impl.cc b/media/blink/webmediaplayer_impl.cc
index 93f3bd4..5bc41bc 100644
--- a/media/blink/webmediaplayer_impl.cc
+++ b/media/blink/webmediaplayer_impl.cc
@@ -17,5 +17,5 @@
 #include "base/float_util.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/single_thread_task_runner.h"
 #include "base/synchronization/waitable_event.h"
diff --git a/media/blink/webmediaplayer_util.cc b/media/blink/webmediaplayer_util.cc
index 64f01ff..a2e64d5 100644
--- a/media/blink/webmediaplayer_util.cc
+++ b/media/blink/webmediaplayer_util.cc
@@ -7,5 +7,5 @@
 #include <math.h>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "media/base/media_keys.h"
 #include "third_party/WebKit/public/platform/WebMediaPlayerClient.h"
diff --git a/media/BUILD.gn b/media/BUILD.gn
index a19ec54..2c9bdc1 100644
--- a/media/BUILD.gn
+++ b/media/BUILD.gn
@@ -3,5 +3,4 @@
 # found in the LICENSE file.
 
-import("//build/config/android/config.gni")
 import("//build/config/arm.gni")
 import("//build/config/features.gni")
@@ -9,5 +8,5 @@ import("//build/config/linux/pkg_config.gni")
 import("//build/config/ui.gni")
 import("//media/media_options.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 # Common configuration for targets in the media directory.
@@ -363,5 +362,5 @@ component("media") {
 
   if (use_udev) {
-    deps += [ "//device/udev_linux" ]
+#    deps += [ "//device/udev_linux" ]
   }
 
@@ -533,209 +532,4 @@ if (is_ios) {
 }
 
-test("media_unittests") {
-  sources = [
-    "blink/skcanvas_video_renderer_unittest.cc",
-    "cdm/aes_decryptor_unittest.cc",
-    "cdm/cenc_utils_unittest.cc",
-    "cdm/json_web_key_unittest.cc",
-    "filters/audio_clock_unittest.cc",
-    "filters/audio_decoder_selector_unittest.cc",
-    "filters/audio_renderer_algorithm_unittest.cc",
-    "filters/chunk_demuxer_unittest.cc",
-    "filters/decrypting_audio_decoder_unittest.cc",
-    "filters/decrypting_demuxer_stream_unittest.cc",
-    "filters/decrypting_video_decoder_unittest.cc",
-    "filters/fake_demuxer_stream.cc",
-    "filters/fake_demuxer_stream.h",
-    "filters/fake_demuxer_stream_unittest.cc",
-    "filters/fake_video_decoder.cc",
-    "filters/fake_video_decoder.h",
-    "filters/fake_video_decoder_unittest.cc",
-    "filters/file_data_source_unittest.cc",
-    "filters/frame_processor_unittest.cc",
-    "filters/h264_bit_reader_unittest.cc",
-    "filters/h264_parser_unittest.cc",
-    "filters/jpeg_parser_unittest.cc",
-    "filters/source_buffer_stream_unittest.cc",
-    "filters/video_decoder_selector_unittest.cc",
-    "filters/video_frame_scheduler_impl_unittest.cc",
-    "filters/video_frame_scheduler_unittest.cc",
-    "filters/video_frame_stream_unittest.cc",
-    "filters/vp8_bool_decoder_unittest.cc",
-    "filters/vp8_parser_unittest.cc",
-    "formats/common/offset_byte_queue_unittest.cc",
-    "formats/webm/cluster_builder.cc",
-    "formats/webm/cluster_builder.h",
-    "formats/webm/opus_packet_builder.cc",
-    "formats/webm/opus_packet_builder.h",
-    "formats/webm/tracks_builder.cc",
-    "formats/webm/tracks_builder.h",
-    "formats/webm/webm_cluster_parser_unittest.cc",
-    "formats/webm/webm_content_encodings_client_unittest.cc",
-    "formats/webm/webm_parser_unittest.cc",
-    "formats/webm/webm_tracks_parser_unittest.cc",
-    "formats/webm/webm_webvtt_parser_unittest.cc",
-    "midi/midi_manager_unittest.cc",
-    "midi/midi_manager_usb_unittest.cc",
-    "midi/midi_message_queue_unittest.cc",
-    "midi/midi_message_util_unittest.cc",
-    "midi/usb_midi_descriptor_parser_unittest.cc",
-    "midi/usb_midi_input_stream_unittest.cc",
-    "midi/usb_midi_output_stream_unittest.cc",
-    "renderers/audio_renderer_impl_unittest.cc",
-    "renderers/renderer_impl_unittest.cc",
-    "renderers/video_renderer_impl_unittest.cc",
-    "video/capture/fake_video_capture_device_unittest.cc",
-    "video/capture/video_capture_device_unittest.cc",
-    "video/h264_poc_unittest.cc",
-  ]
-
-  # TODO(wolenetz): Fix size_t to int trunctaion in win64.
-  # See http://crbug.com/171009
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":media",
-    ":test_support",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//media/audio:unittests",
-    "//media/audio:test_support",
-    "//media/base:unittests",
-    "//media/base:test_support",
-    "//media/test:pipeline_integration_tests",
-    "//skia",  # Direct dependency required to inherit config.
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/widevine/cdm:version_h",
-    "//ui/gfx:test_support",
-    "//url",
-  ]
-
-  if (is_android) {
-    deps += [
-      "//media/base/android",
-      # TODO(GYP)
-      #"//testing/android:native_test_native_code"
-    ]
-  }
-
-  if (media_use_ffmpeg) {
-    sources += [
-      "ffmpeg/ffmpeg_common_unittest.cc",
-      "filters/audio_decoder_unittest.cc",
-      "filters/audio_file_reader_unittest.cc",
-      "filters/blocking_url_protocol_unittest.cc",
-      "filters/ffmpeg_demuxer_unittest.cc",
-      "filters/ffmpeg_glue_unittest.cc",
-      "filters/ffmpeg_video_decoder_unittest.cc",
-      "filters/in_memory_url_protocol_unittest.cc",
-    ]
-  }
-
-  if (current_cpu != "arm" && is_chromeos) {
-    sources += [ "filters/h264_bitstream_buffer_unittest.cc" ]
-  }
-
-  if (proprietary_codecs) {
-    sources += [
-      "filters/ffmpeg_aac_bitstream_converter_unittest.cc",
-      "filters/ffmpeg_h264_to_annex_b_bitstream_converter_unittest.cc",
-      "filters/h264_to_annex_b_bitstream_converter_unittest.cc",
-      "formats/common/stream_parser_test_base.cc",
-      "formats/common/stream_parser_test_base.h",
-      "formats/mp2t/es_adapter_video_unittest.cc",
-      "formats/mp2t/es_parser_adts_unittest.cc",
-      "formats/mp2t/es_parser_h264_unittest.cc",
-      "formats/mp2t/es_parser_mpeg1audio_unittest.cc",
-      "formats/mp2t/es_parser_test_base.cc",
-      "formats/mp2t/es_parser_test_base.h",
-      "formats/mp2t/mp2t_stream_parser_unittest.cc",
-      "formats/mp2t/timestamp_unroller_unittest.cc",
-      "formats/mp4/aac_unittest.cc",
-      "formats/mp4/avc_unittest.cc",
-      "formats/mp4/box_reader_unittest.cc",
-      "formats/mp4/es_descriptor_unittest.cc",
-      "formats/mp4/mp4_stream_parser_unittest.cc",
-      "formats/mp4/sample_to_group_iterator_unittest.cc",
-      "formats/mp4/track_run_iterator_unittest.cc",
-      "formats/mpeg/adts_stream_parser_unittest.cc",
-      "formats/mpeg/mpeg1_audio_stream_parser_unittest.cc",
-    ]
-  }
-
-  if (is_mac || is_ios) {
-    deps += [ "//media/base/mac" ]
-  }
-
-  if (is_mac) {
-    sources += [
-      "midi/midi_manager_mac_unittest.cc",
-      "video/capture/mac/video_capture_device_factory_mac_unittest.mm",
-    ]
-  }
-
-  if (use_alsa) {
-    sources += [ "midi/midi_manager_alsa_unittest.cc" ]
-  }
-
-  #      include_dirs += [
-  #        # Needed by media_drm_bridge.cc.
-  #        target_gen_dir,
-  #      ],
-
-  configs += [ ":media_config" ]
-
-  if (media_use_ffmpeg) {
-    deps += [ "//third_party/ffmpeg" ]  # Direct dependency required to inherit config.
-  }
-}
-
-test("media_perftests") {
-  configs += [ ":media_config" ]
-  deps = [
-    ":media",
-    ":shared_memory_support",
-    ":test_support",
-    "//base/test:test_support",
-    "//media/audio:test_support",
-    "//media/base:perftests",
-    "//media/base:test_support",
-    "//media/test:pipeline_integration_perftests",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//testing/perf",
-    "//third_party/widevine/cdm:version_h",
-    "//ui/gfx:test_support",
-  ]
-  if (is_android) {
-    deps += [ "//ui/gl" ]
-  }
-  if (media_use_ffmpeg) {
-    deps += [ "//third_party/ffmpeg" ]  # Direct dependency required to inherit config.
-  }
-}
-
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "filters/clockless_video_frame_scheduler.cc",
-    "filters/clockless_video_frame_scheduler.h",
-    "filters/test_video_frame_scheduler.cc",
-    "filters/test_video_frame_scheduler.h",
-    "renderers/mock_gpu_video_accelerator_factories.cc",
-    "renderers/mock_gpu_video_accelerator_factories.h",
-    "video/mock_video_decode_accelerator.cc",
-    "video/mock_video_decode_accelerator.h",
-  ]
-  deps = [
-    ":media",
-    ":shared_memory_support",
-    "//base",
-    "//skia",
-    "//testing/gmock",
-    "//testing/gtest",
-  ]
-}
 
 # TODO(dalecurtis): How to split this across audio/base directories??
@@ -760,29 +554,4 @@ component("shared_memory_support") {
 }
 
-if (media_use_ffmpeg) {
-  test("ffmpeg_regression_tests") {
-    sources = [
-      "base/run_all_unittests.cc",
-      "ffmpeg/ffmpeg_regression_tests.cc",
-    ]
-
-    configs += [ "//media:media_config" ]
-
-    deps = [
-      "//base/test:test_support",
-      "//media",
-      "//media:test_support",
-      "//media/audio:test_support",
-      "//media/base:test_support",
-      "//media/test:pipeline_integration_tests",
-      "//testing/gmock",
-      "//testing/gtest",
-      "//third_party/ffmpeg",
-      "//ui/gfx/geometry",
-      "//ui/gfx:test_support",
-    ]
-  }
-}
-
 if (use_x11) {
   executable("player_x11") {
diff --git a/media/cast/BUILD.gn b/media/cast/BUILD.gn
index 2262c7b..db86222 100644
--- a/media/cast/BUILD.gn
+++ b/media/cast/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("cast") {
@@ -207,208 +207,5 @@ source_set("receiver") {
 }
 
-static_library("test_support") {
-  testonly = true
-  sources = [
-    # TODO(hclam): FFmpeg.
-    #    "test/fake_media_source.cc",
-    #    "test/fake_media_source.h",
-    "test/fake_single_thread_task_runner.cc",
-    "test/fake_single_thread_task_runner.h",
-    "test/loopback_transport.cc",
-    "test/loopback_transport.h",
-    "test/skewed_single_thread_task_runner.cc",
-    "test/skewed_single_thread_task_runner.h",
-    "test/skewed_tick_clock.cc",
-    "test/skewed_tick_clock.h",
-    "test/utility/audio_utility.cc",
-    "test/utility/audio_utility.h",
-    "test/utility/barcode.cc",
-    "test/utility/barcode.h",
-    "test/utility/default_config.cc",
-    "test/utility/default_config.h",
-    "test/utility/in_process_receiver.cc",
-    "test/utility/in_process_receiver.h",
-    "test/utility/input_builder.cc",
-    "test/utility/input_builder.h",
-    "test/utility/net_utility.cc",
-    "test/utility/net_utility.h",
-    "test/utility/standalone_cast_environment.cc",
-    "test/utility/standalone_cast_environment.h",
-    "test/utility/udp_proxy.cc",
-    "test/utility/udp_proxy.h",
-    "test/utility/video_utility.cc",
-    "test/utility/video_utility.h",
-  ]
-
-  deps = [
-    ":net",
-    ":receiver",
-    "//base/test:test_support",
-    "//testing/gtest",
-
-    # TODO(hclam): Does not build on ARM yet.
-    #    "//third_party/ffmpeg",
-    "//third_party/libyuv",
-    "//third_party/mt19937ar",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-  ]
-}
-
-test("cast_unittests") {
-  sources = [
-    "logging/encoding_event_subscriber_unittest.cc",
-    "logging/logging_impl_unittest.cc",
-    "logging/logging_raw_unittest.cc",
-    "logging/receiver_time_offset_estimator_impl_unittest.cc",
-    "logging/serialize_deserialize_test.cc",
-    "logging/simple_event_subscriber_unittest.cc",
-    "logging/stats_event_subscriber_unittest.cc",
-    "net/cast_transport_sender_impl_unittest.cc",
-    "net/mock_cast_transport_sender.cc",
-    "net/mock_cast_transport_sender.h",
-    "net/pacing/mock_paced_packet_sender.cc",
-    "net/pacing/mock_paced_packet_sender.h",
-    "net/pacing/paced_sender_unittest.cc",
-    "net/rtcp/receiver_rtcp_event_subscriber_unittest.cc",
-    "net/rtcp/rtcp_builder_unittest.cc",
-    "net/rtcp/rtcp_unittest.cc",
-    "net/rtcp/rtcp_utility_unittest.cc",
-
-    # TODO(miu): The following two are test utility modules.  Rename/move the files.
-    "net/rtcp/test_rtcp_packet_builder.cc",
-    "net/rtcp/test_rtcp_packet_builder.h",
-    "net/rtp/cast_message_builder_unittest.cc",
-    "net/rtp/frame_buffer_unittest.cc",
-    "net/rtp/framer_unittest.cc",
-    "net/rtp/mock_rtp_payload_feedback.cc",
-    "net/rtp/mock_rtp_payload_feedback.h",
-    "net/rtp/packet_storage_unittest.cc",
-    "net/rtp/receiver_stats_unittest.cc",
-    "net/rtp/rtp_header_parser.cc",
-    "net/rtp/rtp_header_parser.h",
-    "net/rtp/rtp_packet_builder.cc",
-    "net/rtp/rtp_packetizer_unittest.cc",
-    "net/rtp/rtp_parser_unittest.cc",
-    "net/rtp/rtp_receiver_defines.h",
-    "net/udp_transport_unittest.cc",
-    "receiver/audio_decoder_unittest.cc",
-    "receiver/frame_receiver_unittest.cc",
-    "receiver/video_decoder_unittest.cc",
-    "sender/audio_encoder_unittest.cc",
-    "sender/audio_sender_unittest.cc",
-    "sender/congestion_control_unittest.cc",
-    "sender/fake_video_encode_accelerator_factory.cc",
-    "sender/fake_video_encode_accelerator_factory.h",
-    "sender/video_encoder_unittest.cc",
-    "sender/video_sender_unittest.cc",
-    "test/end2end_unittest.cc",
-    "test/fake_receiver_time_offset_estimator.cc",
-    "test/fake_receiver_time_offset_estimator.h",
-    "test/utility/audio_utility_unittest.cc",
-    "test/utility/barcode_unittest.cc",
-  ]
-
-  deps = [
-    ":common",
-    ":receiver",
-    ":sender",
-    ":test_support",
-    "//base/test:run_all_unittests",
-    "//base/test:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
-  ]
-}
-
-if (is_ios || is_mac) {
-  test("cast_h264_vt_encoder_unittests") {
-    sources = [
-      "sender/h264_vt_encoder_unittest.cc",
-    ]
-    deps = [
-      ":common",
-      ":sender",
-      ":test_support",
-      "//base/test:test_support",
-      "//testing/gmock",
-      "//testing/gtest",
-      "//third_party/ffmpeg",
-    ]
-  }
-}
-
-executable("generate_barcode_video") {
-  testonly = true
-  sources = [
-    "test/utility/generate_barcode_video.cc",
-  ]
-
-  deps = [
-    ":test_support",
-    "//base",
-    "//media",
-  ]
-}
-
-executable("generate_timecode_audio") {
-  testonly = true
-  sources = [
-    "test/utility/generate_timecode_audio.cc",
-  ]
-
-  deps = [
-    ":test_support",
-    "//base",
-    "//media",
-  ]
-}
-
-executable("udp_proxy") {
-  testonly = true
-  sources = [
-    "test/utility/udp_proxy_main.cc",
-  ]
-
-  deps = [
-    ":test_support",
-    "//base",
-    "//net",
-  ]
-}
-
-if (is_linux && !is_chromeos) {
-  # TODO(GYP): Figure out which of these work and are needed on other platforms.
-  test("cast_benchmarks") {
-    sources = [
-      "test/cast_benchmarks.cc",
-      "test/fake_single_thread_task_runner.cc",
-      "test/fake_single_thread_task_runner.h",
-      "test/utility/test_util.cc",
-      "test/utility/test_util.h",
-    ]
 
-    deps = [
-      ":common",
-      ":net",
-      ":receiver",
-      ":sender",
-      ":test_support",
-      "//base/test:test_support",
-      "//net",
-      "//testing/gtest",
-    ]
-  }
 
-  test("tap_proxy") {
-    sources = [
-      "test/utility/tap_proxy.cc",
-    ]
 
-    deps = [
-      ":test_support",
-      "//base",
-      "//media",
-    ]
-  }
-}
diff --git a/media/cast/logging/serialize_deserialize_test.cc b/media/cast/logging/serialize_deserialize_test.cc
index af36cda..358639d 100644
--- a/media/cast/logging/serialize_deserialize_test.cc
+++ b/media/cast/logging/serialize_deserialize_test.cc
@@ -11,5 +11,5 @@
 #include "media/cast/logging/logging_defines.h"
 #include "media/cast/logging/proto/proto_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using media::cast::proto::AggregatedFrameEvent;
diff --git a/media/cast/net/mock_cast_transport_sender.h b/media/cast/net/mock_cast_transport_sender.h
index 0827e1f..8b35a70 100644
--- a/media/cast/net/mock_cast_transport_sender.h
+++ b/media/cast/net/mock_cast_transport_sender.h
@@ -7,5 +7,5 @@
 
 #include "media/cast/net/cast_transport_sender.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/cast/net/pacing/mock_paced_packet_sender.h b/media/cast/net/pacing/mock_paced_packet_sender.h
index 1920ef2..0df31fa 100644
--- a/media/cast/net/pacing/mock_paced_packet_sender.h
+++ b/media/cast/net/pacing/mock_paced_packet_sender.h
@@ -7,5 +7,5 @@
 
 #include "media/cast/net/pacing/paced_sender.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/cast/net/rtp/mock_rtp_feedback.h b/media/cast/net/rtp/mock_rtp_feedback.h
index 44624ff..561a785 100644
--- a/media/cast/net/rtp/mock_rtp_feedback.h
+++ b/media/cast/net/rtp/mock_rtp_feedback.h
@@ -7,5 +7,5 @@
 
 #include "media/cast/net/rtp/rtp_parser/rtp_feedback.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/cast/net/rtp/mock_rtp_payload_feedback.h b/media/cast/net/rtp/mock_rtp_payload_feedback.h
index f46d318..2db99bc 100644
--- a/media/cast/net/rtp/mock_rtp_payload_feedback.h
+++ b/media/cast/net/rtp/mock_rtp_payload_feedback.h
@@ -7,5 +7,5 @@
 
 #include "media/cast/net/rtp/rtp_receiver_defines.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/media/cast/sender/external_video_encoder.cc b/media/cast/sender/external_video_encoder.cc
index fcabe5c..0fe794a 100644
--- a/media/cast/sender/external_video_encoder.cc
+++ b/media/cast/sender/external_video_encoder.cc
@@ -10,5 +10,5 @@
 #include "base/memory/shared_memory.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "media/base/video_frame.h"
 #include "media/base/video_util.h"
diff --git a/media/cast/test/cast_benchmarks.cc b/media/cast/test/cast_benchmarks.cc
index f376396..78dd79e 100644
--- a/media/cast/test/cast_benchmarks.cc
+++ b/media/cast/test/cast_benchmarks.cc
@@ -61,5 +61,5 @@
 #include "media/cast/test/utility/udp_proxy.h"
 #include "media/cast/test/utility/video_utility.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace media {
diff --git a/media/cast/test/fake_single_thread_task_runner.cc b/media/cast/test/fake_single_thread_task_runner.cc
index a2e3393..80b062a 100644
--- a/media/cast/test/fake_single_thread_task_runner.cc
+++ b/media/cast/test/fake_single_thread_task_runner.cc
@@ -7,5 +7,5 @@
 #include "base/logging.h"
 #include "base/time/tick_clock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace media {
diff --git a/media/cast/test/skewed_single_thread_task_runner.cc b/media/cast/test/skewed_single_thread_task_runner.cc
index fda7dfb..e71297f 100644
--- a/media/cast/test/skewed_single_thread_task_runner.cc
+++ b/media/cast/test/skewed_single_thread_task_runner.cc
@@ -7,5 +7,5 @@
 #include "base/logging.h"
 #include "base/time/tick_clock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace media {
diff --git a/media/ffmpeg/ffmpeg_common.cc b/media/ffmpeg/ffmpeg_common.cc
index 36d0e79..7f3248c 100644
--- a/media/ffmpeg/ffmpeg_common.cc
+++ b/media/ffmpeg/ffmpeg_common.cc
@@ -7,5 +7,5 @@
 #include "base/basictypes.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/media/filters/ffmpeg_demuxer.cc b/media/filters/ffmpeg_demuxer.cc
index be31709..a270148 100644
--- a/media/filters/ffmpeg_demuxer.cc
+++ b/media/filters/ffmpeg_demuxer.cc
@@ -14,5 +14,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/media/filters/ffmpeg_glue.cc b/media/filters/ffmpeg_glue.cc
index 20ebeaf..f61be1e 100644
--- a/media/filters/ffmpeg_glue.cc
+++ b/media/filters/ffmpeg_glue.cc
@@ -7,5 +7,5 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/synchronization/lock.h"
 #include "media/base/container_names.h"
diff --git a/media/filters/gpu_video_decoder.cc b/media/filters/gpu_video_decoder.cc
index 703cb20..e4dbf44 100644
--- a/media/filters/gpu_video_decoder.cc
+++ b/media/filters/gpu_video_decoder.cc
@@ -12,5 +12,5 @@
 #include "base/cpu.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/task_runner_util.h"
diff --git a/media/filters/stream_parser_factory.cc b/media/filters/stream_parser_factory.cc
index 23218bc..3f0fcdc 100644
--- a/media/filters/stream_parser_factory.cc
+++ b/media/filters/stream_parser_factory.cc
@@ -6,5 +6,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/media/media.gyp b/media/media.gyp
index d012137..17affad 100644
--- a/media/media.gyp
+++ b/media/media.gyp
@@ -1111,14 +1111,14 @@
     },
     {
-      # GN version: //media:media_unittests
-      'target_name': 'media_unittests',
+#      # GN version: //media:media_unittests
+#      'target_name': 'media_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         'media',
-        'media_test_support',
+#        'media_test_support',
         'shared_memory_support',
         '../base/base.gyp:base',
         '../base/base.gyp:base_i18n',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../gpu/gpu.gyp:command_buffer_common',
         '../skia/skia.gyp:skia',
@@ -1128,129 +1128,129 @@
         '../ui/gfx/gfx.gyp:gfx',
         '../ui/gfx/gfx.gyp:gfx_geometry',
-        '../ui/gfx/gfx.gyp:gfx_test_support',
+#        '../ui/gfx/gfx.gyp:gfx_test_support',
         '../url/url.gyp:url_lib',
       ],
       'sources': [
-        'audio/alsa/alsa_output_unittest.cc',
-        'audio/android/audio_android_unittest.cc',
-        'audio/audio_input_controller_unittest.cc',
-        'audio/audio_input_unittest.cc',
-        'audio/audio_input_volume_unittest.cc',
-        'audio/audio_low_latency_input_output_unittest.cc',
-        'audio/audio_manager_unittest.cc',
-        'audio/audio_output_controller_unittest.cc',
-        'audio/audio_output_device_unittest.cc',
-        'audio/audio_output_proxy_unittest.cc',
-        'audio/audio_parameters_unittest.cc',
-        'audio/audio_power_monitor_unittest.cc',
-        'audio/fake_audio_worker_unittest.cc',
-        'audio/mac/audio_auhal_mac_unittest.cc',
-        'audio/mac/audio_device_listener_mac_unittest.cc',
-        'audio/mac/audio_low_latency_input_mac_unittest.cc',
-        'audio/simple_sources_unittest.cc',
-        'audio/sounds/audio_stream_handler_unittest.cc',
-        'audio/sounds/sounds_manager_unittest.cc',
+#        'audio/alsa/alsa_output_unittest.cc',
+#        'audio/android/audio_android_unittest.cc',
+#        'audio/audio_input_controller_unittest.cc',
+#        'audio/audio_input_unittest.cc',
+#        'audio/audio_input_volume_unittest.cc',
+#        'audio/audio_low_latency_input_output_unittest.cc',
+#        'audio/audio_manager_unittest.cc',
+#        'audio/audio_output_controller_unittest.cc',
+#        'audio/audio_output_device_unittest.cc',
+#        'audio/audio_output_proxy_unittest.cc',
+#        'audio/audio_parameters_unittest.cc',
+#        'audio/audio_power_monitor_unittest.cc',
+#        'audio/fake_audio_worker_unittest.cc',
+#        'audio/mac/audio_auhal_mac_unittest.cc',
+#        'audio/mac/audio_device_listener_mac_unittest.cc',
+#        'audio/mac/audio_low_latency_input_mac_unittest.cc',
+#        'audio/simple_sources_unittest.cc',
+#        'audio/sounds/audio_stream_handler_unittest.cc',
+#        'audio/sounds/sounds_manager_unittest.cc',
         'audio/sounds/test_data.cc',
         'audio/sounds/test_data.h',
-        'audio/sounds/wav_audio_handler_unittest.cc',
-        'audio/virtual_audio_input_stream_unittest.cc',
-        'audio/virtual_audio_output_stream_unittest.cc',
-        'audio/win/audio_device_listener_win_unittest.cc',
-        'audio/win/audio_low_latency_input_win_unittest.cc',
-        'audio/win/audio_low_latency_output_win_unittest.cc',
-        'audio/win/audio_output_win_unittest.cc',
-        'audio/win/core_audio_util_win_unittest.cc',
-        'base/android/media_codec_bridge_unittest.cc',
-        'base/android/media_drm_bridge_unittest.cc',
-        'base/android/media_source_player_unittest.cc',
-        'base/audio_block_fifo_unittest.cc',
-        'base/audio_buffer_converter_unittest.cc',
-        'base/audio_buffer_queue_unittest.cc',
-        'base/audio_buffer_unittest.cc',
-        'base/audio_bus_unittest.cc',
-        'base/audio_converter_unittest.cc',
-        'base/audio_discard_helper_unittest.cc',
-        'base/audio_fifo_unittest.cc',
-        'base/audio_hardware_config_unittest.cc',
-        'base/audio_hash_unittest.cc',
-        'base/audio_pull_fifo_unittest.cc',
-        'base/audio_renderer_mixer_input_unittest.cc',
-        'base/audio_renderer_mixer_unittest.cc',
-        'base/audio_shifter_unittest.cc',
-        'base/audio_splicer_unittest.cc',
-        'base/audio_timestamp_helper_unittest.cc',
-        'base/audio_video_metadata_extractor_unittest.cc',
-        'base/bind_to_current_loop_unittest.cc',
-        'base/bit_reader_unittest.cc',
+#        'audio/sounds/wav_audio_handler_unittest.cc',
+#        'audio/virtual_audio_input_stream_unittest.cc',
+#        'audio/virtual_audio_output_stream_unittest.cc',
+#        'audio/win/audio_device_listener_win_unittest.cc',
+#        'audio/win/audio_low_latency_input_win_unittest.cc',
+#        'audio/win/audio_low_latency_output_win_unittest.cc',
+#        'audio/win/audio_output_win_unittest.cc',
+#        'audio/win/core_audio_util_win_unittest.cc',
+#        'base/android/media_codec_bridge_unittest.cc',
+#        'base/android/media_drm_bridge_unittest.cc',
+#        'base/android/media_source_player_unittest.cc',
+#        'base/audio_block_fifo_unittest.cc',
+#        'base/audio_buffer_converter_unittest.cc',
+#        'base/audio_buffer_queue_unittest.cc',
+#        'base/audio_buffer_unittest.cc',
+#        'base/audio_bus_unittest.cc',
+#        'base/audio_converter_unittest.cc',
+#        'base/audio_discard_helper_unittest.cc',
+#        'base/audio_fifo_unittest.cc',
+#        'base/audio_hardware_config_unittest.cc',
+#        'base/audio_hash_unittest.cc',
+#        'base/audio_pull_fifo_unittest.cc',
+#        'base/audio_renderer_mixer_input_unittest.cc',
+#        'base/audio_renderer_mixer_unittest.cc',
+#        'base/audio_shifter_unittest.cc',
+#        'base/audio_splicer_unittest.cc',
+#        'base/audio_timestamp_helper_unittest.cc',
+#        'base/audio_video_metadata_extractor_unittest.cc',
+#        'base/bind_to_current_loop_unittest.cc',
+#        'base/bit_reader_unittest.cc',
         'base/callback_holder.h',
-        'base/callback_holder_unittest.cc',
-        'base/channel_mixer_unittest.cc',
-        'base/channel_mixing_matrix_unittest.cc',
-        'base/container_names_unittest.cc',
-        'base/data_buffer_unittest.cc',
-        'base/decoder_buffer_queue_unittest.cc',
-        'base/decoder_buffer_unittest.cc',
-        'base/djb2_unittest.cc',
-        'base/gmock_callback_support_unittest.cc',
-        'base/key_systems_unittest.cc',
-        'base/mac/video_frame_mac_unittests.cc',
-        'base/media_file_checker_unittest.cc',
-        'base/multi_channel_resampler_unittest.cc',
-        'base/pipeline_unittest.cc',
-        'base/ranges_unittest.cc',
-        'base/run_all_unittests.cc',
-        'base/seekable_buffer_unittest.cc',
-        'base/serial_runner_unittest.cc',
-        'base/sinc_resampler_unittest.cc',
-        'base/stream_parser_unittest.cc',
-        'base/text_ranges_unittest.cc',
-        'base/text_renderer_unittest.cc',
-        'base/time_delta_interpolator_unittest.cc',
-        'base/user_input_monitor_unittest.cc',
+#        'base/callback_holder_unittest.cc',
+#        'base/channel_mixer_unittest.cc',
+#        'base/channel_mixing_matrix_unittest.cc',
+#        'base/container_names_unittest.cc',
+#        'base/data_buffer_unittest.cc',
+#        'base/decoder_buffer_queue_unittest.cc',
+#        'base/decoder_buffer_unittest.cc',
+#        'base/djb2_unittest.cc',
+#        'base/gmock_callback_support_unittest.cc',
+#        'base/key_systems_unittest.cc',
+#        'base/mac/video_frame_mac_unittests.cc',
+#        'base/media_file_checker_unittest.cc',
+#        'base/multi_channel_resampler_unittest.cc',
+#        'base/pipeline_unittest.cc',
+#        'base/ranges_unittest.cc',
+#        'base/run_all_unittests.cc',
+#        'base/seekable_buffer_unittest.cc',
+#        'base/serial_runner_unittest.cc',
+#        'base/sinc_resampler_unittest.cc',
+#        'base/stream_parser_unittest.cc',
+#        'base/text_ranges_unittest.cc',
+#        'base/text_renderer_unittest.cc',
+#        'base/time_delta_interpolator_unittest.cc',
+#        'base/user_input_monitor_unittest.cc',
         'base/vector_math_testing.h',
-        'base/vector_math_unittest.cc',
-        'base/video_frame_pool_unittest.cc',
-        'base/video_frame_unittest.cc',
-        'base/video_util_unittest.cc',
-        'base/wall_clock_time_source_unittest.cc',
-        'base/yuv_convert_unittest.cc',
-        'blink/skcanvas_video_renderer_unittest.cc',
-        'cdm/aes_decryptor_unittest.cc',
-        'cdm/cenc_utils_unittest.cc',
-        'cdm/json_web_key_unittest.cc',
-        'ffmpeg/ffmpeg_common_unittest.cc',
-        'filters/audio_clock_unittest.cc',
-        'filters/audio_decoder_selector_unittest.cc',
-        'filters/audio_decoder_unittest.cc',
-        'filters/audio_file_reader_unittest.cc',
-        'filters/audio_renderer_algorithm_unittest.cc',
-        'filters/blocking_url_protocol_unittest.cc',
-        'filters/chunk_demuxer_unittest.cc',
-        'filters/decrypting_audio_decoder_unittest.cc',
-        'filters/decrypting_demuxer_stream_unittest.cc',
-        'filters/decrypting_video_decoder_unittest.cc',
+#        'base/vector_math_unittest.cc',
+#        'base/video_frame_pool_unittest.cc',
+#        'base/video_frame_unittest.cc',
+#        'base/video_util_unittest.cc',
+#        'base/wall_clock_time_source_unittest.cc',
+#        'base/yuv_convert_unittest.cc',
+#        'blink/skcanvas_video_renderer_unittest.cc',
+#        'cdm/aes_decryptor_unittest.cc',
+#        'cdm/cenc_utils_unittest.cc',
+#        'cdm/json_web_key_unittest.cc',
+#        'ffmpeg/ffmpeg_common_unittest.cc',
+#        'filters/audio_clock_unittest.cc',
+#        'filters/audio_decoder_selector_unittest.cc',
+#        'filters/audio_decoder_unittest.cc',
+#        'filters/audio_file_reader_unittest.cc',
+#        'filters/audio_renderer_algorithm_unittest.cc',
+#        'filters/blocking_url_protocol_unittest.cc',
+#        'filters/chunk_demuxer_unittest.cc',
+#        'filters/decrypting_audio_decoder_unittest.cc',
+#        'filters/decrypting_demuxer_stream_unittest.cc',
+#        'filters/decrypting_video_decoder_unittest.cc',
         'filters/fake_demuxer_stream.cc',
         'filters/fake_demuxer_stream.h',
-        'filters/fake_demuxer_stream_unittest.cc',
+#        'filters/fake_demuxer_stream_unittest.cc',
         'filters/fake_video_decoder.cc',
         'filters/fake_video_decoder.h',
-        'filters/fake_video_decoder_unittest.cc',
-        'filters/ffmpeg_demuxer_unittest.cc',
-        'filters/ffmpeg_glue_unittest.cc',
-        'filters/ffmpeg_video_decoder_unittest.cc',
-        'filters/file_data_source_unittest.cc',
-        'filters/frame_processor_unittest.cc',
-        'filters/h264_bit_reader_unittest.cc',
-        'filters/h264_parser_unittest.cc',
-        'filters/in_memory_url_protocol_unittest.cc',
-        'filters/jpeg_parser_unittest.cc',
-        'filters/source_buffer_stream_unittest.cc',
-        'filters/video_decoder_selector_unittest.cc',
-        'filters/video_frame_scheduler_impl_unittest.cc',
-        'filters/video_frame_scheduler_unittest.cc',
-        'filters/video_frame_stream_unittest.cc',
-        'filters/vp8_bool_decoder_unittest.cc',
-        'filters/vp8_parser_unittest.cc',
-        'formats/common/offset_byte_queue_unittest.cc',
+#        'filters/fake_video_decoder_unittest.cc',
+#        'filters/ffmpeg_demuxer_unittest.cc',
+#        'filters/ffmpeg_glue_unittest.cc',
+#        'filters/ffmpeg_video_decoder_unittest.cc',
+#        'filters/file_data_source_unittest.cc',
+#        'filters/frame_processor_unittest.cc',
+#        'filters/h264_bit_reader_unittest.cc',
+#        'filters/h264_parser_unittest.cc',
+#        'filters/in_memory_url_protocol_unittest.cc',
+#        'filters/jpeg_parser_unittest.cc',
+#        'filters/source_buffer_stream_unittest.cc',
+#        'filters/video_decoder_selector_unittest.cc',
+#        'filters/video_frame_scheduler_impl_unittest.cc',
+#        'filters/video_frame_scheduler_unittest.cc',
+#        'filters/video_frame_stream_unittest.cc',
+#        'filters/vp8_bool_decoder_unittest.cc',
+#        'filters/vp8_parser_unittest.cc',
+#        'formats/common/offset_byte_queue_unittest.cc',
         'formats/webm/cluster_builder.cc',
         'formats/webm/cluster_builder.h',
@@ -1259,24 +1259,24 @@
         'formats/webm/tracks_builder.cc',
         'formats/webm/tracks_builder.h',
-        'formats/webm/webm_cluster_parser_unittest.cc',
-        'formats/webm/webm_content_encodings_client_unittest.cc',
-        'formats/webm/webm_parser_unittest.cc',
-        'formats/webm/webm_tracks_parser_unittest.cc',
-        'formats/webm/webm_webvtt_parser_unittest.cc',
-        'midi/midi_manager_unittest.cc',
-        'midi/midi_manager_usb_unittest.cc',
-        'midi/midi_message_queue_unittest.cc',
-        'midi/midi_message_util_unittest.cc',
-        'midi/usb_midi_descriptor_parser_unittest.cc',
-        'midi/usb_midi_input_stream_unittest.cc',
-        'midi/usb_midi_output_stream_unittest.cc',
-        'renderers/audio_renderer_impl_unittest.cc',
-        'renderers/renderer_impl_unittest.cc',
-        'renderers/video_renderer_impl_unittest.cc',
+#        'formats/webm/webm_cluster_parser_unittest.cc',
+#        'formats/webm/webm_content_encodings_client_unittest.cc',
+#        'formats/webm/webm_parser_unittest.cc',
+#        'formats/webm/webm_tracks_parser_unittest.cc',
+#        'formats/webm/webm_webvtt_parser_unittest.cc',
+#        'midi/midi_manager_unittest.cc',
+#        'midi/midi_manager_usb_unittest.cc',
+#        'midi/midi_message_queue_unittest.cc',
+#        'midi/midi_message_util_unittest.cc',
+#        'midi/usb_midi_descriptor_parser_unittest.cc',
+#        'midi/usb_midi_input_stream_unittest.cc',
+#        'midi/usb_midi_output_stream_unittest.cc',
+#        'renderers/audio_renderer_impl_unittest.cc',
+#        'renderers/renderer_impl_unittest.cc',
+#        'renderers/video_renderer_impl_unittest.cc',
         'test/pipeline_integration_test.cc',
-        'test/pipeline_integration_test_base.cc',
-        'video/capture/fake_video_capture_device_unittest.cc',
-        'video/capture/video_capture_device_unittest.cc',
-        'video/h264_poc_unittest.cc',
+#        'test/pipeline_integration_test_base.cc',
+#        'video/capture/fake_video_capture_device_unittest.cc',
+#        'video/capture/video_capture_device_unittest.cc',
+#        'video/h264_poc_unittest.cc',
       ],
       'include_dirs': [
@@ -1296,19 +1296,19 @@
         }, {  # media_use_ffmpeg== 0
           'sources!': [
-            'base/audio_video_metadata_extractor_unittest.cc',
-            'base/container_names_unittest.cc',
-            'base/media_file_checker_unittest.cc',
-            'ffmpeg/ffmpeg_common_unittest.cc',
-            'filters/audio_decoder_unittest.cc',
-            'filters/audio_file_reader_unittest.cc',
-            'filters/blocking_url_protocol_unittest.cc',
-            'filters/ffmpeg_aac_bitstream_converter_unittest.cc',
-            'filters/ffmpeg_demuxer_unittest.cc',
-            'filters/ffmpeg_glue_unittest.cc',
-            'filters/ffmpeg_h264_to_annex_b_bitstream_converter_unittest.cc',
-            'filters/ffmpeg_video_decoder_unittest.cc',
-            'filters/in_memory_url_protocol_unittest.cc',
+#            'base/audio_video_metadata_extractor_unittest.cc',
+#            'base/container_names_unittest.cc',
+#            'base/media_file_checker_unittest.cc',
+#            'ffmpeg/ffmpeg_common_unittest.cc',
+#            'filters/audio_decoder_unittest.cc',
+#            'filters/audio_file_reader_unittest.cc',
+#            'filters/blocking_url_protocol_unittest.cc',
+#            'filters/ffmpeg_aac_bitstream_converter_unittest.cc',
+#            'filters/ffmpeg_demuxer_unittest.cc',
+#            'filters/ffmpeg_glue_unittest.cc',
+#            'filters/ffmpeg_h264_to_annex_b_bitstream_converter_unittest.cc',
+#            'filters/ffmpeg_video_decoder_unittest.cc',
+#            'filters/in_memory_url_protocol_unittest.cc',
             'test/pipeline_integration_test.cc',
-            'test/pipeline_integration_test_base.cc',
+#            'test/pipeline_integration_test_base.cc',
           ],
         }],
@@ -1334,8 +1334,8 @@
         ['OS=="android"', {
           'sources!': [
-            'audio/audio_input_volume_unittest.cc',
+#            'audio/audio_input_volume_unittest.cc',
           ],
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
             'player_android',
           ],
@@ -1345,6 +1345,6 @@
             ['use_cras==1', {
               'sources': [
-                'audio/cras/cras_input_unittest.cc',
-                'audio/cras/cras_unified_unittest.cc',
+#                'audio/cras/cras_input_unittest.cc',
+#                'audio/cras/cras_unified_unittest.cc',
               ],
               'defines': [
@@ -1356,42 +1356,42 @@
         ['target_arch != "arm" and chromeos == 1 and use_x11 == 1', {
           'sources': [
-            'filters/h264_bitstream_buffer_unittest.cc',
+#            'filters/h264_bitstream_buffer_unittest.cc',
           ],
         }],
         ['use_alsa==0', {
           'sources!': [
-            'audio/alsa/alsa_output_unittest.cc',
-            'audio/audio_low_latency_input_output_unittest.cc',
+#            'audio/alsa/alsa_output_unittest.cc',
+#            'audio/audio_low_latency_input_output_unittest.cc',
           ],
         }],
         ['target_arch=="ia32" or target_arch=="x64"', {
           'sources': [
-            'base/simd/convert_rgb_to_yuv_unittest.cc',
+#            'base/simd/convert_rgb_to_yuv_unittest.cc',
           ],
         }],
         ['proprietary_codecs==1', {
           'sources': [
-            'filters/ffmpeg_aac_bitstream_converter_unittest.cc',
-            'filters/ffmpeg_h264_to_annex_b_bitstream_converter_unittest.cc',
-            'filters/h264_to_annex_b_bitstream_converter_unittest.cc',
-            'formats/common/stream_parser_test_base.cc',
-            'formats/common/stream_parser_test_base.h',
-            'formats/mp2t/es_adapter_video_unittest.cc',
-            'formats/mp2t/es_parser_adts_unittest.cc',
-            'formats/mp2t/es_parser_h264_unittest.cc',
-            'formats/mp2t/es_parser_mpeg1audio_unittest.cc',
-            'formats/mp2t/es_parser_test_base.cc',
-            'formats/mp2t/es_parser_test_base.h',
-            'formats/mp2t/mp2t_stream_parser_unittest.cc',
-            'formats/mp2t/timestamp_unroller_unittest.cc',
-            'formats/mp4/aac_unittest.cc',
-            'formats/mp4/avc_unittest.cc',
-            'formats/mp4/box_reader_unittest.cc',
-            'formats/mp4/es_descriptor_unittest.cc',
-            'formats/mp4/mp4_stream_parser_unittest.cc',
-            'formats/mp4/sample_to_group_iterator_unittest.cc',
-            'formats/mp4/track_run_iterator_unittest.cc',
-            'formats/mpeg/adts_stream_parser_unittest.cc',
-            'formats/mpeg/mpeg1_audio_stream_parser_unittest.cc',
+#            'filters/ffmpeg_aac_bitstream_converter_unittest.cc',
+#            'filters/ffmpeg_h264_to_annex_b_bitstream_converter_unittest.cc',
+#            'filters/h264_to_annex_b_bitstream_converter_unittest.cc',
+#            'formats/common/stream_parser_test_base.cc',
+#            'formats/common/stream_parser_test_base.h',
+#            'formats/mp2t/es_adapter_video_unittest.cc',
+#            'formats/mp2t/es_parser_adts_unittest.cc',
+#            'formats/mp2t/es_parser_h264_unittest.cc',
+#            'formats/mp2t/es_parser_mpeg1audio_unittest.cc',
+#            'formats/mp2t/es_parser_test_base.cc',
+#            'formats/mp2t/es_parser_test_base.h',
+#            'formats/mp2t/mp2t_stream_parser_unittest.cc',
+#            'formats/mp2t/timestamp_unroller_unittest.cc',
+#            'formats/mp4/aac_unittest.cc',
+#            'formats/mp4/avc_unittest.cc',
+#            'formats/mp4/box_reader_unittest.cc',
+#            'formats/mp4/es_descriptor_unittest.cc',
+#            'formats/mp4/mp4_stream_parser_unittest.cc',
+#            'formats/mp4/sample_to_group_iterator_unittest.cc',
+#            'formats/mp4/track_run_iterator_unittest.cc',
+#            'formats/mpeg/adts_stream_parser_unittest.cc',
+#            'formats/mpeg/mpeg1_audio_stream_parser_unittest.cc',
           ],
         }],
@@ -1403,11 +1403,11 @@
         ['OS=="mac"', {
           'sources': [
-            'midi/midi_manager_mac_unittest.cc',
-            'video/capture/mac/video_capture_device_factory_mac_unittest.mm',
+#            'midi/midi_manager_mac_unittest.cc',
+#            'video/capture/mac/video_capture_device_factory_mac_unittest.mm',
           ]
         }],
 	['use_alsa==1', {
           'sources': [
-            'midi/midi_manager_alsa_unittest.cc',
+#            'midi/midi_manager_alsa_unittest.cc',
           ]
         }],
@@ -1415,17 +1415,17 @@
     },
     {
-      # GN version: //media:media_perftests
-      'target_name': 'media_perftests',
+#      # GN version: //media:media_perftests
+#      'target_name': 'media_perftests',
       'type': '<(gtest_target_type)',
       'dependencies': [
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
         '../testing/perf/perf_test.gyp:perf_test',
         '../ui/gfx/gfx.gyp:gfx',
-        '../ui/gfx/gfx.gyp:gfx_test_support',
+#        '../ui/gfx/gfx.gyp:gfx_test_support',
         '../ui/gfx/gfx.gyp:gfx_geometry',
         'media',
-        'media_test_support',
+#        'media_test_support',
         'shared_memory_support',
       ],
@@ -1434,10 +1434,10 @@
         'base/audio_converter_perftest.cc',
         'base/demuxer_perftest.cc',
-        'base/run_all_perftests.cc',
+#        'base/run_all_perftests.cc',
         'base/sinc_resampler_perftest.cc',
         'base/vector_math_perftest.cc',
         'base/yuv_convert_perftest.cc',
         'test/pipeline_integration_perftest.cc',
-        'test/pipeline_integration_test_base.cc',
+#        'test/pipeline_integration_test_base.cc',
       ],
       'conditions': [
@@ -1449,5 +1449,5 @@
         ['OS=="android"', {
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
             '../ui/gl/gl.gyp:gl',
           ],
@@ -1461,5 +1461,5 @@
             'base/demuxer_perftest.cc',
             'test/pipeline_integration_perftest.cc',
-            'test/pipeline_integration_test_base.cc',
+#            'test/pipeline_integration_test_base.cc',
           ],
         }],
@@ -1467,7 +1467,7 @@
     },
     {
-      # GN versions (it is split apart): //media:test_support,
-      # //media/base:test_support, and //media/audio:test_support
-      'target_name': 'media_test_support',
+#      # GN versions (it is split apart): //media:test_support,
+#      # //media/base:test_support, and //media/audio:test_support
+#      'target_name': 'media_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -1480,6 +1480,6 @@
       ],
       'sources': [
-        'audio/audio_unittest_util.cc',
-        'audio/audio_unittest_util.h',
+#        'audio/audio_unittest_util.cc',
+#        'audio/audio_unittest_util.h',
         'audio/mock_audio_manager.cc',
         'audio/mock_audio_manager.h',
@@ -1696,12 +1696,12 @@
         {
           # TODO(GN)
-          'target_name': 'media_unittests_apk',
+#          'target_name': 'media_unittests_apk',
           'type': 'none',
           'dependencies': [
             'media_java',
-            'media_unittests',
+#            'media_unittests',
           ],
           'variables': {
-            'test_suite_name': 'media_unittests',
+#            'test_suite_name': 'media_unittests',
           },
           'includes': ['../build/apk_test.gypi'],
@@ -1709,12 +1709,12 @@
         {
           # TODO(GN)
-          'target_name': 'media_perftests_apk',
+#          'target_name': 'media_perftests_apk',
           'type': 'none',
           'dependencies': [
             'media_java',
-            'media_perftests',
+#            'media_perftests',
           ],
           'variables': {
-            'test_suite_name': 'media_perftests',
+#            'test_suite_name': 'media_perftests',
           },
           'includes': ['../build/apk_test.gypi'],
@@ -1841,5 +1841,5 @@
           'type': 'executable',
           'dependencies': [
-            '../base/base.gyp:test_support_base',
+#            '../base/base.gyp:test_support_base',
             '../testing/gmock.gyp:gmock',
             '../testing/gtest.gyp:gtest',
@@ -1847,10 +1847,10 @@
             '../ui/gfx/gfx.gyp:gfx_geometry',
             'media',
-            'media_test_support',
+#            'media_test_support',
           ],
           'sources': [
-            'base/run_all_unittests.cc',
+#            'base/run_all_unittests.cc',
             'ffmpeg/ffmpeg_regression_tests.cc',
-            'test/pipeline_integration_test_base.cc',
+#            'test/pipeline_integration_test_base.cc',
           ],
           'conditions': [
@@ -1938,8 +1938,8 @@
       'targets': [
         {
-          'target_name': 'media_unittests_run',
+#          'target_name': 'media_unittests_run',
           'type': 'none',
           'dependencies': [
-            'media_unittests',
+#            'media_unittests',
           ],
           'includes': [
@@ -1947,5 +1947,5 @@
           ],
           'sources': [
-            'media_unittests.isolate',
+#            'media_unittests.isolate',
           ],
         },
diff --git a/media/media_options.gni b/media/media_options.gni
index 833b904..c8f9135 100644
--- a/media/media_options.gni
+++ b/media/media_options.gni
@@ -48,5 +48,5 @@ declare_args() {
   # Enables browser side Content Decryption Modules. Required for embedders
   # (e.g. Android and ChromeCast) that use a browser side CDM.
-  enable_browser_cdms = is_android
+  #enable_browser_cdms = is_android
 
   # Experiment to enable mojo based media renderer: http://crbug.com/431776
diff --git a/media/mojo/services/BUILD.gn b/media/mojo/services/BUILD.gn
index 30e4957..c2f9c5d 100644
--- a/media/mojo/services/BUILD.gn
+++ b/media/mojo/services/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//media/media_options.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/mojo/src/mojo/public/mojo_application.gni")
 
@@ -144,21 +144,4 @@ source_set("renderer_service") {
 }
 
-test("media_mojo_unittests") {
-  sources = [
-    "media_type_converters_unittest.cc",
-  ]
-
-  deps = [
-    ":converters",
-    "//base",
-    "//base/test:test_support",
-    "//media",
-    "//media/mojo/interfaces",
-    "//mojo/environment:chromium",
-    "//testing/gtest",
-    "//third_party/mojo/src/mojo/edk/system",
-    "//third_party/mojo/src/mojo/edk/test:run_all_unittests",
-  ]
-}
 
 if (!is_component_build) {
@@ -175,16 +158,4 @@ if (!is_component_build) {
   }
 
-  # Note, this 'test' must be loaded via mojo_shell as an app:
-  #
-  #   out/Debug/mojo_shell mojo:media_test
-  #
-  # To get "mojo_shell" you must specify "use_prebuilt_mojo_shell=true" in GN.
-  mojo_native_application("media_test") {
-    testonly = true
-
-    deps = [
-      "//media/test:mojo_pipeline_integration_tests",
-    ]
-  }
 }
 
@@ -200,12 +171,2 @@ group("services") {
 }
 
-group("tests") {
-  testonly = true
-  deps = [
-    ":media_mojo_unittests",
-  ]
-
-  if (!is_component_build) {
-    deps += [ ":media_test" ]
-  }
-}
diff --git a/media/renderers/audio_renderer_impl.cc b/media/renderers/audio_renderer_impl.cc
index 74ef1d2..fb95333 100644
--- a/media/renderers/audio_renderer_impl.cc
+++ b/media/renderers/audio_renderer_impl.cc
@@ -13,5 +13,5 @@
 #include "base/callback_helpers.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/single_thread_task_runner.h"
 #include "media/base/audio_buffer.h"
diff --git a/media/renderers/mock_gpu_video_accelerator_factories.h b/media/renderers/mock_gpu_video_accelerator_factories.h
index 85b1b3d..9d81c2a 100644
--- a/media/renderers/mock_gpu_video_accelerator_factories.h
+++ b/media/renderers/mock_gpu_video_accelerator_factories.h
@@ -11,5 +11,5 @@
 #include "media/video/video_decode_accelerator.h"
 #include "media/video/video_encode_accelerator.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 template <class T>
diff --git a/media/test/BUILD.gn b/media/test/BUILD.gn
index 60849c1..574e8f0 100644
--- a/media/test/BUILD.gn
+++ b/media/test/BUILD.gn
@@ -10,6 +10,6 @@ source_set("pipeline_integration_test_base") {
   if (media_use_ffmpeg) {
     sources = [
-      "pipeline_integration_test_base.cc",
-      "pipeline_integration_test_base.h",
+#      "pipeline_integration_test_base.cc",
+#      "pipeline_integration_test_base.h",
     ]
 
@@ -17,9 +17,9 @@ source_set("pipeline_integration_test_base") {
       "//base",
       "//media",
-      "//media:test_support",
-      "//media/audio:test_support",
-      "//media/base:test_support",
-      "//testing/gmock",
-      "//testing/gtest",
+#      "//media:test_support",
+#      "//media/audio:test_support",
+#      "//media/base:test_support",
+#      "//testing/gmock",
+#      "//testing/gtest",
     ]
   }
@@ -37,16 +37,16 @@ source_set("pipeline_integration_tests") {
 
     deps = [
-      ":pipeline_integration_test_base",
+#      ":pipeline_integration_test_base",
       "//base",
       "//media",
-      "//media:test_support",
-      "//media/audio:test_support",
-      "//media/base:test_support",
-      "//testing/gtest",
+#      "//media:test_support",
+#      "//media/audio:test_support",
+#      "//media/base:test_support",
+#      "//testing/gtest",
 
       # TODO(dalecurtis): Required since the gmock header is included in the
-      # header for pipeline_integration_test_base.h.  This should be moved into
+#      # header for pipeline_integration_test_base.h.  This should be moved into
       # the .cc file to avoid the extra dependency here.
-      "//testing/gmock",
+#      "//testing/gmock",
     ]
   }
@@ -62,13 +62,13 @@ source_set("pipeline_integration_perftests") {
 
     deps = [
-      ":pipeline_integration_test_base",
-      "//media/base:test_support",
-      "//testing/gtest",
-      "//testing/perf",
+#      ":pipeline_integration_test_base",
+#      "//media/base:test_support",
+#      "//testing/gtest",
+#      "//testing/perf",
 
       # TODO(dalecurtis): Required since the gmock header is included in the
-      # header for pipeline_integration_test_base.h.  This should be moved into
+#      # header for pipeline_integration_test_base.h.  This should be moved into
       # the .cc file to avoid the extra dependency here.
-      "//testing/gmock",
+#      "//testing/gmock",
     ]
   }
@@ -89,11 +89,11 @@ if (!is_component_build) {
 
       deps = [
-        ":pipeline_integration_test_base",
+#        ":pipeline_integration_test_base",
         "//base",
-        "//base/test:test_support",
+#        "//base/test:test_support",
         "//media",
-        "//media:test_support",
-        "//media/audio:test_support",
-        "//media/base:test_support",
+#        "//media:test_support",
+#        "//media/audio:test_support",
+#        "//media/base:test_support",
         "//media/mojo/interfaces",
         "//media/mojo/services:media",
@@ -101,13 +101,13 @@ if (!is_component_build) {
         "//media/mojo/services:renderer_service",
         "//mojo/application",
-        "//mojo/application:test_support",
-        "//testing/gtest",
+#        "//mojo/application:test_support",
+#        "//testing/gtest",
         "//ui/gfx/geometry",
-        "//ui/gfx:test_support",
+#        "//ui/gfx:test_support",
 
         # TODO(dalecurtis): Required since the gmock header is included in the
-        # header for pipeline_integration_test_base.h.  This should be moved into
+#        # header for pipeline_integration_test_base.h.  This should be moved into
         # the .cc file to avoid the extra dependency here.
-        "//testing/gmock",
+#        "//testing/gmock",
       ]
     }
diff --git a/media/test/pipeline_integration_perftest.cc b/media/test/pipeline_integration_perftest.cc
index e09de39..204b24b 100644
--- a/media/test/pipeline_integration_perftest.cc
+++ b/media/test/pipeline_integration_perftest.cc
@@ -5,5 +5,5 @@
 #include "media/base/test_data_util.h"
 #include "media/test/pipeline_integration_test_base.h"
-#include "testing/perf/perf_test.h"
+//#include "testing/perf/perf_test.h"
 
 namespace media {
diff --git a/media/test/pipeline_integration_test.cc b/media/test/pipeline_integration_test.cc
index bf502df..a6d703b 100644
--- a/media/test/pipeline_integration_test.cc
+++ b/media/test/pipeline_integration_test.cc
@@ -21,5 +21,5 @@
 #include "media/renderers/renderer_impl.h"
 #include "media/test/pipeline_integration_test_base.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 #if defined(MOJO_RENDERER)
diff --git a/media/video/capture/win/video_capture_device_factory_win.cc b/media/video/capture/win/video_capture_device_factory_win.cc
index f254445..8ea1aeb 100644
--- a/media/video/capture/win/video_capture_device_factory_win.cc
+++ b/media/video/capture/win/video_capture_device_factory_win.cc
@@ -10,5 +10,5 @@
 #include "base/command_line.h"
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/sys_string_conversions.h"
diff --git a/media/video/mock_video_decode_accelerator.h b/media/video/mock_video_decode_accelerator.h
index f8bb6da..3779ecd 100644
--- a/media/video/mock_video_decode_accelerator.h
+++ b/media/video/mock_video_decode_accelerator.h
@@ -14,5 +14,5 @@
 #include "media/base/video_decoder_config.h"
 #include "media/video/picture.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace media {
diff --git a/mojo/android/BUILD.gn b/mojo/android/BUILD.gn
index d99e716..917a1f6 100644
--- a/mojo/android/BUILD.gn
+++ b/mojo/android/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 group("android") {
@@ -10,5 +10,5 @@ group("android") {
     ":system_java",
     ":mojo_javatests",
-    ":mojo_test_apk",
+#    ":mojo_test_apk",
   ]
 }
@@ -92,6 +92,6 @@ android_library("mojo_javatests") {
     ":system_java",
     "//base:base_java",
-    "//base:base_java_test_support",
-    "//third_party/mojo/src/mojo/public/interfaces/bindings/tests:test_interfaces_java",
+#    "//base:base_java_test_support",
+#    "//third_party/mojo/src/mojo/public/interfaces/bindings/tests:test_interfaces_java",
     "//third_party/mojo/src/mojo/public/java:bindings",
     "//third_party/mojo/src/mojo/public/java:system",
@@ -104,8 +104,8 @@ shared_library("mojo_java_unittests") {
   sources = [
     "javatests/init_library.cc",
-    "javatests/mojo_test_case.cc",
-    "javatests/mojo_test_case.h",
-    "javatests/validation_test_util.cc",
-    "javatests/validation_test_util.h",
+#    "javatests/mojo_test_case.cc",
+#    "javatests/mojo_test_case.h",
+#    "javatests/validation_test_util.cc",
+#    "javatests/validation_test_util.h",
   ]
 
@@ -115,9 +115,9 @@ shared_library("mojo_java_unittests") {
     ":system_java_jni_headers",
     "//base",
-    "//base/test/:test_support",
+#    "//base/test/:test_support",
     "//mojo/common",
     "//third_party/mojo/src/mojo/edk/system",
-    "//third_party/mojo/src/mojo/public/cpp/bindings/tests:mojo_public_bindings_test_utils",
-    "//third_party/mojo/src/mojo/public/cpp/test_support:test_utils",
+#    "//third_party/mojo/src/mojo/public/cpp/bindings/tests:mojo_public_bindings_test_utils",
+#    "//third_party/mojo/src/mojo/public/cpp/test_support:test_utils",
     "//third_party/mojo/src/mojo/public/cpp/environment",
   ]
@@ -125,15 +125,15 @@ shared_library("mojo_java_unittests") {
 }
 
-android_apk("mojo_test_apk") {
+#android_apk("mojo_test_apk") {
   testonly = true
   deps = [
     ":mojo_javatests",
-    ":mojo_java_unittests",
+#    ":mojo_java_unittests",
     ":system_java",
     "//base:base_java",
     "//third_party/mojo/src/mojo/public/java:bindings",
-    "//third_party/mojo/src/mojo/public/interfaces/bindings/tests:test_interfaces",
+#    "//third_party/mojo/src/mojo/public/interfaces/bindings/tests:test_interfaces",
   ]
-  native_libs = [ "libmojo_java_unittests.so" ]
+#  native_libs = [ "libmojo_java_unittests.so" ]
   apk_name = "MojoTest"
   android_manifest = "javatests/AndroidManifest.xml"
diff --git a/mojo/application/BUILD.gn b/mojo/application/BUILD.gn
index dda877e..d42d839 100644
--- a/mojo/application/BUILD.gn
+++ b/mojo/application/BUILD.gn
@@ -23,9 +23,9 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "application_test_main_chromium.cc",
+#    "application_test_main_chromium.cc",
   ]
 
   public_deps = [
-    "//third_party/mojo/src/mojo/public/cpp/application:test_support",
+#    "//third_party/mojo/src/mojo/public/cpp/application:test_support",
   ]
   deps = [
diff --git a/mojo/BUILD.gn b/mojo/BUILD.gn
index f4432cd..a3e386f 100644
--- a/mojo/BUILD.gn
+++ b/mojo/BUILD.gn
@@ -23,15 +23,15 @@ group("tests") {
   testonly = true
   deps = [
-    "//mojo/common:mojo_common_unittests",
-    "//mojo/converters/surfaces/tests:mojo_surfaces_lib_unittests",
-    "//third_party/mojo/src/mojo/edk/js/test:js_unittests",
-    "//third_party/mojo/src/mojo/edk/system:mojo_message_pipe_perftests",
-    "//third_party/mojo/src/mojo/edk/system:mojo_system_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_application_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_bindings_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_environment_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_system_perftests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_system_unittests",
-    "//third_party/mojo/src/mojo/edk/test:mojo_public_utility_unittests",
+#    "//mojo/common:mojo_common_unittests",
+#    "//mojo/converters/surfaces/tests:mojo_surfaces_lib_unittests",
+#    "//third_party/mojo/src/mojo/edk/js/test:js_unittests",
+#    "//third_party/mojo/src/mojo/edk/system:mojo_message_pipe_perftests",
+#    "//third_party/mojo/src/mojo/edk/system:mojo_system_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_application_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_bindings_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_environment_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_system_perftests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_system_unittests",
+#    "//third_party/mojo/src/mojo/edk/test:mojo_public_utility_unittests",
   ]
 }
diff --git a/mojo/common/BUILD.gn b/mojo/common/BUILD.gn
index 8044698..92b8dd7 100644
--- a/mojo/common/BUILD.gn
+++ b/mojo/common/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 group("common") {
@@ -56,23 +56,2 @@ source_set("url_type_converters") {
 }
 
-# GYP version: mojo/mojo_base.gyp:mojo_common_unittests
-test("mojo_common_unittests") {
-  deps = [
-    ":common",
-    "//base",
-    "//base:message_loop_tests",
-    "//mojo/environment:chromium",
-    "//testing/gtest",
-    "//third_party/mojo/src/mojo/edk/test:run_all_unittests",
-    "//third_party/mojo/src/mojo/edk/test:test_support",
-    "//third_party/mojo/src/mojo/public/cpp/bindings",
-    "//third_party/mojo/src/mojo/public/cpp/test_support:test_utils",
-    "//url",
-  ]
-
-  sources = [
-    "common_type_converters_unittest.cc",
-    "handle_watcher_unittest.cc",
-    "message_pump_mojo_unittest.cc",
-  ]
-}
diff --git a/mojo/mojo_base.gyp b/mojo/mojo_base.gyp
index 9f73e5de..f68d259 100644
--- a/mojo/mojo_base.gyp
+++ b/mojo/mojo_base.gyp
@@ -21,5 +21,5 @@
         # to be built.
         'mojo_common_lib',
-        'mojo_common_unittests',
+#        'mojo_common_unittests',
       ],
       'conditions': [
@@ -84,10 +84,10 @@
     },
     {
-      # GN version: //mojo/common:mojo_common_unittests
-      'target_name': 'mojo_common_unittests',
+#      # GN version: //mojo/common:mojo_common_unittests
+#      'target_name': 'mojo_common_unittests',
       'type': 'executable',
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../base/base.gyp:base_message_loop_tests',
         '../testing/gtest.gyp:gtest',
@@ -96,14 +96,14 @@
         'mojo_url_type_converters',
         '../third_party/mojo/mojo_edk.gyp:mojo_system_impl',
-        '../third_party/mojo/mojo_edk.gyp:mojo_common_test_support',
-        '../third_party/mojo/mojo_edk.gyp:mojo_run_all_unittests',
+#        '../third_party/mojo/mojo_edk.gyp:mojo_common_test_support',
+#        '../third_party/mojo/mojo_edk.gyp:mojo_run_all_unittests',
         'mojo_environment_chromium',
         '../third_party/mojo/mojo_public.gyp:mojo_cpp_bindings',
-        '../third_party/mojo/mojo_public.gyp:mojo_public_test_utils',
+#        '../third_party/mojo/mojo_public.gyp:mojo_public_test_utils',
       ],
       'sources': [
-        'common/common_type_converters_unittest.cc',
-        'common/handle_watcher_unittest.cc',
-        'common/message_pump_mojo_unittest.cc',
+#        'common/common_type_converters_unittest.cc',
+#        'common/handle_watcher_unittest.cc',
+#        'common/message_pump_mojo_unittest.cc',
       ],
     },
diff --git a/mojo/mojo_nacl_untrusted.gyp b/mojo/mojo_nacl_untrusted.gyp
index eeca342..ecbed6e 100644
--- a/mojo/mojo_nacl_untrusted.gyp
+++ b/mojo/mojo_nacl_untrusted.gyp
@@ -68,5 +68,5 @@
             ],
             'sources': [
-              '<@(mojo_public_system_unittest_sources)',
+#              '<@(mojo_public_system_unittest_sources)',
             ],
           },
diff --git a/mojo/nacl/BUILD.gn b/mojo/nacl/BUILD.gn
index d090455..b8528bb 100644
--- a/mojo/nacl/BUILD.gn
+++ b/mojo/nacl/BUILD.gn
@@ -55,7 +55,7 @@ if (!is_nacl) {
       # This target makes sure we have all the pre-processor defines needed to
       # use NaCl's headers.
-      "//native_client/build/config/nacl:nacl_base",
-      "//native_client/src/trusted/desc:nrd_xfer",
-      "//native_client/src/trusted/service_runtime:sel_main_chrome",
+#      "//native_client/build/config/nacl:nacl_base",
+#      "//native_client/src/trusted/desc:nrd_xfer",
+#      "//native_client/src/trusted/service_runtime:sel_main_chrome",
       ":mojo_nacl_codegen($default_toolchain)",
     ]
@@ -97,7 +97,7 @@ if (is_nacl) {
 
     public_deps = [
-      "//native_client/build/config/nacl:nacl_base",
-      "//native_client/src/untrusted/irt:irt_core_lib",
-      "//native_client/src/untrusted/nacl:imc_syscalls",
+#      "//native_client/build/config/nacl:nacl_base",
+#      "//native_client/src/untrusted/irt:irt_core_lib",
+#      "//native_client/src/untrusted/nacl:imc_syscalls",
       ":mojo_nacl_codegen($default_toolchain)",
     ]
diff --git a/mojo/services/html_viewer/BUILD.gn b/mojo/services/html_viewer/BUILD.gn
index 4a8d409..3e3b5e8 100644
--- a/mojo/services/html_viewer/BUILD.gn
+++ b/mojo/services/html_viewer/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/mojo/src/mojo/public/mojo.gni")
 import("//third_party/mojo/src/mojo/public/mojo_application.gni")
@@ -120,12 +120,2 @@ mojo_native_application("html_viewer") {
 }
 
-test("tests") {
-  output_name = "html_viewer_unittests"
-  sources = [
-    "ax_provider_impl_unittest.cc",
-  ]
-  deps = [
-    ":lib",
-    "//base/test:run_all_unittests",
-  ]
-}
diff --git a/mojo/services/network/BUILD.gn b/mojo/services/network/BUILD.gn
index 5484402..18ad77e 100644
--- a/mojo/services/network/BUILD.gn
+++ b/mojo/services/network/BUILD.gn
@@ -6,5 +6,5 @@ import("//third_party/mojo/src/mojo/public/mojo_application.gni")
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 
   java_library_path = "$target_out_dir/java_library.dex.jar"
@@ -118,11 +118,11 @@ mojo_native_application("apptests") {
     "//base",
     "//mojo/application",
-    "//mojo/application:test_support",
+#    "//mojo/application:test_support",
     "//mojo/common",
     "//mojo/services/network/public/cpp",
     "//mojo/services/network/public/interfaces",
     "//net",
-    "//net:test_support",
-    "//testing/gtest",
+#    "//net:test_support",
+#    "//testing/gtest",
     "//third_party/mojo/src/mojo/public/cpp/bindings",
     "//third_party/mojo/src/mojo/public/cpp/bindings:callback",
diff --git a/mojo/services/network/udp_socket_apptest.cc b/mojo/services/network/udp_socket_apptest.cc
index 9c783f6..b9ed720 100644
--- a/mojo/services/network/udp_socket_apptest.cc
+++ b/mojo/services/network/udp_socket_apptest.cc
@@ -14,5 +14,5 @@
 #include "mojo/services/network/public/interfaces/udp_socket.mojom.h"
 #include "net/base/net_errors.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace mojo {
diff --git a/mojo/services/network/url_loader_impl_apptest.cc b/mojo/services/network/url_loader_impl_apptest.cc
index 32a0cba..37e2c7a 100644
--- a/mojo/services/network/url_loader_impl_apptest.cc
+++ b/mojo/services/network/url_loader_impl_apptest.cc
@@ -15,5 +15,5 @@
 #include "net/url_request/url_request_job_factory_impl.h"
 #include "net/url_request/url_request_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace mojo {
diff --git a/net/android/BUILD.gn b/net/android/BUILD.gn
index db15835..20c7f4d 100644
--- a/net/android/BUILD.gn
+++ b/net/android/BUILD.gn
@@ -3,6 +3,6 @@
 # found in the LICENSE file.
 
-import("//build/config/android/config.gni")
-import("//build/config/android/rules.gni")
+#import("//build/config/android/config.gni")
+#import("//build/config/android/rules.gni")
 
 android_library("net_java") {
@@ -36,5 +36,5 @@ android_library("net_javatests") {
   deps = [
     "//base:base_java",
-    "//base:base_java_test_support",
+#    "//base:base_java_test_support",
     ":net_java",
   ]
@@ -69,11 +69,11 @@ java_cpp_enum("net_android_java_enums_srcjar") {
 # TODO(GYP)
 if (false) {
-  unittest_apk("net_unittests_apk") {
+#  unittest_apk("net_unittests_apk") {
     deps = [
       ":net_java",
       ":net_javatests",
-      "//net:net_unittests",
+#      "//net:net_unittests",
     ]
-    unittests_dep = "//net:net_unittests"
+#    unittests_dep = "//net:net_unittests"
   }
 }
diff --git a/net/base/bandwidth_metrics.h b/net/base/bandwidth_metrics.h
index 679d65a..38e30d5 100644
--- a/net/base/bandwidth_metrics.h
+++ b/net/base/bandwidth_metrics.h
@@ -9,5 +9,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 
diff --git a/net/base/connection_type_histograms.cc b/net/base/connection_type_histograms.cc
index e64619c..dd6dd9a 100644
--- a/net/base/connection_type_histograms.cc
+++ b/net/base/connection_type_histograms.cc
@@ -5,5 +5,5 @@
 #include "net/base/connection_type_histograms.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace net {
diff --git a/net/base/file_stream_context_posix.cc b/net/base/file_stream_context_posix.cc
index 44f59b1..356f7ac 100644
--- a/net/base/file_stream_context_posix.cc
+++ b/net/base/file_stream_context_posix.cc
@@ -14,5 +14,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/posix/eintr_wrapper.h"
 #include "base/task_runner.h"
diff --git a/net/base/file_stream_context_win.cc b/net/base/file_stream_context_win.cc
index a41a74c..9bef287 100644
--- a/net/base/file_stream_context_win.cc
+++ b/net/base/file_stream_context_win.cc
@@ -11,5 +11,5 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/task_runner.h"
 #include "base/threading/worker_pool.h"
diff --git a/net/base/mime_sniffer.cc b/net/base/mime_sniffer.cc
index 0d1f116..b117f30 100644
--- a/net/base/mime_sniffer.cc
+++ b/net/base/mime_sniffer.cc
@@ -99,5 +99,5 @@
 #include "base/basictypes.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "net/base/mime_util.h"
diff --git a/net/base/net_errors.cc b/net/base/net_errors.cc
index 55cdebb..43b2b1e 100644
--- a/net/base/net_errors.cc
+++ b/net/base/net_errors.cc
@@ -6,5 +6,5 @@
 
 #include "base/basictypes.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringize_macros.h"
 
diff --git a/net/base/net_log_util.cc b/net/base/net_log_util.cc
index 75be128..0672456 100644
--- a/net/base/net_log_util.cc
+++ b/net/base/net_log_util.cc
@@ -11,5 +11,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/net/base/network_change_notifier.cc b/net/base/network_change_notifier.cc
index 3ec6369..cb8b9cb 100644
--- a/net/base/network_change_notifier.cc
+++ b/net/base/network_change_notifier.cc
@@ -7,5 +7,5 @@
 #include <limits>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/synchronization/lock.h"
 #include "base/threading/thread_checker.h"
@@ -18,5 +18,5 @@
 
 #if defined(OS_ANDROID)
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "net/android/network_library.h"
diff --git a/net/base/network_change_notifier_win.cc b/net/base/network_change_notifier_win.cc
index 6204c4c..c51581f 100644
--- a/net/base/network_change_notifier_win.cc
+++ b/net/base/network_change_notifier_win.cc
@@ -10,5 +10,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/threading/thread.h"
diff --git a/net/base/registry_controlled_domains/BUILD.gn b/net/base/registry_controlled_domains/BUILD.gn
index d231ac1..7aeab13 100644
--- a/net/base/registry_controlled_domains/BUILD.gn
+++ b/net/base/registry_controlled_domains/BUILD.gn
@@ -7,10 +7,10 @@ action_foreach("registry_controlled_domains") {
   sources = [
     "effective_tld_names.gperf",
-    "effective_tld_names_unittest1.gperf",
-    "effective_tld_names_unittest2.gperf",
-    "effective_tld_names_unittest3.gperf",
-    "effective_tld_names_unittest4.gperf",
-    "effective_tld_names_unittest5.gperf",
-    "effective_tld_names_unittest6.gperf",
+#    "effective_tld_names_unittest1.gperf",
+#    "effective_tld_names_unittest2.gperf",
+#    "effective_tld_names_unittest3.gperf",
+#    "effective_tld_names_unittest4.gperf",
+#    "effective_tld_names_unittest5.gperf",
+#    "effective_tld_names_unittest6.gperf",
   ]
   outputs = [
diff --git a/net/base/sdch_manager.cc b/net/base/sdch_manager.cc
index bcb5e32..73b4663 100644
--- a/net/base/sdch_manager.cc
+++ b/net/base/sdch_manager.cc
@@ -7,5 +7,5 @@
 #include "base/base64.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/net/BUILD.gn b/net/BUILD.gn
index e9e673767..402091b 100644
--- a/net/BUILD.gn
+++ b/net/BUILD.gn
@@ -8,5 +8,5 @@ import("//build/config/ui.gni")
 import("//build/module_args/v8.gni")
 import("//url/config.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 # TODO(cjhopman): //build/config/android/rules.gni also imports grit_rule.gni.
@@ -18,6 +18,6 @@ if (!is_android) {
 
 if (is_android) {
-  import("//build/config/android/config.gni")
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/config.gni")
+#  import("//build/config/android/rules.gni")
 } else if (is_mac) {
   import("//build/config/mac/mac_sdk.gni")
@@ -596,144 +596,8 @@ executable("dump_cache") {
     "//base",
     ":net",
-    ":test_support",
+#    ":test_support",
   ]
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "base/captured_net_log_entry.cc",
-    "base/captured_net_log_entry.h",
-    "base/capturing_net_log.cc",
-    "base/capturing_net_log.h",
-    "base/capturing_net_log_observer.cc",
-    "base/capturing_net_log_observer.h",
-    "base/load_timing_info_test_util.cc",
-    "base/load_timing_info_test_util.h",
-    "base/mock_file_stream.cc",
-    "base/mock_file_stream.h",
-    "base/test_completion_callback.cc",
-    "base/test_completion_callback.h",
-    "base/test_data_directory.cc",
-    "base/test_data_directory.h",
-    "cert/mock_cert_verifier.cc",
-    "cert/mock_cert_verifier.h",
-    "cookies/cookie_monster_store_test.cc",
-    "cookies/cookie_monster_store_test.h",
-    "cookies/cookie_store_test_callbacks.cc",
-    "cookies/cookie_store_test_callbacks.h",
-    "cookies/cookie_store_test_helpers.cc",
-    "cookies/cookie_store_test_helpers.h",
-    "disk_cache/disk_cache_test_base.cc",
-    "disk_cache/disk_cache_test_base.h",
-    "disk_cache/disk_cache_test_util.cc",
-    "disk_cache/disk_cache_test_util.h",
-    "dns/dns_test_util.cc",
-    "dns/dns_test_util.h",
-    "dns/mock_host_resolver.cc",
-    "dns/mock_host_resolver.h",
-    "dns/mock_mdns_socket_factory.cc",
-    "dns/mock_mdns_socket_factory.h",
-    "http/http_transaction_test_util.cc",
-    "http/http_transaction_test_util.h",
-    "proxy/mock_proxy_resolver.cc",
-    "proxy/mock_proxy_resolver.h",
-    "proxy/mock_proxy_script_fetcher.cc",
-    "proxy/mock_proxy_script_fetcher.h",
-    "proxy/proxy_config_service_common_unittest.cc",
-    "proxy/proxy_config_service_common_unittest.h",
-    "socket/socket_test_util.cc",
-    "socket/socket_test_util.h",
-    "test/cert_test_util.cc",
-    "test/cert_test_util.h",
-    "test/cert_test_util_nss.cc",
-    "test/ct_test_util.cc",
-    "test/ct_test_util.h",
-    "test/embedded_test_server/embedded_test_server.cc",
-    "test/embedded_test_server/embedded_test_server.h",
-    "test/embedded_test_server/http_connection.cc",
-    "test/embedded_test_server/http_connection.h",
-    "test/embedded_test_server/http_request.cc",
-    "test/embedded_test_server/http_request.h",
-    "test/embedded_test_server/http_response.cc",
-    "test/embedded_test_server/http_response.h",
-    "test/event_waiter.h",
-    "test/net_test_suite.cc",
-    "test/net_test_suite.h",
-    "test/python_utils.cc",
-    "test/python_utils.h",
-    "test/spawned_test_server/base_test_server.cc",
-    "test/spawned_test_server/base_test_server.h",
-    "test/spawned_test_server/local_test_server.cc",
-    "test/spawned_test_server/local_test_server.h",
-    "test/spawned_test_server/local_test_server_posix.cc",
-    "test/spawned_test_server/local_test_server_win.cc",
-    "test/spawned_test_server/remote_test_server.cc",
-    "test/spawned_test_server/remote_test_server.h",
-    "test/spawned_test_server/spawned_test_server.h",
-    "test/spawned_test_server/spawner_communicator.cc",
-    "test/spawned_test_server/spawner_communicator.h",
-    "test/url_request/url_request_failed_job.cc",
-    "test/url_request/url_request_failed_job.h",
-    "test/url_request/url_request_mock_data_job.cc",
-    "test/url_request/url_request_mock_data_job.h",
-    "test/url_request/url_request_mock_http_job.cc",
-    "test/url_request/url_request_mock_http_job.h",
-    "test/url_request/url_request_slow_download_job.cc",
-    "test/url_request/url_request_slow_download_job.h",
-    "url_request/test_url_fetcher_factory.cc",
-    "url_request/test_url_fetcher_factory.h",
-    "url_request/test_url_request_interceptor.cc",
-    "url_request/test_url_request_interceptor.h",
-    "url_request/url_request_test_util.cc",
-    "url_request/url_request_test_util.h",
-  ]
-
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  public_deps = [
-    "//base",
-    "//base/test:test_support",
-    "//crypto",
-    "//net",
-    "//net/tools/tld_cleanup",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//url",
-  ]
-
-  if (!is_ios) {
-    public_deps += [ "//third_party/protobuf:py_proto" ]
-  }
-
-  if (!use_openssl && (use_nss_certs || is_ios)) {
-    public_deps += [ "//crypto:platform" ]
-  }
-
-  if (!is_android) {
-    sources -= [
-      "test/spawned_test_server/remote_test_server.cc",
-      "test/spawned_test_server/remote_test_server.h",
-      "test/spawned_test_server/spawner_communicator.cc",
-      "test/spawned_test_server/spawner_communicator.h",
-    ]
-  }
-
-  if (use_v8_in_net) {
-    public_deps += [ ":net_with_v8" ]
-  }
-
-  if (!enable_mdns) {
-    sources -= [
-      "dns/mock_mdns_socket_factory.cc",
-      "dns/mock_mdns_socket_factory.h",
-    ]
-  }
-
-  if (!use_nss_certs) {
-    sources -= [ "test/cert_test_util_nss.cc" ]
-  }
-}
 
 source_set("balsa") {
@@ -860,5 +724,5 @@ if (!is_ios && !is_android) {
     deps = [
       ":net",
-      ":test_support",
+#      ":test_support",
       "//base",
     ]
@@ -943,18 +807,4 @@ if (!is_ios && !is_android) {
   }
 
-  executable("run_testserver") {
-    testonly = true
-    sources = [
-      "tools/testserver/run_testserver.cc",
-    ]
-    deps = [
-      ":net",  # TODO(brettw) bug 363749: this shouldn't be necessary. It's not
-               # in the GYP build, and can be removed when the bug is fixed.
-      ":test_support",
-      "//base",
-      "//base/test:test_support",
-      "//testing/gtest",
-    ]
-  }
 
   executable("stress_cache") {
@@ -968,5 +818,5 @@ if (!is_ios && !is_android) {
     deps = [
       ":net",
-      ":test_support",
+#      ":test_support",
       "//base",
     ]
@@ -1045,24 +895,4 @@ if (is_linux) {
   }
 
-  executable("flip_in_mem_edsm_server_unittests") {
-    testonly = true
-    sources = [
-      "tools/flip_server/flip_test_utils.cc",
-      "tools/flip_server/flip_test_utils.h",
-      "tools/flip_server/http_interface_test.cc",
-      "tools/flip_server/mem_cache_test.cc",
-      "tools/flip_server/run_all_tests.cc",
-      "tools/flip_server/spdy_interface_test.cc",
-    ]
-    deps = [
-      ":balsa",
-      ":flip_in_mem_edsm_server_base",
-      ":net",
-      ":test_support",
-      "//testing/gtest",
-      "//testing/gmock",
-      "//third_party/boringssl",
-    ]
-  }
 
   executable("flip_in_mem_edsm_server") {
@@ -1153,10 +983,4 @@ if (is_android) {
     jni_package = "net"
   }
-  generate_jni("net_test_jni_headers") {
-    sources = [
-      "android/javatests/src/org/chromium/net/AndroidKeyStoreTestUtil.java",
-    ]
-    jni_package = "net"
-  }
 }
 
@@ -1205,296 +1029,4 @@ if (!is_android && !is_win && !is_mac) {
   }
 
-  test("net_unittests") {
-    sources = gypi_values.net_test_sources
-
-    # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-    configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-    defines = []
-
-    deps = [
-      ":extras",
-      ":http_server",
-      ":net",
-      ":quic_tools",
-      ":test_support",
-      "//base",
-      "//base:i18n",
-      "//base:prefs_test_support",
-      "//base/allocator",
-      "//base/third_party/dynamic_annotations",
-      "//crypto",
-      "//crypto:platform",
-      "//crypto:test_support",
-      "//gin",
-      "//net/base/registry_controlled_domains",
-      "//sql",
-      "//testing/gmock",
-      "//testing/gtest",
-      "//third_party/zlib",
-      "//url",
-    ]
-
-    if (is_linux) {
-      sources += gypi_values.net_linux_test_sources
-      deps += [
-        ":balsa",
-        ":epoll_server",
-        ":flip_in_mem_edsm_server_base",
-        ":quic_base",
-      ]
-    }
-
-    if (is_mac || is_ios) {
-      sources += gypi_values.net_base_test_mac_ios_sources
-    }
-
-    if (is_chromeos) {
-      sources -= [ "proxy/proxy_config_service_linux_unittest.cc" ]
-    }
-
-    if (is_android) {
-      sources -= [
-        # See bug http://crbug.com/344533.
-        "disk_cache/blockfile/index_table_v3_unittest.cc",
-
-        # No res_ninit() et al on Android, so this doesn't make a lot of
-        # sense.
-        "dns/dns_config_service_posix_unittest.cc",
-      ]
-      deps += [
-        ":net_javatests",  # FIXME(brettw)
-        ":net_test_jni_headers",
-      ]
-    }
-
-    if (v8_use_external_startup_data) {
-      deps += [ "//gin" ]
-    }
-
-    if (!use_nss_certs) {
-      sources -= [ "ssl/client_cert_store_nss_unittest.cc" ]
-      if (is_chromeos) {  # Already removed for all non-ChromeOS builds.
-        sources -= [ "ssl/client_cert_store_chromeos_unittest.cc" ]
-      }
-    }
-
-    if (use_openssl) {
-      # When building for OpenSSL, we need to exclude NSS specific tests
-      # or functionality not supported by OpenSSL yet.
-      # TODO(bulach): Add equivalent tests when the underlying
-      #               functionality is ported to OpenSSL.
-      sources -= [
-        "cert/nss_cert_database_unittest.cc",
-        "cert/x509_util_nss_unittest.cc",
-        "quic/test_tools/crypto_test_utils_nss.cc",
-      ]
-      if (is_chromeos) {
-        # These were already removed in the non-ChromeOS case.
-        sources -= [
-          "cert/nss_cert_database_chromeos_unittest.cc",
-          "cert/nss_profile_filter_chromeos_unittest.cc",
-        ]
-      }
-    } else {
-      sources -= [
-        "cert/x509_util_openssl_unittest.cc",
-        "quic/test_tools/crypto_test_utils_openssl.cc",
-        "socket/ssl_client_socket_openssl_unittest.cc",
-        "socket/ssl_session_cache_openssl_unittest.cc",
-      ]
-      if (!is_desktop_linux && !is_chromeos) {
-        sources -= [ "cert/nss_cert_database_unittest.cc" ]
-      }
-    }
-
-    if (use_kerberos) {
-      defines += [ "USE_KERBEROS" ]
-    } else {
-      sources -= [
-        "http/http_auth_gssapi_posix_unittest.cc",
-        "http/http_auth_handler_negotiate_unittest.cc",
-        "http/mock_gssapi_library_posix.cc",
-        "http/mock_gssapi_library_posix.h",
-      ]
-    }
-
-    if (use_openssl || (!is_desktop_linux && !is_chromeos && !is_ios)) {
-      # Only include this test when on Posix and using NSS for
-      # cert verification or on iOS (which also uses NSS for certs).
-      sources -= [ "ocsp/nss_ocsp_unittest.cc" ]
-    }
-
-    if (!use_openssl_certs) {
-      sources -= [ "ssl/openssl_client_key_store_unittest.cc" ]
-    }
-
-    if (!enable_websockets) {
-      sources -= [
-        "server/http_connection_unittest.cc",
-        "server/http_server_response_info_unittest.cc",
-        "server/http_server_unittest.cc",
-        "server/web_socket_encoder_unittest.cc",
-        "websockets/websocket_basic_stream_test.cc",
-        "websockets/websocket_channel_test.cc",
-        "websockets/websocket_deflate_predictor_impl_test.cc",
-        "websockets/websocket_deflate_stream_test.cc",
-        "websockets/websocket_deflater_test.cc",
-        "websockets/websocket_end_to_end_test.cc",
-        "websockets/websocket_errors_test.cc",
-        "websockets/websocket_extension_parser_test.cc",
-        "websockets/websocket_frame_parser_test.cc",
-        "websockets/websocket_frame_test.cc",
-        "websockets/websocket_handshake_challenge_test.cc",
-        "websockets/websocket_handshake_stream_create_helper_test.cc",
-        "websockets/websocket_inflater_test.cc",
-        "websockets/websocket_stream_test.cc",
-        "websockets/websocket_test_util.cc",
-        "websockets/websocket_test_util.h",
-      ]
-      deps -= [ ":http_server" ]
-    }
-
-    if (disable_file_support) {
-      sources -= [
-        "base/directory_lister_unittest.cc",
-        "url_request/url_request_file_job_unittest.cc",
-      ]
-    }
-
-    if (disable_ftp_support) {
-      sources -= [
-        "ftp/ftp_auth_cache_unittest.cc",
-        "ftp/ftp_ctrl_response_buffer_unittest.cc",
-        "ftp/ftp_directory_listing_parser_ls_unittest.cc",
-        "ftp/ftp_directory_listing_parser_netware_unittest.cc",
-        "ftp/ftp_directory_listing_parser_os2_unittest.cc",
-        "ftp/ftp_directory_listing_parser_unittest.cc",
-        "ftp/ftp_directory_listing_parser_unittest.h",
-        "ftp/ftp_directory_listing_parser_vms_unittest.cc",
-        "ftp/ftp_directory_listing_parser_windows_unittest.cc",
-        "ftp/ftp_network_transaction_unittest.cc",
-        "ftp/ftp_util_unittest.cc",
-        "url_request/url_request_ftp_job_unittest.cc",
-      ]
-    }
-
-    if (!enable_built_in_dns) {
-      sources -= [
-        "dns/address_sorter_posix_unittest.cc",
-        "dns/address_sorter_unittest.cc",
-      ]
-    }
-
-    # Always need use_v8_in_net to be 1 to run on Android, so just remove
-    # net_unittest's dependency on v8 when using icu alternatives instead of
-    # setting use_v8_in_net to 0.
-    if (use_v8_in_net && !use_icu_alternatives_on_android) {
-      deps += [ ":net_with_v8" ]
-    } else {
-      sources -= [
-        "proxy/proxy_resolver_v8_tracing_unittest.cc",
-        "proxy/proxy_resolver_v8_unittest.cc",
-      ]
-    }
-
-    if (use_v8_in_net && !is_android) {
-      deps += [
-        ":net_browser_services",
-        ":net_utility_services",
-        "//mojo/environment:chromium",
-        "//third_party/mojo/src/mojo/edk/system",
-      ]
-    } else {
-      sources -= [
-        "dns/host_resolver_mojo_unittest.cc",
-        "dns/mojo_host_resolver_impl_unittest.cc",
-        "proxy/mojo_proxy_resolver_factory_impl_unittest.cc",
-        "proxy/mojo_proxy_resolver_impl_unittest.cc",
-        "proxy/proxy_resolver_mojo_unittest.cc",
-      ]
-    }
-
-    if (!enable_mdns) {
-      sources -= [
-        "dns/mdns_cache_unittest.cc",
-        "dns/mdns_client_unittest.cc",
-        "dns/record_parsed_unittest.cc",
-        "dns/record_rdata_unittest.cc",
-      ]
-    }
-
-    if (is_ios) {
-      # TODO(GYP)
-      #  'actions': [
-      #    {
-      #      'action_name': 'copy_test_data',
-      #      'variables': {
-      #        'test_data_files': [
-      #          'data/ssl/certificates/',
-      #          'data/test.html',
-      #          'data/url_request_unittest/',
-      #        ],
-      #        'test_data_prefix': 'net',
-      #      },
-      #      'includes': [ '../build/copy_test_data_ios.gypi' ],
-      #    },
-      #  ],
-      sources -= [
-        # TODO(droger): The following tests are disabled because the
-        # implementation is missing or incomplete.
-        # KeygenHandler::GenKeyAndSignChallenge() is not ported to iOS.
-        "base/keygen_handler_unittest.cc",
-        "disk_cache/backend_unittest.cc",
-        "disk_cache/blockfile/block_files_unittest.cc",
-
-        # Need to read input data files.
-        "filter/gzip_filter_unittest.cc",
-        "socket/ssl_server_socket_unittest.cc",
-        "spdy/fuzzing/hpack_fuzz_util_test.cc",
-
-        # Need TestServer.
-        "proxy/proxy_script_fetcher_impl_unittest.cc",
-        "socket/ssl_client_socket_unittest.cc",
-        "url_request/url_fetcher_impl_unittest.cc",
-        "url_request/url_request_context_builder_unittest.cc",
-
-        # Needs GetAppOutput().
-        "test/python_utils_unittest.cc",
-
-        # The following tests are disabled because they don't apply to
-        # iOS.
-        # OS is not "linux" or "freebsd" or "openbsd".
-        "socket/unix_domain_client_socket_posix_unittest.cc",
-        "socket/unix_domain_listen_socket_posix_unittest.cc",
-        "socket/unix_domain_server_socket_posix_unittest.cc",
-
-        # See bug http://crbug.com/344533.
-        "disk_cache/blockfile/index_table_v3_unittest.cc",
-      ]
-    }
-
-    if (is_android) {
-      sources -= [ "dns/dns_config_service_posix_unittest.cc" ]
-
-      # TODO(GYP)
-      # # TODO(mmenke):  This depends on test_support_base, which depends on
-      # #                icu.  Figure out a way to remove that dependency.
-      # 'dependencies': [
-      #   '../testing/android/native_test.gyp:native_test_native_code',
-      # ]
-
-      set_sources_assignment_filter([])
-      sources += [ "base/address_tracker_linux_unittest.cc" ]
-      set_sources_assignment_filter(sources_assignment_filter)
-    }
-
-    if (use_icu_alternatives_on_android) {
-      sources -= [
-        "base/filename_util_unittest.cc",
-        "base/net_util_icu_unittest.cc",
-      ]
-      deps -= [ "//base:i18n" ]
-    }
-  }
 
   executable("quic_server") {
diff --git a/net/cert/cert_policy_enforcer.cc b/net/cert/cert_policy_enforcer.cc
index 25e9325..2a1600e 100644
--- a/net/cert/cert_policy_enforcer.cc
+++ b/net/cert/cert_policy_enforcer.cc
@@ -10,6 +10,6 @@
 #include "base/build_time.h"
 #include "base/callback_helpers.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/net/cert/cert_verify_proc.cc b/net/cert/cert_verify_proc.cc
index d987e3d..eb40652 100644
--- a/net/cert/cert_verify_proc.cc
+++ b/net/cert/cert_verify_proc.cc
@@ -8,5 +8,5 @@
 
 #include "base/basictypes.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sha1.h"
 #include "base/strings/stringprintf.h"
diff --git a/net/cert/multi_log_ct_verifier.cc b/net/cert/multi_log_ct_verifier.cc
index 6c8d5bd..cf9fb4e 100644
--- a/net/cert/multi_log_ct_verifier.cc
+++ b/net/cert/multi_log_ct_verifier.cc
@@ -9,5 +9,5 @@
 #include "base/bind.h"
 #include "base/callback_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "net/base/net_errors.h"
 #include "net/base/net_log.h"
diff --git a/net/cert/multi_threaded_cert_verifier.cc b/net/cert/multi_threaded_cert_verifier.cc
index fc41fa9..8769391 100644
--- a/net/cert/multi_threaded_cert_verifier.cc
+++ b/net/cert/multi_threaded_cert_verifier.cc
@@ -11,5 +11,5 @@
 #include "base/compiler_specific.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/synchronization/lock.h"
diff --git a/net/cert/x509_certificate.cc b/net/cert/x509_certificate.cc
index 84b3348..7566a37 100644
--- a/net/cert/x509_certificate.cc
+++ b/net/cert/x509_certificate.cc
@@ -17,5 +17,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/pickle.h"
 #include "base/profiler/scoped_tracker.h"
diff --git a/net/cert/x509_util_android.cc b/net/cert/x509_util_android.cc
index 128ea85..dfa6143 100644
--- a/net/cert/x509_util_android.cc
+++ b/net/cert/x509_util_android.cc
@@ -7,5 +7,5 @@
 #include "base/android/build_info.h"
 #include "base/android/jni_android.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "jni/X509Util_jni.h"
 #include "net/cert/cert_database.h"
diff --git a/net/cookies/cookie_monster.cc b/net/cookies/cookie_monster.cc
index 6947756..4adb1b9 100644
--- a/net/cookies/cookie_monster.cc
+++ b/net/cookies/cookie_monster.cc
@@ -56,5 +56,5 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/strings/string_util.h"
diff --git a/net/cookies/cookie_monster_perftest.cc b/net/cookies/cookie_monster_perftest.cc
index 95ccbad..187ca70 100644
--- a/net/cookies/cookie_monster_perftest.cc
+++ b/net/cookies/cookie_monster_perftest.cc
@@ -14,5 +14,5 @@
 #include "net/cookies/cookie_monster_store_test.h"
 #include "net/cookies/parsed_cookie.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/net/cookies/cookie_monster_store_test.cc b/net/cookies/cookie_monster_store_test.cc
index ede98ec..8fd1f6b 100644
--- a/net/cookies/cookie_monster_store_test.cc
+++ b/net/cookies/cookie_monster_store_test.cc
@@ -12,5 +12,5 @@
 #include "net/cookies/cookie_util.h"
 #include "net/cookies/parsed_cookie.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/net/disk_cache/blockfile/backend_impl.cc b/net/disk_cache/blockfile/backend_impl.cc
index b9077f1..1c6f461 100644
--- a/net/disk_cache/blockfile/backend_impl.cc
+++ b/net/disk_cache/blockfile/backend_impl.cc
@@ -12,6 +12,6 @@
 #include "base/hash.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/single_thread_task_runner.h"
diff --git a/net/disk_cache/blockfile/backend_impl_v3.cc b/net/disk_cache/blockfile/backend_impl_v3.cc
index 9615755..10fa739 100644
--- a/net/disk_cache/blockfile/backend_impl_v3.cc
+++ b/net/disk_cache/blockfile/backend_impl_v3.cc
@@ -11,6 +11,6 @@
 #include "base/hash.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/strings/string_util.h"
diff --git a/net/disk_cache/blockfile/block_bitmaps_v3.cc b/net/disk_cache/blockfile/block_bitmaps_v3.cc
index ab86fc2..74ab583 100644
--- a/net/disk_cache/blockfile/block_bitmaps_v3.cc
+++ b/net/disk_cache/blockfile/block_bitmaps_v3.cc
@@ -5,5 +5,5 @@
 #include "net/disk_cache/blockfile/block_bitmaps_v3.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "net/disk_cache/blockfile/disk_format_base.h"
diff --git a/net/disk_cache/blockfile/block_files.cc b/net/disk_cache/blockfile/block_files.cc
index f46a937..6d11408 100644
--- a/net/disk_cache/blockfile/block_files.cc
+++ b/net/disk_cache/blockfile/block_files.cc
@@ -7,5 +7,5 @@
 #include "base/atomicops.h"
 #include "base/files/file_path.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/net/disk_cache/blockfile/disk_cache_perftest.cc b/net/disk_cache/blockfile/disk_cache_perftest.cc
index 9aaa7f4..f43017a 100644
--- a/net/disk_cache/blockfile/disk_cache_perftest.cc
+++ b/net/disk_cache/blockfile/disk_cache_perftest.cc
@@ -22,6 +22,6 @@
 #include "net/disk_cache/disk_cache_test_base.h"
 #include "net/disk_cache/disk_cache_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/platform_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/platform_test.h"
 
 using base::Time;
diff --git a/net/disk_cache/blockfile/entry_impl.cc b/net/disk_cache/blockfile/entry_impl.cc
index 76bf7c7..f5ba541 100644
--- a/net/disk_cache/blockfile/entry_impl.cc
+++ b/net/disk_cache/blockfile/entry_impl.cc
@@ -7,5 +7,5 @@
 #include "base/hash.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "net/base/io_buffer.h"
diff --git a/net/disk_cache/blockfile/entry_impl_v3.cc b/net/disk_cache/blockfile/entry_impl_v3.cc
index 04e9ad9..6f66d06 100644
--- a/net/disk_cache/blockfile/entry_impl_v3.cc
+++ b/net/disk_cache/blockfile/entry_impl_v3.cc
@@ -7,5 +7,5 @@
 #include "base/hash.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "net/base/io_buffer.h"
diff --git a/net/disk_cache/blockfile/histogram_macros.h b/net/disk_cache/blockfile/histogram_macros.h
index 61cc6ea..92620fb 100644
--- a/net/disk_cache/blockfile/histogram_macros.h
+++ b/net/disk_cache/blockfile/histogram_macros.h
@@ -12,5 +12,5 @@
 #define NET_DISK_CACHE_BLOCKFILE_HISTOGRAM_MACROS_H_
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 // -----------------------------------------------------------------------------
diff --git a/net/disk_cache/blockfile/rankings.cc b/net/disk_cache/blockfile/rankings.cc
index 496008d..1e86553 100644
--- a/net/disk_cache/blockfile/rankings.cc
+++ b/net/disk_cache/blockfile/rankings.cc
@@ -5,5 +5,5 @@
 #include "net/disk_cache/blockfile/rankings.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "net/disk_cache/blockfile/backend_impl.h"
 #include "net/disk_cache/blockfile/disk_format.h"
diff --git a/net/disk_cache/blockfile/stats.cc b/net/disk_cache/blockfile/stats.cc
index bb319f5..57e128f 100644
--- a/net/disk_cache/blockfile/stats.cc
+++ b/net/disk_cache/blockfile/stats.cc
@@ -7,9 +7,9 @@
 #include "base/format_macros.h"
 #include "base/logging.h"
-#include "base/metrics/bucket_ranges.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/histogram_samples.h"
-#include "base/metrics/sample_vector.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/bucket_ranges.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram_samples.h"
+//#include "base/metrics/sample_vector.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/net/disk_cache/cache_creator.cc b/net/disk_cache/cache_creator.cc
index 93c06b3..888b967 100644
--- a/net/disk_cache/cache_creator.cc
+++ b/net/disk_cache/cache_creator.cc
@@ -4,5 +4,5 @@
 
 #include "base/files/file_path.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/single_thread_task_runner.h"
diff --git a/net/disk_cache/simple/simple_backend_impl.cc b/net/disk_cache/simple/simple_backend_impl.cc
index 3808644..279d31c 100644
--- a/net/disk_cache/simple/simple_backend_impl.cc
+++ b/net/disk_cache/simple/simple_backend_impl.cc
@@ -18,7 +18,7 @@
 #include "base/lazy_instance.h"
 #include "base/location.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/single_thread_task_runner.h"
 #include "base/sys_info.h"
diff --git a/net/disk_cache/simple/simple_histogram_macros.h b/net/disk_cache/simple/simple_histogram_macros.h
index 39fdff7..1423876 100644
--- a/net/disk_cache/simple/simple_histogram_macros.h
+++ b/net/disk_cache/simple/simple_histogram_macros.h
@@ -6,6 +6,6 @@
 #define NET_DISK_CACHE_SIMPLE_SIMPLE_HISTOGRAM_MACROS_H_
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "net/base/cache_type.h"
 
diff --git a/net/disk_cache/simple/simple_index.cc b/net/disk_cache/simple/simple_index.cc
index 6eb60bd..5765dd5 100644
--- a/net/disk_cache/simple/simple_index.cc
+++ b/net/disk_cache/simple/simple_index.cc
@@ -16,5 +16,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/pickle.h"
diff --git a/net/dns/dns_config_service.cc b/net/dns/dns_config_service.cc
index bfa4b8d..f80e280 100644
--- a/net/dns/dns_config_service.cc
+++ b/net/dns/dns_config_service.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/values.h"
 #include "net/base/ip_endpoint.h"
diff --git a/net/dns/dns_config_service_posix.cc b/net/dns/dns_config_service_posix.cc
index 135f3fd..869091c 100644
--- a/net/dns/dns_config_service_posix.cc
+++ b/net/dns/dns_config_service_posix.cc
@@ -13,5 +13,5 @@
 #include "base/lazy_instance.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "net/base/ip_endpoint.h"
diff --git a/net/dns/dns_config_service_win.cc b/net/dns/dns_config_service_win.cc
index f1a9f56..d8d175e 100644
--- a/net/dns/dns_config_service_win.cc
+++ b/net/dns/dns_config_service_win.cc
@@ -15,5 +15,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_split.h"
 #include "base/strings/string_util.h"
diff --git a/net/dns/dns_hosts.cc b/net/dns/dns_hosts.cc
index 697ea14..adcad9b 100644
--- a/net/dns/dns_hosts.cc
+++ b/net/dns/dns_hosts.cc
@@ -7,5 +7,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 
diff --git a/net/dns/dns_session.cc b/net/dns/dns_session.cc
index 47dcefa..f181d49 100644
--- a/net/dns/dns_session.cc
+++ b/net/dns/dns_session.cc
@@ -8,6 +8,6 @@
 #include "base/bind.h"
 #include "base/lazy_instance.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sample_vector.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sample_vector.h"
 #include "base/rand_util.h"
 #include "base/stl_util.h"
diff --git a/net/dns/dns_session.h b/net/dns/dns_session.h
index e878a57..417cd5c 100644
--- a/net/dns/dns_session.h
+++ b/net/dns/dns_session.h
@@ -12,5 +12,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/bucket_ranges.h"
+//#include "base/metrics/bucket_ranges.h"
 #include "base/time/time.h"
 #include "net/base/net_export.h"
diff --git a/net/dns/dns_transaction.cc b/net/dns/dns_transaction.cc
index beb2197..520366ad 100644
--- a/net/dns/dns_transaction.cc
+++ b/net/dns/dns_transaction.cc
@@ -16,5 +16,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/stl_util.h"
diff --git a/net/dns/host_cache.cc b/net/dns/host_cache.cc
index 0e6ff15..f741d18 100644
--- a/net/dns/host_cache.cc
+++ b/net/dns/host_cache.cc
@@ -6,6 +6,6 @@
 
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "net/base/net_errors.h"
diff --git a/net/dns/host_resolver.cc b/net/dns/host_resolver.cc
index 3b6ea04..a2bed0f 100644
--- a/net/dns/host_resolver.cc
+++ b/net/dns/host_resolver.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_split.h"
diff --git a/net/dns/host_resolver_impl.cc b/net/dns/host_resolver_impl.cc
index 6c0a154..4146414 100644
--- a/net/dns/host_resolver_impl.cc
+++ b/net/dns/host_resolver_impl.cc
@@ -23,6 +23,6 @@
 #include "base/debug/stack_trace.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/net/dns/mock_mdns_socket_factory.h b/net/dns/mock_mdns_socket_factory.h
index 6278661..0a9928b 100644
--- a/net/dns/mock_mdns_socket_factory.h
+++ b/net/dns/mock_mdns_socket_factory.h
@@ -9,5 +9,5 @@
 
 #include "net/dns/mdns_client_impl.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/net/extras/sqlite/sqlite_channel_id_store.cc b/net/extras/sqlite/sqlite_channel_id_store.cc
index d7edf9c..c847818 100644
--- a/net/extras/sqlite/sqlite_channel_id_store.cc
+++ b/net/extras/sqlite/sqlite_channel_id_store.cc
@@ -15,5 +15,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/strings/string_util.h"
diff --git a/net/filter/filter.cc b/net/filter/filter.cc
index af4e551..62a2209 100644
--- a/net/filter/filter.cc
+++ b/net/filter/filter.cc
@@ -25,5 +25,5 @@
 
 #include "base/files/file_path.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/strings/string_util.h"
 #include "net/base/filename_util_unsafe.h"
diff --git a/net/filter/sdch_filter.cc b/net/filter/sdch_filter.cc
index cb3150c..5ebce7a 100644
--- a/net/filter/sdch_filter.cc
+++ b/net/filter/sdch_filter.cc
@@ -11,5 +11,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/values.h"
 #include "net/base/sdch_manager.h"
diff --git a/net/ftp/ftp_network_transaction.cc b/net/ftp/ftp_network_transaction.cc
index ef6adb8..46e3cce 100644
--- a/net/ftp/ftp_network_transaction.cc
+++ b/net/ftp/ftp_network_transaction.cc
@@ -8,5 +8,5 @@
 #include "base/bind_helpers.h"
 #include "base/compiler_specific.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/net/ftp/ftp_server_type_histograms.cc b/net/ftp/ftp_server_type_histograms.cc
index 84592ed..3531c6e 100644
--- a/net/ftp/ftp_server_type_histograms.cc
+++ b/net/ftp/ftp_server_type_histograms.cc
@@ -5,5 +5,5 @@
 #include "net/ftp/ftp_server_type_histograms.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace net {
diff --git a/net/http/disk_based_cert_cache.cc b/net/http/disk_based_cert_cache.cc
index b91fb10..5a47ce4 100644
--- a/net/http/disk_based_cert_cache.cc
+++ b/net/http/disk_based_cert_cache.cc
@@ -10,5 +10,5 @@
 #include "base/callback_helpers.h"
 #include "base/memory/ref_counted.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/net/http/disk_cache_based_quic_server_info.cc b/net/http/disk_cache_based_quic_server_info.cc
index 3951b2e..71baab8 100644
--- a/net/http/disk_cache_based_quic_server_info.cc
+++ b/net/http/disk_cache_based_quic_server_info.cc
@@ -9,5 +9,5 @@
 #include "base/callback_helpers.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "net/base/completion_callback.h"
diff --git a/net/http/http_auth_cache.cc b/net/http/http_auth_cache.cc
index 51f9035..398bfc0 100644
--- a/net/http/http_auth_cache.cc
+++ b/net/http/http_auth_cache.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 
diff --git a/net/http/http_auth_controller.cc b/net/http/http_auth_controller.cc
index 9cc57de..fd69fe1 100644
--- a/net/http/http_auth_controller.cc
+++ b/net/http/http_auth_controller.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/bind_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/net/http/http_auth_handler_mock.cc b/net/http/http_auth_handler_mock.cc
index 35ed3ab..3669f22 100644
--- a/net/http/http_auth_handler_mock.cc
+++ b/net/http/http_auth_handler_mock.cc
@@ -11,5 +11,5 @@
 #include "net/http/http_auth_challenge_tokenizer.h"
 #include "net/http/http_request_info.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/http/http_cache.cc b/net/http/http_cache.cc
index 5260410..f131f8c 100644
--- a/net/http/http_cache.cc
+++ b/net/http/http_cache.cc
@@ -21,6 +21,6 @@
 #include "base/memory/ref_counted.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/pickle.h"
 #include "base/profiler/scoped_tracker.h"
diff --git a/net/http/http_cache_transaction.cc b/net/http/http_cache_transaction.cc
index 7f01252..1c5f9a9 100644
--- a/net/http/http_cache_transaction.cc
+++ b/net/http/http_cache_transaction.cc
@@ -19,7 +19,7 @@
 #include "base/memory/ref_counted.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/rand_util.h"
diff --git a/net/http/http_network_transaction.cc b/net/http/http_network_transaction.cc
index 5ce7572..e3ecc14 100644
--- a/net/http/http_network_transaction.cc
+++ b/net/http/http_network_transaction.cc
@@ -13,6 +13,6 @@
 #include "base/format_macros.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/net/http/http_response_headers.cc b/net/http/http_response_headers.cc
index 3aef42a..e0a623a 100644
--- a/net/http/http_response_headers.cc
+++ b/net/http/http_response_headers.cc
@@ -14,5 +14,5 @@
 #include "base/format_macros.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/pickle.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/net/http/http_server_properties.cc b/net/http/http_server_properties.cc
index 514ef4f..c937b80 100644
--- a/net/http/http_server_properties.cc
+++ b/net/http/http_server_properties.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "net/socket/ssl_client_socket.h"
diff --git a/net/http/http_server_properties_manager.cc b/net/http/http_server_properties_manager.cc
index d6bfb38..324ef90 100644
--- a/net/http/http_server_properties_manager.cc
+++ b/net/http/http_server_properties_manager.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/prefs/pref_service.h"
 #include "base/single_thread_task_runner.h"
diff --git a/net/http/mock_gssapi_library_posix.cc b/net/http/mock_gssapi_library_posix.cc
index b4d6514..e3ec0c9 100644
--- a/net/http/mock_gssapi_library_posix.cc
+++ b/net/http/mock_gssapi_library_posix.cc
@@ -8,5 +8,5 @@
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/http/mock_http_cache.cc b/net/http/mock_http_cache.cc
index a423a04..fcf23da 100644
--- a/net/http/mock_http_cache.cc
+++ b/net/http/mock_http_cache.cc
@@ -9,5 +9,5 @@
 #include "net/base/completion_callback.h"
 #include "net/base/net_errors.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/net/http/mock_sspi_library_win.cc b/net/http/mock_sspi_library_win.cc
index 7721853..1b7630e 100644
--- a/net/http/mock_sspi_library_win.cc
+++ b/net/http/mock_sspi_library_win.cc
@@ -5,5 +5,5 @@
 #include "net/http/mock_sspi_library_win.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/http/proxy_client_socket.cc b/net/http/proxy_client_socket.cc
index 3c0d12d..b4d2b56 100644
--- a/net/http/proxy_client_socket.cc
+++ b/net/http/proxy_client_socket.cc
@@ -5,5 +5,5 @@
 #include "net/http/proxy_client_socket.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "net/base/host_port_pair.h"
diff --git a/net/http/transport_security_state.cc b/net/http/transport_security_state.cc
index a174e98..5082365 100644
--- a/net/http/transport_security_state.cc
+++ b/net/http/transport_security_state.cc
@@ -22,6 +22,6 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/sha1.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/net/net.gyp b/net/net.gyp
index d472a7c..39ad70f 100644
--- a/net/net.gyp
+++ b/net/net.gyp
@@ -49,10 +49,10 @@
       'sources': [
         'base/registry_controlled_domains/effective_tld_names.gperf',
-        'base/registry_controlled_domains/effective_tld_names_unittest1.gperf',
-        'base/registry_controlled_domains/effective_tld_names_unittest2.gperf',
-        'base/registry_controlled_domains/effective_tld_names_unittest3.gperf',
-        'base/registry_controlled_domains/effective_tld_names_unittest4.gperf',
-        'base/registry_controlled_domains/effective_tld_names_unittest5.gperf',
-        'base/registry_controlled_domains/effective_tld_names_unittest6.gperf',
+#        'base/registry_controlled_domains/effective_tld_names_unittest1.gperf',
+#        'base/registry_controlled_domains/effective_tld_names_unittest2.gperf',
+#        'base/registry_controlled_domains/effective_tld_names_unittest3.gperf',
+#        'base/registry_controlled_domains/effective_tld_names_unittest4.gperf',
+#        'base/registry_controlled_domains/effective_tld_names_unittest5.gperf',
+#        'base/registry_controlled_domains/effective_tld_names_unittest6.gperf',
       ],
       'rules': [
@@ -523,13 +523,13 @@
     },
     {
-      'target_name': 'net_unittests',
+#      'target_name': 'net_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../base/base.gyp:base',
         '../base/base.gyp:base_i18n',
-        '../base/base.gyp:base_prefs_test_support',
+#        '../base/base.gyp:base_prefs_test_support',
         '../base/third_party/dynamic_annotations/dynamic_annotations.gyp:dynamic_annotations',
         '../crypto/crypto.gyp:crypto',
-        '../crypto/crypto.gyp:crypto_test_support',
+#        '../crypto/crypto.gyp:crypto_test_support',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
@@ -541,9 +541,9 @@
         'net_derived_sources',
         'net_extras',
-        'net_test_support',
+#        'net_test_support',
         'quic_tools',
       ],
       'sources': [
-        '<@(net_test_sources)',
+#        '<@(net_test_sources)',
       ],
       'conditions': [
@@ -555,15 +555,15 @@
           ],
           'sources': [
-            '<@(net_linux_test_sources)',
+#            '<@(net_linux_test_sources)',
           ],
         }],
         ['OS == "mac" or OS == "ios"', {
           'sources': [
-            '<@(net_base_test_mac_ios_sources)',
+#            '<@(net_base_test_mac_ios_sources)',
           ],
         }],
         ['chromeos==1', {
           'sources!': [
-            'proxy/proxy_config_service_linux_unittest.cc',
+#            'proxy/proxy_config_service_linux_unittest.cc',
           ],
         }],
@@ -571,18 +571,18 @@
           'sources!': [
             # See bug http://crbug.com/344533.
-            'disk_cache/blockfile/index_table_v3_unittest.cc',
+#            'disk_cache/blockfile/index_table_v3_unittest.cc',
             # No res_ninit() et al on Android, so this doesn't make a lot of
             # sense.
-            'dns/dns_config_service_posix_unittest.cc',
+#            'dns/dns_config_service_posix_unittest.cc',
           ],
           'dependencies': [
             'net_javatests',
-            'net_test_jni_headers',
+#            'net_test_jni_headers',
           ],
         }],
         [ 'use_nss != 1', {
           'sources!': [
-            'ssl/client_cert_store_chromeos_unittest.cc',
-            'ssl/client_cert_store_nss_unittest.cc',
+#            'ssl/client_cert_store_chromeos_unittest.cc',
+#            'ssl/client_cert_store_nss_unittest.cc',
           ],
         }],
@@ -605,5 +605,5 @@
               ],
               'sources!': [
-                'cert/nss_cert_database_unittest.cc',
+#                'cert/nss_cert_database_unittest.cc',
               ],
             }],
@@ -625,6 +625,6 @@
         }, { # use_kerberos == 0
           'sources!': [
-            'http/http_auth_gssapi_posix_unittest.cc',
-            'http/http_auth_handler_negotiate_unittest.cc',
+#            'http/http_auth_gssapi_posix_unittest.cc',
+#            'http/http_auth_handler_negotiate_unittest.cc',
             'http/mock_gssapi_library_posix.cc',
             'http/mock_gssapi_library_posix.h',
@@ -635,5 +635,5 @@
           # cert verification or on iOS (which also uses NSS for certs).
           'sources!': [
-            'ocsp/nss_ocsp_unittest.cc',
+#            'ocsp/nss_ocsp_unittest.cc',
           ],
         }],
@@ -644,16 +644,16 @@
             #               functionality is ported to OpenSSL.
             'sources!': [
-              'cert/nss_cert_database_chromeos_unittest.cc',
-              'cert/nss_cert_database_unittest.cc',
-              'cert/nss_profile_filter_chromeos_unittest.cc',
-              'cert/x509_util_nss_unittest.cc',
-              'quic/test_tools/crypto_test_utils_nss.cc',
+#              'cert/nss_cert_database_chromeos_unittest.cc',
+#              'cert/nss_cert_database_unittest.cc',
+#              'cert/nss_profile_filter_chromeos_unittest.cc',
+#              'cert/x509_util_nss_unittest.cc',
+#              'quic/test_tools/crypto_test_utils_nss.cc',
             ],
           }, {  # else !use_openssl: remove the unneeded files and pull in NSS.
             'sources!': [
-              'cert/x509_util_openssl_unittest.cc',
-              'quic/test_tools/crypto_test_utils_openssl.cc',
-              'socket/ssl_client_socket_openssl_unittest.cc',
-              'socket/ssl_session_cache_openssl_unittest.cc',
+#              'cert/x509_util_openssl_unittest.cc',
+#              'quic/test_tools/crypto_test_utils_openssl.cc',
+#              'socket/ssl_client_socket_openssl_unittest.cc',
+#              'socket/ssl_session_cache_openssl_unittest.cc',
             ],
           },
@@ -661,5 +661,5 @@
         [ 'use_openssl_certs == 0', {
             'sources!': [
-              'ssl/openssl_client_key_store_unittest.cc',
+#              'ssl/openssl_client_key_store_unittest.cc',
             ],
         }],
@@ -675,6 +675,6 @@
         ['disable_file_support==1', {
           'sources!': [
-            'base/directory_lister_unittest.cc',
-            'url_request/url_request_file_job_unittest.cc',
+#            'base/directory_lister_unittest.cc',
+#            'url_request/url_request_file_job_unittest.cc',
           ],
         }],
@@ -684,5 +684,5 @@
             ],
             'sources!': [
-              'url_request/url_request_ftp_job_unittest.cc',
+#              'url_request/url_request_ftp_job_unittest.cc',
             ],
           },
@@ -690,11 +690,11 @@
         [ 'enable_built_in_dns!=1', {
             'sources!': [
-              'dns/address_sorter_posix_unittest.cc',
-              'dns/address_sorter_unittest.cc',
+#              'dns/address_sorter_posix_unittest.cc',
+#              'dns/address_sorter_unittest.cc',
             ],
           },
         ],
         # Always need use_v8_in_net to be 1 to run gyp on Android, so just
-        # remove net_unittest's dependency on v8 when using icu alternatives
+#        # remove net_unittest's dependency on v8 when using icu alternatives
         # instead of setting use_v8_in_net to 0.
         [ 'use_v8_in_net==1 and use_icu_alternatives_on_android==0', {
@@ -704,6 +704,6 @@
           }, {  # else: !use_v8_in_net
             'sources!': [
-              'proxy/proxy_resolver_v8_tracing_unittest.cc',
-              'proxy/proxy_resolver_v8_unittest.cc',
+#              'proxy/proxy_resolver_v8_tracing_unittest.cc',
+#              'proxy/proxy_resolver_v8_unittest.cc',
             ],
           },
@@ -719,9 +719,9 @@
           }, {  # else
             'sources!': [
-              'dns/host_resolver_mojo_unittest.cc',
-              'dns/mojo_host_resolver_impl_unittest.cc',
-              'proxy/mojo_proxy_resolver_factory_impl_unittest.cc',
-              'proxy/mojo_proxy_resolver_impl_unittest.cc',
-              'proxy/proxy_resolver_mojo_unittest.cc',
+#              'dns/host_resolver_mojo_unittest.cc',
+#              'dns/mojo_host_resolver_impl_unittest.cc',
+#              'proxy/mojo_proxy_resolver_factory_impl_unittest.cc',
+#              'proxy/mojo_proxy_resolver_impl_unittest.cc',
+#              'proxy/proxy_resolver_mojo_unittest.cc',
             ],
           },
@@ -730,15 +730,15 @@
         [ 'enable_mdns != 1', {
             'sources!' : [
-              'dns/mdns_cache_unittest.cc',
-              'dns/mdns_client_unittest.cc',
-              'dns/mdns_query_unittest.cc',
-              'dns/record_parsed_unittest.cc',
-              'dns/record_rdata_unittest.cc',
+#              'dns/mdns_cache_unittest.cc',
+#              'dns/mdns_client_unittest.cc',
+#              'dns/mdns_query_unittest.cc',
+#              'dns/record_parsed_unittest.cc',
+#              'dns/record_rdata_unittest.cc',
             ],
         }],
         [ 'OS == "win"', {
             'sources!': [
-              'dns/dns_config_service_posix_unittest.cc',
-              'http/http_auth_gssapi_posix_unittest.cc',
+#              'dns/dns_config_service_posix_unittest.cc',
+#              'http/http_auth_gssapi_posix_unittest.cc',
             ],
             # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
@@ -758,14 +758,14 @@
             'actions': [
               {
-                'action_name': 'copy_test_data',
+#                'action_name': 'copy_test_data',
                 'variables': {
                   'test_data_files': [
                     'data/ssl/certificates/',
                     'data/test.html',
-                    'data/url_request_unittest/',
+#                    'data/url_request_unittest/',
                   ],
                   'test_data_prefix': 'net',
                 },
-                'includes': [ '../build/copy_test_data_ios.gypi' ],
+#                'includes': [ '../build/copy_test_data_ios.gypi' ],
               },
             ],
@@ -774,41 +774,41 @@
               # implementation is missing or incomplete.
               # KeygenHandler::GenKeyAndSignChallenge() is not ported to iOS.
-              'base/keygen_handler_unittest.cc',
-              'disk_cache/backend_unittest.cc',
-              'disk_cache/blockfile/block_files_unittest.cc',
+#              'base/keygen_handler_unittest.cc',
+#              'disk_cache/backend_unittest.cc',
+#              'disk_cache/blockfile/block_files_unittest.cc',
               # Need to read input data files.
-              'filter/gzip_filter_unittest.cc',
+#              'filter/gzip_filter_unittest.cc',
               # Need TestServer.
-              'proxy/proxy_script_fetcher_impl_unittest.cc',
-              'socket/ssl_client_socket_unittest.cc',
-              'socket/ssl_server_socket_unittest.cc',
+#              'proxy/proxy_script_fetcher_impl_unittest.cc',
+#              'socket/ssl_client_socket_unittest.cc',
+#              'socket/ssl_server_socket_unittest.cc',
               'spdy/fuzzing/hpack_fuzz_util_test.cc',
               # Needs GetAppOutput().
-              'test/python_utils_unittest.cc',
-              'url_request/url_fetcher_impl_unittest.cc',
-              'url_request/url_request_context_builder_unittest.cc',
+#              'test/python_utils_unittest.cc',
+#              'url_request/url_fetcher_impl_unittest.cc',
+#              'url_request/url_request_context_builder_unittest.cc',
 
               # The following tests are disabled because they don't apply to
               # iOS.
               # OS is not "linux" or "freebsd" or "openbsd".
-              'socket/unix_domain_client_socket_posix_unittest.cc',
-              'socket/unix_domain_listen_socket_posix_unittest.cc',
-              'socket/unix_domain_server_socket_posix_unittest.cc',
+#              'socket/unix_domain_client_socket_posix_unittest.cc',
+#              'socket/unix_domain_listen_socket_posix_unittest.cc',
+#              'socket/unix_domain_server_socket_posix_unittest.cc',
 
               # See bug http://crbug.com/344533.
-              'disk_cache/blockfile/index_table_v3_unittest.cc',
+#              'disk_cache/blockfile/index_table_v3_unittest.cc',
             ],
         }],
         [ 'OS == "android"', {
             'sources!': [
-              'dns/dns_config_service_posix_unittest.cc',
+#              'dns/dns_config_service_posix_unittest.cc',
             ],
           },
         ],
         ['OS == "android"', {
-          # TODO(mmenke):  This depends on test_support_base, which depends on
+#          # TODO(mmenke):  This depends on test_support_base, which depends on
           #                icu.  Figure out a way to remove that dependency.
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
           ]
         }],
@@ -818,6 +818,6 @@
             ],
             'sources!': [
-              'base/filename_util_unittest.cc',
-              'base/net_util_icu_unittest.cc',
+#              'base/filename_util_unittest.cc',
+#              'base/net_util_icu_unittest.cc',
             ],
           },
@@ -836,10 +836,10 @@
         ['OS == "android"', {
           'sources/': [
-            ['include', '^base/address_tracker_linux_unittest\\.cc$'],
+#            ['include', '^base/address_tracker_linux_unittest\\.cc$'],
           ],
         }],
         ['OS == "ios"', {
           'sources/': [
-            ['include', '^base/mac/url_conversions_unittest\\.mm$'],
+#            ['include', '^base/mac/url_conversions_unittest\\.mm$'],
           ],
         }],
@@ -847,14 +847,14 @@
     },
     {
-      'target_name': 'net_perftests',
+#      'target_name': 'net_perftests',
       'type': 'executable',
       'dependencies': [
         '../base/base.gyp:base',
         '../base/base.gyp:base_i18n',
-        '../base/base.gyp:test_support_perf',
+#        '../base/base.gyp:test_support_perf',
         '../testing/gtest.gyp:gtest',
         '../url/url.gyp:url_lib',
         'net',
-        'net_test_support',
+#        'net_test_support',
       ],
       'sources': [
@@ -897,9 +897,9 @@
     },
     {
-      'target_name': 'net_test_support',
+#      'target_name': 'net_test_support',
       'type': 'static_library',
       'dependencies': [
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../crypto/crypto.gyp:crypto',
         '../net/tools/tld_cleanup/tld_cleanup.gyp:tld_cleanup_util',
@@ -913,5 +913,5 @@
         # TODO(mmenke):  This depends on icu, figure out a way to build tests
         #                without icu.
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gtest.gyp:gtest',
         '../testing/gmock.gyp:gmock',
@@ -924,6 +924,6 @@
         'base/capturing_net_log_observer.cc',
         'base/capturing_net_log_observer.h',
-        'base/load_timing_info_test_util.cc',
-        'base/load_timing_info_test_util.h',
+#        'base/load_timing_info_test_util.cc',
+#        'base/load_timing_info_test_util.h',
         'base/mock_file_stream.cc',
         'base/mock_file_stream.h',
@@ -936,57 +936,57 @@
         'cookies/cookie_monster_store_test.cc',
         'cookies/cookie_monster_store_test.h',
-        'cookies/cookie_store_test_callbacks.cc',
-        'cookies/cookie_store_test_callbacks.h',
-        'cookies/cookie_store_test_helpers.cc',
-        'cookies/cookie_store_test_helpers.h',
-        'disk_cache/disk_cache_test_base.cc',
-        'disk_cache/disk_cache_test_base.h',
-        'disk_cache/disk_cache_test_util.cc',
-        'disk_cache/disk_cache_test_util.h',
-        'dns/dns_test_util.cc',
-        'dns/dns_test_util.h',
+#        'cookies/cookie_store_test_callbacks.cc',
+#        'cookies/cookie_store_test_callbacks.h',
+#        'cookies/cookie_store_test_helpers.cc',
+#        'cookies/cookie_store_test_helpers.h',
+#        'disk_cache/disk_cache_test_base.cc',
+#        'disk_cache/disk_cache_test_base.h',
+#        'disk_cache/disk_cache_test_util.cc',
+#        'disk_cache/disk_cache_test_util.h',
+#        'dns/dns_test_util.cc',
+#        'dns/dns_test_util.h',
         'dns/mock_host_resolver.cc',
         'dns/mock_host_resolver.h',
         'dns/mock_mdns_socket_factory.cc',
         'dns/mock_mdns_socket_factory.h',
-        'http/http_transaction_test_util.cc',
-        'http/http_transaction_test_util.h',
+#        'http/http_transaction_test_util.cc',
+#        'http/http_transaction_test_util.h',
         'proxy/mock_proxy_resolver.cc',
         'proxy/mock_proxy_resolver.h',
         'proxy/mock_proxy_script_fetcher.cc',
         'proxy/mock_proxy_script_fetcher.h',
-        'proxy/proxy_config_service_common_unittest.cc',
-        'proxy/proxy_config_service_common_unittest.h',
-        'socket/socket_test_util.cc',
-        'socket/socket_test_util.h',
-        'test/cert_test_util.cc',
-        'test/cert_test_util.h',
-        'test/cert_test_util_nss.cc',
-        'test/ct_test_util.cc',
-        'test/ct_test_util.h',
-        'test/embedded_test_server/embedded_test_server.cc',
-        'test/embedded_test_server/embedded_test_server.h',
-        'test/embedded_test_server/http_connection.cc',
-        'test/embedded_test_server/http_connection.h',
-        'test/embedded_test_server/http_request.cc',
-        'test/embedded_test_server/http_request.h',
-        'test/embedded_test_server/http_response.cc',
-        'test/embedded_test_server/http_response.h',
+#        'proxy/proxy_config_service_common_unittest.cc',
+#        'proxy/proxy_config_service_common_unittest.h',
+#        'socket/socket_test_util.cc',
+#        'socket/socket_test_util.h',
+#        'test/cert_test_util.cc',
+#        'test/cert_test_util.h',
+#        'test/cert_test_util_nss.cc',
+#        'test/ct_test_util.cc',
+#        'test/ct_test_util.h',
+#        'test/embedded_test_server/embedded_test_server.cc',
+#        'test/embedded_test_server/embedded_test_server.h',
+#        'test/embedded_test_server/http_connection.cc',
+#        'test/embedded_test_server/http_connection.h',
+#        'test/embedded_test_server/http_request.cc',
+#        'test/embedded_test_server/http_request.h',
+#        'test/embedded_test_server/http_response.cc',
+#        'test/embedded_test_server/http_response.h',
         'test/event_waiter.h',
-        'test/net_test_suite.cc',
-        'test/net_test_suite.h',
+#        'test/net_test_suite.cc',
+#        'test/net_test_suite.h',
         'test/python_utils.cc',
         'test/python_utils.h',
-        'test/spawned_test_server/base_test_server.cc',
-        'test/spawned_test_server/base_test_server.h',
-        'test/spawned_test_server/local_test_server.cc',
-        'test/spawned_test_server/local_test_server.h',
-        'test/spawned_test_server/local_test_server_posix.cc',
-        'test/spawned_test_server/local_test_server_win.cc',
-        'test/spawned_test_server/remote_test_server.cc',
-        'test/spawned_test_server/remote_test_server.h',
-        'test/spawned_test_server/spawned_test_server.h',
-        'test/spawned_test_server/spawner_communicator.cc',
-        'test/spawned_test_server/spawner_communicator.h',
+#        'test/spawned_test_server/base_test_server.cc',
+#        'test/spawned_test_server/base_test_server.h',
+#        'test/spawned_test_server/local_test_server.cc',
+#        'test/spawned_test_server/local_test_server.h',
+#        'test/spawned_test_server/local_test_server_posix.cc',
+#        'test/spawned_test_server/local_test_server_win.cc',
+#        'test/spawned_test_server/remote_test_server.cc',
+#        'test/spawned_test_server/remote_test_server.h',
+#        'test/spawned_test_server/spawned_test_server.h',
+#        'test/spawned_test_server/spawner_communicator.cc',
+#        'test/spawned_test_server/spawner_communicator.h',
         'test/url_request/url_request_failed_job.cc',
         'test/url_request/url_request_failed_job.h',
@@ -1001,6 +1001,6 @@
         'url_request/test_url_request_interceptor.cc',
         'url_request/test_url_request_interceptor.h',
-        'url_request/url_request_test_util.cc',
-        'url_request/url_request_test_util.h',
+#        'url_request/url_request_test_util.cc',
+#        'url_request/url_request_test_util.h',
       ],
       'conditions': [
@@ -1036,8 +1036,8 @@
         ['OS != "android"', {
           'sources!': [
-            'test/spawned_test_server/remote_test_server.cc',
-            'test/spawned_test_server/remote_test_server.h',
-            'test/spawned_test_server/spawner_communicator.cc',
-            'test/spawned_test_server/spawner_communicator.h',
+#            'test/spawned_test_server/remote_test_server.cc',
+#            'test/spawned_test_server/remote_test_server.h',
+#            'test/spawned_test_server/spawner_communicator.cc',
+#            'test/spawned_test_server/spawner_communicator.h',
           ],
         }],
@@ -1056,5 +1056,5 @@
         [ 'use_nss != 1', {
             'sources!': [
-              'test/cert_test_util_nss.cc',
+#              'test/cert_test_util_nss.cc',
             ],
         }],
@@ -1179,5 +1179,5 @@
         '../base/base.gyp:base',
         'net',
-        'net_test_support',
+#        'net_test_support',
       ],
       'sources': [
@@ -1341,5 +1341,5 @@
             '../base/base.gyp:base',
             'net',
-            'net_test_support',
+#            'net_test_support',
           ],
           'sources': [
@@ -1467,7 +1467,7 @@
           'dependencies': [
             '../base/base.gyp:base',
-            '../base/base.gyp:test_support_base',
+#            '../base/base.gyp:test_support_base',
             '../testing/gtest.gyp:gtest',
-            'net_test_support',
+#            'net_test_support',
           ],
           'sources': [
@@ -1481,5 +1481,5 @@
             '../base/base.gyp:base',
             'net',
-            'net_test_support',
+#            'net_test_support',
           ],
           'sources': [
@@ -1568,5 +1568,5 @@
         },
         {
-          'target_name': 'flip_in_mem_edsm_server_unittests',
+#          'target_name': 'flip_in_mem_edsm_server_unittests',
           'type': 'executable',
           'dependencies': [
@@ -1576,9 +1576,9 @@
               'flip_in_mem_edsm_server_base',
               'net',
-              'net_test_support',
+#              'net_test_support',
           ],
           'sources': [
-            'tools/flip_server/flip_test_utils.cc',
-            'tools/flip_server/flip_test_utils.h',
+#            'tools/flip_server/flip_test_utils.cc',
+#            'tools/flip_server/flip_test_utils.h',
             'tools/flip_server/http_interface_test.cc',
             'tools/flip_server/mem_cache_test.cc',
@@ -1701,5 +1701,5 @@
         },
         {
-          'target_name': 'net_test_jni_headers',
+#          'target_name': 'net_test_jni_headers',
           'type': 'none',
           'sources': [
@@ -1743,5 +1743,5 @@
         },
         {
-          'target_name': 'net_java_test_support',
+#          'target_name': 'net_java_test_support',
           'type': 'none',
           'variables': {
@@ -1758,5 +1758,5 @@
           'dependencies': [
             '../base/base.gyp:base',
-            '../base/base.gyp:base_java_test_support',
+#            '../base/base.gyp:base_java_test_support',
             'net_java',
           ],
@@ -1808,10 +1808,10 @@
         },
         {
-          'target_name': 'net_unittests_apk',
+#          'target_name': 'net_unittests_apk',
           'type': 'none',
           'dependencies': [
             'net_java',
             'net_javatests',
-            'net_unittests',
+#            'net_unittests',
           ],
           'conditions': [
@@ -1832,11 +1832,11 @@
           ],
           'variables': {
-            'test_suite_name': 'net_unittests',
+#            'test_suite_name': 'net_unittests',
             'conditions': [
               ['v8_use_external_startup_data==1', {
-                'asset_location': '<(PRODUCT_DIR)/net_unittests_apk/assets',
+#                'asset_location': '<(PRODUCT_DIR)/net_unittests_apk/assets',
                 'additional_input_paths': [
-                  '<(PRODUCT_DIR)/net_unittests_apk/assets/natives_blob.bin',
-                  '<(PRODUCT_DIR)/net_unittests_apk/assets/snapshot_blob.bin',
+#                  '<(PRODUCT_DIR)/net_unittests_apk/assets/natives_blob.bin',
+#                  '<(PRODUCT_DIR)/net_unittests_apk/assets/snapshot_blob.bin',
                 ],
                 'inputs': [
@@ -1869,8 +1869,8 @@
       'targets': [
         {
-          'target_name': 'net_unittests_run',
+#          'target_name': 'net_unittests_run',
           'type': 'none',
           'dependencies': [
-            'net_unittests',
+#            'net_unittests',
           ],
           'includes': [
@@ -1878,5 +1878,5 @@
           ],
           'sources': [
-            'net_unittests.isolate',
+#            'net_unittests.isolate',
           ],
         },
diff --git a/net/net.gypi b/net/net.gypi
index 174ced8..fe3202a 100644
--- a/net/net.gypi
+++ b/net/net.gypi
@@ -889,6 +889,6 @@
       'quic/quic_connection_helper.cc',
       'quic/quic_connection_helper.h',
-      'quic/quic_connection_logger.cc',
-      'quic/quic_connection_logger.h',
+#      'quic/quic_connection_logger.cc',
+#      'quic/quic_connection_logger.h',
       'quic/quic_connection_stats.cc',
       'quic/quic_connection_stats.h',
@@ -1199,6 +1199,6 @@
       'url_request/url_request_simple_job.h',
       'url_request/url_request_status.h',
-      'url_request/url_request_test_job.cc',
-      'url_request/url_request_test_job.h',
+#      'url_request/url_request_test_job.cc',
+#      'url_request/url_request_test_job.h',
       'url_request/url_request_throttler_entry.cc',
       'url_request/url_request_throttler_entry.h',
@@ -1258,170 +1258,170 @@
     ],
     'net_test_sources': [
-      'android/keystore_unittest.cc',
-      'android/network_change_notifier_android_unittest.cc',
-      'base/address_list_unittest.cc',
-      'base/address_tracker_linux_unittest.cc',
-      'base/backoff_entry_unittest.cc',
-      'base/chunked_upload_data_stream_unittest.cc',
-      'base/data_url_unittest.cc',
-      'base/directory_lister_unittest.cc',
-      'base/dns_util_unittest.cc',
-      'base/elements_upload_data_stream_unittest.cc',
-      'base/escape_unittest.cc',
-      'base/expiring_cache_unittest.cc',
-      'base/file_stream_unittest.cc',
-      'base/filename_util_unittest.cc',
-      'base/host_mapping_rules_unittest.cc',
-      'base/host_port_pair_unittest.cc',
-      'base/int128_unittest.cc',
-      'base/ip_endpoint_unittest.cc',
-      'base/ip_pattern_unittest.cc',
-      'base/keygen_handler_unittest.cc',
-      'base/layered_network_delegate_unittest.cc',
-      'base/mime_sniffer_unittest.cc',
-      'base/mime_util_unittest.cc',
-      'base/net_log_logger_unittest.cc',
-      'base/net_log_unittest.cc',
-      'base/net_log_unittest.h',
-      'base/net_log_util_unittest.cc',
-      'base/net_util_icu_unittest.cc',
-      'base/net_util_unittest.cc',
-      'base/network_activity_monitor_unittest.cc',
-      'base/network_change_notifier_unittest.cc',
-      'base/network_change_notifier_win_unittest.cc',
-      'base/prioritized_dispatcher_unittest.cc',
-      'base/priority_queue_unittest.cc',
-      'base/registry_controlled_domains/registry_controlled_domain_unittest.cc',
-      'base/sdch_manager_unittest.cc',
-      'base/static_cookie_policy_unittest.cc',
-      'base/test_completion_callback_unittest.cc',
-      'base/trace_net_log_observer_unittest.cc',
-      'base/upload_bytes_element_reader_unittest.cc',
-      'base/upload_file_element_reader_unittest.cc',
-      'base/url_util_unittest.cc',
-      'cert/cert_policy_enforcer_unittest.cc',
-      'cert/cert_verify_proc_unittest.cc',
-      'cert/crl_set_unittest.cc',
-      'cert/ct_log_response_parser_unittest.cc',
-      'cert/ct_log_verifier_unittest.cc',
-      'cert/ct_objects_extractor_unittest.cc',
-      'cert/ct_serialization_unittest.cc',
-      'cert/ev_root_ca_metadata_unittest.cc',
-      'cert/jwk_serializer_unittest.cc',
-      'cert/multi_log_ct_verifier_unittest.cc',
-      'cert/multi_threaded_cert_verifier_unittest.cc',
-      'cert/nss_cert_database_chromeos_unittest.cc',
-      'cert/nss_cert_database_unittest.cc',
-      'cert/nss_profile_filter_chromeos_unittest.cc',
-      'cert/pem_tokenizer_unittest.cc',
-      'cert/sha256_legacy_support_win_unittest.cc',
-      'cert/signed_certificate_timestamp_unittest.cc',
-      'cert/test_root_certs_unittest.cc',
-      'cert/x509_cert_types_unittest.cc',
-      'cert/x509_certificate_unittest.cc',
-      'cert/x509_util_nss_unittest.cc',
-      'cert/x509_util_openssl_unittest.cc',
-      'cert/x509_util_unittest.cc',
-      'cookies/canonical_cookie_unittest.cc',
-      'cookies/cookie_constants_unittest.cc',
-      'cookies/cookie_monster_unittest.cc',
-      'cookies/cookie_store_unittest.h',
-      'cookies/cookie_util_unittest.cc',
-      'cookies/parsed_cookie_unittest.cc',
-      'disk_cache/backend_unittest.cc',
-      'disk_cache/blockfile/addr_unittest.cc',
-      'disk_cache/blockfile/bitmap_unittest.cc',
-      'disk_cache/blockfile/block_bitmaps_v3_unittest.cc',
-      'disk_cache/blockfile/block_files_unittest.cc',
-      'disk_cache/blockfile/index_table_v3_unittest.cc',
-      'disk_cache/blockfile/mapped_file_unittest.cc',
-      'disk_cache/blockfile/stats_unittest.cc',
-      'disk_cache/blockfile/storage_block_unittest.cc',
-      'disk_cache/cache_util_unittest.cc',
-      'disk_cache/entry_unittest.cc',
-      'disk_cache/simple/simple_index_file_unittest.cc',
-      'disk_cache/simple/simple_index_unittest.cc',
+#      'android/keystore_unittest.cc',
+#      'android/network_change_notifier_android_unittest.cc',
+#      'base/address_list_unittest.cc',
+#      'base/address_tracker_linux_unittest.cc',
+#      'base/backoff_entry_unittest.cc',
+#      'base/chunked_upload_data_stream_unittest.cc',
+#      'base/data_url_unittest.cc',
+#      'base/directory_lister_unittest.cc',
+#      'base/dns_util_unittest.cc',
+#      'base/elements_upload_data_stream_unittest.cc',
+#      'base/escape_unittest.cc',
+#      'base/expiring_cache_unittest.cc',
+#      'base/file_stream_unittest.cc',
+#      'base/filename_util_unittest.cc',
+#      'base/host_mapping_rules_unittest.cc',
+#      'base/host_port_pair_unittest.cc',
+#      'base/int128_unittest.cc',
+#      'base/ip_endpoint_unittest.cc',
+#      'base/ip_pattern_unittest.cc',
+#      'base/keygen_handler_unittest.cc',
+#      'base/layered_network_delegate_unittest.cc',
+#      'base/mime_sniffer_unittest.cc',
+#      'base/mime_util_unittest.cc',
+#      'base/net_log_logger_unittest.cc',
+#      'base/net_log_unittest.cc',
+#      'base/net_log_unittest.h',
+#      'base/net_log_util_unittest.cc',
+#      'base/net_util_icu_unittest.cc',
+#      'base/net_util_unittest.cc',
+#      'base/network_activity_monitor_unittest.cc',
+#      'base/network_change_notifier_unittest.cc',
+#      'base/network_change_notifier_win_unittest.cc',
+#      'base/prioritized_dispatcher_unittest.cc',
+#      'base/priority_queue_unittest.cc',
+#      'base/registry_controlled_domains/registry_controlled_domain_unittest.cc',
+#      'base/sdch_manager_unittest.cc',
+#      'base/static_cookie_policy_unittest.cc',
+#      'base/test_completion_callback_unittest.cc',
+#      'base/trace_net_log_observer_unittest.cc',
+#      'base/upload_bytes_element_reader_unittest.cc',
+#      'base/upload_file_element_reader_unittest.cc',
+#      'base/url_util_unittest.cc',
+#      'cert/cert_policy_enforcer_unittest.cc',
+#      'cert/cert_verify_proc_unittest.cc',
+#      'cert/crl_set_unittest.cc',
+#      'cert/ct_log_response_parser_unittest.cc',
+#      'cert/ct_log_verifier_unittest.cc',
+#      'cert/ct_objects_extractor_unittest.cc',
+#      'cert/ct_serialization_unittest.cc',
+#      'cert/ev_root_ca_metadata_unittest.cc',
+#      'cert/jwk_serializer_unittest.cc',
+#      'cert/multi_log_ct_verifier_unittest.cc',
+#      'cert/multi_threaded_cert_verifier_unittest.cc',
+#      'cert/nss_cert_database_chromeos_unittest.cc',
+#      'cert/nss_cert_database_unittest.cc',
+#      'cert/nss_profile_filter_chromeos_unittest.cc',
+#      'cert/pem_tokenizer_unittest.cc',
+#      'cert/sha256_legacy_support_win_unittest.cc',
+#      'cert/signed_certificate_timestamp_unittest.cc',
+#      'cert/test_root_certs_unittest.cc',
+#      'cert/x509_cert_types_unittest.cc',
+#      'cert/x509_certificate_unittest.cc',
+#      'cert/x509_util_nss_unittest.cc',
+#      'cert/x509_util_openssl_unittest.cc',
+#      'cert/x509_util_unittest.cc',
+#      'cookies/canonical_cookie_unittest.cc',
+#      'cookies/cookie_constants_unittest.cc',
+#      'cookies/cookie_monster_unittest.cc',
+#      'cookies/cookie_store_unittest.h',
+#      'cookies/cookie_util_unittest.cc',
+#      'cookies/parsed_cookie_unittest.cc',
+#      'disk_cache/backend_unittest.cc',
+#      'disk_cache/blockfile/addr_unittest.cc',
+#      'disk_cache/blockfile/bitmap_unittest.cc',
+#      'disk_cache/blockfile/block_bitmaps_v3_unittest.cc',
+#      'disk_cache/blockfile/block_files_unittest.cc',
+#      'disk_cache/blockfile/index_table_v3_unittest.cc',
+#      'disk_cache/blockfile/mapped_file_unittest.cc',
+#      'disk_cache/blockfile/stats_unittest.cc',
+#      'disk_cache/blockfile/storage_block_unittest.cc',
+#      'disk_cache/cache_util_unittest.cc',
+#      'disk_cache/entry_unittest.cc',
+#      'disk_cache/simple/simple_index_file_unittest.cc',
+#      'disk_cache/simple/simple_index_unittest.cc',
       'disk_cache/simple/simple_test_util.cc',
       'disk_cache/simple/simple_test_util.h',
-      'disk_cache/simple/simple_util_unittest.cc',
-      'disk_cache/simple/simple_version_upgrade_unittest.cc',
-      'dns/address_sorter_posix_unittest.cc',
-      'dns/address_sorter_unittest.cc',
-      'dns/dns_config_service_posix_unittest.cc',
-      'dns/dns_config_service_unittest.cc',
-      'dns/dns_config_service_win_unittest.cc',
-      'dns/dns_hosts_unittest.cc',
-      'dns/dns_query_unittest.cc',
-      'dns/dns_response_unittest.cc',
-      'dns/dns_session_unittest.cc',
-      'dns/dns_transaction_unittest.cc',
-      'dns/host_cache_unittest.cc',
-      'dns/host_resolver_impl_unittest.cc',
-      'dns/host_resolver_mojo_unittest.cc',
-      'dns/mapped_host_resolver_unittest.cc',
-      'dns/mdns_cache_unittest.cc',
-      'dns/mdns_client_unittest.cc',
-      'dns/mojo_host_resolver_impl_unittest.cc',
-      'dns/record_parsed_unittest.cc',
-      'dns/record_rdata_unittest.cc',
-      'dns/serial_worker_unittest.cc',
-      'dns/single_request_host_resolver_unittest.cc',
-      'extras/sqlite/sqlite_channel_id_store_unittest.cc',
-      'filter/filter_unittest.cc',
-      'filter/gzip_filter_unittest.cc',
+#      'disk_cache/simple/simple_util_unittest.cc',
+#      'disk_cache/simple/simple_version_upgrade_unittest.cc',
+#      'dns/address_sorter_posix_unittest.cc',
+#      'dns/address_sorter_unittest.cc',
+#      'dns/dns_config_service_posix_unittest.cc',
+#      'dns/dns_config_service_unittest.cc',
+#      'dns/dns_config_service_win_unittest.cc',
+#      'dns/dns_hosts_unittest.cc',
+#      'dns/dns_query_unittest.cc',
+#      'dns/dns_response_unittest.cc',
+#      'dns/dns_session_unittest.cc',
+#      'dns/dns_transaction_unittest.cc',
+#      'dns/host_cache_unittest.cc',
+#      'dns/host_resolver_impl_unittest.cc',
+#      'dns/host_resolver_mojo_unittest.cc',
+#      'dns/mapped_host_resolver_unittest.cc',
+#      'dns/mdns_cache_unittest.cc',
+#      'dns/mdns_client_unittest.cc',
+#      'dns/mojo_host_resolver_impl_unittest.cc',
+#      'dns/record_parsed_unittest.cc',
+#      'dns/record_rdata_unittest.cc',
+#      'dns/serial_worker_unittest.cc',
+#      'dns/single_request_host_resolver_unittest.cc',
+#      'extras/sqlite/sqlite_channel_id_store_unittest.cc',
+#      'filter/filter_unittest.cc',
+#      'filter/gzip_filter_unittest.cc',
       'filter/mock_filter_context.cc',
       'filter/mock_filter_context.h',
-      'filter/sdch_filter_unittest.cc',
-      'ftp/ftp_auth_cache_unittest.cc',
-      'ftp/ftp_ctrl_response_buffer_unittest.cc',
-      'ftp/ftp_directory_listing_parser_ls_unittest.cc',
-      'ftp/ftp_directory_listing_parser_netware_unittest.cc',
-      'ftp/ftp_directory_listing_parser_os2_unittest.cc',
-      'ftp/ftp_directory_listing_parser_unittest.cc',
-      'ftp/ftp_directory_listing_parser_unittest.h',
-      'ftp/ftp_directory_listing_parser_vms_unittest.cc',
-      'ftp/ftp_directory_listing_parser_windows_unittest.cc',
-      'ftp/ftp_network_transaction_unittest.cc',
-      'ftp/ftp_util_unittest.cc',
-      'http/des_unittest.cc',
-      'http/disk_based_cert_cache_unittest.cc',
-      'http/disk_cache_based_quic_server_info_unittest.cc',
-      'http/http_auth_cache_unittest.cc',
-      'http/http_auth_challenge_tokenizer_unittest.cc',
-      'http/http_auth_controller_unittest.cc',
-      'http/http_auth_filter_unittest.cc',
-      'http/http_auth_gssapi_posix_unittest.cc',
-      'http/http_auth_handler_basic_unittest.cc',
-      'http/http_auth_handler_digest_unittest.cc',
-      'http/http_auth_handler_factory_unittest.cc',
+#      'filter/sdch_filter_unittest.cc',
+#      'ftp/ftp_auth_cache_unittest.cc',
+#      'ftp/ftp_ctrl_response_buffer_unittest.cc',
+#      'ftp/ftp_directory_listing_parser_ls_unittest.cc',
+#      'ftp/ftp_directory_listing_parser_netware_unittest.cc',
+#      'ftp/ftp_directory_listing_parser_os2_unittest.cc',
+#      'ftp/ftp_directory_listing_parser_unittest.cc',
+#      'ftp/ftp_directory_listing_parser_unittest.h',
+#      'ftp/ftp_directory_listing_parser_vms_unittest.cc',
+#      'ftp/ftp_directory_listing_parser_windows_unittest.cc',
+#      'ftp/ftp_network_transaction_unittest.cc',
+#      'ftp/ftp_util_unittest.cc',
+#      'http/des_unittest.cc',
+#      'http/disk_based_cert_cache_unittest.cc',
+#      'http/disk_cache_based_quic_server_info_unittest.cc',
+#      'http/http_auth_cache_unittest.cc',
+#      'http/http_auth_challenge_tokenizer_unittest.cc',
+#      'http/http_auth_controller_unittest.cc',
+#      'http/http_auth_filter_unittest.cc',
+#      'http/http_auth_gssapi_posix_unittest.cc',
+#      'http/http_auth_handler_basic_unittest.cc',
+#      'http/http_auth_handler_digest_unittest.cc',
+#      'http/http_auth_handler_factory_unittest.cc',
       'http/http_auth_handler_mock.cc',
       'http/http_auth_handler_mock.h',
-      'http/http_auth_handler_negotiate_unittest.cc',
-      'http/http_auth_handler_unittest.cc',
-      'http/http_auth_sspi_win_unittest.cc',
-      'http/http_auth_unittest.cc',
-      'http/http_basic_state_unittest.cc',
-      'http/http_byte_range_unittest.cc',
-      'http/http_cache_unittest.cc',
-      'http/http_chunked_decoder_unittest.cc',
-      'http/http_content_disposition_unittest.cc',
-      'http/http_log_util_unittest.cc',
-      'http/http_network_layer_unittest.cc',
-      'http/http_network_transaction_ssl_unittest.cc',
-      'http/http_network_transaction_unittest.cc',
-      'http/http_proxy_client_socket_pool_unittest.cc',
-      'http/http_request_headers_unittest.cc',
-      'http/http_response_body_drainer_unittest.cc',
-      'http/http_response_headers_unittest.cc',
-      'http/http_response_info_unittest.cc',
-      'http/http_security_headers_unittest.cc',
-      'http/http_server_properties_impl_unittest.cc',
-      'http/http_server_properties_manager_unittest.cc',
-      'http/http_status_code_unittest.cc',
-      'http/http_stream_factory_impl_request_unittest.cc',
-      'http/http_stream_factory_impl_unittest.cc',
-      'http/http_stream_parser_unittest.cc',
-      'http/http_util_unittest.cc',
-      'http/http_vary_data_unittest.cc',
+#      'http/http_auth_handler_negotiate_unittest.cc',
+#      'http/http_auth_handler_unittest.cc',
+#      'http/http_auth_sspi_win_unittest.cc',
+#      'http/http_auth_unittest.cc',
+#      'http/http_basic_state_unittest.cc',
+#      'http/http_byte_range_unittest.cc',
+#      'http/http_cache_unittest.cc',
+#      'http/http_chunked_decoder_unittest.cc',
+#      'http/http_content_disposition_unittest.cc',
+#      'http/http_log_util_unittest.cc',
+#      'http/http_network_layer_unittest.cc',
+#      'http/http_network_transaction_ssl_unittest.cc',
+#      'http/http_network_transaction_unittest.cc',
+#      'http/http_proxy_client_socket_pool_unittest.cc',
+#      'http/http_request_headers_unittest.cc',
+#      'http/http_response_body_drainer_unittest.cc',
+#      'http/http_response_headers_unittest.cc',
+#      'http/http_response_info_unittest.cc',
+#      'http/http_security_headers_unittest.cc',
+#      'http/http_server_properties_impl_unittest.cc',
+#      'http/http_server_properties_manager_unittest.cc',
+#      'http/http_status_code_unittest.cc',
+#      'http/http_stream_factory_impl_request_unittest.cc',
+#      'http/http_stream_factory_impl_unittest.cc',
+#      'http/http_stream_parser_unittest.cc',
+#      'http/http_util_unittest.cc',
+#      'http/http_vary_data_unittest.cc',
       'http/mock_allow_url_security_manager.cc',
       'http/mock_allow_url_security_manager.h',
@@ -1432,29 +1432,29 @@
       'http/mock_sspi_library_win.cc',
       'http/mock_sspi_library_win.h',
-      'http/transport_security_persister_unittest.cc',
-      'http/transport_security_state_unittest.cc',
-      'http/url_security_manager_unittest.cc',
-      'ocsp/nss_ocsp_unittest.cc',
-      'proxy/dhcp_proxy_script_adapter_fetcher_win_unittest.cc',
-      'proxy/dhcp_proxy_script_fetcher_factory_unittest.cc',
-      'proxy/dhcp_proxy_script_fetcher_win_unittest.cc',
-      'proxy/mojo_proxy_resolver_factory_impl_unittest.cc',
-      'proxy/mojo_proxy_resolver_impl_unittest.cc',
-      'proxy/multi_threaded_proxy_resolver_unittest.cc',
-      'proxy/network_delegate_error_observer_unittest.cc',
-      'proxy/proxy_bypass_rules_unittest.cc',
-      'proxy/proxy_config_service_android_unittest.cc',
-      'proxy/proxy_config_service_linux_unittest.cc',
-      'proxy/proxy_config_service_win_unittest.cc',
-      'proxy/proxy_config_unittest.cc',
-      'proxy/proxy_info_unittest.cc',
-      'proxy/proxy_list_unittest.cc',
-      'proxy/proxy_resolver_mojo_unittest.cc',
-      'proxy/proxy_resolver_v8_tracing_unittest.cc',
-      'proxy/proxy_resolver_v8_unittest.cc',
-      'proxy/proxy_script_decider_unittest.cc',
-      'proxy/proxy_script_fetcher_impl_unittest.cc',
-      'proxy/proxy_server_unittest.cc',
-      'proxy/proxy_service_unittest.cc',
+#      'http/transport_security_persister_unittest.cc',
+#      'http/transport_security_state_unittest.cc',
+#      'http/url_security_manager_unittest.cc',
+#      'ocsp/nss_ocsp_unittest.cc',
+#      'proxy/dhcp_proxy_script_adapter_fetcher_win_unittest.cc',
+#      'proxy/dhcp_proxy_script_fetcher_factory_unittest.cc',
+#      'proxy/dhcp_proxy_script_fetcher_win_unittest.cc',
+#      'proxy/mojo_proxy_resolver_factory_impl_unittest.cc',
+#      'proxy/mojo_proxy_resolver_impl_unittest.cc',
+#      'proxy/multi_threaded_proxy_resolver_unittest.cc',
+#      'proxy/network_delegate_error_observer_unittest.cc',
+#      'proxy/proxy_bypass_rules_unittest.cc',
+#      'proxy/proxy_config_service_android_unittest.cc',
+#      'proxy/proxy_config_service_linux_unittest.cc',
+#      'proxy/proxy_config_service_win_unittest.cc',
+#      'proxy/proxy_config_unittest.cc',
+#      'proxy/proxy_info_unittest.cc',
+#      'proxy/proxy_list_unittest.cc',
+#      'proxy/proxy_resolver_mojo_unittest.cc',
+#      'proxy/proxy_resolver_v8_tracing_unittest.cc',
+#      'proxy/proxy_resolver_v8_unittest.cc',
+#      'proxy/proxy_script_decider_unittest.cc',
+#      'proxy/proxy_script_fetcher_impl_unittest.cc',
+#      'proxy/proxy_server_unittest.cc',
+#      'proxy/proxy_service_unittest.cc',
       'quic/congestion_control/cubic_test.cc',
       'quic/congestion_control/hybrid_slow_start_test.cc',
@@ -1489,6 +1489,6 @@
       'quic/crypto/strike_register_test.cc',
       'quic/iovector_test.cc',
-      'quic/network_connection_unittest.cc',
-      'quic/port_suggester_unittest.cc',
+#      'quic/network_connection_unittest.cc',
+#      'quic/port_suggester_unittest.cc',
       'quic/quic_ack_notifier_test.cc',
       'quic/quic_address_mismatch_test.cc',
@@ -1499,5 +1499,5 @@
       'quic/quic_config_test.cc',
       'quic/quic_connection_helper_test.cc',
-      'quic/quic_connection_logger_unittest.cc',
+#      'quic/quic_connection_logger_unittest.cc',
       'quic/quic_connection_test.cc',
       'quic/quic_crypto_client_stream_test.cc',
@@ -1512,5 +1512,5 @@
       'quic/quic_http_stream_test.cc',
       'quic/quic_http_utils_test.cc',
-      'quic/quic_network_transaction_unittest.cc',
+#      'quic/quic_network_transaction_unittest.cc',
       'quic/quic_packet_creator_test.cc',
       'quic/quic_packet_generator_test.cc',
@@ -1586,36 +1586,36 @@
       'quic/test_tools/test_task_runner.cc',
       'quic/test_tools/test_task_runner.h',
-      'sdch/sdch_owner_unittest.cc',
-      'server/http_connection_unittest.cc',
-      'server/http_server_response_info_unittest.cc',
-      'server/http_server_unittest.cc',
-      'server/web_socket_encoder_unittest.cc',
-      'socket/client_socket_pool_base_unittest.cc',
-      'socket/deterministic_socket_data_unittest.cc',
+#      'sdch/sdch_owner_unittest.cc',
+#      'server/http_connection_unittest.cc',
+#      'server/http_server_response_info_unittest.cc',
+#      'server/http_server_unittest.cc',
+#      'server/web_socket_encoder_unittest.cc',
+#      'socket/client_socket_pool_base_unittest.cc',
+#      'socket/deterministic_socket_data_unittest.cc',
       'socket/mock_client_socket_pool_manager.cc',
       'socket/mock_client_socket_pool_manager.h',
-      'socket/socks5_client_socket_unittest.cc',
-      'socket/socks_client_socket_pool_unittest.cc',
-      'socket/socks_client_socket_unittest.cc',
-      'socket/ssl_client_socket_openssl_unittest.cc',
-      'socket/ssl_client_socket_pool_unittest.cc',
-      'socket/ssl_client_socket_unittest.cc',
-      'socket/ssl_server_socket_unittest.cc',
-      'socket/ssl_session_cache_openssl_unittest.cc',
-      'socket/tcp_client_socket_unittest.cc',
-      'socket/tcp_listen_socket_unittest.cc',
-      'socket/tcp_listen_socket_unittest.h',
-      'socket/tcp_server_socket_unittest.cc',
-      'socket/tcp_socket_unittest.cc',
+#      'socket/socks5_client_socket_unittest.cc',
+#      'socket/socks_client_socket_pool_unittest.cc',
+#      'socket/socks_client_socket_unittest.cc',
+#      'socket/ssl_client_socket_openssl_unittest.cc',
+#      'socket/ssl_client_socket_pool_unittest.cc',
+#      'socket/ssl_client_socket_unittest.cc',
+#      'socket/ssl_server_socket_unittest.cc',
+#      'socket/ssl_session_cache_openssl_unittest.cc',
+#      'socket/tcp_client_socket_unittest.cc',
+#      'socket/tcp_listen_socket_unittest.cc',
+#      'socket/tcp_listen_socket_unittest.h',
+#      'socket/tcp_server_socket_unittest.cc',
+#      'socket/tcp_socket_unittest.cc',
       'socket/transport_client_socket_pool_test_util.cc',
       'socket/transport_client_socket_pool_test_util.h',
-      'socket/transport_client_socket_pool_unittest.cc',
-      'socket/transport_client_socket_unittest.cc',
-      'socket/unix_domain_client_socket_posix_unittest.cc',
-      'socket/unix_domain_listen_socket_posix_unittest.cc',
-      'socket/unix_domain_server_socket_posix_unittest.cc',
-      'socket/websocket_endpoint_lock_manager_unittest.cc',
-      'socket/websocket_transport_client_socket_pool_unittest.cc',
-      'spdy/buffered_spdy_framer_unittest.cc',
+#      'socket/transport_client_socket_pool_unittest.cc',
+#      'socket/transport_client_socket_unittest.cc',
+#      'socket/unix_domain_client_socket_posix_unittest.cc',
+#      'socket/unix_domain_listen_socket_posix_unittest.cc',
+#      'socket/unix_domain_server_socket_posix_unittest.cc',
+#      'socket/websocket_endpoint_lock_manager_unittest.cc',
+#      'socket/websocket_transport_client_socket_pool_unittest.cc',
+#      'spdy/buffered_spdy_framer_unittest.cc',
       'spdy/fuzzing/hpack_fuzz_util_test.cc',
       'spdy/hpack_decoder_test.cc',
@@ -1632,13 +1632,13 @@
       'spdy/mock_spdy_framer_visitor.cc',
       'spdy/mock_spdy_framer_visitor.h',
-      'spdy/spdy_buffer_unittest.cc',
+#      'spdy/spdy_buffer_unittest.cc',
       'spdy/spdy_frame_builder_test.cc',
       'spdy/spdy_frame_reader_test.cc',
       'spdy/spdy_framer_test.cc',
-      'spdy/spdy_header_block_unittest.cc',
+#      'spdy/spdy_header_block_unittest.cc',
       'spdy/spdy_headers_block_parser_test.cc',
-      'spdy/spdy_http_stream_unittest.cc',
-      'spdy/spdy_http_utils_unittest.cc',
-      'spdy/spdy_network_transaction_unittest.cc',
+#      'spdy/spdy_http_stream_unittest.cc',
+#      'spdy/spdy_http_utils_unittest.cc',
+#      'spdy/spdy_network_transaction_unittest.cc',
       'spdy/spdy_pinnable_buffer_piece_test.cc',
       'spdy/spdy_prefixed_buffer_reader_test.cc',
@@ -1646,37 +1646,37 @@
       'spdy/spdy_priority_tree_test.cc',
       'spdy/spdy_protocol_test.cc',
-      'spdy/spdy_proxy_client_socket_unittest.cc',
-      'spdy/spdy_read_queue_unittest.cc',
-      'spdy/spdy_session_pool_unittest.cc',
+#      'spdy/spdy_proxy_client_socket_unittest.cc',
+#      'spdy/spdy_read_queue_unittest.cc',
+#      'spdy/spdy_session_pool_unittest.cc',
       'spdy/spdy_session_test_util.cc',
       'spdy/spdy_session_test_util.h',
-      'spdy/spdy_session_unittest.cc',
+#      'spdy/spdy_session_unittest.cc',
       'spdy/spdy_stream_test_util.cc',
       'spdy/spdy_stream_test_util.h',
-      'spdy/spdy_stream_unittest.cc',
+#      'spdy/spdy_stream_unittest.cc',
       'spdy/spdy_test_util_common.cc',
       'spdy/spdy_test_util_common.h',
       'spdy/spdy_test_utils.cc',
       'spdy/spdy_test_utils.h',
-      'spdy/spdy_write_queue_unittest.cc',
+#      'spdy/spdy_write_queue_unittest.cc',
       'spdy/write_blocked_list_test.cc',
-      'ssl/channel_id_service_unittest.cc',
-      'ssl/client_cert_store_chromeos_unittest.cc',
-      'ssl/client_cert_store_mac_unittest.cc',
-      'ssl/client_cert_store_nss_unittest.cc',
-      'ssl/client_cert_store_unittest-inl.h',
-      'ssl/client_cert_store_win_unittest.cc',
-      'ssl/default_channel_id_store_unittest.cc',
-      'ssl/openssl_client_key_store_unittest.cc',
-      'ssl/ssl_cipher_suite_names_unittest.cc',
-      'ssl/ssl_client_auth_cache_unittest.cc',
-      'ssl/ssl_config_service_unittest.cc',
-      'ssl/ssl_connection_status_flags_unittest.cc',
-      'test/embedded_test_server/embedded_test_server_unittest.cc',
-      'test/embedded_test_server/http_request_unittest.cc',
-      'test/embedded_test_server/http_response_unittest.cc',
+#      'ssl/channel_id_service_unittest.cc',
+#      'ssl/client_cert_store_chromeos_unittest.cc',
+#      'ssl/client_cert_store_mac_unittest.cc',
+#      'ssl/client_cert_store_nss_unittest.cc',
+#      'ssl/client_cert_store_unittest-inl.h',
+#      'ssl/client_cert_store_win_unittest.cc',
+#      'ssl/default_channel_id_store_unittest.cc',
+#      'ssl/openssl_client_key_store_unittest.cc',
+#      'ssl/ssl_cipher_suite_names_unittest.cc',
+#      'ssl/ssl_client_auth_cache_unittest.cc',
+#      'ssl/ssl_config_service_unittest.cc',
+#      'ssl/ssl_connection_status_flags_unittest.cc',
+#      'test/embedded_test_server/embedded_test_server_unittest.cc',
+#      'test/embedded_test_server/http_request_unittest.cc',
+#      'test/embedded_test_server/http_response_unittest.cc',
       'test/gtest_util.h',
-      'test/python_utils_unittest.cc',
-      'test/run_all_unittests.cc',
+#      'test/python_utils_unittest.cc',
+#      'test/run_all_unittests.cc',
       'test/scoped_disable_exit_on_dfatal.cc',
       'test/scoped_disable_exit_on_dfatal.h',
@@ -1686,28 +1686,28 @@
       'tools/dump_cache/url_to_filename_encoder.cc',
       'tools/dump_cache/url_to_filename_encoder.h',
-      'tools/dump_cache/url_to_filename_encoder_unittest.cc',
+#      'tools/dump_cache/url_to_filename_encoder_unittest.cc',
       'tools/dump_cache/url_utilities.cc',
       'tools/dump_cache/url_utilities.h',
-      'tools/dump_cache/url_utilities_unittest.cc',
-      'tools/tld_cleanup/tld_cleanup_util_unittest.cc',
-      'udp/udp_socket_unittest.cc',
-      'url_request/sdch_dictionary_fetcher_unittest.cc',
-      'url_request/url_fetcher_impl_unittest.cc',
-      'url_request/url_fetcher_response_writer_unittest.cc',
-      'url_request/url_request_context_builder_unittest.cc',
-      'url_request/url_request_data_job_unittest.cc',
-      'url_request/url_request_file_job_unittest.cc',
-      'url_request/url_request_filter_unittest.cc',
-      'url_request/url_request_ftp_job_unittest.cc',
-      'url_request/url_request_http_job_unittest.cc',
-      'url_request/url_request_job_factory_impl_unittest.cc',
-      'url_request/url_request_job_unittest.cc',
-      'url_request/url_request_simple_job_unittest.cc',
-      'url_request/url_request_throttler_simulation_unittest.cc',
-      'url_request/url_request_throttler_test_support.cc',
-      'url_request/url_request_throttler_test_support.h',
-      'url_request/url_request_throttler_unittest.cc',
-      'url_request/url_request_unittest.cc',
-      'url_request/view_cache_helper_unittest.cc',
+#      'tools/dump_cache/url_utilities_unittest.cc',
+#      'tools/tld_cleanup/tld_cleanup_util_unittest.cc',
+#      'udp/udp_socket_unittest.cc',
+#      'url_request/sdch_dictionary_fetcher_unittest.cc',
+#      'url_request/url_fetcher_impl_unittest.cc',
+#      'url_request/url_fetcher_response_writer_unittest.cc',
+#      'url_request/url_request_context_builder_unittest.cc',
+#      'url_request/url_request_data_job_unittest.cc',
+#      'url_request/url_request_file_job_unittest.cc',
+#      'url_request/url_request_filter_unittest.cc',
+#      'url_request/url_request_ftp_job_unittest.cc',
+#      'url_request/url_request_http_job_unittest.cc',
+#      'url_request/url_request_job_factory_impl_unittest.cc',
+#      'url_request/url_request_job_unittest.cc',
+#      'url_request/url_request_simple_job_unittest.cc',
+#      'url_request/url_request_throttler_simulation_unittest.cc',
+#      'url_request/url_request_throttler_test_support.cc',
+#      'url_request/url_request_throttler_test_support.h',
+#      'url_request/url_request_throttler_unittest.cc',
+#      'url_request/url_request_unittest.cc',
+#      'url_request/view_cache_helper_unittest.cc',
       'websockets/websocket_basic_stream_test.cc',
       'websockets/websocket_channel_test.cc',
@@ -1731,5 +1731,5 @@
     ],
     'net_linux_test_sources': [
-      'quic/quic_end_to_end_unittest.cc',
+#      'quic/quic_end_to_end_unittest.cc',
       'tools/quic/end_to_end_test.cc',
       'tools/quic/quic_client_session_test.cc',
@@ -1774,5 +1774,5 @@
     ],
     'net_base_test_mac_ios_sources': [
-      'base/mac/url_conversions_unittest.mm',
+#      'base/mac/url_conversions_unittest.mm',
     ],
     'net_docs_script': 'tools/net_docs/net_docs.py',
diff --git a/net/ocsp/nss_ocsp.cc b/net/ocsp/nss_ocsp.cc
index 18a476d..f16cfdc 100644
--- a/net/ocsp/nss_ocsp.cc
+++ b/net/ocsp/nss_ocsp.cc
@@ -23,5 +23,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/net/proxy/proxy_resolver_perftest.cc b/net/proxy/proxy_resolver_perftest.cc
index c4fbd73..a7fd097 100644
--- a/net/proxy/proxy_resolver_perftest.cc
+++ b/net/proxy/proxy_resolver_perftest.cc
@@ -14,5 +14,5 @@
 #include "net/proxy/proxy_resolver_v8.h"
 #include "net/test/spawned_test_server/spawned_test_server.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(OS_WIN)
diff --git a/net/proxy/proxy_resolver_winhttp.cc b/net/proxy/proxy_resolver_winhttp.cc
index 755a1bf..8211978 100644
--- a/net/proxy/proxy_resolver_winhttp.cc
+++ b/net/proxy/proxy_resolver_winhttp.cc
@@ -8,5 +8,5 @@
 #include <winhttp.h>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/net/proxy/proxy_script_decider.cc b/net/proxy/proxy_script_decider.cc
index 3d830fc..0160b5d 100644
--- a/net/proxy/proxy_script_decider.cc
+++ b/net/proxy/proxy_script_decider.cc
@@ -10,5 +10,5 @@
 #include "base/format_macros.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/strings/string_util.h"
diff --git a/net/quic/congestion_control/cubic_test.cc b/net/quic/congestion_control/cubic_test.cc
index 0ddbc22..fe8987e 100644
--- a/net/quic/congestion_control/cubic_test.cc
+++ b/net/quic/congestion_control/cubic_test.cc
@@ -8,5 +8,5 @@
 #include "net/quic/quic_connection_stats.h"
 #include "net/quic/test_tools/mock_clock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/congestion_control/hybrid_slow_start_test.cc b/net/quic/congestion_control/hybrid_slow_start_test.cc
index 5b98733..904592e 100644
--- a/net/quic/congestion_control/hybrid_slow_start_test.cc
+++ b/net/quic/congestion_control/hybrid_slow_start_test.cc
@@ -7,5 +7,5 @@
 #include "net/quic/congestion_control/hybrid_slow_start.h"
 #include "net/quic/test_tools/mock_clock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/congestion_control/pacing_sender_test.cc b/net/quic/congestion_control/pacing_sender_test.cc
index 8ffbd34..075971d 100644
--- a/net/quic/congestion_control/pacing_sender_test.cc
+++ b/net/quic/congestion_control/pacing_sender_test.cc
@@ -10,5 +10,5 @@
 #include "net/quic/test_tools/mock_clock.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using testing::Return;
diff --git a/net/quic/congestion_control/prr_sender_test.cc b/net/quic/congestion_control/prr_sender_test.cc
index ed8397f..b48db3a 100644
--- a/net/quic/congestion_control/prr_sender_test.cc
+++ b/net/quic/congestion_control/prr_sender_test.cc
@@ -11,5 +11,5 @@
 #include "net/quic/quic_bandwidth.h"
 #include "net/quic/quic_protocol.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/congestion_control/rtt_stats_test.cc b/net/quic/congestion_control/rtt_stats_test.cc
index 7fc07a3..af61d95 100644
--- a/net/quic/congestion_control/rtt_stats_test.cc
+++ b/net/quic/congestion_control/rtt_stats_test.cc
@@ -9,5 +9,5 @@
 #include "base/logging.h"
 #include "base/test/mock_log.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using logging::LOG_WARNING;
diff --git a/net/quic/congestion_control/tcp_cubic_sender.cc b/net/quic/congestion_control/tcp_cubic_sender.cc
index 6cfe0fb..f912160 100644
--- a/net/quic/congestion_control/tcp_cubic_sender.cc
+++ b/net/quic/congestion_control/tcp_cubic_sender.cc
@@ -7,5 +7,5 @@
 #include <algorithm>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "net/quic/congestion_control/prr_sender.h"
 #include "net/quic/congestion_control/rtt_stats.h"
diff --git a/net/quic/congestion_control/tcp_cubic_sender_test.cc b/net/quic/congestion_control/tcp_cubic_sender_test.cc
index ab5fcdb..c6ead0e 100644
--- a/net/quic/congestion_control/tcp_cubic_sender_test.cc
+++ b/net/quic/congestion_control/tcp_cubic_sender_test.cc
@@ -14,5 +14,5 @@
 #include "net/quic/test_tools/mock_clock.h"
 #include "net/quic/test_tools/quic_config_peer.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::min;
diff --git a/net/quic/congestion_control/tcp_loss_algorithm_test.cc b/net/quic/congestion_control/tcp_loss_algorithm_test.cc
index 69fb04b..79ea8a4 100644
--- a/net/quic/congestion_control/tcp_loss_algorithm_test.cc
+++ b/net/quic/congestion_control/tcp_loss_algorithm_test.cc
@@ -11,5 +11,5 @@
 #include "net/quic/quic_unacked_packet_map.h"
 #include "net/quic/test_tools/mock_clock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::vector;
diff --git a/net/quic/congestion_control/time_loss_algorithm_test.cc b/net/quic/congestion_control/time_loss_algorithm_test.cc
index 24f6350..ebf1569 100644
--- a/net/quic/congestion_control/time_loss_algorithm_test.cc
+++ b/net/quic/congestion_control/time_loss_algorithm_test.cc
@@ -11,5 +11,5 @@
 #include "net/quic/quic_unacked_packet_map.h"
 #include "net/quic/test_tools/mock_clock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::vector;
diff --git a/net/quic/crypto/cert_compressor_test.cc b/net/quic/crypto/cert_compressor_test.cc
index 1b3c28a..6b7bb1c 100644
--- a/net/quic/crypto/cert_compressor_test.cc
+++ b/net/quic/crypto/cert_compressor_test.cc
@@ -8,5 +8,5 @@
 #include "net/quic/quic_utils.h"
 #include "net/quic/test_tools/crypto_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/crypto/channel_id_test.cc b/net/quic/crypto/channel_id_test.cc
index 7392723..453e36a 100644
--- a/net/quic/crypto/channel_id_test.cc
+++ b/net/quic/crypto/channel_id_test.cc
@@ -7,5 +7,5 @@
 #include "net/quic/test_tools/crypto_test_utils.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/crypto/common_cert_set_test.cc b/net/quic/crypto/common_cert_set_test.cc
index 4ed25c0..ed2204c 100644
--- a/net/quic/crypto/common_cert_set_test.cc
+++ b/net/quic/crypto/common_cert_set_test.cc
@@ -5,5 +5,5 @@
 #include "net/quic/crypto/common_cert_set.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/crypto/crypto_secret_boxer_test.cc b/net/quic/crypto/crypto_secret_boxer_test.cc
index 427d052..6a8547f 100644
--- a/net/quic/crypto/crypto_secret_boxer_test.cc
+++ b/net/quic/crypto/crypto_secret_boxer_test.cc
@@ -7,5 +7,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "net/quic/crypto/quic_random.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/crypto/crypto_server_test.cc b/net/quic/crypto/crypto_server_test.cc
index b140e23..d197819 100644
--- a/net/quic/crypto/crypto_server_test.cc
+++ b/net/quic/crypto/crypto_server_test.cc
@@ -20,5 +20,5 @@
 #include "net/quic/test_tools/mock_random.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/crypto/crypto_utils_test.cc b/net/quic/crypto/crypto_utils_test.cc
index 1395cc3..a4b7fc7 100644
--- a/net/quic/crypto/crypto_utils_test.cc
+++ b/net/quic/crypto/crypto_utils_test.cc
@@ -6,5 +6,5 @@
 
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/crypto/curve25519_key_exchange_test.cc b/net/quic/crypto/curve25519_key_exchange_test.cc
index 93ef630..29496bf 100644
--- a/net/quic/crypto/curve25519_key_exchange_test.cc
+++ b/net/quic/crypto/curve25519_key_exchange_test.cc
@@ -8,5 +8,5 @@
 #include "base/strings/string_piece.h"
 #include "net/quic/crypto/quic_random.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/crypto/local_strike_register_client_test.cc b/net/quic/crypto/local_strike_register_client_test.cc
index b713c10..320e2aa2 100644
--- a/net/quic/crypto/local_strike_register_client_test.cc
+++ b/net/quic/crypto/local_strike_register_client_test.cc
@@ -12,5 +12,5 @@
 #include "net/quic/crypto/crypto_protocol.h"
 #include "net/quic/quic_time.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/crypto/p256_key_exchange_test.cc b/net/quic/crypto/p256_key_exchange_test.cc
index 54c99a0..a2b019c 100644
--- a/net/quic/crypto/p256_key_exchange_test.cc
+++ b/net/quic/crypto/p256_key_exchange_test.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/crypto/proof_test.cc b/net/quic/crypto/proof_test.cc
index 4407b93..f3a1fbc 100644
--- a/net/quic/crypto/proof_test.cc
+++ b/net/quic/crypto/proof_test.cc
@@ -15,5 +15,5 @@
 #include "net/quic/test_tools/crypto_test_utils.h"
 #include "net/test/cert_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(OS_WIN)
diff --git a/net/quic/crypto/proof_verifier_chromium.cc b/net/quic/crypto/proof_verifier_chromium.cc
index fb903b6..dcc3a0e 100644
--- a/net/quic/crypto/proof_verifier_chromium.cc
+++ b/net/quic/crypto/proof_verifier_chromium.cc
@@ -10,5 +10,5 @@
 #include "base/compiler_specific.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/net/quic/crypto/quic_crypto_client_config.cc b/net/quic/crypto/quic_crypto_client_config.cc
index 9ec19fd..bd2d43e 100644
--- a/net/quic/crypto/quic_crypto_client_config.cc
+++ b/net/quic/crypto/quic_crypto_client_config.cc
@@ -5,6 +5,6 @@
 #include "net/quic/crypto/quic_crypto_client_config.h"
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/net/quic/crypto/quic_crypto_client_config_test.cc b/net/quic/crypto/quic_crypto_client_config_test.cc
index 21f4bd3..43f7e5c 100644
--- a/net/quic/crypto/quic_crypto_client_config_test.cc
+++ b/net/quic/crypto/quic_crypto_client_config_test.cc
@@ -9,5 +9,5 @@
 #include "net/quic/test_tools/mock_random.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/crypto/quic_crypto_server_config_test.cc b/net/quic/crypto/quic_crypto_server_config_test.cc
index 5134f50..5069404 100644
--- a/net/quic/crypto/quic_crypto_server_config_test.cc
+++ b/net/quic/crypto/quic_crypto_server_config_test.cc
@@ -18,6 +18,6 @@
 #include "net/quic/test_tools/mock_clock.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/crypto/quic_random_test.cc b/net/quic/crypto/quic_random_test.cc
index a762625..e17efcc 100644
--- a/net/quic/crypto/quic_random_test.cc
+++ b/net/quic/crypto/quic_random_test.cc
@@ -5,5 +5,5 @@
 #include "net/quic/crypto/quic_random.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/crypto/strike_register_test.cc b/net/quic/crypto/strike_register_test.cc
index 73a6b2f..839e485 100644
--- a/net/quic/crypto/strike_register_test.cc
+++ b/net/quic/crypto/strike_register_test.cc
@@ -10,5 +10,5 @@
 #include "base/basictypes.h"
 #include "base/rand_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/net/quic/iovector_test.cc b/net/quic/iovector_test.cc
index 37a1523..89bc98e 100644
--- a/net/quic/iovector_test.cc
+++ b/net/quic/iovector_test.cc
@@ -8,5 +8,5 @@
 
 #include "base/logging.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/quic_ack_notifier_test.cc b/net/quic/quic_ack_notifier_test.cc
index 7e9d652..5d5a515 100644
--- a/net/quic/quic_ack_notifier_test.cc
+++ b/net/quic/quic_ack_notifier_test.cc
@@ -6,6 +6,6 @@
 
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using testing::_;
diff --git a/net/quic/quic_address_mismatch_test.cc b/net/quic/quic_address_mismatch_test.cc
index b7c683b..c667330 100644
--- a/net/quic/quic_address_mismatch_test.cc
+++ b/net/quic/quic_address_mismatch_test.cc
@@ -7,5 +7,5 @@
 #include "net/base/ip_endpoint.h"
 #include "net/base/net_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_alarm_test.cc b/net/quic/quic_alarm_test.cc
index dfd40ed..51362b6 100644
--- a/net/quic/quic_alarm_test.cc
+++ b/net/quic/quic_alarm_test.cc
@@ -6,6 +6,6 @@
 
 #include "base/logging.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using testing::Return;
diff --git a/net/quic/quic_bandwidth_test.cc b/net/quic/quic_bandwidth_test.cc
index 7f07a6a..7c2d222 100644
--- a/net/quic/quic_bandwidth_test.cc
+++ b/net/quic/quic_bandwidth_test.cc
@@ -4,5 +4,5 @@
 
 #include "net/quic/quic_bandwidth.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_client_session.cc b/net/quic/quic_client_session.cc
index df26856..220aeca 100644
--- a/net/quic/quic_client_session.cc
+++ b/net/quic/quic_client_session.cc
@@ -7,6 +7,6 @@
 #include "base/callback_helpers.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
@@ -176,5 +176,5 @@ QuicClientSession::QuicClientSession(
       net_log_(BoundNetLog::Make(net_log, NetLog::SOURCE_QUIC_SESSION)),
       dns_resolution_end_time_(dns_resolution_end_time),
-      logger_(new QuicConnectionLogger(this, connection_description, net_log_)),
+//      logger_(new QuicConnectionLogger(this, connection_description, net_log_)),
       num_packets_read_(0),
       going_away_(false),
@@ -185,5 +185,5 @@ QuicClientSession::QuicClientSession(
           "422516 QuicClientSession::QuicClientSession1"));
 
-  connection->set_debug_visitor(logger_.get());
+  connection->set_debug_visitor(nullptr);//logger_.get());
   IPEndPoint address;
   // TODO(rtenneti): Remove ScopedTracker below once crbug.com/422516 is fixed.
@@ -571,10 +571,10 @@ QuicDataStream* QuicClientSession::CreateIncomingDataStream(
 
 void QuicClientSession::CloseStream(QuicStreamId stream_id) {
-  ReliableQuicStream* stream = GetStream(stream_id);
+/*  ReliableQuicStream* stream = GetStream(stream_id);
   if (stream) {
     logger_->UpdateReceivedFrameCounts(
         stream_id, stream->num_frames_received(),
         stream->num_duplicate_frames_received());
-  }
+  }*/
   QuicSession::CloseStream(stream_id);
   OnClosedStream();
@@ -616,7 +616,7 @@ void QuicClientSession::OnCryptoHandshakeEvent(CryptoHandshakeEvent event) {
   }
   if (event == HANDSHAKE_CONFIRMED) {
-    UMA_HISTOGRAM_TIMES("Net.QuicSession.HandshakeConfirmedTime",
-                        base::TimeTicks::Now() - handshake_start_);
-    if (server_info_) {
+//    UMA_HISTOGRAM_TIMES("Net.QuicSession.HandshakeConfirmedTime",
+//                        base::TimeTicks::Now() - handshake_start_);
+/*    if (server_info_) {
       // TODO(rtenneti): Should we delete this histogram?
       // Track how long it has taken to finish handshake once we start waiting
@@ -639,5 +639,5 @@ void QuicClientSession::OnCryptoHandshakeEvent(CryptoHandshakeEvent event) {
           base::TimeTicks::Now() - dns_resolution_end_time_);
     }
-
+*/
     ObserverSet::iterator it = observers_.begin();
     while (it != observers_.end()) {
@@ -654,10 +654,10 @@ void QuicClientSession::OnCryptoHandshakeEvent(CryptoHandshakeEvent event) {
 void QuicClientSession::OnCryptoHandshakeMessageSent(
     const CryptoHandshakeMessage& message) {
-  logger_->OnCryptoHandshakeMessageSent(message);
+//  logger_->OnCryptoHandshakeMessageSent(message);
 }
 
 void QuicClientSession::OnCryptoHandshakeMessageReceived(
     const CryptoHandshakeMessage& message) {
-  logger_->OnCryptoHandshakeMessageReceived(message);
+//  logger_->OnCryptoHandshakeMessageReceived(message);
 }
 
@@ -665,5 +665,5 @@ void QuicClientSession::OnConnectionClosed(QuicErrorCode error,
                                            bool from_peer) {
   DCHECK(!connection()->connected());
-  logger_->OnConnectionClosed(error, from_peer);
+/*  logger_->OnConnectionClosed(error, from_peer);
   if (from_peer) {
     UMA_HISTOGRAM_SPARSE_SLOWLY(
@@ -730,4 +730,5 @@ void QuicClientSession::OnConnectionClosed(QuicErrorCode error,
   UMA_HISTOGRAM_SPARSE_SLOWLY("Net.QuicSession.QuicVersion",
                               connection()->version());
+*/
   NotifyFactoryOfSessionGoingAway();
   if (!callback_.is_null()) {
@@ -744,5 +745,5 @@ void QuicClientSession::OnConnectionClosed(QuicErrorCode error,
 void QuicClientSession::OnSuccessfulVersionNegotiation(
     const QuicVersion& version) {
-  logger_->OnSuccessfulVersionNegotiation(version);
+//  logger_->OnSuccessfulVersionNegotiation(version);
   QuicSession::OnSuccessfulVersionNegotiation(version);
 }
@@ -774,5 +775,5 @@ void QuicClientSession::OnProofVerifyDetailsAvailable(
   cert_verify_result_.reset(result_copy);
   pinning_failure_log_ = verify_details_chromium->pinning_failure_log;
-  logger_->OnCertificateVerified(*cert_verify_result_);
+//logger_->OnCertificateVerified(*cert_verify_result_);
 }
 
@@ -786,5 +787,5 @@ void QuicClientSession::StartReading() {
                          base::Bind(&QuicClientSession::OnReadComplete,
                                     weak_factory_.GetWeakPtr()));
-  UMA_HISTOGRAM_BOOLEAN("Net.QuicSession.AsyncRead", rv == ERR_IO_PENDING);
+//  UMA_HISTOGRAM_BOOLEAN("Net.QuicSession.AsyncRead", rv == ERR_IO_PENDING);
   if (rv == ERR_IO_PENDING) {
     num_packets_read_ = 0;
@@ -807,5 +808,5 @@ void QuicClientSession::StartReading() {
 
 void QuicClientSession::CloseSessionOnError(int error) {
-  UMA_HISTOGRAM_SPARSE_SLOWLY("Net.QuicSession.CloseSessionOnError", -error);
+//  UMA_HISTOGRAM_SPARSE_SLOWLY("Net.QuicSession.CloseSessionOnError", -error);
   CloseSessionOnErrorInner(error, QUIC_INTERNAL_ERROR);
   NotifyFactoryOfSessionClosed();
@@ -892,5 +893,5 @@ void QuicClientSession::OnReadComplete(int result) {
   if (result < 0) {
     DVLOG(1) << "Closing session on read error: " << result;
-    UMA_HISTOGRAM_SPARSE_SLOWLY("Net.QuicSession.ReadError", -result);
+//    UMA_HISTOGRAM_SPARSE_SLOWLY("Net.QuicSession.ReadError", -result);
     NotifyFactoryOfSessionGoingAway();
     CloseSessionOnErrorInner(result, QUIC_PACKET_READ_ERROR);
diff --git a/net/quic/quic_client_session.h b/net/quic/quic_client_session.h
index b559069..9b9f35b 100644
--- a/net/quic/quic_client_session.h
+++ b/net/quic/quic_client_session.h
@@ -20,5 +20,5 @@
 #include "net/proxy/proxy_server.h"
 #include "net/quic/quic_client_session_base.h"
-#include "net/quic/quic_connection_logger.h"
+//#include "net/quic/quic_connection_logger.h"
 #include "net/quic/quic_crypto_client_stream.h"
 #include "net/quic/quic_protocol.h"
@@ -243,5 +243,5 @@ class NET_EXPORT_PRIVATE QuicClientSession : public QuicClientSessionBase {
   base::TimeTicks dns_resolution_end_time_;
   base::TimeTicks handshake_start_;  // Time the handshake was started.
-  scoped_ptr<QuicConnectionLogger> logger_;
+//  scoped_ptr<QuicConnectionLogger> logger_;
   // Number of packets read in the current read loop.
   size_t num_packets_read_;
diff --git a/net/quic/quic_clock_test.cc b/net/quic/quic_clock_test.cc
index 6ee4540..5344b16 100644
--- a/net/quic/quic_clock_test.cc
+++ b/net/quic/quic_clock_test.cc
@@ -5,5 +5,5 @@
 #include "net/quic/quic_clock.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_config_test.cc b/net/quic/quic_config_test.cc
index de22010..858dd99 100644
--- a/net/quic/quic_config_test.cc
+++ b/net/quic/quic_config_test.cc
@@ -14,5 +14,5 @@
 #include "net/quic/test_tools/quic_test_utils.h"
 #include "net/test/gtest_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/quic_connection_helper.cc b/net/quic/quic_connection_helper.cc
index 195dfb3..a3a8cb9 100644
--- a/net/quic/quic_connection_helper.cc
+++ b/net/quic/quic_connection_helper.cc
@@ -7,5 +7,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/task_runner.h"
 #include "base/time/time.h"
diff --git a/net/quic/quic_connection_helper_test.cc b/net/quic/quic_connection_helper_test.cc
index f5a6907..d2ae29d 100644
--- a/net/quic/quic_connection_helper_test.cc
+++ b/net/quic/quic_connection_helper_test.cc
@@ -8,5 +8,5 @@
 #include "net/quic/test_tools/mock_random.h"
 #include "net/quic/test_tools/test_task_runner.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_connection_test.cc b/net/quic/quic_connection_test.cc
index 7f3f1d4..7e644b1 100644
--- a/net/quic/quic_connection_test.cc
+++ b/net/quic/quic_connection_test.cc
@@ -30,6 +30,6 @@
 #include "net/quic/test_tools/simple_quic_framer.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/quic_crypto_client_stream.cc b/net/quic/quic_crypto_client_stream.cc
index eaff528..eb5d4f6 100644
--- a/net/quic/quic_crypto_client_stream.cc
+++ b/net/quic/quic_crypto_client_stream.cc
@@ -5,5 +5,5 @@
 #include "net/quic/quic_crypto_client_stream.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "net/quic/crypto/crypto_protocol.h"
diff --git a/net/quic/quic_crypto_client_stream_test.cc b/net/quic/quic_crypto_client_stream_test.cc
index 454d930..7c696ee 100644
--- a/net/quic/quic_crypto_client_stream_test.cc
+++ b/net/quic/quic_crypto_client_stream_test.cc
@@ -16,6 +16,6 @@
 #include "net/quic/test_tools/quic_test_utils.h"
 #include "net/quic/test_tools/simple_quic_framer.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/quic_crypto_server_stream_test.cc b/net/quic/quic_crypto_server_stream_test.cc
index 2b885fa..dd87be3 100644
--- a/net/quic/quic_crypto_server_stream_test.cc
+++ b/net/quic/quic_crypto_server_stream_test.cc
@@ -24,6 +24,6 @@
 #include "net/quic/test_tools/delayed_verify_strike_register_client.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_crypto_stream_test.cc b/net/quic/quic_crypto_stream_test.cc
index 0abd49d..f5c6c2d 100644
--- a/net/quic/quic_crypto_stream_test.cc
+++ b/net/quic/quic_crypto_stream_test.cc
@@ -14,6 +14,6 @@
 #include "net/quic/test_tools/quic_test_utils.h"
 #include "net/quic/test_tools/reliable_quic_stream_peer.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/quic_data_stream_test.cc b/net/quic/quic_data_stream_test.cc
index cc865c0..71d18c5 100644
--- a/net/quic/quic_data_stream_test.cc
+++ b/net/quic/quic_data_stream_test.cc
@@ -15,5 +15,5 @@
 #include "net/quic/test_tools/reliable_quic_stream_peer.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using base::StringPiece;
diff --git a/net/quic/quic_data_writer_test.cc b/net/quic/quic_data_writer_test.cc
index a7ac2a8..5efffef 100644
--- a/net/quic/quic_data_writer_test.cc
+++ b/net/quic/quic_data_writer_test.cc
@@ -8,5 +8,5 @@
 #include "net/quic/quic_data_reader.h"
 #include "net/test/gtest_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_default_packet_writer.cc b/net/quic/quic_default_packet_writer.cc
index 177d292..8241724 100644
--- a/net/quic/quic_default_packet_writer.cc
+++ b/net/quic/quic_default_packet_writer.cc
@@ -7,6 +7,6 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "net/base/io_buffer.h"
 #include "net/base/net_errors.h"
diff --git a/net/quic/quic_fec_group_test.cc b/net/quic/quic_fec_group_test.cc
index 9f38da7..7c65c70 100644
--- a/net/quic/quic_fec_group_test.cc
+++ b/net/quic/quic_fec_group_test.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using ::testing::_;
diff --git a/net/quic/quic_flow_controller_test.cc b/net/quic/quic_flow_controller_test.cc
index b3c75c4..6198fc4 100644
--- a/net/quic/quic_flow_controller_test.cc
+++ b/net/quic/quic_flow_controller_test.cc
@@ -12,5 +12,5 @@
 #include "net/quic/test_tools/quic_test_utils.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/net/quic/quic_headers_stream_test.cc b/net/quic/quic_headers_stream_test.cc
index d4cf018..c4e999e 100644
--- a/net/quic/quic_headers_stream_test.cc
+++ b/net/quic/quic_headers_stream_test.cc
@@ -12,5 +12,5 @@
 #include "net/quic/test_tools/reliable_quic_stream_peer.h"
 #include "net/spdy/spdy_protocol.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/quic_http_stream.cc b/net/quic/quic_http_stream.cc
index d61a303..727b03a 100644
--- a/net/quic/quic_http_stream.cc
+++ b/net/quic/quic_http_stream.cc
@@ -6,5 +6,5 @@
 
 #include "base/callback_helpers.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "net/base/io_buffer.h"
diff --git a/net/quic/quic_http_stream_test.cc b/net/quic/quic_http_stream_test.cc
index 71417a1..fdd8e36 100644
--- a/net/quic/quic_http_stream_test.cc
+++ b/net/quic/quic_http_stream_test.cc
@@ -39,6 +39,6 @@
 #include "net/spdy/spdy_http_utils.h"
 #include "net/spdy/spdy_protocol.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using testing::_;
diff --git a/net/quic/quic_http_utils_test.cc b/net/quic/quic_http_utils_test.cc
index 93b62e2..d96164b 100644
--- a/net/quic/quic_http_utils_test.cc
+++ b/net/quic/quic_http_utils_test.cc
@@ -5,5 +5,5 @@
 #include "net/quic/quic_http_utils.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_packet_creator_test.cc b/net/quic/quic_packet_creator_test.cc
index 877ccc8..d7e7d24 100644
--- a/net/quic/quic_packet_creator_test.cc
+++ b/net/quic/quic_packet_creator_test.cc
@@ -15,5 +15,5 @@
 #include "net/quic/test_tools/quic_test_utils.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using base::StringPiece;
diff --git a/net/quic/quic_packet_generator_test.cc b/net/quic/quic_packet_generator_test.cc
index a8abf27..a827cad 100644
--- a/net/quic/quic_packet_generator_test.cc
+++ b/net/quic/quic_packet_generator_test.cc
@@ -18,6 +18,6 @@
 #include "net/quic/test_tools/simple_quic_framer.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/quic_protocol_test.cc b/net/quic/quic_protocol_test.cc
index 646c099..0cf8847 100644
--- a/net/quic/quic_protocol_test.cc
+++ b/net/quic/quic_protocol_test.cc
@@ -6,5 +6,5 @@
 
 #include "base/stl_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_received_packet_manager_test.cc b/net/quic/quic_received_packet_manager_test.cc
index d91e4e0..721d303 100644
--- a/net/quic/quic_received_packet_manager_test.cc
+++ b/net/quic/quic_received_packet_manager_test.cc
@@ -10,6 +10,6 @@
 #include "net/quic/quic_connection_stats.h"
 #include "net/quic/test_tools/quic_received_packet_manager_peer.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::pair;
diff --git a/net/quic/quic_reliable_client_stream_test.cc b/net/quic/quic_reliable_client_stream_test.cc
index 4da460c..3c96fb3 100644
--- a/net/quic/quic_reliable_client_stream_test.cc
+++ b/net/quic/quic_reliable_client_stream_test.cc
@@ -11,5 +11,5 @@
 #include "net/quic/spdy_utils.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::AnyNumber;
diff --git a/net/quic/quic_sent_entropy_manager_test.cc b/net/quic/quic_sent_entropy_manager_test.cc
index 081b287..9898eea 100644
--- a/net/quic/quic_sent_entropy_manager_test.cc
+++ b/net/quic/quic_sent_entropy_manager_test.cc
@@ -7,6 +7,6 @@
 #include <algorithm>
 
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::make_pair;
diff --git a/net/quic/quic_sent_packet_manager_test.cc b/net/quic/quic_sent_packet_manager_test.cc
index c74b744..bbfb558 100644
--- a/net/quic/quic_sent_packet_manager_test.cc
+++ b/net/quic/quic_sent_packet_manager_test.cc
@@ -10,6 +10,6 @@
 #include "net/quic/test_tools/quic_sent_packet_manager_peer.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::vector;
diff --git a/net/quic/quic_server_id_test.cc b/net/quic/quic_server_id_test.cc
index 1e08b30..d1be5e2 100644
--- a/net/quic/quic_server_id_test.cc
+++ b/net/quic/quic_server_id_test.cc
@@ -5,5 +5,5 @@
 #include "net/quic/quic_server_id.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/quic_server_packet_writer.cc b/net/quic/quic_server_packet_writer.cc
index 38d93d9..d32333e 100644
--- a/net/quic/quic_server_packet_writer.cc
+++ b/net/quic/quic_server_packet_writer.cc
@@ -8,5 +8,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "net/base/io_buffer.h"
 #include "net/base/net_errors.h"
diff --git a/net/quic/quic_server_test.cc b/net/quic/quic_server_test.cc
index 9e4e894..452bf84 100644
--- a/net/quic/quic_server_test.cc
+++ b/net/quic/quic_server_test.cc
@@ -9,5 +9,5 @@
 #include "net/quic/test_tools/mock_quic_dispatcher.h"
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using ::testing::_;
diff --git a/net/quic/quic_session_test.cc b/net/quic/quic_session_test.cc
index 842c4eb..ff9998f 100644
--- a/net/quic/quic_session_test.cc
+++ b/net/quic/quic_session_test.cc
@@ -27,7 +27,7 @@
 #include "net/spdy/spdy_framer.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gmock_mutant.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock_mutant.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::hash_map;
diff --git a/net/quic/quic_socket_address_coder_test.cc b/net/quic/quic_socket_address_coder_test.cc
index cbfac2b..926cd0e 100644
--- a/net/quic/quic_socket_address_coder_test.cc
+++ b/net/quic/quic_socket_address_coder_test.cc
@@ -5,5 +5,5 @@
 #include "net/quic/quic_socket_address_coder.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/quic_stream_factory.cc b/net/quic/quic_stream_factory.cc
index b654ef0..ff48f32 100644
--- a/net/quic/quic_stream_factory.cc
+++ b/net/quic/quic_stream_factory.cc
@@ -10,6 +10,6 @@
 #include "base/message_loop/message_loop.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/rand_util.h"
diff --git a/net/quic/quic_stream_factory_test.cc b/net/quic/quic_stream_factory_test.cc
index fdc023b..e8ba796 100644
--- a/net/quic/quic_stream_factory_test.cc
+++ b/net/quic/quic_stream_factory_test.cc
@@ -32,5 +32,5 @@
 #include "net/ssl/default_channel_id_store.h"
 #include "net/test/cert_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/quic_stream_sequencer.cc b/net/quic/quic_stream_sequencer.cc
index 7f06ec4..849d74f 100644
--- a/net/quic/quic_stream_sequencer.cc
+++ b/net/quic/quic_stream_sequencer.cc
@@ -9,5 +9,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "net/quic/reliable_quic_stream.h"
 
diff --git a/net/quic/quic_stream_sequencer_test.cc b/net/quic/quic_stream_sequencer_test.cc
index c5ddb7b..af046f3 100644
--- a/net/quic/quic_stream_sequencer_test.cc
+++ b/net/quic/quic_stream_sequencer_test.cc
@@ -16,6 +16,6 @@
 #include "net/quic/test_tools/quic_test_utils.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/quic_sustained_bandwidth_recorder_test.cc b/net/quic/quic_sustained_bandwidth_recorder_test.cc
index 6a5fbb2..51b5407 100644
--- a/net/quic/quic_sustained_bandwidth_recorder_test.cc
+++ b/net/quic/quic_sustained_bandwidth_recorder_test.cc
@@ -7,5 +7,5 @@
 #include "net/quic/quic_bandwidth.h"
 #include "net/quic/quic_time.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_time_test.cc b/net/quic/quic_time_test.cc
index a2e3550..6ad8356 100644
--- a/net/quic/quic_time_test.cc
+++ b/net/quic/quic_time_test.cc
@@ -5,5 +5,5 @@
 #include "net/quic/quic_time.h"
 #include "net/quic/test_tools/mock_clock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/quic_unacked_packet_map_test.cc b/net/quic/quic_unacked_packet_map_test.cc
index 0e1d68a..895c637 100644
--- a/net/quic/quic_unacked_packet_map_test.cc
+++ b/net/quic/quic_unacked_packet_map_test.cc
@@ -6,5 +6,5 @@
 
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::min;
diff --git a/net/quic/quic_utils_chromium_test.cc b/net/quic/quic_utils_chromium_test.cc
index b9620cf..6963662 100644
--- a/net/quic/quic_utils_chromium_test.cc
+++ b/net/quic/quic_utils_chromium_test.cc
@@ -7,5 +7,5 @@
 #include <map>
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::map;
diff --git a/net/quic/quic_utils_test.cc b/net/quic/quic_utils_test.cc
index d2f2631..574683a 100644
--- a/net/quic/quic_utils_test.cc
+++ b/net/quic/quic_utils_test.cc
@@ -6,5 +6,5 @@
 
 #include "net/quic/crypto/crypto_protocol.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/quic/quic_write_blocked_list_test.cc b/net/quic/quic_write_blocked_list_test.cc
index ec59268..31d1db2 100644
--- a/net/quic/quic_write_blocked_list_test.cc
+++ b/net/quic/quic_write_blocked_list_test.cc
@@ -6,5 +6,5 @@
 
 #include "net/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/quic/reliable_quic_stream_test.cc b/net/quic/reliable_quic_stream_test.cc
index 5073e1e..01a83a0 100644
--- a/net/quic/reliable_quic_stream_test.cc
+++ b/net/quic/reliable_quic_stream_test.cc
@@ -17,6 +17,6 @@
 #include "net/quic/test_tools/reliable_quic_stream_peer.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gmock_mutant.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock_mutant.h"
 
 using base::StringPiece;
diff --git a/net/quic/test_tools/mock_crypto_client_stream.cc b/net/quic/test_tools/mock_crypto_client_stream.cc
index 335a2bd..d1d2668 100644
--- a/net/quic/test_tools/mock_crypto_client_stream.cc
+++ b/net/quic/test_tools/mock_crypto_client_stream.cc
@@ -8,5 +8,5 @@
 #include "net/quic/quic_client_session_base.h"
 #include "net/quic/quic_server_id.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using std::string;
diff --git a/net/quic/test_tools/mock_quic_dispatcher.h b/net/quic/test_tools/mock_quic_dispatcher.h
index 4945724..04aeaff 100644
--- a/net/quic/test_tools/mock_quic_dispatcher.h
+++ b/net/quic/test_tools/mock_quic_dispatcher.h
@@ -11,5 +11,5 @@
 #include "net/quic/quic_dispatcher.h"
 #include "net/quic/quic_protocol.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/net/quic/test_tools/test_task_runner.cc b/net/quic/test_tools/test_task_runner.cc
index 385fd5d..1d7db1e 100644
--- a/net/quic/test_tools/test_task_runner.cc
+++ b/net/quic/test_tools/test_task_runner.cc
@@ -8,5 +8,5 @@
 
 #include "net/quic/test_tools/mock_clock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/sdch/sdch_owner.cc b/net/sdch/sdch_owner.cc
index c92e2c7..7fdfcd9 100644
--- a/net/sdch/sdch_owner.cc
+++ b/net/sdch/sdch_owner.cc
@@ -8,5 +8,5 @@
 #include "base/debug/alias.h"
 #include "base/logging.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/prefs/persistent_pref_store.h"
 #include "base/prefs/value_map_pref_store.h"
diff --git a/net/socket/client_socket_handle.cc b/net/socket/client_socket_handle.cc
index 53bcd77..380d33b 100644
--- a/net/socket/client_socket_handle.cc
+++ b/net/socket/client_socket_handle.cc
@@ -8,5 +8,5 @@
 #include "base/bind_helpers.h"
 #include "base/compiler_specific.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/logging.h"
 #include "net/base/net_errors.h"
diff --git a/net/socket/client_socket_pool_histograms.cc b/net/socket/client_socket_pool_histograms.cc
index 9af8649..fd3fd12 100644
--- a/net/socket/client_socket_pool_histograms.cc
+++ b/net/socket/client_socket_pool_histograms.cc
@@ -7,6 +7,6 @@
 #include <string>
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "net/base/net_errors.h"
 #include "net/socket/client_socket_handle.h"
diff --git a/net/socket/ssl_client_socket.cc b/net/socket/ssl_client_socket.cc
index 5268ad2..acb8017 100644
--- a/net/socket/ssl_client_socket.cc
+++ b/net/socket/ssl_client_socket.cc
@@ -5,6 +5,6 @@
 #include "net/socket/ssl_client_socket.h"
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_util.h"
 #include "crypto/ec_private_key.h"
diff --git a/net/socket/ssl_client_socket_nss.cc b/net/socket/ssl_client_socket_nss.cc
index 9a8f72e..77eff46 100644
--- a/net/socket/ssl_client_socket_nss.cc
+++ b/net/socket/ssl_client_socket_nss.cc
@@ -71,5 +71,5 @@
 #include "base/logging.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/single_thread_task_runner.h"
diff --git a/net/socket/ssl_client_socket_openssl.cc b/net/socket/ssl_client_socket_openssl.cc
index d8713f2..09a8c1c 100644
--- a/net/socket/ssl_client_socket_openssl.cc
+++ b/net/socket/ssl_client_socket_openssl.cc
@@ -18,5 +18,5 @@
 #include "base/environment.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/strings/string_piece.h"
diff --git a/net/socket/ssl_client_socket_pool.cc b/net/socket/ssl_client_socket_pool.cc
index 6643ef4..60701d23 100644
--- a/net/socket/ssl_client_socket_pool.cc
+++ b/net/socket/ssl_client_socket_pool.cc
@@ -7,7 +7,7 @@
 #include "base/bind.h"
 #include "base/bind_helpers.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/stl_util.h"
 #include "base/values.h"
diff --git a/net/socket/stream_socket.cc b/net/socket/stream_socket.cc
index fb194f6..aacd950 100644
--- a/net/socket/stream_socket.cc
+++ b/net/socket/stream_socket.cc
@@ -5,6 +5,6 @@
 #include "net/socket/stream_socket.h"
 
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/values.h"
diff --git a/net/socket/tcp_socket_libevent.cc b/net/socket/tcp_socket_libevent.cc
index c5d30e1..de4cc0a 100644
--- a/net/socket/tcp_socket_libevent.cc
+++ b/net/socket/tcp_socket_libevent.cc
@@ -13,5 +13,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/posix/eintr_wrapper.h"
 #include "base/task_runner_util.h"
diff --git a/net/socket/transport_client_socket_pool.cc b/net/socket/transport_client_socket_pool.cc
index 6e54434..d029740 100644
--- a/net/socket/transport_client_socket_pool.cc
+++ b/net/socket/transport_client_socket_pool.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/synchronization/lock.h"
diff --git a/net/spdy/fuzzing/hpack_fuzz_util_test.cc b/net/spdy/fuzzing/hpack_fuzz_util_test.cc
index bf93def..4d3abca 100644
--- a/net/spdy/fuzzing/hpack_fuzz_util_test.cc
+++ b/net/spdy/fuzzing/hpack_fuzz_util_test.cc
@@ -12,6 +12,6 @@
 #include "base/path_service.h"
 #include "net/spdy/spdy_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_decoder_test.cc b/net/spdy/hpack_decoder_test.cc
index 92dbbf2..d595d94 100644
--- a/net/spdy/hpack_decoder_test.cc
+++ b/net/spdy/hpack_decoder_test.cc
@@ -15,6 +15,6 @@
 #include "net/spdy/hpack_output_stream.h"
 #include "net/spdy/spdy_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_encoder_test.cc b/net/spdy/hpack_encoder_test.cc
index 43acfc4..1636645 100644
--- a/net/spdy/hpack_encoder_test.cc
+++ b/net/spdy/hpack_encoder_test.cc
@@ -8,6 +8,6 @@
 #include <string>
 
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_entry_test.cc b/net/spdy/hpack_entry_test.cc
index 0a9a0a2..9689357 100644
--- a/net/spdy/hpack_entry_test.cc
+++ b/net/spdy/hpack_entry_test.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_header_table_test.cc b/net/spdy/hpack_header_table_test.cc
index 647cd03..1213e2b 100644
--- a/net/spdy/hpack_header_table_test.cc
+++ b/net/spdy/hpack_header_table_test.cc
@@ -14,5 +14,5 @@
 #include "net/spdy/hpack_constants.h"
 #include "net/spdy/hpack_entry.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_huffman_aggregator.cc b/net/spdy/hpack_huffman_aggregator.cc
index 8080a9b..44cc83b 100644
--- a/net/spdy/hpack_huffman_aggregator.cc
+++ b/net/spdy/hpack_huffman_aggregator.cc
@@ -4,8 +4,8 @@
 #include "net/spdy/hpack_huffman_aggregator.h"
 
-#include "base/metrics/bucket_ranges.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sample_vector.h"
+//#include "base/metrics/bucket_ranges.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sample_vector.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/net/spdy/hpack_huffman_aggregator_test.cc b/net/spdy/hpack_huffman_aggregator_test.cc
index 23a9a43..df8ab32 100644
--- a/net/spdy/hpack_huffman_aggregator_test.cc
+++ b/net/spdy/hpack_huffman_aggregator_test.cc
@@ -4,12 +4,12 @@
 #include "net/spdy/hpack_huffman_aggregator.h"
 
-#include "base/metrics/histogram.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "net/base/load_flags.h"
 #include "net/http/http_request_headers.h"
 #include "net/http/http_request_info.h"
 #include "net/http/http_response_headers.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_huffman_table_test.cc b/net/spdy/hpack_huffman_table_test.cc
index 6a91149..aae9cc2 100644
--- a/net/spdy/hpack_huffman_table_test.cc
+++ b/net/spdy/hpack_huffman_table_test.cc
@@ -13,6 +13,6 @@
 #include "net/spdy/hpack_output_stream.h"
 #include "net/spdy/spdy_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/spdy/hpack_input_stream_test.cc b/net/spdy/hpack_input_stream_test.cc
index a88acb2..101ec83 100644
--- a/net/spdy/hpack_input_stream_test.cc
+++ b/net/spdy/hpack_input_stream_test.cc
@@ -13,5 +13,5 @@
 #include "net/spdy/hpack_constants.h"
 #include "net/spdy/spdy_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_output_stream_test.cc b/net/spdy/hpack_output_stream_test.cc
index f8e0780..ea42bf22 100644
--- a/net/spdy/hpack_output_stream_test.cc
+++ b/net/spdy/hpack_output_stream_test.cc
@@ -8,5 +8,5 @@
 
 #include "base/basictypes.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_round_trip_test.cc b/net/spdy/hpack_round_trip_test.cc
index fe97878..76c52f0 100644
--- a/net/spdy/hpack_round_trip_test.cc
+++ b/net/spdy/hpack_round_trip_test.cc
@@ -13,5 +13,5 @@
 #include "net/spdy/hpack_decoder.h"
 #include "net/spdy/hpack_encoder.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_static_table_test.cc b/net/spdy/hpack_static_table_test.cc
index a13d737..1fd3ebe 100644
--- a/net/spdy/hpack_static_table_test.cc
+++ b/net/spdy/hpack_static_table_test.cc
@@ -9,5 +9,5 @@
 #include "net/base/net_export.h"
 #include "net/spdy/hpack_constants.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/hpack_string_util_test.cc b/net/spdy/hpack_string_util_test.cc
index e73f5ce..1643f95 100644
--- a/net/spdy/hpack_string_util_test.cc
+++ b/net/spdy/hpack_string_util_test.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/strings/string_piece.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/mock_spdy_framer_visitor.h b/net/spdy/mock_spdy_framer_visitor.h
index 480c367..9497642 100644
--- a/net/spdy/mock_spdy_framer_visitor.h
+++ b/net/spdy/mock_spdy_framer_visitor.h
@@ -8,5 +8,5 @@
 #include "base/strings/string_piece.h"
 #include "net/spdy/spdy_framer.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/net/spdy/spdy_frame_builder_test.cc b/net/spdy/spdy_frame_builder_test.cc
index 3854558..d952e5f 100644
--- a/net/spdy/spdy_frame_builder_test.cc
+++ b/net/spdy/spdy_frame_builder_test.cc
@@ -7,5 +7,5 @@
 #include "net/spdy/spdy_framer.h"
 #include "net/spdy/spdy_protocol.h"
-#include "testing/platform_test.h"
+//#include "testing/platform_test.h"
 
 namespace net {
diff --git a/net/spdy/spdy_frame_reader_test.cc b/net/spdy/spdy_frame_reader_test.cc
index 8db2d99..69d5429 100644
--- a/net/spdy/spdy_frame_reader_test.cc
+++ b/net/spdy/spdy_frame_reader_test.cc
@@ -9,5 +9,5 @@
 #include "base/sys_byteorder.h"
 #include "net/spdy/spdy_frame_reader.h"
-#include "testing/platform_test.h"
+//#include "testing/platform_test.h"
 
 namespace net {
diff --git a/net/spdy/spdy_framer_test.cc b/net/spdy/spdy_framer_test.cc
index ced4f92..d245c71 100644
--- a/net/spdy/spdy_framer_test.cc
+++ b/net/spdy/spdy_framer_test.cc
@@ -16,6 +16,6 @@
 #include "net/spdy/spdy_protocol.h"
 #include "net/spdy/spdy_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/platform_test.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/platform_test.h"
 
 using std::string;
diff --git a/net/spdy/spdy_headers_block_parser_test.cc b/net/spdy/spdy_headers_block_parser_test.cc
index 2bb888d..080b8f3 100644
--- a/net/spdy/spdy_headers_block_parser_test.cc
+++ b/net/spdy/spdy_headers_block_parser_test.cc
@@ -11,6 +11,6 @@
 #include "base/sys_byteorder.h"
 #include "net/test/gtest_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/spdy_pinnable_buffer_piece_test.cc b/net/spdy/spdy_pinnable_buffer_piece_test.cc
index 456e4a8..5a3215d 100644
--- a/net/spdy/spdy_pinnable_buffer_piece_test.cc
+++ b/net/spdy/spdy_pinnable_buffer_piece_test.cc
@@ -6,5 +6,5 @@
 
 #include "net/spdy/spdy_prefixed_buffer_reader.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/spdy_prefixed_buffer_reader_test.cc b/net/spdy/spdy_prefixed_buffer_reader_test.cc
index e3a6a65..59f07e9 100644
--- a/net/spdy/spdy_prefixed_buffer_reader_test.cc
+++ b/net/spdy/spdy_prefixed_buffer_reader_test.cc
@@ -5,6 +5,6 @@
 #include "net/spdy/spdy_prefixed_buffer_reader.h"
 
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/spdy_priority_forest_test.cc b/net/spdy/spdy_priority_forest_test.cc
index 58b21d4..b958d9d 100644
--- a/net/spdy/spdy_priority_forest_test.cc
+++ b/net/spdy/spdy_priority_forest_test.cc
@@ -6,5 +6,5 @@
 
 #include "base/basictypes.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/spdy_priority_tree_test.cc b/net/spdy/spdy_priority_tree_test.cc
index fcfec6b..a2235df 100644
--- a/net/spdy/spdy_priority_tree_test.cc
+++ b/net/spdy/spdy_priority_tree_test.cc
@@ -6,5 +6,5 @@
 
 #include "base/basictypes.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/spdy/spdy_protocol_test.cc b/net/spdy/spdy_protocol_test.cc
index 486a772..4a89c61 100644
--- a/net/spdy/spdy_protocol_test.cc
+++ b/net/spdy/spdy_protocol_test.cc
@@ -12,5 +12,5 @@
 #include "net/spdy/spdy_framer.h"
 #include "net/test/gtest_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/net/spdy/spdy_session.cc b/net/spdy/spdy_session.cc
index fa0ae4d..8413bef 100644
--- a/net/spdy/spdy_session.cc
+++ b/net/spdy/spdy_session.cc
@@ -13,7 +13,7 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/stl_util.h"
diff --git a/net/spdy/spdy_session_pool.cc b/net/spdy/spdy_session_pool.cc
index 8f0de90..bb6f23a 100644
--- a/net/spdy/spdy_session_pool.cc
+++ b/net/spdy/spdy_session_pool.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/values.h"
diff --git a/net/spdy/write_blocked_list_test.cc b/net/spdy/write_blocked_list_test.cc
index ef5ea50..85b8850 100644
--- a/net/spdy/write_blocked_list_test.cc
+++ b/net/spdy/write_blocked_list_test.cc
@@ -7,5 +7,5 @@
 #include <deque>
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/net/ssl/channel_id_service.cc b/net/ssl/channel_id_service.cc
index 9bc2179..62bc327 100644
--- a/net/ssl/channel_id_service.cc
+++ b/net/ssl/channel_id_service.cc
@@ -17,5 +17,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/stl_util.h"
diff --git a/net/ssl/default_channel_id_store.cc b/net/ssl/default_channel_id_store.cc
index b71d7b3..2c6653c 100644
--- a/net/ssl/default_channel_id_store.cc
+++ b/net/ssl/default_channel_id_store.cc
@@ -7,5 +7,5 @@
 #include "base/bind.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "net/base/net_errors.h"
 
diff --git a/net/test/gtest_util.h b/net/test/gtest_util.h
index 1d67087..33a3312 100644
--- a/net/test/gtest_util.h
+++ b/net/test/gtest_util.h
@@ -10,6 +10,6 @@
 #include "base/test/mock_log.h"
 #include "net/test/scoped_disable_exit_on_dfatal.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/test/scoped_disable_exit_on_dfatal.h b/net/test/scoped_disable_exit_on_dfatal.h
index 5df8ff7..6535533 100644
--- a/net/test/scoped_disable_exit_on_dfatal.h
+++ b/net/test/scoped_disable_exit_on_dfatal.h
@@ -7,6 +7,6 @@
 
 #include "base/logging.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/tools/balsa/balsa_frame_test.cc b/net/tools/balsa/balsa_frame_test.cc
index 4a00a66..cced1be 100644
--- a/net/tools/balsa/balsa_frame_test.cc
+++ b/net/tools/balsa/balsa_frame_test.cc
@@ -11,6 +11,6 @@
 #include "net/tools/balsa/balsa_enums.h"
 #include "net/tools/balsa/balsa_headers.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/tools/balsa/balsa_headers_test.cc b/net/tools/balsa/balsa_headers_test.cc
index 3dc8eb3..64ace91 100644
--- a/net/tools/balsa/balsa_headers_test.cc
+++ b/net/tools/balsa/balsa_headers_test.cc
@@ -12,5 +12,5 @@
 #include "base/strings/string_piece.h"
 #include "net/tools/balsa/balsa_enums.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/tools/flip_server/http_interface_test.cc b/net/tools/flip_server/http_interface_test.cc
index 6d07840..dfe39d6 100644
--- a/net/tools/flip_server/http_interface_test.cc
+++ b/net/tools/flip_server/http_interface_test.cc
@@ -16,6 +16,6 @@
 #include "net/tools/flip_server/flip_test_utils.h"
 #include "net/tools/flip_server/mem_cache.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/tools/flip_server/mem_cache_test.cc b/net/tools/flip_server/mem_cache_test.cc
index 87dca68..2cc53c2 100644
--- a/net/tools/flip_server/mem_cache_test.cc
+++ b/net/tools/flip_server/mem_cache_test.cc
@@ -6,5 +6,5 @@
 
 #include "net/tools/balsa/balsa_headers.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/tools/flip_server/spdy_interface_test.cc b/net/tools/flip_server/spdy_interface_test.cc
index d845438..06c3c4f 100644
--- a/net/tools/flip_server/spdy_interface_test.cc
+++ b/net/tools/flip_server/spdy_interface_test.cc
@@ -15,6 +15,6 @@
 #include "net/tools/flip_server/flip_test_utils.h"
 #include "net/tools/flip_server/mem_cache.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/tools/quic/end_to_end_test.cc b/net/tools/quic/end_to_end_test.cc
index 943bb6a..86186c6 100644
--- a/net/tools/quic/end_to_end_test.cc
+++ b/net/tools/quic/end_to_end_test.cc
@@ -45,5 +45,5 @@
 #include "net/tools/quic/test_tools/quic_test_client.h"
 #include "net/tools/quic/test_tools/server_thread.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/tools/quic/quic_client_session_test.cc b/net/tools/quic/quic_client_session_test.cc
index 1e8006b..dd47d1c 100644
--- a/net/tools/quic/quic_client_session_test.cc
+++ b/net/tools/quic/quic_client_session_test.cc
@@ -15,5 +15,5 @@
 #include "net/tools/quic/quic_spdy_client_stream.h"
 #include "net/tools/quic/test_tools/quic_test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using net::test::CryptoTestUtils;
diff --git a/net/tools/quic/quic_client_test.cc b/net/tools/quic/quic_client_test.cc
index a72041c..0cacbbe 100644
--- a/net/tools/quic/quic_client_test.cc
+++ b/net/tools/quic/quic_client_test.cc
@@ -11,5 +11,5 @@
 #include "net/tools/epoll_server/epoll_server.h"
 #include "net/tools/quic/quic_client.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using net::EpollServer;
diff --git a/net/tools/quic/quic_dispatcher_test.cc b/net/tools/quic/quic_dispatcher_test.cc
index 4b9e06e..ee91f91 100644
--- a/net/tools/quic/quic_dispatcher_test.cc
+++ b/net/tools/quic/quic_dispatcher_test.cc
@@ -20,6 +20,6 @@
 #include "net/tools/quic/test_tools/quic_dispatcher_peer.h"
 #include "net/tools/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/tools/quic/quic_epoll_clock_test.cc b/net/tools/quic/quic_epoll_clock_test.cc
index 1ed1d15..6093085 100644
--- a/net/tools/quic/quic_epoll_clock_test.cc
+++ b/net/tools/quic/quic_epoll_clock_test.cc
@@ -6,5 +6,5 @@
 
 #include "net/tools/quic/test_tools/mock_epoll_server.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/net/tools/quic/quic_epoll_connection_helper_test.cc b/net/tools/quic/quic_epoll_connection_helper_test.cc
index 0b31cdf..cc69d38 100644
--- a/net/tools/quic/quic_epoll_connection_helper_test.cc
+++ b/net/tools/quic/quic_epoll_connection_helper_test.cc
@@ -7,5 +7,5 @@
 #include "net/quic/crypto/quic_random.h"
 #include "net/tools/quic/test_tools/mock_epoll_server.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using net::tools::test::MockEpollServer;
diff --git a/net/tools/quic/quic_in_memory_cache_test.cc b/net/tools/quic/quic_in_memory_cache_test.cc
index a94285c..13606ee 100644
--- a/net/tools/quic/quic_in_memory_cache_test.cc
+++ b/net/tools/quic/quic_in_memory_cache_test.cc
@@ -13,5 +13,5 @@
 #include "net/tools/quic/quic_in_memory_cache.h"
 #include "net/tools/quic/test_tools/quic_in_memory_cache_peer.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::IntToString;
diff --git a/net/tools/quic/quic_server_session_test.cc b/net/tools/quic/quic_server_session_test.cc
index 8074d31..d1a2c6f 100644
--- a/net/tools/quic/quic_server_session_test.cc
+++ b/net/tools/quic/quic_server_session_test.cc
@@ -21,6 +21,6 @@
 #include "net/tools/quic/quic_spdy_server_stream.h"
 #include "net/tools/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using __gnu_cxx::vector;
diff --git a/net/tools/quic/quic_server_test.cc b/net/tools/quic/quic_server_test.cc
index 1107ded..5876b37 100644
--- a/net/tools/quic/quic_server_test.cc
+++ b/net/tools/quic/quic_server_test.cc
@@ -8,5 +8,5 @@
 #include "net/quic/quic_utils.h"
 #include "net/tools/quic/test_tools/mock_quic_dispatcher.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using ::testing::_;
diff --git a/net/tools/quic/quic_spdy_client_stream_test.cc b/net/tools/quic/quic_spdy_client_stream_test.cc
index 09795da..1776eff 100644
--- a/net/tools/quic/quic_spdy_client_stream_test.cc
+++ b/net/tools/quic/quic_spdy_client_stream_test.cc
@@ -12,6 +12,6 @@
 #include "net/tools/quic/spdy_utils.h"
 #include "net/tools/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using net::test::DefaultQuicConfig;
diff --git a/net/tools/quic/quic_spdy_server_stream_test.cc b/net/tools/quic/quic_spdy_server_stream_test.cc
index 8681735..c0a4b60 100644
--- a/net/tools/quic/quic_spdy_server_stream_test.cc
+++ b/net/tools/quic/quic_spdy_server_stream_test.cc
@@ -16,6 +16,6 @@
 #include "net/tools/quic/test_tools/quic_in_memory_cache_peer.h"
 #include "net/tools/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using base::StringPiece;
diff --git a/net/tools/quic/quic_time_wait_list_manager_test.cc b/net/tools/quic/quic_time_wait_list_manager_test.cc
index f67fe7e..7264c37 100644
--- a/net/tools/quic/quic_time_wait_list_manager_test.cc
+++ b/net/tools/quic/quic_time_wait_list_manager_test.cc
@@ -20,6 +20,6 @@
 #include "net/tools/quic/test_tools/mock_epoll_server.h"
 #include "net/tools/quic/test_tools/quic_test_utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 using net::test::BuildUnsizedDataPacket;
diff --git a/net/tools/quic/test_tools/mock_epoll_server.h b/net/tools/quic/test_tools/mock_epoll_server.h
index 5164edd..a6b660b 100644
--- a/net/tools/quic/test_tools/mock_epoll_server.h
+++ b/net/tools/quic/test_tools/mock_epoll_server.h
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "net/tools/epoll_server/epoll_server.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/net/tools/quic/test_tools/mock_quic_dispatcher.h b/net/tools/quic/test_tools/mock_quic_dispatcher.h
index 81f1004..f70d50e 100644
--- a/net/tools/quic/test_tools/mock_quic_dispatcher.h
+++ b/net/tools/quic/test_tools/mock_quic_dispatcher.h
@@ -12,5 +12,5 @@
 #include "net/tools/epoll_server/epoll_server.h"
 #include "net/tools/quic/quic_dispatcher.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace net {
diff --git a/net/udp/udp_socket_libevent.cc b/net/udp/udp_socket_libevent.cc
index 6fdb94e..75500ba 100644
--- a/net/udp/udp_socket_libevent.cc
+++ b/net/udp/udp_socket_libevent.cc
@@ -16,5 +16,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/posix/eintr_wrapper.h"
 #include "base/rand_util.h"
diff --git a/net/udp/udp_socket_perftest.cc b/net/udp/udp_socket_perftest.cc
index 86f0729..03b3c65 100644
--- a/net/udp/udp_socket_perftest.cc
+++ b/net/udp/udp_socket_perftest.cc
@@ -19,6 +19,6 @@
 #include "net/udp/udp_server_socket.h"
 #include "net/udp/udp_socket.h"
-#include "testing/gtest/include/gtest/gtest.h"
-#include "testing/platform_test.h"
+//#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/platform_test.h"
 
 namespace {
diff --git a/net/udp/udp_socket_win.cc b/net/udp/udp_socket_win.cc
index 581df43..e12518d 100644
--- a/net/udp/udp_socket_win.cc
+++ b/net/udp/udp_socket_win.cc
@@ -12,6 +12,6 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/rand_util.h"
diff --git a/net/url_request/test_url_request_interceptor.cc b/net/url_request/test_url_request_interceptor.cc
index b0fd315..4e2882f 100644
--- a/net/url_request/test_url_request_interceptor.cc
+++ b/net/url_request/test_url_request_interceptor.cc
@@ -12,5 +12,5 @@
 #include "net/url_request/url_request_filter.h"
 #include "net/url_request/url_request_interceptor.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/url_request/url_fetcher_core.cc b/net/url_request/url_fetcher_core.cc
index 64e8c6d..f53b93a 100644
--- a/net/url_request/url_fetcher_core.cc
+++ b/net/url_request/url_fetcher_core.cc
@@ -9,5 +9,5 @@
 #include "base/bind.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/sequenced_task_runner.h"
diff --git a/net/url_request/url_request_http_job.cc b/net/url_request/url_request_http_job.cc
index 0520c0c..2677f23 100644
--- a/net/url_request/url_request_http_job.cc
+++ b/net/url_request/url_request_http_job.cc
@@ -12,6 +12,6 @@
 #include "base/file_version_info.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/rand_util.h"
diff --git a/net/url_request/url_request_throttler_entry.cc b/net/url_request/url_request_throttler_entry.cc
index b812de8..64f110a 100644
--- a/net/url_request/url_request_throttler_entry.cc
+++ b/net/url_request/url_request_throttler_entry.cc
@@ -8,6 +8,6 @@
 
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/rand_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/net/url_request/url_request_throttler_manager.cc b/net/url_request/url_request_throttler_manager.cc
index 8a62884..a79f303 100644
--- a/net/url_request/url_request_throttler_manager.cc
+++ b/net/url_request/url_request_throttler_manager.cc
@@ -6,6 +6,6 @@
 
 #include "base/logging.h"
-#include "base/metrics/field_trial.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/field_trial.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "net/base/net_log.h"
diff --git a/net/websockets/websocket_basic_handshake_stream.cc b/net/websockets/websocket_basic_handshake_stream.cc
index ecddd50..12103b1 100644
--- a/net/websockets/websocket_basic_handshake_stream.cc
+++ b/net/websockets/websocket_basic_handshake_stream.cc
@@ -17,6 +17,6 @@
 #include "base/containers/hash_tables.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/net/websockets/websocket_basic_stream_test.cc b/net/websockets/websocket_basic_stream_test.cc
index 2955ad6..dbe61a9 100644
--- a/net/websockets/websocket_basic_stream_test.cc
+++ b/net/websockets/websocket_basic_stream_test.cc
@@ -19,5 +19,5 @@
 #include "net/base/test_completion_callback.h"
 #include "net/socket/socket_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_channel.cc b/net/websockets/websocket_channel.cc
index 09d2429..94cdd8c 100644
--- a/net/websockets/websocket_channel.cc
+++ b/net/websockets/websocket_channel.cc
@@ -17,5 +17,5 @@
 #include "base/memory/weak_ptr.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/numerics/safe_conversions.h"
 #include "base/stl_util.h"
diff --git a/net/websockets/websocket_channel_test.cc b/net/websockets/websocket_channel_test.cc
index 57dd2da..ad992d1 100644
--- a/net/websockets/websocket_channel_test.cc
+++ b/net/websockets/websocket_channel_test.cc
@@ -30,6 +30,6 @@
 #include "net/websockets/websocket_handshake_response_info.h"
 #include "net/websockets/websocket_mux.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 #include "url/origin.h"
diff --git a/net/websockets/websocket_deflate_predictor_impl_test.cc b/net/websockets/websocket_deflate_predictor_impl_test.cc
index 79c54e1..3a4c629 100644
--- a/net/websockets/websocket_deflate_predictor_impl_test.cc
+++ b/net/websockets/websocket_deflate_predictor_impl_test.cc
@@ -8,5 +8,5 @@
 #include "base/memory/scoped_vector.h"
 #include "net/websockets/websocket_frame.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_deflater_test.cc b/net/websockets/websocket_deflater_test.cc
index ae0133c..79d13dd 100644
--- a/net/websockets/websocket_deflater_test.cc
+++ b/net/websockets/websocket_deflater_test.cc
@@ -9,5 +9,5 @@
 #include "base/memory/ref_counted.h"
 #include "net/base/io_buffer.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_deflate_stream_test.cc b/net/websockets/websocket_deflate_stream_test.cc
index c30ab32..2629ad5 100644
--- a/net/websockets/websocket_deflate_stream_test.cc
+++ b/net/websockets/websocket_deflate_stream_test.cc
@@ -23,6 +23,6 @@
 #include "net/websockets/websocket_stream.h"
 #include "net/websockets/websocket_test_util.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_end_to_end_test.cc b/net/websockets/websocket_end_to_end_test.cc
index 0304eb1..09ba024 100644
--- a/net/websockets/websocket_end_to_end_test.cc
+++ b/net/websockets/websocket_end_to_end_test.cc
@@ -26,5 +26,5 @@
 #include "net/websockets/websocket_channel.h"
 #include "net/websockets/websocket_event_interface.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/origin.h"
 
diff --git a/net/websockets/websocket_errors_test.cc b/net/websockets/websocket_errors_test.cc
index 5e48e20..77705d6 100644
--- a/net/websockets/websocket_errors_test.cc
+++ b/net/websockets/websocket_errors_test.cc
@@ -6,5 +6,5 @@
 
 #include "net/base/net_errors.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_extension_parser_test.cc b/net/websockets/websocket_extension_parser_test.cc
index c19460c..27295e4 100644
--- a/net/websockets/websocket_extension_parser_test.cc
+++ b/net/websockets/websocket_extension_parser_test.cc
@@ -8,5 +8,5 @@
 
 #include "net/websockets/websocket_extension.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_frame_parser_test.cc b/net/websockets/websocket_frame_parser_test.cc
index 14f7113..ef6b27f 100644
--- a/net/websockets/websocket_frame_parser_test.cc
+++ b/net/websockets/websocket_frame_parser_test.cc
@@ -13,5 +13,5 @@
 #include "net/base/io_buffer.h"
 #include "net/websockets/websocket_frame.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_frame_perftest.cc b/net/websockets/websocket_frame_perftest.cc
index 98ea624..e67189f 100644
--- a/net/websockets/websocket_frame_perftest.cc
+++ b/net/websockets/websocket_frame_perftest.cc
@@ -10,5 +10,5 @@
 #include "base/macros.h"
 #include "base/test/perf_time_logger.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_frame_test.cc b/net/websockets/websocket_frame_test.cc
index eca94f0..f9b1330 100644
--- a/net/websockets/websocket_frame_test.cc
+++ b/net/websockets/websocket_frame_test.cc
@@ -11,5 +11,5 @@
 #include "base/memory/aligned_memory.h"
 #include "net/base/net_errors.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_handshake_challenge_test.cc b/net/websockets/websocket_handshake_challenge_test.cc
index d7e45ca..c5bb341 100644
--- a/net/websockets/websocket_handshake_challenge_test.cc
+++ b/net/websockets/websocket_handshake_challenge_test.cc
@@ -7,5 +7,5 @@
 #include <string>
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_handshake_stream_create_helper_test.cc b/net/websockets/websocket_handshake_stream_create_helper_test.cc
index 8edbc66..5e1b419 100644
--- a/net/websockets/websocket_handshake_stream_create_helper_test.cc
+++ b/net/websockets/websocket_handshake_stream_create_helper_test.cc
@@ -19,5 +19,5 @@
 #include "net/websockets/websocket_stream.h"
 #include "net/websockets/websocket_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/net/websockets/websocket_inflater_test.cc b/net/websockets/websocket_inflater_test.cc
index 2fd90f4..fd55ce1 100644
--- a/net/websockets/websocket_inflater_test.cc
+++ b/net/websockets/websocket_inflater_test.cc
@@ -13,5 +13,5 @@
 #include "net/websockets/websocket_deflater.h"
 #include "net/websockets/websocket_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace net {
diff --git a/net/websockets/websocket_stream.cc b/net/websockets/websocket_stream.cc
index 32729fb..a2d17dd 100644
--- a/net/websockets/websocket_stream.cc
+++ b/net/websockets/websocket_stream.cc
@@ -7,6 +7,6 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/strings/stringprintf.h"
diff --git a/net/websockets/websocket_stream_cookie_test.cc b/net/websockets/websocket_stream_cookie_test.cc
index 9b819b5..ccf06ee 100644
--- a/net/websockets/websocket_stream_cookie_test.cc
+++ b/net/websockets/websocket_stream_cookie_test.cc
@@ -16,5 +16,5 @@
 #include "net/websockets/websocket_stream_create_test_base.h"
 #include "net/websockets/websocket_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 
diff --git a/net/websockets/websocket_stream_test.cc b/net/websockets/websocket_stream_test.cc
index 56f2e64..2df40f2 100644
--- a/net/websockets/websocket_stream_test.cc
+++ b/net/websockets/websocket_stream_test.cc
@@ -12,7 +12,7 @@
 #include "base/compiler_specific.h"
 #include "base/memory/scoped_vector.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/histogram_samples.h"
-#include "base/metrics/statistics_recorder.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram_samples.h"
+//#include "base/metrics/statistics_recorder.h"
 #include "base/run_loop.h"
 #include "base/strings/stringprintf.h"
@@ -32,5 +32,5 @@
 #include "net/websockets/websocket_stream_create_test_base.h"
 #include "net/websockets/websocket_test_util.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "url/gurl.h"
 #include "url/origin.h"
diff --git a/ppapi/BUILD.gn b/ppapi/BUILD.gn
index 9bc9e88..c520151 100644
--- a/ppapi/BUILD.gn
+++ b/ppapi/BUILD.gn
@@ -3,116 +3,8 @@
 # found in the LICENSE file.
 
-copy("copy_test_files") {
-  visibility = [ ":*" ]
-  sources = [
-    # Keep "test_case.html.mock-http-headers" with "test_case.html".
-    "tests/test_case.html",
-    "tests/test_case.html.mock-http-headers",
-    "tests/test_page.css",
-    "tests/ppapi_nacl_tests_newlib.nmf",
-  ]
-  outputs = [
-    "$root_out_dir/{{source_file_part}}",
-  ]
-}
 
-copy("copy_test_files2") {
-  visibility = [ ":*" ]
-  sources = [
-    "tests/test_url_loader_data/hello.txt",
-  ]
-  outputs = [
-    "$root_out_dir/test_url_loader_data/{{source_file_part}}",
-  ]
-}
 
 import("//ppapi/ppapi_sources.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
-shared_library("ppapi_tests") {
-  sources = ppapi_sources.test_common_source_files +
-            ppapi_sources.test_trusted_source_files
 
-  defines = [ "GL_GLEXT_PROTOTYPES" ]
-  include_dirs = [ "lib/gl/include" ]
-
-  deps = [
-    "//ppapi/cpp",
-    "//ppapi/shared_impl",
-    ":copy_test_files",
-    ":copy_test_files2",
-  ]
-}
-
-test("ppapi_unittests") {
-  sources = [
-    "host/resource_message_filter_unittest.cc",
-    "proxy/device_enumeration_resource_helper_unittest.cc",
-    "proxy/file_chooser_resource_unittest.cc",
-    "proxy/file_system_resource_unittest.cc",
-    "proxy/flash_resource_unittest.cc",
-    "proxy/interface_list_unittest.cc",
-    "proxy/mock_resource.cc",
-    "proxy/mock_resource.h",
-    "proxy/nacl_message_scanner_unittest.cc",
-    "proxy/pdf_resource_unittest.cc",
-    "proxy/plugin_dispatcher_unittest.cc",
-    "proxy/plugin_resource_tracker_unittest.cc",
-    "proxy/plugin_var_tracker_unittest.cc",
-    "proxy/ppb_var_unittest.cc",
-    "proxy/ppp_instance_private_proxy_unittest.cc",
-    "proxy/ppp_instance_proxy_unittest.cc",
-    "proxy/ppp_messaging_proxy_unittest.cc",
-    "proxy/printing_resource_unittest.cc",
-    "proxy/raw_var_data_unittest.cc",
-    "proxy/serialized_var_unittest.cc",
-    "proxy/talk_resource_unittest.cc",
-    "proxy/video_decoder_resource_unittest.cc",
-    "proxy/video_encoder_resource_unittest.cc",
-    "proxy/websocket_resource_unittest.cc",
-    "shared_impl/media_stream_audio_track_shared_unittest.cc",
-    "shared_impl/media_stream_buffer_manager_unittest.cc",
-    "shared_impl/media_stream_video_track_shared_unittest.cc",
-    "shared_impl/proxy_lock_unittest.cc",
-    "shared_impl/resource_tracker_unittest.cc",
-    "shared_impl/thread_aware_callback_unittest.cc",
-    "shared_impl/time_conversion_unittest.cc",
-    "shared_impl/tracked_callback_unittest.cc",
-    "shared_impl/var_tracker_unittest.cc",
-  ]
-
-  deps = [
-    "//base/allocator",
-    "//base/test:run_all_unittests",
-    "//base/test:test_support",
-    "//gpu/ipc",
-    "//ipc",
-    "//ipc:test_support",
-    "//media:shared_memory_support",
-    "//ppapi/host",
-    "//ppapi/proxy",
-    "//ppapi/proxy:test_support",
-    "//ppapi/shared_impl",
-    "//ppapi/shared_impl:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//ui/surface",
-  ]
-}
-
-test("ppapi_perftests") {
-  sources = [
-    "proxy/ppapi_perftests.cc",
-    "proxy/ppp_messaging_proxy_perftest.cc",
-  ]
-
-  deps = [
-    "//base/allocator",
-    "//base/test:test_support",
-    "//ppapi/proxy",
-    "//ppapi/proxy:test_support",
-    "//ppapi/shared_impl",
-    "//ppapi/shared_impl:test_support",
-    "//testing/gtest",
-  ]
-}
diff --git a/ppapi/native_client/BUILD.gn b/ppapi/native_client/BUILD.gn
index 0cb4c00..45f10bb 100644
--- a/ppapi/native_client/BUILD.gn
+++ b/ppapi/native_client/BUILD.gn
@@ -8,5 +8,5 @@ if (enable_nacl && enable_nacl_untrusted) {
   group("ppapi_lib") {
     deps = [
-      "//native_client/src/untrusted/pthread",
+#      "//native_client/src/untrusted/pthread",
       "//ppapi/native_client/src/untrusted/irt_stub:ppapi_stub_lib",
     ]
@@ -24,10 +24,10 @@ if (enable_nacl && enable_nacl_untrusted) {
       "//media:shared_memory_support",
       "//mojo/nacl:irt_mojo_sources",
-      "//native_client/src/untrusted/irt:irt_core_lib",
-      "//native_client/src/shared/srpc",
-      "//native_client/src/shared/platform",
-      "//native_client/src/tools/tls_edit($host_toolchain)",
-      "//native_client/src/untrusted/nacl:imc_syscalls",
-      "//native_client/src/shared/gio",
+#      "//native_client/src/untrusted/irt:irt_core_lib",
+#      "//native_client/src/shared/srpc",
+#      "//native_client/src/shared/platform",
+#      "//native_client/src/tools/tls_edit($host_toolchain)",
+#      "//native_client/src/untrusted/nacl:imc_syscalls",
+#      "//native_client/src/shared/gio",
       "//ppapi/native_client/src/untrusted/pnacl_irt_shim:irt",
       "//ppapi/proxy",
diff --git a/ppapi/native_client/irt_test.gyp b/ppapi/native_client/irt_test.gyp
index 2054605..f57409d 100644
--- a/ppapi/native_client/irt_test.gyp
+++ b/ppapi/native_client/irt_test.gyp
@@ -7,6 +7,6 @@
     ['disable_nacl==0 and disable_nacl_untrusted==0', {
       'variables': {
-        'irt_test_nexe': '',
-        'irt_test_dep': 'native_client.gyp:nacl_irt',
+#        'irt_test_nexe': '',
+#        'irt_test_dep': 'native_client.gyp:nacl_irt',
       },
       'includes': [
diff --git a/ppapi/ppapi_nacl.gyp b/ppapi/ppapi_nacl.gyp
index 9fdabc3..58297ec 100644
--- a/ppapi/ppapi_nacl.gyp
+++ b/ppapi/ppapi_nacl.gyp
@@ -140,5 +140,5 @@
         ],
         'create_nmf': '<(DEPTH)/native_client_sdk/src/tools/create_nmf.py',
-        'create_nonsfi_test_nmf': 'tests/create_nonsfi_test_nmf.py',
+#        'create_nonsfi_test_nmf': 'tests/create_nonsfi_test_nmf.py',
       },
       'conditions': [
@@ -263,9 +263,9 @@
             {
               'action_name': 'Generate PNACL NEWLIB NONSFI NMF',
-              'inputs': ['>(create_nonsfi_test_nmf)'],
+#              'inputs': ['>(create_nonsfi_test_nmf)'],
               'outputs': ['>(nmf_nonsfi)'],
               'action': [
                 'python',
-                '>(create_nonsfi_test_nmf)',
+#                '>(create_nonsfi_test_nmf)',
                 '--output=>(nmf_nonsfi)',
               ],
diff --git a/ppapi/ppapi_sources.gypi b/ppapi/ppapi_sources.gypi
index b733d7e..01eb8f4 100644
--- a/ppapi/ppapi_sources.gypi
+++ b/ppapi/ppapi_sources.gypi
@@ -486,6 +486,6 @@
       'tests/test_tcp_socket_private.cc',
       'tests/test_tcp_socket_private.h',
-      'tests/test_test_internals.cc',
-      'tests/test_test_internals.h',
+#      'tests/test_test_internals.cc',
+#      'tests/test_test_internals.h',
       'tests/test_trace_event.cc',
       'tests/test_trace_event.h',
diff --git a/ppapi/proxy/BUILD.gn b/ppapi/proxy/BUILD.gn
index 0997fe4..b007e62 100644
--- a/ppapi/proxy/BUILD.gn
+++ b/ppapi/proxy/BUILD.gn
@@ -341,16 +341,16 @@ source_set("test_support") {
     "ppapi_proxy_test.cc",
     "ppapi_proxy_test.h",
-    "resource_message_test_sink.cc",
-    "resource_message_test_sink.h",
+#    "resource_message_test_sink.cc",
+#    "resource_message_test_sink.h",
   ]
 
   deps = [
-    "//base/test:test_support",
+#    "//base/test:test_support",
     "//ipc",
-    "//ipc:test_support",
+#    "//ipc:test_support",
     "//ppapi/proxy",
     "//ppapi/shared_impl",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 }
diff --git a/ppapi/proxy/pdf_resource.cc b/ppapi/proxy/pdf_resource.cc
index e9d3ae8..7d0d857 100644
--- a/ppapi/proxy/pdf_resource.cc
+++ b/ppapi/proxy/pdf_resource.cc
@@ -9,5 +9,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/utf_string_conversions.h"
 #include "gin/public/isolate_holder.h"
diff --git a/ppapi/proxy/ppapi_proxy_test.h b/ppapi/proxy/ppapi_proxy_test.h
index 790c990..107416b 100644
--- a/ppapi/proxy/ppapi_proxy_test.h
+++ b/ppapi/proxy/ppapi_proxy_test.h
@@ -23,5 +23,5 @@
 #include "ppapi/shared_impl/proxy_lock.h"
 #include "ppapi/shared_impl/test_globals.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace base {
diff --git a/ppapi/shared_impl/BUILD.gn b/ppapi/shared_impl/BUILD.gn
index 59f4ec0..3ad258e 100644
--- a/ppapi/shared_impl/BUILD.gn
+++ b/ppapi/shared_impl/BUILD.gn
@@ -201,11 +201,11 @@ source_set("test_support") {
 
   deps = [
-    "//base/test:test_support",
+#    "//base/test:test_support",
     "//ipc",
-    "//ipc:test_support",
+#    "//ipc:test_support",
     "//ppapi/proxy",
     "//ppapi/shared_impl",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//testing/gmock",
+#    "//testing/gtest",
   ]
 }
diff --git a/ppapi/tests/extensions/extensions.gyp b/ppapi/tests/extensions/extensions.gyp
index 3f0a8a7..385ca25 100644
--- a/ppapi/tests/extensions/extensions.gyp
+++ b/ppapi/tests/extensions/extensions.gyp
@@ -5,5 +5,5 @@
 {
   'includes': [
-    '../../../ppapi/ppapi_nacl_test_common.gypi',
+#    '../../../ppapi/ppapi_nacl_test_common.gypi',
   ],
   'targets': [
@@ -85,5 +85,5 @@
         ['(target_arch=="ia32" or target_arch=="x64") and OS=="linux"', {
           # Enable nonsfi testing only on ia32-linux environment.
-          # See chrome/test/data/nacl/nacl_test_data.gyp for more info.
+#          # See chrome/test/data/nacl/nacl_test_data.gyp for more info.
           'variables': {
             'build_pnacl_newlib': 1,
diff --git a/rlz/BUILD.gn b/rlz/BUILD.gn
index bc02810..c5bebc8 100644
--- a/rlz/BUILD.gn
+++ b/rlz/BUILD.gn
@@ -6,5 +6,5 @@
 # the GYP file, but is always true for Chrome builds.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 config("rlz_config") {
@@ -83,12 +83,12 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "test/rlz_test_helpers.cc",
-    "test/rlz_test_helpers.h",
+#    "test/rlz_test_helpers.cc",
+#    "test/rlz_test_helpers.h",
   ]
   deps = [
     ":rlz_lib",
     "//base",
-    "//base/test:test_support",
-    "//testing/gtest",
+#    "//base/test:test_support",
+#    "//testing/gtest",
   ]
 }
@@ -96,12 +96,12 @@ source_set("test_support") {
 test("rlz_unittests") {
   sources = [
-    "lib/crc32_unittest.cc",
-    "lib/crc8_unittest.cc",
+#    "lib/crc32_unittest.cc",
+#    "lib/crc8_unittest.cc",
     "lib/financial_ping_test.cc",
-    "lib/lib_values_unittest.cc",
-    "lib/machine_id_unittest.cc",
+#    "lib/lib_values_unittest.cc",
+#    "lib/machine_id_unittest.cc",
     "lib/rlz_lib_test.cc",
-    "lib/string_utils_unittest.cc",
-    "test/rlz_unittest_main.cc",
+#    "lib/string_utils_unittest.cc",
+#    "test/rlz_unittest_main.cc",
     "win/lib/machine_deal_test.cc",
   ]
@@ -112,10 +112,10 @@ test("rlz_unittests") {
   deps = [
     ":rlz_lib",
-    ":test_support",
+#    ":test_support",
     "//base",
     "//base:prefs",
-    "//net:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
+#    "//net:test_support",
+#    "//testing/gmock",
+#    "//testing/gtest",
     "//third_party/zlib",
   ]
diff --git a/rlz/lib/financial_ping_test.cc b/rlz/lib/financial_ping_test.cc
index 4580a1f..59f032a 100644
--- a/rlz/lib/financial_ping_test.cc
+++ b/rlz/lib/financial_ping_test.cc
@@ -27,6 +27,6 @@
 #include "rlz/lib/rlz_value_store.h"
 #include "rlz/test/rlz_test_helpers.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if defined(OS_WIN)
diff --git a/rlz/lib/rlz_lib_test.cc b/rlz/lib/rlz_lib_test.cc
index fd6f419..563f8ef 100644
--- a/rlz/lib/rlz_lib_test.cc
+++ b/rlz/lib/rlz_lib_test.cc
@@ -17,6 +17,6 @@
 #include "base/logging.h"
 #include "base/memory/scoped_ptr.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #include "rlz/lib/financial_ping.h"
diff --git a/rlz/rlz.gyp b/rlz/rlz.gyp
index bd0fe23..becac5a 100644
--- a/rlz/rlz.gyp
+++ b/rlz/rlz.gyp
@@ -111,23 +111,23 @@
     },
     {
-      'target_name': 'test_support_rlz',
+#      'target_name': 'test_support_rlz',
       'type': 'static_library',
       'dependencies': [
         ':rlz_lib',
         '../base/base.gyp:base',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gtest.gyp:gtest',
       ],
       'sources': [
-        'test/rlz_test_helpers.cc',
-        'test/rlz_test_helpers.h',
+#        'test/rlz_test_helpers.cc',
+#        'test/rlz_test_helpers.h',
       ],
     },
     {
-      'target_name': 'rlz_unittests',
+#      'target_name': 'rlz_unittests',
       'type': 'executable',
       'dependencies': [
         ':rlz_lib',
-        ':test_support_rlz',
+#        ':test_support_rlz',
         '../base/base.gyp:base',
         '../base/base.gyp:base_prefs',
@@ -137,12 +137,12 @@
       ],
       'sources': [
-        'lib/crc32_unittest.cc',
-        'lib/crc8_unittest.cc',
+#        'lib/crc32_unittest.cc',
+#        'lib/crc8_unittest.cc',
         'lib/financial_ping_test.cc',
-        'lib/lib_values_unittest.cc',
-        'lib/machine_id_unittest.cc',
+#        'lib/lib_values_unittest.cc',
+#        'lib/machine_id_unittest.cc',
         'lib/rlz_lib_test.cc',
-        'lib/string_utils_unittest.cc',
-        'test/rlz_unittest_main.cc',
+#        'lib/string_utils_unittest.cc',
+#        'test/rlz_unittest_main.cc',
         'win/lib/machine_deal_test.cc',
       ],
@@ -150,5 +150,5 @@
         ['rlz_use_chrome_net==1', {
           'dependencies': [
-            '../net/net.gyp:net_test_support',
+#            '../net/net.gyp:net_test_support',
           ],
         }],
diff --git a/rlz/win/lib/machine_deal_test.cc b/rlz/win/lib/machine_deal_test.cc
index ec0526f..e4df7b3 100644
--- a/rlz/win/lib/machine_deal_test.cc
+++ b/rlz/win/lib/machine_deal_test.cc
@@ -13,6 +13,6 @@
 
 #include "base/logging.h"
-#include "testing/gmock/include/gmock/gmock.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #include "rlz/test/rlz_test_helpers.h"
diff --git a/sandbox/linux/BUILD.gn b/sandbox/linux/BUILD.gn
index 3b340bd..a24a7f0 100644
--- a/sandbox/linux/BUILD.gn
+++ b/sandbox/linux/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/features.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 declare_args() {
@@ -36,116 +36,5 @@ group("sandbox") {
 }
 
-source_set("sandbox_linux_test_utils") {
-  testonly = true
-  sources = [
-    "tests/sandbox_test_runner.cc",
-    "tests/sandbox_test_runner.h",
-    "tests/sandbox_test_runner_function_pointer.cc",
-    "tests/sandbox_test_runner_function_pointer.h",
-    "tests/test_utils.cc",
-    "tests/test_utils.h",
-    "tests/unit_tests.cc",
-    "tests/unit_tests.h",
-  ]
-
-  deps = [
-    "//testing/gtest",
-  ]
-
-  if (use_seccomp_bpf) {
-    sources += [
-      "seccomp-bpf/bpf_tester_compatibility_delegate.h",
-      "seccomp-bpf/bpf_tests.h",
-      "seccomp-bpf/sandbox_bpf_test_runner.cc",
-      "seccomp-bpf/sandbox_bpf_test_runner.h",
-    ]
-    deps += [ ":seccomp_bpf" ]
-  }
-}
 
-# Sources shared by sandbox_linux_unittests and sandbox_linux_jni_unittests.
-source_set("sandbox_linux_unittests_sources") {
-  testonly = true
-
-  sources = [
-    "services/proc_util_unittest.cc",
-    "services/resource_limits_unittests.cc",
-    "services/scoped_process_unittest.cc",
-    "services/syscall_wrappers_unittest.cc",
-    "services/thread_helpers_unittests.cc",
-    "services/yama_unittests.cc",
-    "syscall_broker/broker_file_permission_unittest.cc",
-    "syscall_broker/broker_process_unittest.cc",
-    "tests/main.cc",
-    "tests/scoped_temporary_file.cc",
-    "tests/scoped_temporary_file.h",
-    "tests/scoped_temporary_file_unittest.cc",
-    "tests/test_utils_unittest.cc",
-    "tests/unit_tests_unittest.cc",
-  ]
-
-  deps = [
-    ":sandbox",
-    ":sandbox_linux_test_utils",
-    "//base",
-    "//base/test:test_support",
-    "//testing/gtest",
-  ]
-
-  if (is_linux) {
-    # Don't use this on Android.
-    libs = [ "rt" ]
-  }
-
-  if (compile_suid_client) {
-    sources += [
-      "suid/client/setuid_sandbox_client_unittest.cc",
-      "suid/client/setuid_sandbox_host_unittest.cc",
-    ]
-  }
-  if (use_seccomp_bpf) {
-    sources += [
-      "bpf_dsl/bpf_dsl_unittest.cc",
-      "bpf_dsl/codegen_unittest.cc",
-      "bpf_dsl/cons_unittest.cc",
-      "bpf_dsl/syscall_set_unittest.cc",
-      "integration_tests/bpf_dsl_seccomp_unittest.cc",
-      "integration_tests/seccomp_broker_process_unittest.cc",
-      "seccomp-bpf-helpers/baseline_policy_unittest.cc",
-      "seccomp-bpf-helpers/syscall_parameters_restrictions_unittests.cc",
-      "seccomp-bpf/bpf_tests_unittest.cc",
-      "seccomp-bpf/errorcode_unittest.cc",
-      "seccomp-bpf/sandbox_bpf_unittest.cc",
-      "seccomp-bpf/syscall_unittest.cc",
-    ]
-  }
-  if (compile_credentials) {
-    sources += [
-      "integration_tests/namespace_unix_domain_socket_unittest.cc",
-      "services/credentials_unittest.cc",
-      "services/namespace_sandbox_unittest.cc",
-      "services/namespace_utils_unittest.cc",
-    ]
-  }
-}
-
-# The main sandboxing test target.
-test("sandbox_linux_unittests") {
-  deps = [
-    ":sandbox_linux_unittests_sources",
-  ]
-}
-
-# This target is the shared library used by Android APK (i.e.
-# JNI-friendly) tests.
-shared_library("sandbox_linux_jni_unittests") {
-  testonly = true
-  deps = [
-    ":sandbox_linux_unittests_sources",
-  ]
-  if (is_android) {
-    deps += [ "//testing/android:native_test_native_code" ]
-  }
-}
 
 component("seccomp_bpf") {
@@ -333,10 +222,10 @@ if (compile_suid_client) {
 if (is_android) {
   # TODO(GYP) enable this. Needs an android_strip wrapper python script.
-  #action("sandbox_linux_unittests_stripped") {
+#  #action("sandbox_linux_unittests_stripped") {
   #  script = "android_stip.py"
   #
-  #  in_file = "$root_out_dir/sandbox_linux_unittests"
+#  #  in_file = "$root_out_dir/sandbox_linux_unittests"
   #
-  #  out_file = "$root_out_dir/sandbox_linux_unittests_stripped"
+#  #  out_file = "$root_out_dir/sandbox_linux_unittests_stripped"
   #  outputs = [ out_file ]
   #
@@ -347,16 +236,16 @@ if (is_android) {
   #
   #  deps = [
-  #    ":sandbox_linux_unittests",
+#  #    ":sandbox_linux_unittests",
   #  ]
   #}
   # TODO(GYP) convert this.
   #      {
-  #      'target_name': 'sandbox_linux_jni_unittests_apk',
+#  #      'target_name': 'sandbox_linux_jni_unittests_apk',
   #      'type': 'none',
   #      'variables': {
-  #        'test_suite_name': 'sandbox_linux_jni_unittests',
+#  #        'test_suite_name': 'sandbox_linux_jni_unittests',
   #      },
   #      'dependencies': [
-  #        'sandbox_linux_jni_unittests',
+#  #        'sandbox_linux_jni_unittests',
   #      ],
   #      'includes': [ '../../build/apk_test.gypi' ],
diff --git a/sandbox/linux/sandbox_linux.gypi b/sandbox/linux/sandbox_linux.gypi
index 6111fd3..fcdb931 100644
--- a/sandbox/linux/sandbox_linux.gypi
+++ b/sandbox/linux/sandbox_linux.gypi
@@ -33,5 +33,5 @@
   },
   'targets': [
-    # We have two principal targets: sandbox and sandbox_linux_unittests
+#    # We have two principal targets: sandbox and sandbox_linux_unittests
     # All other targets are listed as dependencies.
     # There is one notable exception: for historical reasons, chrome_sandbox is
@@ -59,5 +59,5 @@
     },
     {
-      'target_name': 'sandbox_linux_test_utils',
+#      'target_name': 'sandbox_linux_test_utils',
       'type': 'static_library',
       'dependencies': [
@@ -68,8 +68,8 @@
       ],
       'sources': [
-        'tests/sandbox_test_runner.cc',
-        'tests/sandbox_test_runner.h',
-        'tests/sandbox_test_runner_function_pointer.cc',
-        'tests/sandbox_test_runner_function_pointer.h',
+#        'tests/sandbox_test_runner.cc',
+#        'tests/sandbox_test_runner.h',
+#        'tests/sandbox_test_runner_function_pointer.cc',
+#        'tests/sandbox_test_runner_function_pointer.h',
         'tests/test_utils.cc',
         'tests/test_utils.h',
@@ -82,6 +82,6 @@
             'seccomp-bpf/bpf_tester_compatibility_delegate.h',
             'seccomp-bpf/bpf_tests.h',
-            'seccomp-bpf/sandbox_bpf_test_runner.cc',
-            'seccomp-bpf/sandbox_bpf_test_runner.h',
+#            'seccomp-bpf/sandbox_bpf_test_runner.cc',
+#            'seccomp-bpf/sandbox_bpf_test_runner.h',
           ],
           'dependencies': [
@@ -93,7 +93,7 @@
     {
       # The main sandboxing test target.
-      'target_name': 'sandbox_linux_unittests',
+#      'target_name': 'sandbox_linux_unittests',
       'includes': [
-        'sandbox_linux_test_sources.gypi',
+#        'sandbox_linux_test_sources.gypi',
       ],
       'type': 'executable',
@@ -102,7 +102,7 @@
       # This target is the shared library used by Android APK (i.e.
       # JNI-friendly) tests.
-      'target_name': 'sandbox_linux_jni_unittests',
+#      'target_name': 'sandbox_linux_jni_unittests',
       'includes': [
-        'sandbox_linux_test_sources.gypi',
+#        'sandbox_linux_test_sources.gypi',
       ],
       'type': 'shared_library',
@@ -110,5 +110,5 @@
         [ 'OS == "android"', {
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -340,26 +340,26 @@
       'targets': [
       {
-        'target_name': 'sandbox_linux_unittests_stripped',
+#        'target_name': 'sandbox_linux_unittests_stripped',
         'type': 'none',
-        'dependencies': [ 'sandbox_linux_unittests' ],
+#        'dependencies': [ 'sandbox_linux_unittests' ],
         'actions': [{
-          'action_name': 'strip sandbox_linux_unittests',
-          'inputs': [ '<(PRODUCT_DIR)/sandbox_linux_unittests' ],
-          'outputs': [ '<(PRODUCT_DIR)/sandbox_linux_unittests_stripped' ],
+#          'action_name': 'strip sandbox_linux_unittests',
+#          'inputs': [ '<(PRODUCT_DIR)/sandbox_linux_unittests' ],
+#          'outputs': [ '<(PRODUCT_DIR)/sandbox_linux_unittests_stripped' ],
           'action': [ '<(android_strip)', '<@(_inputs)', '-o', '<@(_outputs)' ],
         }],
       },
       {
-        'target_name': 'sandbox_linux_unittests_deps',
+#        'target_name': 'sandbox_linux_unittests_deps',
         'type': 'none',
         'dependencies': [
-          'sandbox_linux_unittests_stripped',
+#          'sandbox_linux_unittests_stripped',
         ],
         # For the component build, ensure dependent shared libraries are
-        # stripped and put alongside sandbox_linux_unittests to simplify pushing
+#        # stripped and put alongside sandbox_linux_unittests to simplify pushing
         # to the device.
         'variables': {
-           'output_dir': '<(PRODUCT_DIR)/sandbox_linux_unittests_deps/',
-           'native_binary': '<(PRODUCT_DIR)/sandbox_linux_unittests_stripped',
+#           'output_dir': '<(PRODUCT_DIR)/sandbox_linux_unittests_deps/',
+#           'native_binary': '<(PRODUCT_DIR)/sandbox_linux_unittests_stripped',
            'include_main_binary': 0,
         },
@@ -372,11 +372,11 @@
       'targets': [
         {
-        'target_name': 'sandbox_linux_jni_unittests_apk',
+#        'target_name': 'sandbox_linux_jni_unittests_apk',
         'type': 'none',
         'variables': {
-          'test_suite_name': 'sandbox_linux_jni_unittests',
+#          'test_suite_name': 'sandbox_linux_jni_unittests',
         },
         'dependencies': [
-          'sandbox_linux_jni_unittests',
+#          'sandbox_linux_jni_unittests',
         ],
         'includes': [ '../../build/apk_test.gypi' ],
@@ -387,8 +387,8 @@
       'targets': [
         {
-          'target_name': 'sandbox_linux_unittests_run',
+#          'target_name': 'sandbox_linux_unittests_run',
           'type': 'none',
           'dependencies': [
-            'sandbox_linux_unittests',
+#            'sandbox_linux_unittests',
           ],
           'includes': [
@@ -396,5 +396,5 @@
           ],
           'sources': [
-            '../sandbox_linux_unittests.isolate',
+#            '../sandbox_linux_unittests.isolate',
           ],
         },
diff --git a/sandbox/mac/BUILD.gn b/sandbox/mac/BUILD.gn
index daee138..86fcaf7 100644
--- a/sandbox/mac/BUILD.gn
+++ b/sandbox/mac/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/mac/mac_sdk.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("sandbox") {
@@ -84,8 +84,8 @@ action("generate_stubs") {
 test("sandbox_mac_unittests") {
   sources = [
-    "bootstrap_sandbox_unittest.mm",
-    "dispatch_source_mach_unittest.cc",
-    "policy_unittest.cc",
-    "xpc_message_server_unittest.cc",
+#    "bootstrap_sandbox_unittest.mm",
+#    "dispatch_source_mach_unittest.cc",
+#    "policy_unittest.cc",
+#    "xpc_message_server_unittest.cc",
   ]
 
@@ -98,6 +98,6 @@ test("sandbox_mac_unittests") {
     ":sandbox",
     "//base",
-    "//base/test:run_all_unittests",
-    "//testing/gtest",
+#    "//base/test:run_all_unittests",
+#    "//testing/gtest",
   ]
 }
diff --git a/sandbox/mac/sandbox_mac.gypi b/sandbox/mac/sandbox_mac.gypi
index a2a616f..e2a4efc 100644
--- a/sandbox/mac/sandbox_mac.gypi
+++ b/sandbox/mac/sandbox_mac.gypi
@@ -90,16 +90,16 @@
     },
     {
-      'target_name': 'sandbox_mac_unittests',
+#      'target_name': 'sandbox_mac_unittests',
       'type': 'executable',
       'sources': [
-        'bootstrap_sandbox_unittest.mm',
-        'dispatch_source_mach_unittest.cc',
-        'policy_unittest.cc',
-        'xpc_message_server_unittest.cc',
+#        'bootstrap_sandbox_unittest.mm',
+#        'dispatch_source_mach_unittest.cc',
+#        'policy_unittest.cc',
+#        'xpc_message_server_unittest.cc',
       ],
       'dependencies': [
         'sandbox',
         '../base/base.gyp:base',
-        '../base/base.gyp:run_all_unittests',
+#        '../base/base.gyp:run_all_unittests',
         '../testing/gtest.gyp:gtest',
       ],
diff --git a/sandbox/win/BUILD.gn b/sandbox/win/BUILD.gn
index 93c4343..16c9ab0 100644
--- a/sandbox/win/BUILD.gn
+++ b/sandbox/win/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 source_set("sandbox") {
@@ -214,6 +214,6 @@ test("sbox_integration_tests") {
   deps = [
     ":sandbox",
-    "//base/test:test_support",
-    "//testing/gtest",
+#    "//base/test:test_support",
+#    "//testing/gtest",
   ]
 }
@@ -231,6 +231,6 @@ test("sbox_validation_tests") {
   deps = [
     ":sandbox",
-    "//base/test:test_support",
-    "//testing/gtest",
+#    "//base/test:test_support",
+#    "//testing/gtest",
   ]
 }
@@ -238,16 +238,16 @@ test("sbox_validation_tests") {
 test("sbox_unittests") {
   sources = [
-    "src/app_container_unittest.cc",
-    "src/interception_unittest.cc",
-    "src/ipc_unittest.cc",
-    "src/job_unittest.cc",
-    "src/policy_engine_unittest.cc",
-    "src/policy_low_level_unittest.cc",
-    "src/policy_opcodes_unittest.cc",
-    "src/restricted_token_unittest.cc",
-    "src/service_resolver_unittest.cc",
-    "src/sid_unittest.cc",
-    "src/threadpool_unittest.cc",
-    "src/win_utils_unittest.cc",
+#    "src/app_container_unittest.cc",
+#    "src/interception_unittest.cc",
+#    "src/ipc_unittest.cc",
+#    "src/job_unittest.cc",
+#    "src/policy_engine_unittest.cc",
+#    "src/policy_low_level_unittest.cc",
+#    "src/policy_opcodes_unittest.cc",
+#    "src/restricted_token_unittest.cc",
+#    "src/service_resolver_unittest.cc",
+#    "src/sid_unittest.cc",
+#    "src/threadpool_unittest.cc",
+#    "src/win_utils_unittest.cc",
     "tests/common/test_utils.cc",
     "tests/common/test_utils.h",
@@ -257,6 +257,6 @@ test("sbox_unittests") {
   deps = [
     ":sandbox",
-    "//base/test:test_support",
-    "//testing/gtest",
+#    "//base/test:test_support",
+#    "//testing/gtest",
   ]
 }
diff --git a/sandbox/win/sandbox_win.gypi b/sandbox/win/sandbox_win.gypi
index e085cfb..2bcf231 100644
--- a/sandbox/win/sandbox_win.gypi
+++ b/sandbox/win/sandbox_win.gypi
@@ -215,5 +215,5 @@
       'dependencies': [
         'sandbox',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gtest.gyp:gtest',
       ],
@@ -248,5 +248,5 @@
       'dependencies': [
         'sandbox',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gtest.gyp:gtest',
       ],
@@ -261,24 +261,24 @@
     },
     {
-      'target_name': 'sbox_unittests',
+#      'target_name': 'sbox_unittests',
       'type': 'executable',
       'dependencies': [
         'sandbox',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gtest.gyp:gtest',
       ],
       'sources': [
-        'src/app_container_unittest.cc',
-        'src/interception_unittest.cc',
-        'src/service_resolver_unittest.cc',
-        'src/restricted_token_unittest.cc',
-        'src/job_unittest.cc',
-        'src/sid_unittest.cc',
-        'src/policy_engine_unittest.cc',
-        'src/policy_low_level_unittest.cc',
-        'src/policy_opcodes_unittest.cc',
-        'src/ipc_unittest.cc',
-        'src/threadpool_unittest.cc',
-        'src/win_utils_unittest.cc',
+#        'src/app_container_unittest.cc',
+#        'src/interception_unittest.cc',
+#        'src/service_resolver_unittest.cc',
+#        'src/restricted_token_unittest.cc',
+#        'src/job_unittest.cc',
+#        'src/sid_unittest.cc',
+#        'src/policy_engine_unittest.cc',
+#        'src/policy_low_level_unittest.cc',
+#        'src/policy_opcodes_unittest.cc',
+#        'src/ipc_unittest.cc',
+#        'src/threadpool_unittest.cc',
+#        'src/win_utils_unittest.cc',
         'tests/common/test_utils.cc',
         'tests/common/test_utils.h',
diff --git a/sandbox/win/src/address_sanitizer_test.cc b/sandbox/win/src/address_sanitizer_test.cc
index 6eb2c85..3741310 100644
--- a/sandbox/win/src/address_sanitizer_test.cc
+++ b/sandbox/win/src/address_sanitizer_test.cc
@@ -13,5 +13,5 @@
 #include "base/win/windows_version.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sandbox {
diff --git a/sandbox/win/src/app_container_test.cc b/sandbox/win/src/app_container_test.cc
index ced5cbd..4433307 100644
--- a/sandbox/win/src/app_container_test.cc
+++ b/sandbox/win/src/app_container_test.cc
@@ -13,5 +13,5 @@
 #include "base/win/windows_version.h"
 #include "sandbox/win/src/sync_policy_test.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/sandbox/win/src/file_policy_test.cc b/sandbox/win/src/file_policy_test.cc
index 199dd4c..64e1519 100644
--- a/sandbox/win/src/file_policy_test.cc
+++ b/sandbox/win/src/file_policy_test.cc
@@ -18,5 +18,5 @@
 #include "sandbox/win/tests/common/controller.h"
 #include "sandbox/win/tests/common/test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #define BINDNTDLL(name) \
diff --git a/sandbox/win/src/handle_closer_test.cc b/sandbox/win/src/handle_closer_test.cc
index f1f80e8..716207e 100644
--- a/sandbox/win/src/handle_closer_test.cc
+++ b/sandbox/win/src/handle_closer_test.cc
@@ -11,5 +11,5 @@
 #include "sandbox/win/src/target_services.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/sandbox/win/src/handle_inheritance_test.cc b/sandbox/win/src/handle_inheritance_test.cc
index 37974e3..006e9aa 100644
--- a/sandbox/win/src/handle_inheritance_test.cc
+++ b/sandbox/win/src/handle_inheritance_test.cc
@@ -10,5 +10,5 @@
 #include "base/win/windows_version.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sandbox {
diff --git a/sandbox/win/src/handle_policy_test.cc b/sandbox/win/src/handle_policy_test.cc
index 11382da..808ccff 100644
--- a/sandbox/win/src/handle_policy_test.cc
+++ b/sandbox/win/src/handle_policy_test.cc
@@ -11,5 +11,5 @@
 #include "sandbox/win/src/win_utils.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sandbox {
diff --git a/sandbox/win/src/integrity_level_test.cc b/sandbox/win/src/integrity_level_test.cc
index f962033..6208c85 100644
--- a/sandbox/win/src/integrity_level_test.cc
+++ b/sandbox/win/src/integrity_level_test.cc
@@ -7,5 +7,5 @@
 
 #include "base/win/windows_version.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "sandbox/win/src/sandbox.h"
 #include "sandbox/win/src/sandbox_policy.h"
diff --git a/sandbox/win/src/ipc_ping_test.cc b/sandbox/win/src/ipc_ping_test.cc
index 64e3de6..f39e7c4 100644
--- a/sandbox/win/src/ipc_ping_test.cc
+++ b/sandbox/win/src/ipc_ping_test.cc
@@ -3,5 +3,5 @@
 // found in the LICENSE file.
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "sandbox/win/src/sandbox.h"
 #include "sandbox/win/src/sandbox_factory.h"
diff --git a/sandbox/win/src/named_pipe_policy_test.cc b/sandbox/win/src/named_pipe_policy_test.cc
index 813cf1f..ca06dc0 100644
--- a/sandbox/win/src/named_pipe_policy_test.cc
+++ b/sandbox/win/src/named_pipe_policy_test.cc
@@ -9,5 +9,5 @@
 #include "sandbox/win/src/sandbox_factory.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sandbox {
diff --git a/sandbox/win/src/policy_target_test.cc b/sandbox/win/src/policy_target_test.cc
index d1162e8..3615228 100644
--- a/sandbox/win/src/policy_target_test.cc
+++ b/sandbox/win/src/policy_target_test.cc
@@ -10,5 +10,5 @@
 #include "sandbox/win/src/target_services.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sandbox {
diff --git a/sandbox/win/src/process_mitigations_test.cc b/sandbox/win/src/process_mitigations_test.cc
index 4d2e9c6..f7267cd 100644
--- a/sandbox/win/src/process_mitigations_test.cc
+++ b/sandbox/win/src/process_mitigations_test.cc
@@ -14,5 +14,5 @@
 #include "sandbox/win/src/win_utils.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/sandbox/win/src/process_policy_test.cc b/sandbox/win/src/process_policy_test.cc
index 44effa3..132fed9 100644
--- a/sandbox/win/src/process_policy_test.cc
+++ b/sandbox/win/src/process_policy_test.cc
@@ -15,5 +15,5 @@
 #include "sandbox/win/src/sandbox_policy.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/sandbox/win/src/registry_policy_test.cc b/sandbox/win/src/registry_policy_test.cc
index d8ee34b..106ba4f 100644
--- a/sandbox/win/src/registry_policy_test.cc
+++ b/sandbox/win/src/registry_policy_test.cc
@@ -5,5 +5,5 @@
 #include <shlobj.h>
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "sandbox/win/src/registry_policy.h"
 #include "sandbox/win/src/sandbox.h"
diff --git a/sandbox/win/src/sync_policy_test.cc b/sandbox/win/src/sync_policy_test.cc
index 9fc08f4..2f5d14c 100644
--- a/sandbox/win/src/sync_policy_test.cc
+++ b/sandbox/win/src/sync_policy_test.cc
@@ -10,5 +10,5 @@
 #include "sandbox/win/src/sandbox_factory.h"
 #include "sandbox/win/src/nt_internals.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sandbox {
diff --git a/sandbox/win/src/unload_dll_test.cc b/sandbox/win/src/unload_dll_test.cc
index 620016c..2b4745a 100644
--- a/sandbox/win/src/unload_dll_test.cc
+++ b/sandbox/win/src/unload_dll_test.cc
@@ -8,5 +8,5 @@
 #include "sandbox/win/src/target_services.h"
 #include "sandbox/win/tests/common/controller.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sandbox {
diff --git a/skia/BUILD.gn b/skia/BUILD.gn
index 248bc1c..327738e 100644
--- a/skia/BUILD.gn
+++ b/skia/BUILD.gn
@@ -5,5 +5,5 @@
 import("//build/config/features.gni")
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 if (current_cpu == "arm") {
   import("//build/config/arm.gni")
@@ -60,13 +60,15 @@ gypi_skia_gpu =
 
 # The list of Skia pdf sources that are to be set for chromium.
-gypi_skia_pdf =
-    exec_script("//build/gypi_to_gn.py",
-                [
-                  rebase_path("//third_party/skia/gyp/pdf.gypi"),
-                  "--replace=<(skia_include_path)=//third_party/skia/include",
-                  "--replace=<(skia_src_path)=//third_party/skia/src",
-                ],
-                "scope",
-                [ "//third_party/skia/gyp/pdf.gypi" ])
+
+#You set the variable "gypi_skia_pdf" here and it was unused before it went
+#gypi_skia_pdf =
+#    exec_script("//build/gypi_to_gn.py",
+#                [
+#                  rebase_path("//third_party/skia/gyp/pdf.gypi"),
+#                  "--replace=<(skia_include_path)=//third_party/skia/include",
+#                  "--replace=<(skia_src_path)=//third_party/skia/src",
+#                ],
+#                "scope",
+#                [ "//third_party/skia/gyp/pdf.gypi" ])
 
 # The list of Skia effects that are to be set for chromium.
@@ -602,32 +604,4 @@ source_set("skia_opts") {
 }
 
-test("skia_unittests") {
-  sources = [
-    "ext/analysis_canvas_unittest.cc",
-    "ext/bitmap_platform_device_mac_unittest.cc",
-    "ext/convolver_unittest.cc",
-    "ext/image_operations_unittest.cc",
-    "ext/pixel_ref_utils_unittest.cc",
-    "ext/platform_canvas_unittest.cc",
-    "ext/recursive_gaussian_convolution_unittest.cc",
-    "ext/refptr_unittest.cc",
-    "ext/skia_utils_ios_unittest.mm",
-    "ext/skia_utils_mac_unittest.mm",
-  ]
-
-  if (!is_win && !is_mac) {
-    sources -= [ "ext/platform_canvas_unittest.cc" ]
-  }
-
-  deps = [
-    ":skia",
-    "//base",
-    "//base/test:run_all_unittests",
-    "//cc:test_support",  # TODO: Fix this test to not depend on cc.
-    "//testing/gtest",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-  ]
-}
 
 if (is_linux && !is_chromeos) {
diff --git a/skia/ext/image_operations.cc b/skia/ext/image_operations.cc
index a14344d..b6cde1d 100644
--- a/skia/ext/image_operations.cc
+++ b/skia/ext/image_operations.cc
@@ -13,5 +13,5 @@
 #include "base/containers/stack_container.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/time/time.h"
 #include "base/trace_event/trace_event.h"
@@ -395,6 +395,6 @@ SkBitmap ImageOperations::Resize(const SkBitmap& source,
                  true);
 
-  base::TimeDelta delta = base::TimeTicks::Now() - resize_start;
-  UMA_HISTOGRAM_TIMES("Image.ResampleMS", delta);
+//  base::TimeDelta delta = base::TimeTicks::Now() - resize_start;
+//  UMA_HISTOGRAM_TIMES("Image.ResampleMS", delta);
 
   return result;
diff --git a/sql/BUILD.gn b/sql/BUILD.gn
index 8b75d80..74b418e 100644
--- a/sql/BUILD.gn
+++ b/sql/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("sql") {
@@ -34,68 +34,4 @@ component("sql") {
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "test/error_callback_support.cc",
-    "test/error_callback_support.h",
-    "test/scoped_error_ignorer.cc",
-    "test/scoped_error_ignorer.h",
-    "test/test_helpers.cc",
-    "test/test_helpers.h",
-  ]
-
-  deps = [
-    ":sql",
-    "//base",
-    "//testing/gtest",
-    "//third_party/sqlite",
-  ]
-}
-
-test("sql_unittests") {
-  sources = [
-    "connection_unittest.cc",
-    "meta_table_unittest.cc",
-    "recovery_unittest.cc",
-    "sqlite_features_unittest.cc",
-    "statement_unittest.cc",
-    "test/paths.cc",
-    "test/paths.h",
-    "test/run_all_unittests.cc",
-    "test/sql_test_suite.cc",
-    "test/sql_test_suite.h",
-    "transaction_unittest.cc",
-  ]
-
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":sql",
-    ":test_support",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//testing/gtest",
-    "//third_party/sqlite",
-  ]
 
-  # TODO(GYP)
-  #['OS == "android"', {
-  #  'dependencies': [
-  #    '../testing/android/native_test.gyp:native_test_native_code',
-  #  ],
-  #}],
-}
 
-if (is_android) {
-  #TODO(GYP)
-  #'target_name': 'sql_unittests_apk',
-  #'type': 'none',
-  #'dependencies': [
-  #  'sql_unittests',
-  #],
-  #'variables': {
-  #  'test_suite_name': 'sql_unittests',
-  #},
-  #'includes': [ '../build/apk_test.gypi' ],
-}
diff --git a/sql/connection.cc b/sql/connection.cc
index cc7e69d..7c23069 100644
--- a/sql/connection.cc
+++ b/sql/connection.cc
@@ -11,6 +11,6 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_split.h"
 #include "base/strings/string_util.h"
diff --git a/sql/meta_table.cc b/sql/meta_table.cc
index b1b9562..4851f55 100644
--- a/sql/meta_table.cc
+++ b/sql/meta_table.cc
@@ -6,5 +6,5 @@
 
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "sql/connection.h"
diff --git a/sql/recovery.cc b/sql/recovery.cc
index f179a63..59f60a1 100644
--- a/sql/recovery.cc
+++ b/sql/recovery.cc
@@ -8,6 +8,6 @@
 #include "base/format_macros.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
-#include "base/metrics/sparse_histogram.h"
+//#include "base/metrics/histogram.h"
+//#include "base/metrics/sparse_histogram.h"
 #include "base/strings/string_util.h"
 #include "base/strings/stringprintf.h"
diff --git a/sql/sql.gyp b/sql/sql.gyp
index 711abf9..3e70ad3 100644
--- a/sql/sql.gyp
+++ b/sql/sql.gyp
@@ -47,5 +47,5 @@
     },
     {
-      'target_name': 'test_support_sql',
+#      'target_name': 'test_support_sql',
       'type': 'static_library',
       'dependencies': [
@@ -77,25 +77,25 @@
     },
     {
-      'target_name': 'sql_unittests',
+#      'target_name': 'sql_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         'sql',
-        'test_support_sql',
-        '../base/base.gyp:test_support_base',
+#        'test_support_sql',
+#        '../base/base.gyp:test_support_base',
         '../testing/gtest.gyp:gtest',
         '../third_party/sqlite/sqlite.gyp:sqlite',
       ],
       'sources': [
-        'connection_unittest.cc',
-        'meta_table_unittest.cc',
-        'recovery_unittest.cc',
-        'sqlite_features_unittest.cc',
-        'statement_unittest.cc',
+#        'connection_unittest.cc',
+#        'meta_table_unittest.cc',
+#        'recovery_unittest.cc',
+#        'sqlite_features_unittest.cc',
+#        'statement_unittest.cc',
         'test/paths.cc',
         'test/paths.h',
-        'test/run_all_unittests.cc',
-        'test/sql_test_suite.cc',
-        'test/sql_test_suite.h',
-        'transaction_unittest.cc',
+#        'test/run_all_unittests.cc',
+#        'test/sql_test_suite.cc',
+#        'test/sql_test_suite.h',
+#        'transaction_unittest.cc',
       ],
       'include_dirs': [
@@ -114,5 +114,5 @@
         ['OS == "android"', {
           'dependencies': [
-            '../testing/android/native_test.gyp:native_test_native_code',
+#            '../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -131,11 +131,11 @@
       'targets': [
         {
-          'target_name': 'sql_unittests_apk',
+#          'target_name': 'sql_unittests_apk',
           'type': 'none',
           'dependencies': [
-            'sql_unittests',
+#            'sql_unittests',
           ],
           'variables': {
-            'test_suite_name': 'sql_unittests',
+#            'test_suite_name': 'sql_unittests',
           },
           'includes': [ '../build/apk_test.gypi' ],
@@ -146,8 +146,8 @@
       'targets': [
         {
-          'target_name': 'sql_unittests_run',
+#          'target_name': 'sql_unittests_run',
           'type': 'none',
           'dependencies': [
-            'sql_unittests',
+#            'sql_unittests',
           ],
           'includes': [
@@ -155,5 +155,5 @@
           ],
           'sources': [
-            'sql_unittests.isolate',
+#            'sql_unittests.isolate',
           ],
         },
diff --git a/sql/test/error_callback_support.cc b/sql/test/error_callback_support.cc
index 9f0e22f..b7b6649 100644
--- a/sql/test/error_callback_support.cc
+++ b/sql/test/error_callback_support.cc
@@ -5,5 +5,5 @@
 #include "sql/test/error_callback_support.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sql {
diff --git a/sql/test/scoped_error_ignorer.cc b/sql/test/scoped_error_ignorer.cc
index 7e07cf1..a881c4b 100644
--- a/sql/test/scoped_error_ignorer.cc
+++ b/sql/test/scoped_error_ignorer.cc
@@ -6,5 +6,5 @@
 
 #include "base/bind.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace sql {
diff --git a/sql/test/test_helpers.cc b/sql/test/test_helpers.cc
index 72d42c6..f6f8e90 100644
--- a/sql/test/test_helpers.cc
+++ b/sql/test/test_helpers.cc
@@ -11,5 +11,5 @@
 #include "sql/connection.h"
 #include "sql/statement.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace {
diff --git a/storage/browser/blob/blob_storage_context.cc b/storage/browser/blob/blob_storage_context.cc
index b673930..c75b358 100644
--- a/storage/browser/blob/blob_storage_context.cc
+++ b/storage/browser/blob/blob_storage_context.cc
@@ -13,5 +13,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/message_loop/message_loop_proxy.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "storage/browser/blob/blob_data_builder.h"
diff --git a/storage/browser/blob/internal_blob_data.cc b/storage/browser/blob/internal_blob_data.cc
index 8441f89..38a91a0 100644
--- a/storage/browser/blob/internal_blob_data.cc
+++ b/storage/browser/blob/internal_blob_data.cc
@@ -6,5 +6,5 @@
 
 #include "base/containers/hash_tables.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "storage/browser/blob/blob_data_item.h"
 #include "storage/common/data_element.h"
diff --git a/storage/browser/fileapi/obfuscated_file_util.cc b/storage/browser/fileapi/obfuscated_file_util.cc
index af14066..1bb89af 100644
--- a/storage/browser/fileapi/obfuscated_file_util.cc
+++ b/storage/browser/fileapi/obfuscated_file_util.cc
@@ -13,5 +13,5 @@
 #include "base/logging.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/storage/browser/fileapi/sandbox_directory_database.cc b/storage/browser/fileapi/sandbox_directory_database.cc
index 8343fea..2104055 100644
--- a/storage/browser/fileapi/sandbox_directory_database.cc
+++ b/storage/browser/fileapi/sandbox_directory_database.cc
@@ -13,5 +13,5 @@
 #include "base/files/file_util.h"
 #include "base/location.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/pickle.h"
 #include "base/strings/string_number_conversions.h"
diff --git a/storage/browser/fileapi/sandbox_file_system_backend.cc b/storage/browser/fileapi/sandbox_file_system_backend.cc
index 8398c38..a728d22 100644
--- a/storage/browser/fileapi/sandbox_file_system_backend.cc
+++ b/storage/browser/fileapi/sandbox_file_system_backend.cc
@@ -8,5 +8,5 @@
 #include "base/files/file_util.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/task_runner_util.h"
 #include "storage/browser/fileapi/async_file_util_adapter.h"
diff --git a/storage/browser/fileapi/sandbox_file_system_backend_delegate.cc b/storage/browser/fileapi/sandbox_file_system_backend_delegate.cc
index cf06875b..46e5ccf 100644
--- a/storage/browser/fileapi/sandbox_file_system_backend_delegate.cc
+++ b/storage/browser/fileapi/sandbox_file_system_backend_delegate.cc
@@ -9,5 +9,5 @@
 #include "base/command_line.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/task_runner_util.h"
diff --git a/storage/browser/fileapi/sandbox_origin_database.cc b/storage/browser/fileapi/sandbox_origin_database.cc
index fa0521f..f7948ac 100644
--- a/storage/browser/fileapi/sandbox_origin_database.cc
+++ b/storage/browser/fileapi/sandbox_origin_database.cc
@@ -13,5 +13,5 @@
 #include "base/location.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/storage/browser/quota/quota_manager.cc b/storage/browser/quota/quota_manager.cc
index b715f6b..35914bd 100644
--- a/storage/browser/quota/quota_manager.cc
+++ b/storage/browser/quota/quota_manager.cc
@@ -16,5 +16,5 @@
 #include "base/files/file_path.h"
 #include "base/files/file_util.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/sequenced_task_runner.h"
 #include "base/single_thread_task_runner.h"
diff --git a/storage/browser/quota/quota_temporary_storage_evictor.cc b/storage/browser/quota/quota_temporary_storage_evictor.cc
index cb4c504..6e6318f 100644
--- a/storage/browser/quota/quota_temporary_storage_evictor.cc
+++ b/storage/browser/quota/quota_temporary_storage_evictor.cc
@@ -8,5 +8,5 @@
 
 #include "base/bind.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "storage/browser/quota/quota_manager.h"
 #include "url/gurl.h"
diff --git a/third_party/android_data_chart/BUILD.gn b/third_party/android_data_chart/BUILD.gn
index e01c600..0fe3adb 100644
--- a/third_party/android_data_chart/BUILD.gn
+++ b/third_party/android_data_chart/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 assert(is_android)
diff --git a/third_party/android_protobuf/BUILD.gn b/third_party/android_protobuf/BUILD.gn
index 7863b07..9f4aff0 100644
--- a/third_party/android_protobuf/BUILD.gn
+++ b/third_party/android_protobuf/BUILD.gn
@@ -119,5 +119,5 @@ if (current_toolchain == host_toolchain) {
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 
   # GYP: //third_party/android_protobuf/android_protobuf.gyp:protobuf_nano_javalib
diff --git a/third_party/android_swipe_refresh/BUILD.gn b/third_party/android_swipe_refresh/BUILD.gn
index 079f6fa..2fcb35f 100644
--- a/third_party/android_swipe_refresh/BUILD.gn
+++ b/third_party/android_swipe_refresh/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 assert(is_android)
diff --git a/third_party/BUILD.gn b/third_party/BUILD.gn
index 261cb1f..ae3af0f 100644
--- a/third_party/BUILD.gn
+++ b/third_party/BUILD.gn
@@ -4,5 +4,5 @@
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
diff --git a/third_party/cacheinvalidation/cacheinvalidation.gyp b/third_party/cacheinvalidation/cacheinvalidation.gyp
index 703033c..39da36c 100644
--- a/third_party/cacheinvalidation/cacheinvalidation.gyp
+++ b/third_party/cacheinvalidation/cacheinvalidation.gyp
@@ -31,5 +31,5 @@
         '<(proto_in_dir)/client_gateway.proto',
         '<(proto_in_dir)/client_protocol.proto',
-        '<(proto_in_dir)/client_test_internal.proto',
+#        '<(proto_in_dir)/client_test_internal.proto',
         '<(proto_in_dir)/types.proto',
       ],
@@ -150,6 +150,6 @@
     # TODO(ghc): Write native tests and include them here.
     {
-      # GN: //third_party/cacheinvalidation:cacheinvalidation_unittests (secondary)
-      'target_name': 'cacheinvalidation_unittests',
+#      # GN: //third_party/cacheinvalidation:cacheinvalidation_unittests (secondary)
+#      'target_name': 'cacheinvalidation_unittests',
       'type': 'executable',
       'sources': [
@@ -167,5 +167,5 @@
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:run_all_unittests',
+#        '../../base/base.gyp:run_all_unittests',
         '../../testing/gmock.gyp:gmock',
         '../../testing/gtest.gyp:gtest',
@@ -180,8 +180,8 @@
         {
           # TODO(GN)
-          'target_name': 'cacheinvalidation_unittests_run',
+#          'target_name': 'cacheinvalidation_unittests_run',
           'type': 'none',
           'dependencies': [
-            'cacheinvalidation_unittests',
+#            'cacheinvalidation_unittests',
           ],
           'includes': [
@@ -189,5 +189,5 @@
           ],
           'sources': [
-            'cacheinvalidation_unittests.isolate',
+#            'cacheinvalidation_unittests.isolate',
           ],
         },
diff --git a/third_party/cacheinvalidation/overrides/google/cacheinvalidation/deps/gmock.h b/third_party/cacheinvalidation/overrides/google/cacheinvalidation/deps/gmock.h
index f85846f..d41943b 100644
--- a/third_party/cacheinvalidation/overrides/google/cacheinvalidation/deps/gmock.h
+++ b/third_party/cacheinvalidation/overrides/google/cacheinvalidation/deps/gmock.h
@@ -6,5 +6,5 @@
 #define GOOGLE_CACHEINVALIDATION_DEPS_GMOCK_H_
 
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace testing {
diff --git a/third_party/cacheinvalidation/overrides/google/cacheinvalidation/deps/googletest.h b/third_party/cacheinvalidation/overrides/google/cacheinvalidation/deps/googletest.h
index 8623e8c..55db469 100644
--- a/third_party/cacheinvalidation/overrides/google/cacheinvalidation/deps/googletest.h
+++ b/third_party/cacheinvalidation/overrides/google/cacheinvalidation/deps/googletest.h
@@ -6,5 +6,5 @@
 #define GOOGLE_CACHEINVALIDATION_DEPS_GOOGLETEST_H_
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #endif  // GOOGLE_CACHEINVALIDATION_DEPS_GOOGLETEST_H_
diff --git a/third_party/jsr-305/BUILD.gn b/third_party/jsr-305/BUILD.gn
index fdea260..ba5d22b 100644
--- a/third_party/jsr-305/BUILD.gn
+++ b/third_party/jsr-305/BUILD.gn
@@ -1,3 +1,3 @@
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 java_library("jsr_305_javalib") {
diff --git a/third_party/junit/BUILD.gn b/third_party/junit/BUILD.gn
index 1b02acf..d4b8db8 100644
--- a/third_party/junit/BUILD.gn
+++ b/third_party/junit/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP: //third_party/junit.gyp:hamcrest_jar
diff --git a/third_party/leveldatabase/env_chromium.cc b/third_party/leveldatabase/env_chromium.cc
index 42bdb42..6dbca24 100644
--- a/third_party/leveldatabase/env_chromium.cc
+++ b/third_party/leveldatabase/env_chromium.cc
@@ -13,5 +13,5 @@
 #include "base/lazy_instance.h"
 #include "base/memory/shared_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/process/process_metrics.h"
 #include "base/stl_util.h"
@@ -114,8 +114,8 @@ class Retrier {
   ~Retrier() {
     if (success_) {
-      provider_->GetRetryTimeHistogram(method_)->AddTime(last_ - start_);
+//      provider_->GetRetryTimeHistogram(method_)->AddTime(last_ - start_);
       if (last_error_ != base::File::FILE_OK) {
         DCHECK_LT(last_error_, 0);
-        provider_->GetRecoveredFromErrorHistogram(method_)->Add(-last_error_);
+//        provider_->GetRecoveredFromErrorHistogram(method_)->Add(-last_error_);
       }
     }
@@ -147,7 +147,9 @@ class ChromiumSequentialFile : public leveldb::SequentialFile {
  public:
   ChromiumSequentialFile(const std::string& fname,
-                         base::File* f,
-                         const UMALogger* uma_logger)
-      : filename_(fname), file_(f), uma_logger_(uma_logger) {}
+                         base::File* f//,
+                         //const UMALogger* uma_logger
+                         )
+      : filename_(fname), file_(f)//, uma_logger_(uma_logger) 
+  {}
   virtual ~ChromiumSequentialFile() {}
 
@@ -156,5 +158,5 @@ class ChromiumSequentialFile : public leveldb::SequentialFile {
     if (bytes_read == -1) {
       base::File::Error error = LastFileError();
-      uma_logger_->RecordErrorAt(kSequentialFileRead);
+      //uma_logger_->RecordErrorAt(kSequentialFileRead);
       return MakeIOError(filename_, base::File::ErrorToString(error),
                          kSequentialFileRead, error);
@@ -168,5 +170,5 @@ class ChromiumSequentialFile : public leveldb::SequentialFile {
     if (file_->Seek(base::File::FROM_CURRENT, n) == -1) {
       base::File::Error error = LastFileError();
-      uma_logger_->RecordErrorAt(kSequentialFileSkip);
+      //uma_logger_->RecordErrorAt(kSequentialFileSkip);
       return MakeIOError(filename_, base::File::ErrorToString(error),
                          kSequentialFileSkip, error);
@@ -179,5 +181,5 @@ class ChromiumSequentialFile : public leveldb::SequentialFile {
   std::string filename_;
   scoped_ptr<base::File> file_;
-  const UMALogger* uma_logger_;
+//  const UMALogger* uma_logger_;
 };
 
@@ -185,7 +187,9 @@ class ChromiumRandomAccessFile : public leveldb::RandomAccessFile {
  public:
   ChromiumRandomAccessFile(const std::string& fname,
-                           base::File file,
-                           const UMALogger* uma_logger)
-      : filename_(fname), file_(file.Pass()), uma_logger_(uma_logger) {}
+                           base::File file//,
+                           //const UMALogger* uma_logger
+                           )
+      : filename_(fname), file_(file.Pass())//, uma_logger_(uma_logger) 
+  {}
   virtual ~ChromiumRandomAccessFile() {}
 
@@ -201,5 +205,5 @@ class ChromiumRandomAccessFile : public leveldb::RandomAccessFile {
       s = MakeIOError(filename_, "Could not perform read",
                       kRandomAccessFileRead);
-      uma_logger_->RecordErrorAt(kRandomAccessFileRead);
+      //uma_logger_->RecordErrorAt(kRandomAccessFileRead);
     }
     return s;
@@ -209,5 +213,5 @@ class ChromiumRandomAccessFile : public leveldb::RandomAccessFile {
   std::string filename_;
   mutable base::File file_;
-  const UMALogger* uma_logger_;
+//  const UMALogger* uma_logger_;
 };
 
@@ -216,5 +220,5 @@ class ChromiumWritableFile : public leveldb::WritableFile {
   ChromiumWritableFile(const std::string& fname,
                        base::File* f,
-                       const UMALogger* uma_logger,
+//                       const UMALogger* uma_logger,
                        WriteTracker* tracker,
                        bool make_backup);
@@ -231,5 +235,5 @@ class ChromiumWritableFile : public leveldb::WritableFile {
   std::string filename_;
   scoped_ptr<base::File> file_;
-  const UMALogger* uma_logger_;
+//  const UMALogger* uma_logger_;
   WriteTracker* tracker_;
   Type file_type_;
@@ -240,10 +244,10 @@ class ChromiumWritableFile : public leveldb::WritableFile {
 ChromiumWritableFile::ChromiumWritableFile(const std::string& fname,
                                            base::File* f,
-                                           const UMALogger* uma_logger,
+//                                           const UMALogger* uma_logger,
                                            WriteTracker* tracker,
                                            bool make_backup)
     : filename_(fname),
       file_(f),
-      uma_logger_(uma_logger),
+      //uma_logger_(uma_logger),
       tracker_(tracker),
       file_type_(kOther),
@@ -288,5 +292,5 @@ Status ChromiumWritableFile::Append(const Slice& data) {
   if (bytes_written != data.size()) {
     base::File::Error error = LastFileError();
-    uma_logger_->RecordOSError(kWritableFileAppend, error);
+    //uma_logger_->RecordOSError(kWritableFileAppend, error);
     return MakeIOError(filename_, base::File::ErrorToString(error),
                        kWritableFileAppend, error);
@@ -312,11 +316,11 @@ Status ChromiumWritableFile::Sync() {
   if (!file_->Flush()) {
     base::File::Error error = LastFileError();
-    uma_logger_->RecordErrorAt(kWritableFileSync);
+//    uma_logger_->RecordErrorAt(kWritableFileSync);
     return MakeIOError(filename_, base::File::ErrorToString(error),
                        kWritableFileSync, error);
   }
 
-  if (make_backup_ && file_type_ == kTable)
-    uma_logger_->RecordBackupResult(ChromiumEnv::MakeBackup(filename_));
+//  if (make_backup_ && file_type_ == kTable)
+//    uma_logger_->RecordBackupResult(ChromiumEnv::MakeBackup(filename_));
 
   return Status::OK();
@@ -585,8 +589,8 @@ FilePath ChromiumEnv::RestoreFromBackup(const FilePath& base_name) {
   bool result = base::CopyFile(base_name.AddExtension(backup_table_extension),
                                table_name);
-  std::string uma_name(name_);
+/*  std::string uma_name(name_);
   uma_name.append(".TableRestore");
   base::BooleanHistogram::FactoryGet(
-      uma_name, base::Histogram::kUmaTargetedHistogramFlag)->AddBoolean(result);
+      uma_name, base::Histogram::kUmaTargetedHistogramFlag)->AddBoolean(result);*/
   return table_name;
 }
@@ -606,16 +610,16 @@ void ChromiumEnv::RestoreIfNecessary(const std::string& dir,
       base::STLSetDifference<std::set<FilePath>>(backups_found, tables_found);
 
-  if (backups_only.size()) {
+/*  if (backups_only.size()) {
     std::string uma_name(name_);
     uma_name.append(".MissingFiles");
     int num_missing_files =
         backups_only.size() > INT_MAX ? INT_MAX : backups_only.size();
-    base::Histogram::FactoryGet(uma_name,
-                                1 /*min*/,
-                                100 /*max*/,
-                                8 /*num_buckets*/,
-                                base::Histogram::kUmaTargetedHistogramFlag)
+    base::Histogram::FactoryGet(uma_name,*/
+//                                1 /*min*/,
+//                                100 /*max*/,
+//                                8 /*num_buckets*/,
+/*                                base::Histogram::kUmaTargetedHistogramFlag)
         ->Add(num_missing_files);
-  }
+  }*/
   FilePath dir_path = FilePath::FromUTF8Unsafe(dir);
   for (const FilePath& backup : backups_only) {
@@ -631,5 +635,5 @@ Status ChromiumEnv::GetChildren(const std::string& dir,
       GetDirectoryEntries(FilePath::FromUTF8Unsafe(dir), &entries);
   if (error != base::File::FILE_OK) {
-    RecordOSError(kGetChildren, error);
+//    RecordOSError(kGetChildren, error);
     return MakeIOError(dir, "Could not open/read directory", kGetChildren,
                        error);
@@ -652,5 +656,5 @@ Status ChromiumEnv::DeleteFile(const std::string& fname) {
   if (!base::DeleteFile(fname_filepath, false)) {
     result = MakeIOError(fname, "Could not delete file.", kDeleteFile);
-    RecordErrorAt(kDeleteFile);
+//    RecordErrorAt(kDeleteFile);
   }
   if (make_backup_ && fname_filepath.MatchesExtension(table_extension)) {
@@ -671,5 +675,5 @@ Status ChromiumEnv::CreateDir(const std::string& name) {
   } while (retrier.ShouldKeepTrying(error));
   result = MakeIOError(name, "Could not create directory.", kCreateDir, error);
-  RecordOSError(kCreateDir, error);
+//  RecordOSError(kCreateDir, error);
   return result;
 }
@@ -680,5 +684,5 @@ Status ChromiumEnv::DeleteDir(const std::string& name) {
   if (!base::DeleteFile(FilePath::FromUTF8Unsafe(name), false)) {
     result = MakeIOError(name, "Could not delete directory.", kDeleteDir);
-    RecordErrorAt(kDeleteDir);
+//    RecordErrorAt(kDeleteDir);
   }
   return result;
@@ -691,5 +695,5 @@ Status ChromiumEnv::GetFileSize(const std::string& fname, uint64_t* size) {
     *size = 0;
     s = MakeIOError(fname, "Could not determine file size.", kGetFileSize);
-    RecordErrorAt(kGetFileSize);
+//    RecordErrorAt(kGetFileSize);
   } else {
     *size = static_cast<uint64_t>(signed_size);
@@ -713,5 +717,5 @@ Status ChromiumEnv::RenameFile(const std::string& src, const std::string& dst) {
 
   DCHECK(error != base::File::FILE_OK);
-  RecordOSError(kRenameFile, error);
+//  RecordOSError(kRenameFile, error);
   char buf[100];
   snprintf(buf,
@@ -749,10 +753,10 @@ Status ChromiumEnv::LockFile(const std::string& fname, FileLock** lock) {
         parent = parent.DirName();
       } while (parent != last_parent);
-      RecordLockFileAncestors(num_missing_ancestors);
+//      RecordLockFileAncestors(num_missing_ancestors);
     }
 
     result = MakeIOError(fname, FileErrorString(error_code), kLockFile,
                          error_code);
-    RecordOSError(kLockFile, error_code);
+//    RecordOSError(kLockFile, error_code);
     return result;
   }
@@ -773,5 +777,5 @@ Status ChromiumEnv::LockFile(const std::string& fname, FileLock** lock) {
     result = MakeIOError(fname, FileErrorString(error_code), kLockFile,
                          error_code);
-    RecordOSError(kLockFile, error_code);
+//    RecordOSError(kLockFile, error_code);
     return result;
   }
@@ -792,5 +796,5 @@ Status ChromiumEnv::UnlockFile(FileLock* lock) {
     result =
         MakeIOError(my_lock->name_, "Could not unlock lock file.", kUnlockFile);
-    RecordOSError(kUnlockFile, error_code);
+//    RecordOSError(kUnlockFile, error_code);
   }
   bool removed = locks_.Remove(my_lock->name_);
@@ -806,5 +810,5 @@ Status ChromiumEnv::GetTestDirectory(std::string* path) {
                                       &test_directory_)) {
       mu_.Release();
-      RecordErrorAt(kGetTestDirectory);
+//      RecordErrorAt(kGetTestDirectory);
       return MakeIOError(
           "Could not create temp directory.", "", kGetTestDirectory);
@@ -823,5 +827,5 @@ Status ChromiumEnv::NewLogger(const std::string& fname,
   if (!f->IsValid()) {
     *result = NULL;
-    RecordOSError(kNewLogger, f->error_details());
+//    RecordOSError(kNewLogger, f->error_details());
     return MakeIOError(fname, "Unable to create log file", kNewLogger,
                        f->error_details());
@@ -839,13 +843,13 @@ Status ChromiumEnv::NewSequentialFile(const std::string& fname,
   if (!f->IsValid()) {
     *result = NULL;
-    RecordOSError(kNewSequentialFile, f->error_details());
+//    RecordOSError(kNewSequentialFile, f->error_details());
     return MakeIOError(fname, "Unable to create sequential file",
                        kNewSequentialFile, f->error_details());
   } else {
-    *result = new ChromiumSequentialFile(fname, f.release(), this);
+    *result = new ChromiumSequentialFile(fname, f.release());//, this);
     return Status::OK();
   }
 }
-
+/*
 void ChromiumEnv::RecordOpenFilesLimit(const std::string& type) {
 #if defined(OS_POSIX)
@@ -856,5 +860,5 @@ void ChromiumEnv::RecordOpenFilesLimit(const std::string& type) {
 #error "Need to determine limit to open files for this OS"
 #endif
-}
+}*/
 
 Status ChromiumEnv::NewRandomAccessFile(const std::string& fname,
@@ -863,15 +867,15 @@ Status ChromiumEnv::NewRandomAccessFile(const std::string& fname,
   base::File file(FilePath::FromUTF8Unsafe(fname), flags);
   if (file.IsValid()) {
-    *result = new ChromiumRandomAccessFile(fname, file.Pass(), this);
-    RecordOpenFilesLimit("Success");
+    *result = new ChromiumRandomAccessFile(fname, file.Pass());//, this);
+//    RecordOpenFilesLimit("Success");
     return Status::OK();
   }
   base::File::Error error_code = file.error_details();
-  if (error_code == base::File::FILE_ERROR_TOO_MANY_OPENED)
+/*  if (error_code == base::File::FILE_ERROR_TOO_MANY_OPENED)
     RecordOpenFilesLimit("TooManyOpened");
   else
-    RecordOpenFilesLimit("OtherError");
+    RecordOpenFilesLimit("OtherError");*/
   *result = NULL;
-  RecordOSError(kNewRandomAccessFile, error_code);
+//  RecordOSError(kNewRandomAccessFile, error_code);
   return MakeIOError(fname, FileErrorString(error_code), kNewRandomAccessFile,
                      error_code);
@@ -885,10 +889,10 @@ Status ChromiumEnv::NewWritableFile(const std::string& fname,
       path, base::File::FLAG_CREATE_ALWAYS | base::File::FLAG_WRITE));
   if (!f->IsValid()) {
-    RecordErrorAt(kNewWritableFile);
+//    RecordErrorAt(kNewWritableFile);
     return MakeIOError(fname, "Unable to create writable file",
                        kNewWritableFile, f->error_details());
   } else {
     *result =
-        new ChromiumWritableFile(fname, f.release(), this, this, make_backup_);
+        new ChromiumWritableFile(fname, f.release(), this, make_backup_);
     return Status::OK();
   }
@@ -910,10 +914,10 @@ Status ChromiumEnv::NewAppendableFile(const std::string& fname,
       path, base::File::FLAG_OPEN_ALWAYS | base::File::FLAG_APPEND));
   if (!f->IsValid()) {
-    RecordErrorAt(kNewAppendableFile);
+//    RecordErrorAt(kNewAppendableFile);
     return MakeIOError(fname, "Unable to create appendable file",
                        kNewAppendableFile, f->error_details());
   }
   *result =
-      new ChromiumWritableFile(fname, f.release(), this, this, make_backup_);
+      new ChromiumWritableFile(fname, f.release(), this, make_backup_);
   return Status::OK();
 }
@@ -927,5 +931,5 @@ void ChromiumEnv::SleepForMicroseconds(int micros) {
   base::PlatformThread::Sleep(base::TimeDelta::FromMicroseconds(micros));
 }
-
+/*
 void ChromiumEnv::RecordErrorAt(MethodID method) const {
   GetMethodIOErrorHistogram()->Add(method);
@@ -1013,5 +1017,5 @@ base::HistogramBase* ChromiumEnv::GetRecoveredFromErrorHistogram(
       kNumEntries + 1, base::Histogram::kUmaTargetedHistogramFlag);
 }
-
+*/
 class Thread : public base::PlatformThread::Delegate {
  public:
diff --git a/third_party/leveldatabase/env_chromium.h b/third_party/leveldatabase/env_chromium.h
index 6fb7180..be26f6c 100644
--- a/third_party/leveldatabase/env_chromium.h
+++ b/third_party/leveldatabase/env_chromium.h
@@ -13,5 +13,5 @@
 #include "base/files/file.h"
 #include "base/files/file_path.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "leveldb/env.h"
 #include "port/port_chromium.h"
@@ -22,5 +22,5 @@ namespace leveldb_env {
 // These entries map to values in tools/metrics/histograms/histograms.xml. New
 // values should be appended at the end.
-enum MethodID {
+enum MethodID {//XXX: needed for MakeIOError which in turn is used to return from normal functions(unrelated to histograms/metrics)
   kSequentialFileRead,
   kSequentialFileSkip,
@@ -72,5 +72,5 @@ std::string GetCorruptionMessage(const leveldb::Status& status);
 bool IndicatesDiskFull(const leveldb::Status& status);
 
-class UMALogger {
+/*class UMALogger {
  public:
   virtual void RecordErrorAt(MethodID method) const = 0;
@@ -79,11 +79,11 @@ class UMALogger {
   virtual void RecordBackupResult(bool success) const = 0;
 };
-
+*/
 class RetrierProvider {
  public:
   virtual int MaxRetryTimeMillis() const = 0;
-  virtual base::HistogramBase* GetRetryTimeHistogram(MethodID method) const = 0;
+/*  virtual base::HistogramBase* GetRetryTimeHistogram(MethodID method) const = 0;
   virtual base::HistogramBase* GetRecoveredFromErrorHistogram(
-      MethodID method) const = 0;
+      MethodID method) const = 0;*/
 };
 
@@ -96,5 +96,5 @@ class WriteTracker {
 
 class ChromiumEnv : public leveldb::Env,
-                    public UMALogger,
+//                    public UMALogger,
                     public RetrierProvider,
                     public WriteTracker {
@@ -147,5 +147,5 @@ class ChromiumEnv : public leveldb::Env,
   virtual void DidCreateNewFile(const std::string& fname);
   virtual bool DoesDirNeedSync(const std::string& fname);
-  virtual void RecordErrorAt(MethodID method) const;
+/*  virtual void RecordErrorAt(MethodID method) const;
   virtual void RecordOSError(MethodID method,
                              base::File::Error error) const;
@@ -153,5 +153,5 @@ class ChromiumEnv : public leveldb::Env,
   base::HistogramBase* GetMaxFDHistogram(const std::string& type) const;
   base::HistogramBase* GetOSErrorHistogram(MethodID method, int limit) const;
-
+*/
   // File locks may not be exclusive within a process (e.g. on POSIX). Track
   // locks held by the ChromiumEnv to prevent access within the process.
@@ -181,18 +181,18 @@ class ChromiumEnv : public leveldb::Env,
   }
 
-  virtual void RecordBackupResult(bool result) const;
+//  virtual void RecordBackupResult(bool result) const;
   void RestoreIfNecessary(const std::string& dir,
                           std::vector<std::string>* children);
   base::FilePath RestoreFromBackup(const base::FilePath& base_name);
-  void RecordLockFileAncestors(int num_missing_ancestors) const;
+/*  void RecordLockFileAncestors(int num_missing_ancestors) const;
   base::HistogramBase* GetMethodIOErrorHistogram() const;
   base::HistogramBase* GetLockFileAncestorHistogram() const;
-
+*/
   // RetrierProvider implementation.
   virtual int MaxRetryTimeMillis() const { return kMaxRetryTimeMillis; }
-  virtual base::HistogramBase* GetRetryTimeHistogram(MethodID method) const;
+/*  virtual base::HistogramBase* GetRetryTimeHistogram(MethodID method) const;
   virtual base::HistogramBase* GetRecoveredFromErrorHistogram(
       MethodID method) const;
-
+*/
   base::FilePath test_directory_;
 
diff --git a/third_party/leveldatabase/leveldatabase.gyp b/third_party/leveldatabase/leveldatabase.gyp
index bae8ae5..faa5ac9 100644
--- a/third_party/leveldatabase/leveldatabase.gyp
+++ b/third_party/leveldatabase/leveldatabase.gyp
@@ -10,12 +10,12 @@
     ['OS=="android"', {
       'targets': [{
-        'target_name': 'env_chromium_unittests_apk',
+#        'target_name': 'env_chromium_unittests_apk',
         'type': 'none',
         'dependencies': [
           '<(DEPTH)/base/base.gyp:base_java',
-          'env_chromium_unittests',
+#          'env_chromium_unittests',
         ],
         'variables': {
-          'test_suite_name': 'env_chromium_unittests',
+#          'test_suite_name': 'env_chromium_unittests',
         },
         'includes': [ '../../build/apk_test.gypi' ],
@@ -176,13 +176,13 @@
     },
     {
-      'target_name': 'env_chromium_unittests',
+#      'target_name': 'env_chromium_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         'leveldatabase',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../testing/gtest.gyp:gtest',
       ],
       'sources': [
-        'env_chromium_unittest.cc',
+#        'env_chromium_unittest.cc',
       ],
       'conditions': [
@@ -190,5 +190,5 @@
           'type': 'shared_library',
           'dependencies': [
-            '../../testing/android/native_test.gyp:native_test_native_code',
+#            '../../testing/android/native_test.gyp:native_test_native_code',
             '../../tools/android/forwarder2/forwarder.gyp:forwarder2',
           ],
diff --git a/third_party/libaddressinput/BUILD.gn b/third_party/libaddressinput/BUILD.gn
index 1307c71..80ed544 100644
--- a/third_party/libaddressinput/BUILD.gn
+++ b/third_party/libaddressinput/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//tools/grit/grit_rule.gni")
 
@@ -98,6 +98,7 @@ grit("strings") {
 config("libaddressinput_config") {
   defines = [
+  #TODO: see if this can be removed: apparently the first one is needed but it's using deprecated stuff from /base/basictypes.h
     "I18N_ADDRESSINPUT_USE_BASICTYPES_OVERRIDE=1",
-    "I18N_ADDRESS_VALIDATION_DATA_URL=\"https://i18napis.appspot.com/ssl-aggregate-address/\"",
+#    "I18N_ADDRESS_VALIDATION_DATA_URL=\"https://i18napis.appspot.com/ssl-aggregate-address/\"",
   ]
   include_dirs = [
@@ -175,33 +176,3 @@ if (!is_android) {
   }
 
-  test("libaddressinput_unittests") {
-    sources =
-        rebase_path(gypi_values.libaddressinput_test_files, ".", "src/cpp")
-    sources += [
-      "chromium/addressinput_util_unittest.cc",
-      "chromium/chrome_address_validator_unittest.cc",
-      "chromium/chrome_metadata_source_unittest.cc",
-      "chromium/chrome_storage_impl_unittest.cc",
-      "chromium/fallback_data_store_unittest.cc",
-      "chromium/storage_test_runner.cc",
-      "chromium/string_compare_unittest.cc",
-      "chromium/trie_unittest.cc",
-    ]
-
-    configs -= [ "//build/config/compiler:chromium_code" ]
-    configs += [ "//build/config/compiler:no_chromium_code" ]
-
-    defines = [ "TEST_DATA_DIR=\"third_party/libaddressinput/src/testdata\"" ]
-
-    include_dirs = [ "src/cpp/src" ]
-
-    deps = [
-      ":libaddressinput",
-      ":strings",
-      "//base:prefs",
-      "//base/test:run_all_unittests",
-      "//net:test_support",
-      "//testing/gtest",
-    ]
-  }
 }
diff --git a/third_party/libaddressinput/chromium/chrome_rule_test.cc b/third_party/libaddressinput/chromium/chrome_rule_test.cc
index b1b6682..8063e75 100644
--- a/third_party/libaddressinput/chromium/chrome_rule_test.cc
+++ b/third_party/libaddressinput/chromium/chrome_rule_test.cc
@@ -8,5 +8,5 @@
 
 #include "base/strings/utf_string_conversions.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 TEST(RuleTest, CanonicalizeSubKeyTest) {
diff --git a/third_party/libaddressinput/libaddressinput.gyp b/third_party/libaddressinput/libaddressinput.gyp
index 3fca856..6f31bd8 100644
--- a/third_party/libaddressinput/libaddressinput.gyp
+++ b/third_party/libaddressinput/libaddressinput.gyp
@@ -5,5 +5,5 @@
   'includes': ['src/cpp/libaddressinput.gypi'],
   'variables': {
-    'libaddressinput_test_data_dir%': 'src/third_party/libaddressinput/src/testdata',
+#    'libaddressinput_test_data_dir%': 'src/third_party/libaddressinput/src/testdata',
     'libaddressinput_util_files': [
       'src/cpp/src/address_data.cc',
@@ -115,5 +115,5 @@
       'direct_dependent_settings': {
         'defines': [
-          'I18N_ADDRESS_VALIDATION_DATA_URL="https://i18napis.appspot.com/ssl-aggregate-address/"',
+#          'I18N_ADDRESS_VALIDATION_DATA_URL="https://i18napis.appspot.com/ssl-aggregate-address/"',
         ],
       },
@@ -132,19 +132,19 @@
     },
     {
-      'target_name': 'libaddressinput_unittests',
+#      'target_name': 'libaddressinput_unittests',
       'type': '<(gtest_target_type)',
       'sources': [
-        '<@(libaddressinput_test_files)',
-        'chromium/addressinput_util_unittest.cc',
-        'chromium/chrome_address_validator_unittest.cc',
-        'chromium/chrome_metadata_source_unittest.cc',
-        'chromium/chrome_storage_impl_unittest.cc',
-        'chromium/fallback_data_store_unittest.cc',
-        'chromium/storage_test_runner.cc',
-        'chromium/string_compare_unittest.cc',
-        'chromium/trie_unittest.cc',
+#        '<@(libaddressinput_test_files)',
+#        'chromium/addressinput_util_unittest.cc',
+#        'chromium/chrome_address_validator_unittest.cc',
+#        'chromium/chrome_metadata_source_unittest.cc',
+#        'chromium/chrome_storage_impl_unittest.cc',
+#        'chromium/fallback_data_store_unittest.cc',
+#        'chromium/storage_test_runner.cc',
+#        'chromium/string_compare_unittest.cc',
+#        'chromium/trie_unittest.cc',
       ],
       'defines': [
-        'TEST_DATA_DIR="<(libaddressinput_test_data_dir)"',
+#        'TEST_DATA_DIR="<(libaddressinput_test_data_dir)"',
       ],
       'include_dirs': [
@@ -154,6 +154,6 @@
       'dependencies': [
         '../../base/base.gyp:base_prefs',
-        '../../base/base.gyp:run_all_unittests',
-        '../../net/net.gyp:net_test_support',
+#        '../../base/base.gyp:run_all_unittests',
+#        '../../net/net.gyp:net_test_support',
         '../../testing/gtest.gyp:gtest',
         'libaddressinput',
diff --git a/cpp/libaddressinput.gyp b/cpp/libaddressinput.gyp
index 63923c9..4e642f0 100644
--- a/third_party/libaddressinput/src/cpp/libaddressinput.gyp
+++ b/third_party/libaddressinput/src/cpp/libaddressinput.gyp
@@ -45,5 +45,5 @@
       'type': 'executable',
       'sources': [
-        '<@(libaddressinput_test_files)',
+#        '<@(libaddressinput_test_files)',
       ],
       'defines': [
diff --git a/cpp/libaddressinput.gypi b/cpp/libaddressinput.gypi
index e36ee95..aa9bfa1 100644
--- a/third_party/libaddressinput/src/cpp/libaddressinput.gypi
+++ b/third_party/libaddressinput/src/cpp/libaddressinput.gypi
@@ -50,45 +50,4 @@
       'src/validation_task.cc',
     ],
-    'libaddressinput_test_files': [
-      'test/address_data_test.cc',
-      'test/address_field_test.cc',
-      'test/address_field_util_test.cc',
-      'test/address_formatter_test.cc',
-      'test/address_input_helper_test.cc',
-      'test/address_metadata_test.cc',
-      'test/address_normalizer_test.cc',
-      'test/address_problem_test.cc',
-      'test/address_ui_test.cc',
-      'test/address_validator_test.cc',
-      'test/fake_storage.cc',
-      'test/fake_storage_test.cc',
-      'test/format_element_test.cc',
-      'test/language_test.cc',
-      'test/localization_test.cc',
-      'test/lookup_key_test.cc',
-      'test/mock_source.cc',
-      'test/null_storage_test.cc',
-      'test/ondemand_supply_task_test.cc',
-      'test/post_box_matchers_test.cc',
-      'test/preload_supplier_test.cc',
-      'test/region_data_builder_test.cc',
-      'test/region_data_constants_test.cc',
-      'test/region_data_test.cc',
-      'test/retriever_test.cc',
-      'test/rule_retriever_test.cc',
-      'test/rule_test.cc',
-      'test/supplier_test.cc',
-      'test/testdata_source.cc',
-      'test/testdata_source_test.cc',
-      'test/util/json_test.cc',
-      'test/util/md5_unittest.cc',
-      'test/util/scoped_ptr_unittest.cc',
-      'test/util/string_compare_test.cc',
-      'test/util/string_split_unittest.cc',
-      'test/util/string_util_test.cc',
-      'test/validating_storage_test.cc',
-      'test/validating_util_test.cc',
-      'test/validation_task_test.cc',
-    ],
   },
 }
diff --git a/third_party/liblouis/liblouis_nacl.gyp b/third_party/liblouis/liblouis_nacl.gyp
index 7c9e4e5..71709b5 100644
--- a/third_party/liblouis/liblouis_nacl.gyp
+++ b/third_party/liblouis/liblouis_nacl.gyp
@@ -5,5 +5,5 @@
 {
   'variables': {
-    'braille_test_data_dir': '<(PRODUCT_DIR)/chromevox_test_data/braille',
+#    'braille_test_data_dir': '<(PRODUCT_DIR)/chromevox_test_data/braille',
     'braille_chromevox_dir': '<(PRODUCT_DIR)/resources/chromeos/chromevox/braille',
     'table_files': [
@@ -75,13 +75,13 @@
             'nacl_untrusted_build': 1,
             'nexe_target': 'liblouis_nacl',
-            'out_newlib64': '<(braille_test_data_dir)/>(nexe_target)_x86_64.nexe',
-            'out_newlib32': '<(braille_test_data_dir)/>(nexe_target)_x86_32.nexe',
-            'out_newlib_arm': '<(braille_test_data_dir)/>(nexe_target)_arm.nexe',
-            'out_newlib_mips': '<(braille_test_data_dir)/>(nexe_target)_mips32.nexe',
+#            'out_newlib64': '<(braille_test_data_dir)/>(nexe_target)_x86_64.nexe',
+#            'out_newlib32': '<(braille_test_data_dir)/>(nexe_target)_x86_32.nexe',
+#            'out_newlib_arm': '<(braille_test_data_dir)/>(nexe_target)_arm.nexe',
+#            'out_newlib_mips': '<(braille_test_data_dir)/>(nexe_target)_mips32.nexe',
             'build_newlib': 1,
             'extra_args': [
               '--strip-debug',
             ],
-            'nmf': '<(braille_test_data_dir)/>(nexe_target).nmf',
+#            'nmf': '<(braille_test_data_dir)/>(nexe_target).nmf',
             'target_conditions': [
               ['enable_x86_64==1', {
@@ -161,5 +161,5 @@
         },
         {
-          'target_name': 'liblouis_test_data',
+#          'target_name': 'liblouis_test_data',
           'type': 'none',
           'variables': {
@@ -171,5 +171,5 @@
           'copies': [
             {
-              'destination': '<(braille_test_data_dir)',
+#              'destination': '<(braille_test_data_dir)',
               'files': [
                 'tables.json',
@@ -179,5 +179,5 @@
             },
             {
-              'destination': '<(braille_test_data_dir)/tables',
+#              'destination': '<(braille_test_data_dir)/tables',
               'files': [
                 '<@(table_files)',
diff --git a/BUILD.gn b/BUILD.gn
index bb55816..cd2af1c 100644
--- a/third_party/libvpx/BUILD.gn
+++ b/third_party/libvpx/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/arm.gni")
-import("//build/config/android/config.gni")
+#import("//build/config/android/config.gni")
 import("//third_party/libvpx/libvpx_srcs.gni")
 import("//third_party/yasm/yasm_assemble.gni")
diff --git a/libyuv_test.gyp b/libyuv_test.gyp
index 4965b56..8591633 100644
--- a/third_party/libyuv/libyuv_test.gyp
+++ b/third_party/libyuv/libyuv_test.gyp
@@ -14,5 +14,5 @@
   'targets': [
     {
-      'target_name': 'libyuv_unittest',
+#      'target_name': 'libyuv_unittest',
       'type': 'executable',
       'dependencies': [
diff --git a/third_party/mockito/BUILD.gn b/third_party/mockito/BUILD.gn
index 2f03b7c..f8ea8c8 100644
--- a/third_party/mockito/BUILD.gn
+++ b/third_party/mockito/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP: //third_party/mockito.gyp:cglib_and_asm_jar
diff --git a/third_party/mojo/mojo_edk.gyp b/third_party/mojo/mojo_edk.gyp
index 20aa38a..22b00b2 100644
--- a/third_party/mojo/mojo_edk.gyp
+++ b/third_party/mojo/mojo_edk.gyp
@@ -64,6 +64,6 @@
     },
     {
-      # GN version: //mojo/edk/test:test_support_impl
-      'target_name': 'mojo_test_support_impl',
+#      # GN version: //mojo/edk/test:test_support_impl
+#      'target_name': 'mojo_test_support_impl',
       'type': 'static_library',
       'dependencies': [
@@ -71,21 +71,21 @@
       ],
       'sources': [
-        'src/mojo/edk/test/test_support_impl.cc',
-        'src/mojo/edk/test/test_support_impl.h',
+#        'src/mojo/edk/test/test_support_impl.cc',
+#        'src/mojo/edk/test/test_support_impl.h',
       ],
     },
     {
-      # GN version: //mojo/edk/test:test_support
-      'target_name': 'mojo_common_test_support',
+#      # GN version: //mojo/edk/test:test_support
+#      'target_name': 'mojo_common_test_support',
       'type': 'static_library',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../testing/gtest.gyp:gtest',
         'mojo_system_impl',
       ],
       'sources': [
-        'src/mojo/edk/test/multiprocess_test_helper.cc',
-        'src/mojo/edk/test/multiprocess_test_helper.h',
+#        'src/mojo/edk/test/multiprocess_test_helper.cc',
+#        'src/mojo/edk/test/multiprocess_test_helper.h',
         'src/mojo/edk/test/scoped_ipc_support.cc',
         'src/mojo/edk/test/scoped_ipc_support.h',
@@ -97,5 +97,5 @@
         ['OS=="ios"', {
           'sources!': [
-            'src/mojo/edk/test/multiprocess_test_helper.cc',
+#            'src/mojo/edk/test/multiprocess_test_helper.cc',
           ],
         }],
@@ -103,31 +103,31 @@
     },
     {
-      # GN version: //mojo/edk/test:run_all_unittests
-      'target_name': 'mojo_run_all_unittests',
+#      # GN version: //mojo/edk/test:run_all_unittests
+#      'target_name': 'mojo_run_all_unittests',
       'type': 'static_library',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../testing/gtest.gyp:gtest',
         'mojo_system_impl',
-        'mojo_public.gyp:mojo_test_support',
-        'mojo_test_support_impl',
+#        'mojo_public.gyp:mojo_test_support',
+#        'mojo_test_support_impl',
       ],
       'sources': [
-        'src/mojo/edk/test/run_all_unittests.cc',
+#        'src/mojo/edk/test/run_all_unittests.cc',
       ],
     },
     {
-      # GN version: //mojo/edk/test:run_all_perftests
-      'target_name': 'mojo_run_all_perftests',
+#      # GN version: //mojo/edk/test:run_all_perftests
+#      'target_name': 'mojo_run_all_perftests',
       'type': 'static_library',
       'dependencies': [
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         'mojo_edk.gyp:mojo_system_impl',
-        'mojo_public.gyp:mojo_test_support',
-        'mojo_test_support_impl',
+#        'mojo_public.gyp:mojo_test_support',
+#        'mojo_test_support_impl',
       ],
       'sources': [
-        'src/mojo/edk/test/run_all_perftests.cc',
+#        'src/mojo/edk/test/run_all_perftests.cc',
       ],
     },
diff --git a/third_party/mojo/mojo_public.gyp b/third_party/mojo/mojo_public.gyp
index 683791d..34e6403 100644
--- a/third_party/mojo/mojo_public.gyp
+++ b/third_party/mojo/mojo_public.gyp
@@ -23,6 +23,6 @@
       'dependencies': [
         'mojo_js_bindings',
-        'mojo_public_test_interfaces',
-        'mojo_public_test_utils',
+#        'mojo_public_test_interfaces',
+#        'mojo_public_test_utils',
         'mojo_system',
         'mojo_utility',
@@ -264,6 +264,6 @@
     },
     {
-      # GN version: //mojo/public/c/test_support
-      'target_name': 'mojo_test_support',
+#      # GN version: //mojo/public/c/test_support
+#      'target_name': 'mojo_test_support',
       'defines': [
         'MOJO_TEST_SUPPORT_IMPLEMENTATION',
@@ -278,9 +278,9 @@
       },
       'sources': [
-        'src/mojo/public/c/test_support/test_support.h',
-        'src/mojo/public/c/test_support/test_support_export.h',
+#        'src/mojo/public/c/test_support/test_support.h',
+#        'src/mojo/public/c/test_support/test_support_export.h',
         # TODO(vtl): Convert this to thunks http://crbug.com/386799
-        'src/mojo/public/tests/test_support_private.cc',
-        'src/mojo/public/tests/test_support_private.h',
+#        'src/mojo/public/tests/test_support_private.cc',
+#        'src/mojo/public/tests/test_support_private.h',
       ],
       'conditions': [
@@ -299,21 +299,21 @@
     },
     {
-      # GN version: //mojo/public/cpp/test_support:test_utils
-      'target_name': 'mojo_public_test_utils',
+#      # GN version: //mojo/public/cpp/test_support:test_utils
+#      'target_name': 'mojo_public_test_utils',
       'type': 'static_library',
       'dependencies': [
         '../../base/base.gyp:base',
         '../../testing/gtest.gyp:gtest',
-        'mojo_test_support',
+#        'mojo_test_support',
       ],
       'sources': [
-        'src/mojo/public/cpp/test_support/lib/test_support.cc',
-        'src/mojo/public/cpp/test_support/lib/test_utils.cc',
-        'src/mojo/public/cpp/test_support/test_utils.h',
+#        'src/mojo/public/cpp/test_support/lib/test_support.cc',
+#        'src/mojo/public/cpp/test_support/lib/test_utils.cc',
+#        'src/mojo/public/cpp/test_support/test_utils.h',
       ],
     },
     {
-      # GN version: //mojo/public/cpp/bindings/tests:mojo_public_bindings_test_utils
-      'target_name': 'mojo_public_bindings_test_utils',
+#      # GN version: //mojo/public/cpp/bindings/tests:mojo_public_bindings_test_utils
+#      'target_name': 'mojo_public_bindings_test_utils',
       'type': 'static_library',
       'dependencies': [
@@ -321,10 +321,10 @@
       ],
       'sources': [
-        'src/mojo/public/cpp/bindings/tests/validation_test_input_parser.cc',
-        'src/mojo/public/cpp/bindings/tests/validation_test_input_parser.h',
+#        'src/mojo/public/cpp/bindings/tests/validation_test_input_parser.cc',
+#        'src/mojo/public/cpp/bindings/tests/validation_test_input_parser.h',
       ],
     },
     {
-      'target_name': 'mojo_public_test_interfaces_mojom',
+#      'target_name': 'mojo_public_test_interfaces_mojom',
       'type': 'none',
       'variables': {
@@ -339,7 +339,7 @@
           'src/mojo/public/interfaces/bindings/tests/sample_interfaces.mojom',
           'src/mojo/public/interfaces/bindings/tests/sample_service.mojom',
-          'src/mojo/public/interfaces/bindings/tests/serialization_test_structs.mojom',
+#          'src/mojo/public/interfaces/bindings/tests/serialization_test_structs.mojom',
           'src/mojo/public/interfaces/bindings/tests/test_structs.mojom',
-          'src/mojo/public/interfaces/bindings/tests/validation_test_interfaces.mojom',
+#          'src/mojo/public/interfaces/bindings/tests/validation_test_interfaces.mojom',
         ],
       },
@@ -347,6 +347,6 @@
     },
     {
-      # GN version: //mojo/public/interfaces/bindings/tests:test_interfaces
-      'target_name': 'mojo_public_test_interfaces',
+#      # GN version: //mojo/public/interfaces/bindings/tests:test_interfaces
+#      'target_name': 'mojo_public_test_interfaces',
       'type': 'static_library',
       'export_dependent_settings': [
@@ -354,5 +354,5 @@
       ],
       'dependencies': [
-        'mojo_public_test_interfaces_mojom',
+#        'mojo_public_test_interfaces_mojom',
         'mojo_cpp_bindings',
       ],
diff --git a/third_party/mojo/mojo_variables.gypi b/third_party/mojo/mojo_variables.gypi
index 0e082f3..457e609 100644
--- a/third_party/mojo/mojo_variables.gypi
+++ b/third_party/mojo/mojo_variables.gypi
@@ -42,10 +42,10 @@
       }],
     ],
-    'mojo_public_system_unittest_sources': [
-      '<(DEPTH)/third_party/mojo/src/mojo/public/c/system/tests/core_unittest.cc',
-      '<(DEPTH)/third_party/mojo/src/mojo/public/c/system/tests/core_unittest_pure_c.c',
-      '<(DEPTH)/third_party/mojo/src/mojo/public/c/system/tests/macros_unittest.cc',
-      '<(DEPTH)/third_party/mojo/src/mojo/public/cpp/system/tests/core_unittest.cc',
-      '<(DEPTH)/third_party/mojo/src/mojo/public/cpp/system/tests/macros_unittest.cc',
+#    'mojo_public_system_unittest_sources': [
+#      '<(DEPTH)/third_party/mojo/src/mojo/public/c/system/tests/core_unittest.cc',
+#      '<(DEPTH)/third_party/mojo/src/mojo/public/c/system/tests/core_unittest_pure_c.c',
+#      '<(DEPTH)/third_party/mojo/src/mojo/public/c/system/tests/macros_unittest.cc',
+#      '<(DEPTH)/third_party/mojo/src/mojo/public/cpp/system/tests/core_unittest.cc',
+#      '<(DEPTH)/third_party/mojo/src/mojo/public/cpp/system/tests/macros_unittest.cc',
     ],
   },
diff --git a/third_party/mojo/src/mojo/edk/embedder/BUILD.gn b/third_party/mojo/src/mojo/edk/embedder/BUILD.gn
index 9650209..682577b 100644
--- a/third_party/mojo/src/mojo/edk/embedder/BUILD.gn
+++ b/third_party/mojo/src/mojo/edk/embedder/BUILD.gn
@@ -114,24 +114,2 @@ mojo_edk_source_set("delegates") {
 }
 
-mojo_edk_source_set("embedder_unittests") {
-  testonly = true
-  mojo_edk_visibility = [ "mojo/edk/system:mojo_system_unittests" ]
-
-  sources = [
-    "embedder_unittest.cc",
-    "platform_channel_pair_posix_unittest.cc",
-    "simple_platform_shared_buffer_unittest.cc",
-  ]
-
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "//testing/gtest",
-  ]
-
-  mojo_edk_deps = [
-    "mojo/edk/test:test_support",
-    "mojo/edk/system",
-    "mojo/edk/system:test_utils",
-  ]
-}
diff --git a/third_party/mojo/src/mojo/edk/js/BUILD.gn b/third_party/mojo/src/mojo/edk/js/BUILD.gn
index ed1b81f..a7e00f4 100644
--- a/third_party/mojo/src/mojo/edk/js/BUILD.gn
+++ b/third_party/mojo/src/mojo/edk/js/BUILD.gn
@@ -11,11 +11,4 @@ import("../mojo_edk.gni")
 #     tests somehow. The .cc files are just test runner stubs, including
 #     explicit lists of .js files.
-group("tests") {
-  testonly = true
-  deps = [
-    "test:js_unittests",
-    "test:js_integration_tests",
-  ]
-}
 
 mojo_edk_source_set("js") {
@@ -50,19 +43,2 @@ mojo_edk_source_set("js") {
 }
 
-mojo_edk_source_set("js_unittests") {
-  testonly = true
-  sources = [
-    "handle_unittest.cc",
-  ]
-
-  deps = [
-    "//testing/gtest",
-  ]
-
-  mojo_edk_deps = [
-    "mojo/edk/js",
-    "mojo/edk/test:test_support",
-  ]
-
-  mojo_sdk_deps = [ "mojo/public/cpp/system" ]
-}
diff --git a/third_party/mojo/src/mojo/edk/system/BUILD.gn b/third_party/mojo/src/mojo/edk/system/BUILD.gn
index 9b093a0..eb55fcc 100644
--- a/third_party/mojo/src/mojo/edk/system/BUILD.gn
+++ b/third_party/mojo/src/mojo/edk/system/BUILD.gn
@@ -4,9 +4,9 @@
 
 import("../mojo_edk.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 if (is_android) {
-  import("//build/config/android/config.gni")
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/config.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -130,90 +130,4 @@ component("system") {
 }
 
-group("tests") {
-  testonly = true
-  deps = [
-    ":mojo_system_unittests",
-    ":mojo_message_pipe_perftests",
-  ]
-}
-
-mojo_edk_source_set("test_utils") {
-  testonly = true
-
-  sources = [
-    "test_utils.cc",
-    "test_utils.h",
-  ]
-
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "../../public/c/system",
-  ]
-}
-
-test("mojo_system_unittests") {
-  sources = [
-    "../test/multiprocess_test_helper_unittest.cc",
-    "awakable_list_unittest.cc",
-    "channel_endpoint_id_unittest.cc",
-    "channel_manager_unittest.cc",
-    "channel_unittest.cc",
-    "connection_manager_unittest.cc",
-    "core_test_base.cc",
-    "core_test_base.h",
-    "core_unittest.cc",
-    "data_pipe_impl_unittest.cc",
-    "data_pipe_unittest.cc",
-    "dispatcher_unittest.cc",
-    "local_data_pipe_impl_unittest.cc",
-    "memory_unittest.cc",
-    "message_pipe_dispatcher_unittest.cc",
-    "message_pipe_test_utils.cc",
-    "message_pipe_test_utils.h",
-    "message_pipe_unittest.cc",
-    "multiprocess_message_pipe_unittest.cc",
-    "options_validation_unittest.cc",
-    "platform_handle_dispatcher_unittest.cc",
-    "raw_channel_unittest.cc",
-    "remote_data_pipe_impl_unittest.cc",
-    "remote_message_pipe_unittest.cc",
-    "run_all_unittests.cc",
-    "shared_buffer_dispatcher_unittest.cc",
-    "simple_dispatcher_unittest.cc",
-    "unique_identifier_unittest.cc",
-    "waiter_test_utils.cc",
-    "waiter_test_utils.h",
-    "waiter_unittest.cc",
-  ]
-
-  deps = [
-    ":system",
-    ":test_utils",
-    "../embedder:embedder_unittests",
-    "../test:test_support",
-    "//base",
-    "//base/test:test_support",
-    "//testing/gtest",
-  ]
-
-  allow_circular_includes_from = [ "../embedder:embedder_unittests" ]
-}
 
-test("mojo_message_pipe_perftests") {
-  sources = [
-    "message_pipe_perftest.cc",
-    "message_pipe_test_utils.h",
-    "message_pipe_test_utils.cc",
-  ]
 
-  deps = [
-    ":system",
-    ":test_utils",
-    "../test:test_support",
-    "//base",
-    "//base/test:test_support",
-    "//base/test:test_support_perf",
-    "//testing/gtest",
-  ]
-}
diff --git a/third_party/mojo/src/mojo/edk/system/message_pipe_perftest.cc b/third_party/mojo/src/mojo/edk/system/message_pipe_perftest.cc
index 2387782..31e1cd8 100644
--- a/third_party/mojo/src/mojo/edk/system/message_pipe_perftest.cc
+++ b/third_party/mojo/src/mojo/edk/system/message_pipe_perftest.cc
@@ -27,5 +27,5 @@
 #include "mojo/edk/system/test_utils.h"
 #include "mojo/edk/test/test_utils.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace mojo {
diff --git a/third_party/mojo/src/mojo/public/BUILD.gn b/third_party/mojo/src/mojo/public/BUILD.gn
index ab80674..782587d 100644
--- a/third_party/mojo/src/mojo/public/BUILD.gn
+++ b/third_party/mojo/src/mojo/public/BUILD.gn
@@ -15,5 +15,5 @@ group("public") {
     "cpp/environment:standalone",
     "cpp/utility",
-    "interfaces/bindings/tests:test_interfaces",
+#    "interfaces/bindings/tests:test_interfaces",
     "sky",
   ]
diff --git a/third_party/mojo/src/mojo/public/cpp/application/BUILD.gn b/third_party/mojo/src/mojo/public/cpp/application/BUILD.gn
index 05708c7..fb8c3e3 100644
--- a/third_party/mojo/src/mojo/public/cpp/application/BUILD.gn
+++ b/third_party/mojo/src/mojo/public/cpp/application/BUILD.gn
@@ -52,11 +52,11 @@ mojo_sdk_source_set("test_support") {
   testonly = true
   sources = [
-    "application_test_base.h",
-    "lib/application_test_base.cc",
+#    "application_test_base.h",
+#    "lib/application_test_base.cc",
   ]
 
   deps = [
     ":application",
-    "//testing/gtest",
+#    "//testing/gtest",
   ]
 
@@ -72,9 +72,9 @@ mojo_sdk_source_set("test_support_standalone") {
   testonly = true
   sources = [
-    "lib/application_test_main.cc",
+#    "lib/application_test_main.cc",
   ]
 
   public_deps = [
-    ":test_support",
+#    ":test_support",
   ]
 
diff --git a/third_party/mojo/src/mojo/public/c/test_support/BUILD.gn b/third_party/mojo/src/mojo/public/c/test_support/BUILD.gn
index 4f7fce2..40578c7 100644
--- a/third_party/mojo/src/mojo/public/c/test_support/BUILD.gn
+++ b/third_party/mojo/src/mojo/public/c/test_support/BUILD.gn
@@ -5,5 +5,5 @@
 # GYP version: mojo/public/mojo_public.gyp:mojo_test_support
 shared_library("test_support") {
-  output_name = "mojo_test_support"
+#  output_name = "mojo_test_support"
 
   defines = [ "MOJO_TEST_SUPPORT_IMPLEMENTATION" ]
@@ -12,10 +12,10 @@ shared_library("test_support") {
 
   sources = [
-    "test_support.h",
-    "test_support_export.h",
+#    "test_support.h",
+#    "test_support_export.h",
 
     # TODO(vtl): Convert this to thunks http://crbug.com/386799
-    "../../tests/test_support_private.cc",
-    "../../tests/test_support_private.h",
+#    "../../tests/test_support_private.cc",
+#    "../../tests/test_support_private.h",
   ]
 
diff --git a/third_party/mojo/src/mojo/public/interfaces/bindings/tests/BUILD.gn b/third_party/mojo/src/mojo/public/interfaces/bindings/tests/BUILD.gn
index dabc3f6..9454951 100644
--- a/third_party/mojo/src/mojo/public/interfaces/bindings/tests/BUILD.gn
+++ b/third_party/mojo/src/mojo/public/interfaces/bindings/tests/BUILD.gn
@@ -17,8 +17,8 @@ mojom("test_interfaces") {
     "sample_interfaces.mojom",
     "sample_service.mojom",
-    "serialization_test_structs.mojom",
+#    "serialization_test_structs.mojom",
     "test_structs.mojom",
     "test_unions.mojom",
-    "validation_test_interfaces.mojom",
+#    "validation_test_interfaces.mojom",
   ]
 }
diff --git a/third_party/mojo/src/mojo/public/java/BUILD.gn b/third_party/mojo/src/mojo/public/java/BUILD.gn
index 2bcf1ed..445de0f 100644
--- a/third_party/mojo/src/mojo/public/java/BUILD.gn
+++ b/third_party/mojo/src/mojo/public/java/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 android_library("system") {
diff --git a/third_party/mojo/src/mojo/public/mojo_sdk.gni b/third_party/mojo/src/mojo/public/mojo_sdk.gni
index 8ab7c7d..ce3a1c6 100644
--- a/third_party/mojo/src/mojo/public/mojo_sdk.gni
+++ b/third_party/mojo/src/mojo/public/mojo_sdk.gni
@@ -123,6 +123,6 @@ template("mojo_sdk_source_set") {
           # the Mojo SDK should be on targets within the same file or on a
           # whitelisted set of external dependencies.
-          dep_dir = get_path_info(dep, "dir")
-          assert(dep_dir == "." || dep == "//testing/gtest")
+#          dep_dir = get_path_info(dep, "dir")
+#          assert(dep_dir == "." || dep == "//testing/gtest")
         }
         deps += [ dep ]
diff --git a/third_party/mojo/src/mojo/public/tools/bindings/mojom.gni b/third_party/mojo/src/mojo/public/tools/bindings/mojom.gni
index 00a61a8..e66305a 100644
--- a/third_party/mojo/src/mojo/public/tools/bindings/mojom.gni
+++ b/third_party/mojo/src/mojo/public/tools/bindings/mojom.gni
@@ -352,5 +352,5 @@ template("mojom") {
 
   if (is_android) {
-    import("//build/config/android/rules.gni")
+#    import("//build/config/android/rules.gni")
 
     java_target_name = target_name + "_java"
diff --git a/third_party/mojo/src/nacl_bindings/BUILD.gn b/third_party/mojo/src/nacl_bindings/BUILD.gn
index 84920ee..8b0edc0 100644
--- a/third_party/mojo/src/nacl_bindings/BUILD.gn
+++ b/third_party/mojo/src/nacl_bindings/BUILD.gn
@@ -17,7 +17,7 @@ if (!is_nacl) {
       # This target makes sure we have all the pre-processor defines needed to
       # use NaCl's headers.
-      "//native_client/build/config/nacl:nacl_base",
-      "//native_client/src/trusted/desc:nrd_xfer",
-      "//native_client/src/trusted/service_runtime:sel_main_chrome",
+#      "//native_client/build/config/nacl:nacl_base",
+#      "//native_client/src/trusted/desc:nrd_xfer",
+#      "//native_client/src/trusted/service_runtime:sel_main_chrome",
     ]
   }
@@ -35,7 +35,7 @@ if (is_nacl) {
     deps = [
       "../mojo/public/c/system",
-      "//native_client/build/config/nacl:nacl_base",
-      "//native_client/src/untrusted/irt:irt_core_lib",
-      "//native_client/src/untrusted/nacl:imc_syscalls",
+#      "//native_client/build/config/nacl:nacl_base",
+#      "//native_client/src/untrusted/irt:irt_core_lib",
+#      "//native_client/src/untrusted/nacl:imc_syscalls",
     ]
   }
diff --git a/third_party/ocmock/gtest_support.h b/third_party/ocmock/gtest_support.h
index 11f8b0e..5c1b6d39 100644
--- a/third_party/ocmock/gtest_support.h
+++ b/third_party/ocmock/gtest_support.h
@@ -6,5 +6,5 @@
 #define THIRD_PARTY_OCMOCK_GTEST_SUPPORT_H_
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 @class OCMockObject;
diff --git a/third_party/ocmock/ocmock.gyp b/third_party/ocmock/ocmock.gyp
index 04a4a88..1cf6751 100644
--- a/third_party/ocmock/ocmock.gyp
+++ b/third_party/ocmock/ocmock.gyp
@@ -21,6 +21,6 @@
           'sources': [
             # Helper for using with gtest.
-            'gtest_support.h',
-            'gtest_support.mm',
+#            'gtest_support.h',
+#            'gtest_support.mm',
 
             # Some extra features to make using OCMock easier.
diff --git a/third_party/opus/BUILD.gn b/third_party/opus/BUILD.gn
index 57196e5..98d3b3e 100644
--- a/third_party/opus/BUILD.gn
+++ b/third_party/opus/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/arm.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 # If fixed point implementation shall be used (otherwise float).
@@ -21,20 +21,4 @@ config("opus_config") {
 }
 
-config("opus_test_config") {
-  include_dirs = [
-    "src/celt",
-    "src/silk",
-  ]
-
-  if (is_win) {
-    defines = [ "inline=__inline" ]
-  }
-  if (is_android) {
-    libs = [ "log" ]
-  }
-  if (is_clang) {
-    cflags = [ "-Wno-absolute-value" ]
-  }
-}
 
 if (use_opus_rtcd) {
@@ -157,105 +141,3 @@ source_set("opus") {
 }
 
-executable("opus_compare") {
-  sources = [
-    "src/src/opus_compare.c",
-  ]
-
-  configs -= [ "//build/config/compiler:chromium_code" ]
-  configs += [
-    "//build/config/compiler:no_chromium_code",
-    ":opus_test_config",
-  ]
-
-  deps = [
-    ":opus",
-  ]
-}
-
-executable("opus_demo") {
-  sources = [
-    "src/src/opus_demo.c",
-  ]
-
-  configs -= [ "//build/config/compiler:chromium_code" ]
-  configs += [
-    "//build/config/compiler:no_chromium_code",
-    ":opus_test_config",
-  ]
-
-  deps = [
-    ":opus",
-  ]
-}
-
-test("test_opus_api") {
-  sources = [
-    "src/tests/test_opus_api.c",
-  ]
-
-  configs -= [ "//build/config/compiler:chromium_code" ]
-  configs += [
-    "//build/config/compiler:no_chromium_code",
-    ":opus_test_config",
-  ]
-
-  deps = [
-    ":opus",
-  ]
-}
-
-test("test_opus_encode") {
-  sources = [
-    "src/tests/test_opus_encode.c",
-  ]
-
-  configs -= [ "//build/config/compiler:chromium_code" ]
-  configs += [
-    "//build/config/compiler:no_chromium_code",
-    ":opus_test_config",
-  ]
-
-  deps = [
-    ":opus",
-  ]
-}
-
-test("test_opus_decode") {
-  sources = [
-    "src/tests/test_opus_decode.c",
-  ]
-
-  configs -= [ "//build/config/compiler:chromium_code" ]
-  configs += [
-    "//build/config/compiler:no_chromium_code",
-    ":opus_test_config",
-  ]
-
-  # test_opus_decode passes a null pointer to opus_decode() for an argument
-  # marked as requiring a non-null value by the nonnull function attribute,
-  # and expects opus_decode() to fail. Disable the -Wnonnull option to avoid
-  # a compilation error if -Werror is specified.
-  if (is_posix) {
-    cflags = [ "-Wno-nonnull" ]
-  }
-
-  deps = [
-    ":opus",
-  ]
-}
-
-test("test_opus_padding") {
-  sources = [
-    "src/tests/test_opus_padding.c",
-  ]
 
-  configs -= [ "//build/config/compiler:chromium_code" ]
-  configs += [
-    "//build/config/compiler:no_chromium_code",
-    ":opus_test_config",
-  ]
-
-  deps = [
-    ":opus",
-  ]
-}
diff --git a/third_party/robolectric/BUILD.gn b/third_party/robolectric/BUILD.gn
index 3271e12..d60e8b0 100644
--- a/third_party/robolectric/BUILD.gn
+++ b/third_party/robolectric/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
+#import("//build/config/android/rules.gni")
 
 # GYP: //third_party/robolectric/robolectric.gyp:android_all_jar
diff --git a/gyp/dm.gypi b/gyp/dm.gypi
index 71d0733..e911af7 100644
--- a/third_party/skia/gyp/dm.gypi
+++ b/third_party/skia/gyp/dm.gypi
@@ -29,5 +29,5 @@
   'includes': [
     'gmslides.gypi',
-    'pathops_unittest.gypi',
+#    'pathops_unittest.gypi',
     'tests.gypi',
   ],
diff --git a/gyp/most.gyp b/gyp/most.gyp
index c547901..79df05a 100644
--- a/third_party/skia/gyp/most.gyp
+++ b/third_party/skia/gyp/most.gyp
@@ -20,5 +20,5 @@
         'SampleApp.gyp:SampleApp',
         'tools.gyp:tools',
-        'pathops_unittest.gyp:*',
+#        'pathops_unittest.gyp:*',
         'pathops_skpclip.gyp:*',
 #       'pdfviewer.gyp:pdfviewer',
diff --git a/gyp/tools.gyp b/gyp/tools.gyp
index 3ac32bd..4326119 100644
--- a/third_party/skia/gyp/tools.gyp
+++ b/third_party/skia/gyp/tools.gyp
@@ -755,8 +755,8 @@
         'targets': [
           {
-            'target_name': 'create_test_font',
+#            'target_name': 'create_test_font',
             'type': 'executable',
             'sources': [
-              '../tools/create_test_font.cpp',
+#              '../tools/create_test_font.cpp',
             ],
             'include_dirs': [
diff --git a/third_party/snappy/snappy.gyp b/third_party/snappy/snappy.gyp
index ac0186f..77e5a89 100644
--- a/third_party/snappy/snappy.gyp
+++ b/third_party/snappy/snappy.gyp
@@ -68,10 +68,10 @@
     },
     {
-      'target_name': 'snappy_unittest',
+#      'target_name': 'snappy_unittest',
       'type': 'executable',
       'sources': [
         'src/snappy-test.cc',
         'src/snappy-test.h',
-        'src/snappy_unittest.cc',
+#        'src/snappy_unittest.cc',
       ],
       'dependencies': [
diff --git a/public/all.gyp b/public/all.gyp
index a9dd237..5dee506 100644
--- a/third_party/WebKit/public/all.gyp
+++ b/third_party/WebKit/public/all.gyp
@@ -46,16 +46,16 @@
             'type': 'none',
             'dependencies': [
-                '../Source/platform/blink_platform_tests.gyp:blink_heap_unittests',
-                '../Source/platform/blink_platform_tests.gyp:blink_platform_unittests',
-                '../Source/web/web_tests.gyp:webkit_unit_tests',
-                '../Source/wtf/wtf_tests.gyp:wtf_unittests',
+#                '../Source/platform/blink_platform_tests.gyp:blink_heap_unittests',
+#                '../Source/platform/blink_platform_tests.gyp:blink_platform_unittests',
+#                '../Source/web/web_tests.gyp:webkit_unit_tests',
+#                '../Source/wtf/wtf_tests.gyp:wtf_unittests',
             ],
             'conditions': [
                 ['OS=="android" and android_webview_build==0', {
                     'dependencies': [
-                        '../Source/platform/blink_platform_tests.gyp:blink_heap_unittests_apk',
-                        '../Source/platform/blink_platform_tests.gyp:blink_platform_unittests_apk',
-                        '../Source/web/web_tests.gyp:webkit_unit_tests_apk',
-                        '../Source/wtf/wtf_tests.gyp:wtf_unittests_apk',
+#                        '../Source/platform/blink_platform_tests.gyp:blink_heap_unittests_apk',
+#                        '../Source/platform/blink_platform_tests.gyp:blink_platform_unittests_apk',
+#                        '../Source/web/web_tests.gyp:webkit_unit_tests_apk',
+#                        '../Source/wtf/wtf_tests.gyp:wtf_unittests_apk',
                     ],
                 }],
diff --git a/public/blink.gyp b/public/blink.gyp
index a389b21..529b2c7 100644
--- a/third_party/WebKit/public/blink.gyp
+++ b/third_party/WebKit/public/blink.gyp
@@ -66,12 +66,12 @@
         },
         {
-            # GN version: //third_party/WebKit/public:test_support
-            'target_name': 'blink_test_support',
+#            # GN version: //third_party/WebKit/public:test_support
+#            'target_name': 'blink_test_support',
             'type': 'none',
             'dependencies': [
-                '../Source/web/web.gyp:blink_web_test_support',
+#                '../Source/web/web.gyp:blink_web_test_support',
             ],
             'export_dependent_settings': [
-                '../Source/web/web.gyp:blink_web_test_support',
+#                '../Source/web/web.gyp:blink_web_test_support',
             ],
         },
diff --git a/public/BUILD.gn b/public/BUILD.gn
index f191834..221f4ec 100644
--- a/third_party/WebKit/public/BUILD.gn
+++ b/third_party/WebKit/public/BUILD.gn
@@ -6,5 +6,5 @@ import("//tools/grit/grit_rule.gni")
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -31,10 +31,4 @@ group("blink_minimal") {
 }
 
-# GYP version: WebKit/public/blink.gyp:blink_test_support
-group("test_support") {
-  deps = [
-    "//third_party/WebKit/Source/web:test_support",
-  ]
-}
 
 # GYP version: WebKit/public/all.gyp:all_blink
@@ -44,5 +38,4 @@ group("all_blink") {
 
   deps = [
-    ":blink_tests",
     "//third_party/WebKit/Source/core",
     "//third_party/WebKit/Source/modules",
@@ -51,23 +44,4 @@ group("all_blink") {
 }
 
-group("blink_tests") {
-  testonly = true
-
-  deps = [
-    "//third_party/WebKit/Source/platform:heap_unittests",
-    "//third_party/WebKit/Source/platform:platform_unittests",
-    "//third_party/WebKit/Source/web:webkit_unit_tests",
-    "//third_party/WebKit/Source/wtf:wtf_unittests",
-  ]
-
-  if (is_mac) {
-    # TODO(GYP): Re-enable this as soon as we can link Blink binaries on mac.
-    deps -= [
-      "//third_party/WebKit/Source/platform:heap_unittests",
-      "//third_party/WebKit/Source/platform:platform_unittests",
-      "//third_party/WebKit/Source/web:webkit_unit_tests",
-    ]
-  }
-}
 
 config("blink_headers_config") {
diff --git a/Source/bindings/bindings.gni b/Source/bindings/bindings.gni
index 3bc58a2..2018e32 100644
--- a/third_party/WebKit/Source/bindings/bindings.gni
+++ b/third_party/WebKit/Source/bindings/bindings.gni
@@ -47,5 +47,5 @@ blink_output_dir = "$root_gen_dir/blink"
 bindings_output_dir = "$root_gen_dir/blink/bindings"
 
-bindings_unittest_files = get_path_info(
-    rebase_path(_core_v8_gypi.bindings_core_v8_unittest_files, ".", bindings_core_v8_dir),
-    "abspath")
+#bindings_unittest_files = get_path_info(
+#    rebase_path(_core_v8_gypi.bindings_core_v8_unittest_files, ".", bindings_core_v8_dir),
+#    "abspath")
diff --git a/Source/bindings/bindings.gypi b/Source/bindings/bindings.gypi
index 40ca5b4..7b43b2c 100644
--- a/third_party/WebKit/Source/bindings/bindings.gypi
+++ b/third_party/WebKit/Source/bindings/bindings.gypi
@@ -11,7 +11,7 @@
         'bindings_dir': '.',
         'bindings_output_dir': '<(SHARED_INTERMEDIATE_DIR)/blink/bindings/',
-        'bindings_unittest_files': [
-            '<@(bindings_core_v8_unittest_files)',
-            '<@(bindings_modules_v8_unittest_files)',
+#        'bindings_unittest_files': [
+#            '<@(bindings_core_v8_unittest_files)',
+#            '<@(bindings_modules_v8_unittest_files)',
         ],
     },
diff --git a/Source/bindings/core/idl.gni b/Source/bindings/core/idl.gni
index 1ecd71a..fd8af6e 100644
--- a/third_party/WebKit/Source/bindings/core/idl.gni
+++ b/third_party/WebKit/Source/bindings/core/idl.gni
@@ -15,29 +15,18 @@ core_definition_idl_files =
   core_idl_with_modules_dependency_files
 
-core_testing_definition_idl_files =
-  core_testing_dictionary_idl_files +
-  webcore_testing_idl_files +
-  webcore_testing_idl_with_modules_dependency_files
-
 # IDL file lists; see: http://www.chromium.org/developers/web-idl-interfaces
-# Interface IDL files: generate individual bindings (includes testing)
+# Interface IDL files: generate individual bindings
 core_interface_idl_files =
-  core_definition_idl_files +
-  core_testing_definition_idl_files +
-  generated_webcore_testing_idl_files
+  core_definition_idl_files
 
 # Static IDL files
 core_static_interface_idl_files =
   core_definition_idl_files +
-  core_testing_definition_idl_files +
   core_typedefs_enums_only_idl_files
 
 core_static_dependency_idl_files =
-  core_dependency_idl_files +
-  webcore_testing_dependency_idl_files
+  core_dependency_idl_files
 
 # Generated IDL files
-core_generated_interface_idl_files =
-  generated_webcore_testing_idl_files  # interfaces
 core_generated_dependency_idl_files =
   core_global_constructors_generated_idl_files  # partial interfaces
@@ -58,5 +47,4 @@ core_static_idl_files =
   core_static_dependency_idl_files
 core_generated_idl_files =
-  core_generated_interface_idl_files +
   core_generated_dependency_idl_files
 
diff --git a/Source/bindings/core/v8/BUILD.gn b/Source/bindings/core/v8/BUILD.gn
index 33d6a48..43eb047 100644
--- a/third_party/WebKit/Source/bindings/core/v8/BUILD.gn
+++ b/third_party/WebKit/Source/bindings/core/v8/BUILD.gn
@@ -37,8 +37,7 @@ idl_compiler("bindings_core_v8_generated_individual") {
 # bindings_core_impl_generated in Source/bindings/core/v8/generated.gyp
 idl_impl("bindings_core_impl_generated") {
-  sources = core_dictionary_idl_files + core_testing_dictionary_idl_files
+  sources = core_dictionary_idl_files
   outputs = bindings_core_generated_union_type_files +
-    generated_core_dictionary_files +
-    generated_core_testing_dictionary_files
+    generated_core_dictionary_files
   output_dir = bindings_core_v8_output_dir
   target_component = "core"
diff --git a/Source/bindings/core/v8/v8.gypi b/Source/bindings/core/v8/v8.gypi
index 70b9bfc..4dd20af 100644
--- a/third_party/WebKit/Source/bindings/core/v8/v8.gypi
+++ b/third_party/WebKit/Source/bindings/core/v8/v8.gypi
@@ -188,14 +188,4 @@
             'npruntime_priv.h',
         ],
-        'bindings_core_v8_unittest_files': [
-            'ScriptPromisePropertyTest.cpp',
-            'ScriptPromiseResolverTest.cpp',
-            'ScriptPromiseTest.cpp',
-            'ScriptStreamerTest.cpp',
-            'SerializedScriptValueTest.cpp',
-            'ToV8Test.cpp',
-            'V8BindingTest.cpp',
-            'V8ScriptRunnerTest.cpp',
-        ],
     },
 }
diff --git a/Source/bindings/modules/idl.gni b/Source/bindings/modules/idl.gni
index 7a1f1ff..9f3a668 100644
--- a/third_party/WebKit/Source/bindings/modules/idl.gni
+++ b/third_party/WebKit/Source/bindings/modules/idl.gni
@@ -17,6 +17,5 @@ modules_static_interface_idl_files =
   modules_definition_idl_files
 modules_static_dependency_idl_files =
-  modules_dependency_idl_files +
-  modules_testing_dependency_idl_files
+  modules_dependency_idl_files
 
 # Static IDL files / Generated IDL files
diff --git a/Source/bindings/modules/v8/BUILD.gn b/Source/bindings/modules/v8/BUILD.gn
index fe98a12..5a9297b 100644
--- a/third_party/WebKit/Source/bindings/modules/v8/BUILD.gn
+++ b/third_party/WebKit/Source/bindings/modules/v8/BUILD.gn
@@ -55,5 +55,5 @@ idl_compiler("bindings_modules_v8_generated_partial_individual") {
   # Note in GYP this is modules_interface_idl_files but this variable is just
   # defined to modules_definition_idl_files.
-  sources = core_idl_with_modules_dependency_files + webcore_testing_idl_with_modules_dependency_files
+  sources = core_idl_with_modules_dependency_files
   output_dir = bindings_modules_v8_output_dir
   output_name_suffix = "Partial"
diff --git a/Source/bindings/modules/v8/v8.gni b/Source/bindings/modules/v8/v8.gni
index 67395c3..01f5493 100644
--- a/third_party/WebKit/Source/bindings/modules/v8/v8.gni
+++ b/third_party/WebKit/Source/bindings/modules/v8/v8.gni
@@ -22,7 +22,2 @@ bindings_modules_v8_files = get_path_info(
   "abspath") + bindings_modules_v8_custom_files
 
-bindings_modules_v8_unittest_files = get_path_info(
-  [
-    "IDBBindingUtilitiesTest.cpp",
-  ],
-  "abspath")
diff --git a/Source/bindings/modules/v8/v8.gypi b/Source/bindings/modules/v8/v8.gypi
index e6ed7f8..347bf89 100644
--- a/third_party/WebKit/Source/bindings/modules/v8/v8.gypi
+++ b/third_party/WebKit/Source/bindings/modules/v8/v8.gypi
@@ -24,5 +24,5 @@
         ],
         # Note: list duplicated in v8.gni.
-        'bindings_modules_v8_unittest_files': [
+#        'bindings_modules_v8_unittest_files': [
             'IDBBindingUtilitiesTest.cpp',
         ],
diff --git a/Source/config.gni b/Source/config.gni
index 42fe371..fc24f39 100644
--- a/third_party/WebKit/Source/config.gni
+++ b/third_party/WebKit/Source/config.gni
@@ -7,5 +7,5 @@ import("//third_party/WebKit/public/features.gni")
 
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 } else {
   # TODO(brettw) remove this once && early-out is checked in.
diff --git a/Source/core/BUILD.gn b/Source/core/BUILD.gn
index 76e5e83..5ade313 100644
--- a/third_party/WebKit/Source/core/BUILD.gn
+++ b/third_party/WebKit/Source/core/BUILD.gn
@@ -296,52 +296,4 @@ source_set("rendering") {
 }
 
-# GYP version: WebKit/Source/core/core.gyp:webcore_testing
-source_set("testing") {
-  configs += [
-    "//third_party/WebKit/Source:inside_blink",
-    "//third_party/WebKit/Source:config",
-  ]
-
-  deps = [
-    ":core",
-    ":core_generated",
-  ]
-
-  sources = generated_core_testing_dictionary_files + webcore_testing_files
-  sources += [
-    "$bindings_core_v8_output_dir/V8DictionaryTest.cpp",
-    "$bindings_core_v8_output_dir/V8DictionaryTest.h",
-    "$bindings_core_v8_output_dir/V8GarbageCollectedScriptWrappable.cpp",
-    "$bindings_core_v8_output_dir/V8GarbageCollectedScriptWrappable.h",
-    "$bindings_core_v8_output_dir/V8GCObservation.cpp",
-    "$bindings_core_v8_output_dir/V8GCObservation.h",
-    "$bindings_core_v8_output_dir/V8PrivateScriptTest.cpp",
-    "$bindings_core_v8_output_dir/V8PrivateScriptTest.h",
-    "$bindings_core_v8_output_dir/V8TypeConversions.cpp",
-    "$bindings_core_v8_output_dir/V8TypeConversions.h",
-    "$bindings_core_v8_output_dir/V8UnionTypesTest.cpp",
-    "$bindings_core_v8_output_dir/V8UnionTypesTest.h",
-    "$bindings_core_v8_output_dir/V8Internals.cpp",
-    "$bindings_core_v8_output_dir/V8Internals.h",
-    "$bindings_core_v8_output_dir/V8InternalSettings.cpp",
-    "$bindings_core_v8_output_dir/V8InternalSettings.h",
-    "$bindings_core_v8_output_dir/V8InternalSettingsGenerated.cpp",
-    "$bindings_core_v8_output_dir/V8InternalSettingsGenerated.h",
-    "$bindings_core_v8_output_dir/V8InternalRuntimeFlags.cpp",
-    "$bindings_core_v8_output_dir/V8InternalRuntimeFlags.h",
-    "$bindings_core_v8_output_dir/V8LayerRect.cpp",
-    "$bindings_core_v8_output_dir/V8LayerRect.h",
-    "$bindings_core_v8_output_dir/V8LayerRectList.cpp",
-    "$bindings_core_v8_output_dir/V8LayerRectList.h",
-    "$bindings_core_v8_output_dir/V8RefCountedScriptWrappable.cpp",
-    "$bindings_core_v8_output_dir/V8RefCountedScriptWrappable.h",
-    "$bindings_core_v8_output_dir/V8InternalDictionary.cpp",
-    "$bindings_core_v8_output_dir/V8InternalDictionary.h",
-    "$bindings_core_v8_output_dir/V8InternalDictionaryDerived.cpp",
-    "$bindings_core_v8_output_dir/V8InternalDictionaryDerived.h",
-    "$bindings_core_v8_output_dir/V8PluginPlaceholderOptions.cpp",
-    "$bindings_core_v8_output_dir/V8PluginPlaceholderOptions.h",
-  ]
-}
 
 # GYP version: //third_party/WebKit/Source/core/core.gyp:webcore_generated
@@ -571,5 +523,4 @@ group("make_core_generated") {
   deps = [
     ":make_core_generated_private_script",
-    ":make_core_generated_private_script_for_testing",
     ":make_core_generated_html_entity_table",
     ":make_core_generated_css_property_names",
@@ -947,23 +898,4 @@ action("make_core_generated_private_script") {
 }
 
-action("make_core_generated_private_script_for_testing") {
-  visibility = []  # Allow re-assignment of list.
-  visibility = [ ":make_core_generated" ]
-  script = "../build/scripts/make_private_script_source.py"
-
-  inputs = [
-      "testing/PartialPrivateScriptTest.js",
-      "testing/PrivateScriptTest.js",
-  ]
-  outputs = [
-    "$blink_core_output_dir/PrivateScriptSourcesForTesting.h",
-  ]
-
-  args = [ "--for-testing" ]
-  args += rebase_path(outputs, root_build_dir)
-  args += rebase_path(inputs, root_build_dir)
-
-  deps = make_core_generated_deps
-}
 
 # "HTMLEntityTable" in make_core_generated from GYP.
diff --git a/Source/core/core.gni b/Source/core/core.gni
index d4aab00..12d3ec8 100644
--- a/third_party/WebKit/Source/core/core.gni
+++ b/third_party/WebKit/Source/core/core.gni
@@ -23,6 +23,4 @@ core_idl_with_modules_dependency_files =
 core_dictionary_idl_files =
   get_path_info(_gypi.core_dictionary_idl_files, "abspath")
-core_testing_dictionary_idl_files =
-  get_path_info(_gypi.core_testing_dictionary_idl_files, "abspath")
 
 # 'partial interface', target (right side of) 'implements', and
@@ -45,16 +43,4 @@ webcore_dom_files = get_path_info(_gypi.webcore_dom_files, "abspath")
 webcore_html_files = get_path_info(_gypi.webcore_html_files, "abspath")
 webcore_svg_files = get_path_info(_gypi.webcore_svg_files, "abspath")
-webcore_testing_idl_files =
-  get_path_info(_gypi.webcore_testing_idl_files, "abspath")
-webcore_testing_idl_with_modules_dependency_files =
-  get_path_info(_gypi.webcore_testing_idl_with_modules_dependency_files, "abspath")
-webcore_testing_dependency_idl_files =
-  get_path_info(_gypi.webcore_testing_dependency_idl_files, "abspath")
 generated_core_dictionary_files =
   get_path_info(_gypi.generated_core_dictionary_files, "abspath")
-generated_core_testing_dictionary_files =
-  get_path_info(_gypi.generated_core_testing_dictionary_files, "abspath")
-generated_webcore_testing_idl_files =
-  get_path_info(_gypi.generated_webcore_testing_idl_files, "abspath")
-webcore_testing_files = get_path_info(_gypi.webcore_testing_files, "abspath")
-core_unittest_files = get_path_info(_gypi.core_unittest_files, "abspath")
diff --git a/Source/core/core.gypi b/Source/core/core.gypi
index 52fbf8c..1d9a3b3 100644
--- a/third_party/WebKit/Source/core/core.gypi
+++ b/third_party/WebKit/Source/core/core.gypi
@@ -3604,212 +3604,4 @@
             '<(blink_core_output_dir)/page/EventSourceInit.h',
         ],
-        'core_testing_dictionary_idl_files': [
-            'testing/InternalDictionary.idl',
-            'testing/InternalDictionaryDerived.idl',
-            'testing/PluginPlaceholderOptions.idl',
-        ],
-        'webcore_testing_idl_files': [
-            'testing/DictionaryTest.idl',
-            'testing/GCObservation.idl',
-            'testing/GarbageCollectedScriptWrappable.idl',
-            'testing/InternalSettings.idl',
-            'testing/LayerRect.idl',
-            'testing/LayerRectList.idl',
-            'testing/PrivateScriptTest.idl',
-            'testing/RefCountedScriptWrappable.idl',
-            'testing/TypeConversions.idl',
-            'testing/UnionTypesTest.idl',
-        ],
-        # testing IDL files that have partial interfaces in modules.
-        'webcore_testing_idl_with_modules_dependency_files': [
-            'testing/Internals.idl',
-        ],
-        'webcore_testing_dependency_idl_files': [
-            'testing/PartialPrivateScriptTest.idl',
-        ],
-        'generated_webcore_testing_idl_files': [
-            '<(blink_core_output_dir)/InternalRuntimeFlags.idl',
-            '<(blink_core_output_dir)/InternalSettingsGenerated.idl',
-        ],
-        'generated_core_testing_dictionary_files': [
-            '<(blink_core_output_dir)/testing/InternalDictionary.cpp',
-            '<(blink_core_output_dir)/testing/InternalDictionary.h',
-            '<(blink_core_output_dir)/testing/InternalDictionaryDerived.cpp',
-            '<(blink_core_output_dir)/testing/InternalDictionaryDerived.h',
-            '<(blink_core_output_dir)/testing/PluginPlaceholderOptions.cpp',
-            '<(blink_core_output_dir)/testing/PluginPlaceholderOptions.h',
-        ],
-        'webcore_testing_files': [
-            '<(blink_core_output_dir)/InternalSettingsGenerated.cpp',
-            '<(blink_core_output_dir)/InternalSettingsGenerated.h',
-            'testing/DictionaryTest.cpp',
-            'testing/DictionaryTest.h',
-            'testing/DummyPageHolder.cpp',
-            'testing/DummyPageHolder.h',
-            'testing/GCObservation.cpp',
-            'testing/GCObservation.h',
-            'testing/GarbageCollectedScriptWrappable.cpp',
-            'testing/GarbageCollectedScriptWrappable.h',
-            'testing/InternalSettings.cpp',
-            'testing/InternalSettings.h',
-            'testing/Internals.cpp',
-            'testing/Internals.h',
-            'testing/LayerRect.h',
-            'testing/LayerRectList.cpp',
-            'testing/LayerRectList.h',
-            'testing/NullExecutionContext.cpp',
-            'testing/NullExecutionContext.h',
-            'testing/PrivateScriptTest.cpp',
-            'testing/PrivateScriptTest.h',
-            'testing/RefCountedScriptWrappable.cpp',
-            'testing/RefCountedScriptWrappable.h',
-            'testing/TypeConversions.h',
-            'testing/URLTestHelpers.cpp',
-            'testing/URLTestHelpers.h',
-            'testing/UnionTypesTest.cpp',
-            'testing/UnionTypesTest.h',
-            'testing/v8/WebCoreTestSupport.cpp',
-            'testing/v8/WebCoreTestSupport.h',
-        ],
-        'core_unittest_files': [
-            'animation/AnimationClockTest.cpp',
-            'animation/AnimationInputHelpersTest.cpp',
-            'animation/AnimationNodeTest.cpp',
-            'animation/AnimationPlayerTest.cpp',
-            'animation/AnimationStackTest.cpp',
-            'animation/AnimationTest.cpp',
-            'animation/AnimationTestHelper.cpp',
-            'animation/AnimationTestHelper.h',
-            'animation/AnimationTimelineTest.cpp',
-            'animation/AnimationTranslationUtilTest.cpp',
-            'animation/CompositorAnimationsTest.cpp',
-            'animation/CompositorAnimationsTestHelper.h',
-            'animation/ColorStyleInterpolationTest.cpp',
-            'animation/DeferredLegacyStyleInterpolationTest.cpp',
-            'animation/DoubleStyleInterpolationTest.cpp',
-            'animation/EffectInputTest.cpp',
-            'animation/InterpolableValueTest.cpp',
-            'animation/InterpolationEffectTest.cpp',
-            'animation/KeyframeEffectModelTest.cpp',
-            'animation/LengthBoxStyleInterpolationTest.cpp',
-            'animation/LengthPairStyleInterpolationTest.cpp',
-            'animation/LengthStyleInterpolationTest.cpp',
-            'animation/ListStyleInterpolationTest.cpp',
-            'animation/SVGStrokeDasharrayStyleInterpolationTest.cpp',
-            'animation/ShadowStyleInterpolationTest.cpp',
-            'animation/TimingCalculationsTest.cpp',
-            'animation/TimingInputTest.cpp',
-            'animation/VisibilityStyleInterpolationTest.cpp',
-            'animation/animatable/AnimatableColorTest.cpp',
-            'animation/animatable/AnimatableDoubleAndBoolTest.cpp',
-            'animation/animatable/AnimatableDoubleTest.cpp',
-            'animation/animatable/AnimatableLengthTest.cpp',
-            'animation/animatable/AnimatableNeutralTest.cpp',
-            'animation/animatable/AnimatableStrokeDasharrayListTest.cpp',
-            'animation/animatable/AnimatableUnknownTest.cpp',
-            'animation/animatable/AnimatableValueTestHelper.cpp',
-            'animation/animatable/AnimatableValueTestHelper.h',
-            'animation/animatable/AnimatableValueTestHelperTest.cpp',
-            'clipboard/DataObjectTest.cpp',
-            'css/AffectedByFocusTest.cpp',
-            'css/CSSCalculationValueTest.cpp',
-            'css/CSSFontFaceTest.cpp',
-            'css/CSSSelectorTest.cpp',
-            'css/CSSTestHelper.cpp',
-            'css/CSSTestHelper.h',
-            'css/CSSValueTestHelper.h',
-            'css/DragUpdateTest.cpp',
-            'css/MediaQueryEvaluatorTest.cpp',
-            'css/MediaQueryListTest.cpp',
-            'css/MediaQueryMatcherTest.cpp',
-            'css/MediaQuerySetTest.cpp',
-            'css/MediaValuesTest.cpp',
-            'css/RuleSetTest.cpp',
-            'css/invalidation/DescendantInvalidationSetTest.cpp',
-            'css/parser/BisonCSSParserTest.cpp',
-            'css/parser/CSSParserValuesTest.cpp',
-            'css/parser/CSSPropertyParserTest.cpp',
-            'css/parser/CSSSelectorParserTest.cpp',
-            'css/parser/CSSTokenizerTest.cpp',
-            'css/parser/MediaConditionTest.cpp',
-            'css/parser/SizesAttributeParserTest.cpp',
-            'css/parser/SizesCalcParserTest.cpp',
-            'css/resolver/FontBuilderTest.cpp',
-            'dom/ActiveDOMObjectTest.cpp',
-            'dom/CrossThreadTaskTest.cpp',
-            'dom/DOMImplementationTest.cpp',
-            'dom/DocumentMarkerControllerTest.cpp',
-            'dom/DocumentTest.cpp',
-            'dom/MainThreadTaskRunnerTest.cpp',
-            'dom/RangeTest.cpp',
-            'dom/ScriptRunnerTest.cpp',
-            'dom/TreeScopeTest.cpp',
-            'editing/CompositionUnderlineRangeFilterTest.cpp',
-            'editing/FrameSelectionTest.cpp',
-            'editing/InputMethodControllerTest.cpp',
-            'editing/iterators/TextIteratorTest.cpp',
-            'editing/SurroundingTextTest.cpp',
-            'editing/VisibleSelectionTest.cpp',
-            'fetch/CachingCorrectnessTest.cpp',
-            'fetch/ImageResourceTest.cpp',
-            'fetch/MemoryCacheTest.cpp',
-            'fetch/RawResourceTest.cpp',
-            'fetch/ResourceFetcherTest.cpp',
-            'fetch/ResourceLoaderOptionsTest.cpp',
-            'fetch/ResourceTest.cpp',
-            'fileapi/FileListTest.cpp',
-            'fileapi/FileTest.cpp',
-            'frame/ImageBitmapTest.cpp',
-            'frame/SubresourceIntegrityTest.cpp',
-            'frame/csp/CSPSourceListTest.cpp',
-            'frame/csp/CSPSourceTest.cpp',
-            'frame/csp/ContentSecurityPolicyTest.cpp',
-            'html/HTMLDimensionTest.cpp',
-            'html/HTMLFormControlElementTest.cpp',
-            'html/HTMLInputElementTest.cpp',
-            'html/HTMLLinkElementSizesAttributeTest.cpp',
-            'html/HTMLSelectElementTest.cpp',
-            'html/HTMLTextFormControlElementTest.cpp',
-            'html/LinkRelAttributeTest.cpp',
-            'html/TimeRangesTest.cpp',
-            'html/canvas/CanvasRenderingContext2DTest.cpp',
-            'html/forms/FileInputTypeTest.cpp',
-            'html/parser/HTMLParserThreadTest.cpp',
-            'html/parser/HTMLSrcsetParserTest.cpp',
-            'html/track/vtt/BufferedLineReaderTest.cpp',
-            'html/track/vtt/VTTScannerTest.cpp',
-            'layout/LayoutBlockTest.cpp',
-            'layout/LayoutInlineTest.cpp',
-            'layout/LayoutMultiColumnFlowThreadTest.cpp',
-            'layout/LayoutObjectTest.cpp',
-            'layout/LayoutPartTest.cpp',
-            'layout/LayoutTableCellTest.cpp',
-            'layout/LayoutTableRowTest.cpp',
-            'layout/LayoutTestHelper.cpp',
-            'layout/LayoutTestHelper.h',
-            'layout/LayoutThemeTest.cpp',
-            'layout/MultiColumnFragmentainerGroupTest.cpp',
-            'layout/OverflowModelTest.cpp',
-            'layout/shapes/BoxShapeTest.cpp',
-            'layout/style/OutlineValueTest.cpp',
-            'layout/style/LayoutStyleTest.cpp',
-            'layout/style/SVGLayoutStyleTest.cpp',
-            'loader/LinkHeaderTest.cpp',
-            'loader/MixedContentCheckerTest.cpp',
-            'page/ContextMenuControllerTest.cpp',
-            'page/NetworkStateNotifierTest.cpp',
-            'page/PrintContextTest.cpp',
-            'page/scrolling/ScrollStateTest.cpp',
-            'paint/LayerClipRecorderTest.cpp',
-            'paint/LayoutObjectDrawingRecorderTest.cpp',
-            'paint/TextPainterTest.cpp',
-            'paint/ViewDisplayListTest.cpp',
-            'streams/ExclusiveStreamReaderTest.cpp',
-            'streams/ReadableStreamTest.cpp',
-            'testing/PrivateScriptTestTest.cpp',
-            'testing/UnitTestHelpers.cpp',
-            'testing/UnitTestHelpers.h',
-            'xml/parser/SharedBufferReaderTest.cpp',
-        ],
     }
 }
diff --git a/Source/modules/BUILD.gn b/Source/modules/BUILD.gn
index 3eba919..ecbcb7f 100644
--- a/third_party/WebKit/Source/modules/BUILD.gn
+++ b/third_party/WebKit/Source/modules/BUILD.gn
@@ -56,20 +56,4 @@ source_set("modules") {
 
 # GYP version: WebKit/Source/modules/modules.gyp:modules_testing
-source_set("modules_testing") {
-  sources = modules_testing_files
-  sources += [
-    "$bindings_modules_v8_output_dir/V8InternalsPartial.cpp",
-    "$bindings_modules_v8_output_dir/V8InternalsPartial.h",
-  ]
-
-  configs += [
-    "//third_party/WebKit/Source:config",
-    "//third_party/WebKit/Source:inside_blink",
-  ]
-
-  deps = [
-    "//third_party/WebKit/Source/core",
-  ]
-}
 
 action("module_names") {
diff --git a/Source/modules/modules.gni b/Source/modules/modules.gni
index d6cb0e6..fda391f 100644
--- a/third_party/WebKit/Source/modules/modules.gni
+++ b/third_party/WebKit/Source/modules/modules.gni
@@ -51,8 +51,2 @@ modules_files = get_path_info(_tmp_modules_files, "abspath")
 modules_files += generated_modules_files + generated_modules_dictionary_files
 
-# 'partial interface' or target (right side of) 'implements'
-modules_testing_dependency_idl_files =
-  get_path_info(_gypi.modules_testing_dependency_idl_files, "abspath")
-
-modules_testing_files = get_path_info(_gypi.modules_testing_files, "abspath")
-modules_unittest_files = get_path_info(_gypi.modules_unittest_files, "abspath")
diff --git a/Source/modules/modules.gypi b/Source/modules/modules.gypi
index 316b5f9..daa096b 100644
--- a/third_party/WebKit/Source/modules/modules.gypi
+++ b/third_party/WebKit/Source/modules/modules.gypi
@@ -68,14 +68,14 @@
       'gamepad/GamepadEvent.idl',
       'gamepad/GamepadList.idl',
-      'geofencing/CircularGeofencingRegion.idl',
-      'geofencing/Geofencing.idl',
-      'geofencing/GeofencingEvent.idl',
-      'geofencing/GeofencingRegion.idl',
-      'geolocation/Coordinates.idl',
-      'geolocation/Geolocation.idl',
-      'geolocation/Geoposition.idl',
-      'geolocation/PositionCallback.idl',
-      'geolocation/PositionError.idl',
-      'geolocation/PositionErrorCallback.idl',
+#      'geofencing/CircularGeofencingRegion.idl',
+#      'geofencing/Geofencing.idl',
+#      'geofencing/GeofencingEvent.idl',
+#      'geofencing/GeofencingRegion.idl',
+#      'geolocation/Coordinates.idl',
+#      'geolocation/Geolocation.idl',
+#      'geolocation/Geoposition.idl',
+#      'geolocation/PositionCallback.idl',
+#      'geolocation/PositionError.idl',
+#      'geolocation/PositionErrorCallback.idl',
       'indexeddb/IDBCursor.idl',
       'indexeddb/IDBCursorWithValue.idl',
@@ -155,16 +155,16 @@
       'serviceworkers/ServiceWorkerRegistration.idl',
       'serviceworkers/WindowClient.idl',
-      'speech/SpeechGrammar.idl',
-      'speech/SpeechGrammarList.idl',
-      'speech/SpeechRecognition.idl',
-      'speech/SpeechRecognitionAlternative.idl',
-      'speech/SpeechRecognitionError.idl',
-      'speech/SpeechRecognitionEvent.idl',
-      'speech/SpeechRecognitionResult.idl',
-      'speech/SpeechRecognitionResultList.idl',
-      'speech/SpeechSynthesis.idl',
-      'speech/SpeechSynthesisEvent.idl',
-      'speech/SpeechSynthesisUtterance.idl',
-      'speech/SpeechSynthesisVoice.idl',
+#      'speech/SpeechGrammar.idl',
+#      'speech/SpeechGrammarList.idl',
+#      'speech/SpeechRecognition.idl',
+#      'speech/SpeechRecognitionAlternative.idl',
+#      'speech/SpeechRecognitionError.idl',
+#      'speech/SpeechRecognitionEvent.idl',
+#      'speech/SpeechRecognitionResult.idl',
+#      'speech/SpeechRecognitionResultList.idl',
+#      'speech/SpeechSynthesis.idl',
+#      'speech/SpeechSynthesisEvent.idl',
+#      'speech/SpeechSynthesisUtterance.idl',
+#      'speech/SpeechSynthesisVoice.idl',
       'storage/Storage.idl',
       'storage/StorageEvent.idl',
@@ -243,8 +243,8 @@
       'filesystem/WorkerGlobalScopeFileSystem.idl',
       'gamepad/NavigatorGamepad.idl',
-      'geofencing/ServiceWorkerGlobalScopeGeofencing.idl',
-      'geofencing/ServiceWorkerRegistrationGeofencing.idl',
-      'geofencing/WorkerNavigatorGeofencing.idl',
-      'geolocation/NavigatorGeolocation.idl',
+#      'geofencing/ServiceWorkerGlobalScopeGeofencing.idl',
+#      'geofencing/ServiceWorkerRegistrationGeofencing.idl',
+#      'geofencing/WorkerNavigatorGeofencing.idl',
+#      'geolocation/NavigatorGeolocation.idl',
       'indexeddb/WindowIndexedDatabase.idl',
       'indexeddb/WorkerGlobalScopeIndexedDatabase.idl',
@@ -271,8 +271,8 @@
       'screen_orientation/ScreenScreenOrientation.idl',
       'serviceworkers/NavigatorServiceWorker.idl',
-      'speech/WindowSpeech.idl',
-      'speech/WindowSpeechSynthesis.idl',
+#      'speech/WindowSpeech.idl',
+#      'speech/WindowSpeechSynthesis.idl',
       'storage/WindowStorage.idl',
-      'vibration/NavigatorVibration.idl',
+#      'vibration/NavigatorVibration.idl',
       'webaudio/WindowWebAudio.idl',
       'webdatabase/WindowWebDatabase.idl',
@@ -288,5 +288,5 @@
       'encryptedmedia/MediaKeyMessageEvent.idl',
       'gamepad/GamepadEvent.idl',
-      'geofencing/GeofencingEvent.idl',
+#      'geofencing/GeofencingEvent.idl',
       'indexeddb/IDBVersionChangeEvent.idl',
       'mediastream/MediaStreamEvent.idl',
@@ -302,7 +302,7 @@
       'serviceworkers/FetchEvent.idl',
       'serviceworkers/InstallEvent.idl',
-      'speech/SpeechRecognitionError.idl',
-      'speech/SpeechRecognitionEvent.idl',
-      'speech/SpeechSynthesisEvent.idl',
+#      'speech/SpeechRecognitionError.idl',
+#      'speech/SpeechRecognitionEvent.idl',
+#      'speech/SpeechSynthesisEvent.idl',
       'storage/StorageEvent.idl',
       'webaudio/AudioProcessingEvent.idl',
@@ -323,6 +323,6 @@
       'filesystem/FileSystemFlags.idl',
       'gamepad/GamepadEventInit.idl',
-      'geofencing/CircularGeofencingRegionInit.idl',
-      'geolocation/PositionOptions.idl',
+#      'geofencing/CircularGeofencingRegionInit.idl',
+#      'geolocation/PositionOptions.idl',
       'indexeddb/IDBIndexParameters.idl',
       'indexeddb/IDBObjectStoreParameters.idl',
@@ -341,6 +341,6 @@
       'serviceworkers/InstallEventInit.idl',
       'serviceworkers/RegistrationOptions.idl',
-      'speech/SpeechRecognitionErrorInit.idl',
-      'speech/SpeechRecognitionEventInit.idl',
+#      'speech/SpeechRecognitionErrorInit.idl',
+#      'speech/SpeechRecognitionEventInit.idl',
       'storage/StorageEventInit.idl',
       'webmidi/MIDIConnectionEventInit.idl',
@@ -381,8 +381,8 @@
       '<(blink_modules_output_dir)/gamepad/GamepadEventInit.cpp',
       '<(blink_modules_output_dir)/gamepad/GamepadEventInit.h',
-      '<(blink_modules_output_dir)/geofencing/CircularGeofencingRegionInit.cpp',
-      '<(blink_modules_output_dir)/geofencing/CircularGeofencingRegionInit.h',
-      '<(blink_modules_output_dir)/geolocation/PositionOptions.cpp',
-      '<(blink_modules_output_dir)/geolocation/PositionOptions.h',
+#      '<(blink_modules_output_dir)/geofencing/CircularGeofencingRegionInit.cpp',
+#      '<(blink_modules_output_dir)/geofencing/CircularGeofencingRegionInit.h',
+#      '<(blink_modules_output_dir)/geolocation/PositionOptions.cpp',
+#      '<(blink_modules_output_dir)/geolocation/PositionOptions.h',
       '<(blink_modules_output_dir)/indexeddb/IDBIndexParameters.cpp',
       '<(blink_modules_output_dir)/indexeddb/IDBIndexParameters.h',
@@ -417,8 +417,8 @@
       '<(blink_modules_output_dir)/serviceworkers/RegistrationOptions.cpp',
       '<(blink_modules_output_dir)/serviceworkers/RegistrationOptions.h',
-      '<(blink_modules_output_dir)/speech/SpeechRecognitionErrorInit.cpp',
-      '<(blink_modules_output_dir)/speech/SpeechRecognitionErrorInit.h',
-      '<(blink_modules_output_dir)/speech/SpeechRecognitionEventInit.cpp',
-      '<(blink_modules_output_dir)/speech/SpeechRecognitionEventInit.h',
+#      '<(blink_modules_output_dir)/speech/SpeechRecognitionErrorInit.cpp',
+#      '<(blink_modules_output_dir)/speech/SpeechRecognitionErrorInit.h',
+#      '<(blink_modules_output_dir)/speech/SpeechRecognitionEventInit.cpp',
+#      '<(blink_modules_output_dir)/speech/SpeechRecognitionEventInit.h',
       '<(blink_modules_output_dir)/storage/StorageEventInit.cpp',
       '<(blink_modules_output_dir)/storage/StorageEventInit.h',
@@ -701,27 +701,27 @@
       'gamepad/NavigatorGamepad.cpp',
       'gamepad/NavigatorGamepad.h',
-      'geofencing/CircularGeofencingRegion.cpp',
-      'geofencing/CircularGeofencingRegion.h',
-      'geofencing/Geofencing.cpp',
-      'geofencing/Geofencing.h',
-      'geofencing/GeofencingError.cpp',
-      'geofencing/GeofencingError.h',
-      'geofencing/GeofencingEvent.cpp',
-      'geofencing/GeofencingEvent.h',
-      'geofencing/GeofencingRegion.h',
-      'geofencing/ServiceWorkerGlobalScopeGeofencing.h',
-      'geofencing/ServiceWorkerRegistrationGeofencing.cpp',
-      'geofencing/ServiceWorkerRegistrationGeofencing.h',
-      'geofencing/WorkerNavigatorGeofencing.cpp',
-      'geofencing/WorkerNavigatorGeofencing.h',
-      'geolocation/Coordinates.cpp',
-      'geolocation/Geolocation.cpp',
-      'geolocation/GeolocationController.cpp',
-      'geolocation/GeoNotifier.cpp',
-      'geolocation/GeoNotifier.h',
-      'geolocation/GeolocationWatchers.cpp',
-      'geolocation/GeolocationWatchers.h',
-      'geolocation/NavigatorGeolocation.cpp',
-      'geolocation/NavigatorGeolocation.h',
+#      'geofencing/CircularGeofencingRegion.cpp',
+#      'geofencing/CircularGeofencingRegion.h',
+#      'geofencing/Geofencing.cpp',
+#      'geofencing/Geofencing.h',
+#      'geofencing/GeofencingError.cpp',
+#      'geofencing/GeofencingError.h',
+#      'geofencing/GeofencingEvent.cpp',
+#      'geofencing/GeofencingEvent.h',
+#      'geofencing/GeofencingRegion.h',
+#      'geofencing/ServiceWorkerGlobalScopeGeofencing.h',
+#      'geofencing/ServiceWorkerRegistrationGeofencing.cpp',
+#      'geofencing/ServiceWorkerRegistrationGeofencing.h',
+#      'geofencing/WorkerNavigatorGeofencing.cpp',
+#      'geofencing/WorkerNavigatorGeofencing.h',
+#      'geolocation/Coordinates.cpp',
+#      'geolocation/Geolocation.cpp',
+#      'geolocation/GeolocationController.cpp',
+#      'geolocation/GeoNotifier.cpp',
+#      'geolocation/GeoNotifier.h',
+#      'geolocation/GeolocationWatchers.cpp',
+#      'geolocation/GeolocationWatchers.h',
+#      'geolocation/NavigatorGeolocation.cpp',
+#      'geolocation/NavigatorGeolocation.h',
       'indexeddb/DOMWindowIndexedDatabase.cpp',
       'indexeddb/DOMWindowIndexedDatabase.h',
@@ -1000,33 +1000,33 @@
       'serviceworkers/ServiceWorkerThread.h',
       'serviceworkers/WaitUntilObserver.cpp',
-      'speech/DOMWindowSpeechSynthesis.cpp',
-      'speech/DOMWindowSpeechSynthesis.h',
-      'speech/SpeechGrammar.cpp',
-      'speech/SpeechGrammar.h',
-      'speech/SpeechGrammarList.cpp',
-      'speech/SpeechGrammarList.h',
-      'speech/SpeechRecognition.cpp',
-      'speech/SpeechRecognition.h',
-      'speech/SpeechRecognitionAlternative.cpp',
-      'speech/SpeechRecognitionAlternative.h',
-      'speech/SpeechRecognitionClient.h',
-      'speech/SpeechRecognitionController.cpp',
-      'speech/SpeechRecognitionController.h',
-      'speech/SpeechRecognitionError.cpp',
-      'speech/SpeechRecognitionError.h',
-      'speech/SpeechRecognitionEvent.cpp',
-      'speech/SpeechRecognitionEvent.h',
-      'speech/SpeechRecognitionResult.cpp',
-      'speech/SpeechRecognitionResult.h',
-      'speech/SpeechRecognitionResultList.cpp',
-      'speech/SpeechRecognitionResultList.h',
-      'speech/SpeechSynthesis.cpp',
-      'speech/SpeechSynthesis.h',
-      'speech/SpeechSynthesisEvent.cpp',
-      'speech/SpeechSynthesisEvent.h',
-      'speech/SpeechSynthesisUtterance.cpp',
-      'speech/SpeechSynthesisUtterance.h',
-      'speech/SpeechSynthesisVoice.cpp',
-      'speech/SpeechSynthesisVoice.h',
+#      'speech/DOMWindowSpeechSynthesis.cpp',
+#      'speech/DOMWindowSpeechSynthesis.h',
+#      'speech/SpeechGrammar.cpp',
+#      'speech/SpeechGrammar.h',
+#      'speech/SpeechGrammarList.cpp',
+#      'speech/SpeechGrammarList.h',
+#      'speech/SpeechRecognition.cpp',
+#      'speech/SpeechRecognition.h',
+#      'speech/SpeechRecognitionAlternative.cpp',
+#      'speech/SpeechRecognitionAlternative.h',
+#      'speech/SpeechRecognitionClient.h',
+#      'speech/SpeechRecognitionController.cpp',
+#      'speech/SpeechRecognitionController.h',
+#      'speech/SpeechRecognitionError.cpp',
+#      'speech/SpeechRecognitionError.h',
+#      'speech/SpeechRecognitionEvent.cpp',
+#      'speech/SpeechRecognitionEvent.h',
+#      'speech/SpeechRecognitionResult.cpp',
+#      'speech/SpeechRecognitionResult.h',
+#      'speech/SpeechRecognitionResultList.cpp',
+#      'speech/SpeechRecognitionResultList.h',
+#      'speech/SpeechSynthesis.cpp',
+#      'speech/SpeechSynthesis.h',
+#      'speech/SpeechSynthesisEvent.cpp',
+#      'speech/SpeechSynthesisEvent.h',
+#      'speech/SpeechSynthesisUtterance.cpp',
+#      'speech/SpeechSynthesisUtterance.h',
+#      'speech/SpeechSynthesisVoice.cpp',
+#      'speech/SpeechSynthesisVoice.h',
       'storage/DOMWindowStorage.cpp',
       'storage/DOMWindowStorage.h',
@@ -1045,6 +1045,6 @@
       'storage/StorageNamespaceController.cpp',
       'storage/StorageNamespaceController.h',
-      'vibration/NavigatorVibration.cpp',
-      'vibration/NavigatorVibration.h',
+#      'vibration/NavigatorVibration.cpp',
+#      'vibration/NavigatorVibration.h',
       'webaudio/AnalyserNode.cpp',
       'webaudio/AnalyserNode.h',
@@ -1243,45 +1243,4 @@
       'websockets/WorkerWebSocketChannel.h',
     ],
-    # 'partial interface' or target (right side of) 'implements'
-    'modules_testing_dependency_idl_files' : [
-      'geolocation/testing/InternalsGeolocation.idl',
-      'navigatorcontentutils/testing/InternalsNavigatorContentUtils.idl',
-      'serviceworkers/testing/InternalsServiceWorker.idl',
-      'speech/testing/InternalsSpeechSynthesis.idl',
-      'vibration/testing/InternalsVibration.idl',
-    ],
-    'modules_testing_files': [
-      'geolocation/testing/GeolocationClientMock.cpp',
-      'geolocation/testing/GeolocationClientMock.h',
-      'geolocation/testing/InternalsGeolocation.cpp',
-      'geolocation/testing/InternalsGeolocation.h',
-      'navigatorcontentutils/testing/InternalsNavigatorContentUtils.cpp',
-      'navigatorcontentutils/testing/InternalsNavigatorContentUtils.h',
-      'navigatorcontentutils/testing/NavigatorContentUtilsClientMock.cpp',
-      'navigatorcontentutils/testing/NavigatorContentUtilsClientMock.h',
-      'serviceworkers/testing/InternalsServiceWorker.cpp',
-      'serviceworkers/testing/InternalsServiceWorker.h',
-      'speech/testing/InternalsSpeechSynthesis.cpp',
-      'speech/testing/InternalsSpeechSynthesis.h',
-      'speech/testing/PlatformSpeechSynthesizerMock.cpp',
-      'speech/testing/PlatformSpeechSynthesizerMock.h',
-      'vibration/testing/InternalsVibration.cpp',
-      'vibration/testing/InternalsVibration.h',
-    ],
-    'modules_unittest_files': [
-      'accessibility/AXObjectTest.cpp',
-      'fetch/BodyStreamBufferTest.cpp',
-      'fetch/FetchResponseDataTest.cpp',
-      'fetch/RequestTest.cpp',
-      'fetch/ResponseTest.cpp',
-      'filesystem/DOMFileSystemBaseTest.cpp',
-      'indexeddb/IDBKeyPathTest.cpp',
-      'indexeddb/IDBRequestTest.cpp',
-      'indexeddb/IDBTransactionTest.cpp',
-      'serviceworkers/CacheTest.cpp',
-      'serviceworkers/ServiceWorkerContainerTest.cpp',
-      'websockets/DOMWebSocketTest.cpp',
-      'websockets/DocumentWebSocketChannelTest.cpp',
-    ],
   },
 }
diff --git a/Source/platform/blink_platform.gypi b/Source/platform/blink_platform.gypi
index f7952aa..43d4f60 100644
--- a/third_party/WebKit/Source/platform/blink_platform.gypi
+++ b/third_party/WebKit/Source/platform/blink_platform.gypi
@@ -805,10 +805,10 @@
       'scroll/ScrollbarThemeOverlay.h',
       'scroll/ScrollbarThemeOverlayMock.h',
-      'speech/PlatformSpeechSynthesisUtterance.cpp',
-      'speech/PlatformSpeechSynthesisUtterance.h',
-      'speech/PlatformSpeechSynthesisVoice.cpp',
-      'speech/PlatformSpeechSynthesisVoice.h',
-      'speech/PlatformSpeechSynthesizer.cpp',
-      'speech/PlatformSpeechSynthesizer.h',
+#      'speech/PlatformSpeechSynthesisUtterance.cpp',
+#      'speech/PlatformSpeechSynthesisUtterance.h',
+#      'speech/PlatformSpeechSynthesisVoice.cpp',
+#      'speech/PlatformSpeechSynthesisVoice.h',
+#      'speech/PlatformSpeechSynthesizer.cpp',
+#      'speech/PlatformSpeechSynthesizer.h',
       'text/BidiCharacterRun.cpp',
       'text/BidiCharacterRun.h',
@@ -913,85 +913,4 @@
       'win/SystemInfo.h',
     ],
-    'platform_test_files': [
-      'ClockTest.cpp',
-      'DecimalTest.cpp',
-      'DragImageTest.cpp',
-      'LayoutUnitTest.cpp',
-      'LifecycleContextTest.cpp',
-      'PODArenaTest.cpp',
-      'PODFreeListArenaTest.cpp',
-      'PODIntervalTreeTest.cpp',
-      'PODRedBlackTreeTest.cpp',
-      'PurgeableVectorTest.cpp',
-      'SharedBufferTest.cpp',
-      'TestingPlatformSupport.cpp',
-      'TestingPlatformSupport.h',
-      'TracedValueTest.cpp',
-      'animation/TimingFunctionTest.cpp',
-      'animation/UnitBezierTest.cpp',
-      'clipboard/ClipboardUtilitiesTest.cpp',
-      'fonts/FontCacheTest.cpp',
-      'fonts/FontDescriptionTest.cpp',
-      'fonts/FontTest.cpp',
-      'fonts/GlyphBufferTest.cpp',
-      'fonts/GlyphPageTreeNodeTest.cpp',
-      'fonts/android/FontCacheAndroidTest.cpp',
-      'geometry/FloatBoxTest.cpp',
-      'geometry/FloatBoxTestHelpers.cpp',
-      'geometry/FloatPointTest.cpp',
-      'geometry/FloatPolygonTest.cpp',
-      'geometry/FloatRoundedRectTest.cpp',
-      'geometry/FloatSizeTest.cpp',
-      'geometry/GeometryTestHelpers.cpp',
-      'geometry/LayoutRectOutsetsTest.cpp',
-      'geometry/RegionTest.cpp',
-      'graphics/GraphicsContextTest.cpp',
-      'graphics/RecordingImageBufferSurfaceTest.cpp',
-      'graphics/ThreadSafeDataTransportTest.cpp',
-      'graphics/filters/FilterOperationsTest.cpp',
-      'graphics/filters/ImageFilterBuilderTest.cpp',
-      'graphics/gpu/DrawingBufferTest.cpp',
-      'graphics/paint/DisplayItemTest.cpp',
-      'graphics/paint/DisplayItemTransformTreeBuilderTest.cpp',
-      'image-decoders/ImageDecoderTest.cpp',
-      'network/FormDataTest.cpp',
-      'network/HTTPParsersTest.cpp',
-      'network/ResourceRequestTest.cpp',
-      'scheduler/CancellableTaskFactoryTest.cpp',
-      'scheduler/SchedulerTest.cpp',
-      'scroll/ScrollableAreaTest.cpp',
-      'testing/ArenaTestHelpers.h',
-      'testing/TreeTestHelpers.cpp',
-      'testing/TreeTestHelpers.h',
-      'text/BidiResolverTest.cpp',
-      'text/DateTimeFormatTest.cpp',
-      'text/SegmentedStringTest.cpp',
-      'text/UnicodeUtilitiesTest.cpp',
-      'transforms/TransformOperationsTest.cpp',
-      'transforms/TransformationMatrixTest.cpp',
-      'weborigin/DatabaseIdentifierTest.cpp',
-      'weborigin/KURLTest.cpp',
-      'weborigin/OriginAccessEntryTest.cpp',
-      'weborigin/SchemeRegistryTest.cpp',
-      'weborigin/SecurityOriginTest.cpp',
-      'weborigin/SecurityPolicyTest.cpp',
-    ],
-    # NOTE: these are legacy unit tests, do not add more!
-    'platform_web_unittest_files': [
-      'graphics/BitmapImageTest.cpp',
-      'graphics/Canvas2DLayerBridgeTest.cpp',
-      'graphics/Canvas2DLayerManagerTest.cpp',
-      'graphics/DeferredImageDecoderTest.cpp',
-      'graphics/GraphicsLayerTest.cpp',
-      'graphics/ImageDecodingStoreTest.cpp',
-      'graphics/ImageFrameGeneratorTest.cpp',
-      'graphics/ImageLayerChromiumTest.cpp',
-      'graphics/test/MockImageDecoder.h',
-      'graphics/test/MockWebGraphicsContext3D.h',
-      'image-decoders/bmp/BMPImageDecoderTest.cpp',
-      'image-decoders/gif/GIFImageDecoderTest.cpp',
-      'image-decoders/jpeg/JPEGImageDecoderTest.cpp',
-      'image-decoders/webp/WEBPImageDecoderTest.cpp',
-    ],
   },
 }
diff --git a/Source/platform/BUILD.gn b/Source/platform/BUILD.gn
index 9a31b6e..c3ec80a 100644
--- a/third_party/WebKit/Source/platform/BUILD.gn
+++ b/third_party/WebKit/Source/platform/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/WebKit/Source/build/scripts/scripts.gni")
 import("//third_party/WebKit/Source/config.gni")
@@ -13,12 +13,12 @@ import("//third_party/WebKit/Source/platform/platform_generated.gni")
 visibility = [ ":*" ]
 
-if (!is_mac) {
+#if (!is_mac) {
   # TODO(GYP): can't link Blink binaries yet on mac.
-  heap_gypi = exec_script(
-      "//build/gypi_to_gn.py",
-      [ rebase_path("heap/blink_heap.gypi") ],
-      "scope",
-      [ "heap/blink_heap.gypi" ])
-}
+#  heap_gypi = exec_script(
+#      "//build/gypi_to_gn.py",
+#      [ rebase_path("heap/blink_heap.gypi") ],
+#      "scope",
+#      [ "heap/blink_heap.gypi" ])
+#}
 
 blink_platform_neon_files = [
@@ -44,5 +44,5 @@ component("blink_common") {
     "//build/config/compiler:wexit_time_destructors",
     "//third_party/WebKit/Source:config",
-    "//third_party/WebKit/Source:non_test_config",
+#    "//third_party/WebKit/Source:non_test_config",
   ]
 
@@ -180,5 +180,5 @@ component("platform") {
     "//build/config/compiler:no_size_t_to_int_warning",
     "//third_party/WebKit/Source:config",
-    "//third_party/WebKit/Source:non_test_config",
+#    "//third_party/WebKit/Source:non_test_config",
   ]
 
@@ -315,73 +315,4 @@ component("platform") {
 }
 
-if (!is_mac) {
-  # TODO(GYP): Can't link Blink binaries yet.
-  test("heap_unittests") {
-    visibility = []  # Allow re-assignment of list.
-    visibility = [ "//third_party/WebKit/*" ]
-    output_name = "blink_heap_unittests"
-
-    sources = rebase_path(heap_gypi.platform_heap_test_files, ".", "heap")
-    sources += [ "heap/RunAllTests.cpp" ]
-
-    configs += [
-      "//third_party/WebKit/Source/wtf:wtf_config",
-      "//third_party/WebKit/Source:config",
-    ]
-
-    defines = [
-      "INSIDE_BLINK",
-    ]
-
-    deps = [
-      ":platform",
-      "//base",
-      "//base/allocator",
-      "//base/test:test_support",
-      "//testing/gmock",
-      "//testing/gtest",
-      "//third_party/WebKit/Source/wtf",
-      "//third_party/WebKit/Source/wtf:test_support",
-      "//content/test:test_support",
-    ]
-  }
-
-  test("platform_unittests") {
-    visibility = []  # Allow re-assignment of list.
-    visibility = [ "//third_party/WebKit/*" ]
-    output_name = "blink_platform_unittests"
-
-    sources = platform_test_files
-
-    sources += [ "testing/RunAllTests.cpp" ]
-
-    configs += [
-      "//third_party/WebKit/Source/wtf:wtf_config",
-      "//third_party/WebKit/Source:config",
-    ]
-
-    deps = [
-      ":blink_common",
-      ":platform",
-      "//base",
-      "//base/allocator",
-      "//base/test:test_support",
-      "//skia",
-      "//testing/gmock",
-      "//testing/gtest",
-      "//third_party/WebKit/Source/wtf",
-      "//third_party/WebKit/Source/wtf:test_support",
-      "//url",
-    ]
-
-    defines = [
-      "INSIDE_BLINK",
-    ]
-
-    include_dirs = [
-      "$root_gen_dir/blink",
-    ]
-  }
-}
 
 
diff --git a/Source/platform/heap/blink_heap.gypi b/Source/platform/heap/blink_heap.gypi
index b8001f2..ba5b4d7 100644
--- a/third_party/WebKit/Source/platform/heap/blink_heap.gypi
+++ b/third_party/WebKit/Source/platform/heap/blink_heap.gypi
@@ -49,5 +49,5 @@
       'Visitor.h',
     ],
-    'platform_heap_test_files': [
+#    'platform_heap_test_files': [
       'HeapTest.cpp',
     ],
diff --git a/Source/platform/platform.gni b/Source/platform/platform.gni
index b42584b..c969861 100644
--- a/third_party/WebKit/Source/platform/platform.gni
+++ b/third_party/WebKit/Source/platform/platform.gni
@@ -13,4 +13,2 @@ _gypi = exec_script(
 
 platform_files = _gypi.platform_files
-platform_test_files = get_path_info(_gypi.platform_test_files, "abspath")
-platform_web_unittest_files = get_path_info(_gypi.platform_web_unittest_files, "abspath")
diff --git a/Source/web/BUILD.gn b/Source/web/BUILD.gn
index 0dcce3e..5cecaa9 100644
--- a/third_party/WebKit/Source/web/BUILD.gn
+++ b/third_party/WebKit/Source/web/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/WebKit/Source/bindings/bindings.gni")
 import("//third_party/WebKit/Source/config.gni")
@@ -39,5 +39,5 @@ component("web") {
     "//third_party/WebKit/Source:config",
     "//third_party/WebKit/Source:inside_blink",
-    "//third_party/WebKit/Source:non_test_config",
+#    "//third_party/WebKit/Source:non_test_config",
   ]
 
@@ -48,27 +48,4 @@ component("web") {
   }
 
-  if (is_component_build) {
-    deps += [
-      "//base/test:test_support",
-      "//testing/gmock",
-      "//testing/gtest",
-      "//third_party/WebKit/Source/core:testing",
-      "//third_party/WebKit/Source/modules:modules_testing",
-      "//third_party/WebKit/Source/wtf:test_support",
-    ]
-
-    configs -= [
-      "//third_party/WebKit/Source:non_test_config",
-    ]
-
-    sources += web_gypi.web_unittest_files
-    sources += bindings_unittest_files
-    sources += core_unittest_files
-    sources += modules_unittest_files
-    sources += platform_web_unittest_files
-
-    sources += [ "WebTestingSupport.cpp" ]
-    include_dirs += [ "$root_gen_dir/blink" ]
-  }
 
   if (is_android) {
@@ -79,62 +56,3 @@ component("web") {
 }
 
-# GYP version: WebKit/Source/web/web.gyp:blink_web_test_support
-source_set("test_support") {
-  if (!is_component_build) {
-    deps = [
-      "//skia",
-      "//third_party/WebKit/Source/core:testing",
-      "//third_party/WebKit/Source/modules:modules_testing",
-      "//third_party/WebKit/Source/wtf",
-      "//v8",
-    ]
-
-    sources = [ "WebTestingSupport.cpp" ]
-
-    configs += [
-      "//third_party/WebKit/Source:config",
-    ]
-
-    include_dirs = [
-      "$root_gen_dir/blink",
-    ]
-  }
-}
-
-# GYP version: WebKit/Source/web/web_tests.gyp:webkit_unit_tests
-if (!is_mac) {
-  # TODO(GYP): Can't link Blink binaries yet on mac.
-  test("webkit_unit_tests") {
-    deps = [
-      ":test_support",
-      ":web",
-      "//base",
-      "//base/test:test_support",
-      "//base:i18n",
-      "//content/test:test_support",
-      "//testing/gmock",
-      "//testing/gtest",
-      "//third_party/WebKit/Source/wtf:test_support",
-      "//third_party/libwebp",
-      "//third_party/zlib",
-      "//url",
-      "//v8",
-    ]
-
-    sources = [ "tests/RunAllTests.cpp" ]
-
-    configs += [ "//third_party/WebKit/Source:config" ]
 
-    if (!is_component_build) {
-      deps += [ "//third_party/WebKit/Source/core" ]
-
-      configs += [ "//third_party/WebKit/Source:inside_blink" ]
-
-      sources += web_gypi.web_unittest_files
-      sources += bindings_unittest_files
-      sources += core_unittest_files
-      sources += modules_unittest_files
-      sources += platform_web_unittest_files
-    }
-  }
-}
diff --git a/Source/web/web.gyp b/Source/web/web.gyp
index acaa5c3..5b02778 100644
--- a/third_party/WebKit/Source/web/web.gyp
+++ b/third_party/WebKit/Source/web/web.gyp
@@ -84,6 +84,6 @@
                 ['component=="shared_library"', {
                     'dependencies': [
-                        '../wtf/wtf_tests.gyp:wtf_unittest_helpers',
-                        '<(DEPTH)/base/base.gyp:test_support_base',
+#                        '../wtf/wtf_tests.gyp:wtf_unittest_helpers',
+#                        '<(DEPTH)/base/base.gyp:test_support_base',
                         '<(DEPTH)/testing/gmock.gyp:gmock',
                         '<(DEPTH)/testing/gtest.gyp:gtest',
@@ -115,10 +115,10 @@
                     'sources': [
                         # Compile Blink unittest files into blink_web.dll in component build mode
-                        '<@(bindings_unittest_files)',
-                        '<@(core_unittest_files)',
-                        '<@(modules_unittest_files)',
+#                        '<@(bindings_unittest_files)',
+#                        '<@(core_unittest_files)',
+#                        '<@(modules_unittest_files)',
                         # FIXME: the next line should not be needed. We prefer to run these unit tests outside blink_web.dll.
-                        '<@(platform_web_unittest_files)',
-                        '<@(web_unittest_files)',
+#                        '<@(platform_web_unittest_files)',
+#                        '<@(web_unittest_files)',
                         'WebTestingSupport.cpp',
                     ],
@@ -225,6 +225,6 @@
         },
         {
-            # GN version: //third_party/WebKit/Source/web:test_support
-            'target_name': 'blink_web_test_support',
+#            # GN version: //third_party/WebKit/Source/web:test_support
+#            'target_name': 'blink_web_test_support',
             'conditions': [
                 ['component=="shared_library"', {
diff --git a/Source/web/web.gypi b/Source/web/web.gypi
index d77760c..d23a04c 100644
--- a/third_party/WebKit/Source/web/web.gypi
+++ b/third_party/WebKit/Source/web/web.gypi
@@ -267,93 +267,4 @@
       'win/WebFontRendering.cpp',
     ],
-    'web_unittest_files': [
-      'ExternalPopupMenuTest.cpp',
-      'PageOverlayTest.cpp',
-      'PluginPlaceholderImplTest.cpp',
-      'PopupContainerTest.cpp',
-      'PopupMenuTest.cpp',
-      'WebDragDataTest.cpp',
-      'WebNodeTest.cpp',
-      # FIXME: Move the tests from web/tests/ to appropriate places.
-      # crbug.com/353585
-      'tests/ActivityLoggerTest.cpp',
-      'tests/AssociatedURLLoaderTest.cpp',
-      'tests/ChromeClientImplTest.cpp',
-      'tests/CustomEventTest.cpp',
-      'tests/FakeWebPlugin.cpp',
-      'tests/FakeWebPlugin.h',
-      'tests/FrameLoaderClientImplTest.cpp',
-      'tests/FrameTestHelpers.cpp',
-      'tests/FrameTestHelpers.h',
-      'tests/ImeOnFocusTest.cpp',
-      'tests/KeyboardTest.cpp',
-      'tests/LinkHighlightTest.cpp',
-      'tests/ListenerLeakTest.cpp',
-      'tests/MHTMLTest.cpp',
-      'tests/MemoryInfo.cpp',
-      'tests/OpenTypeVerticalDataTest.cpp',
-      'tests/PageSerializerTest.cpp',
-      'tests/PaintAggregatorTest.cpp',
-      'tests/PinchViewportTest.cpp',
-      'tests/PrerenderingTest.cpp',
-      'tests/ProgrammaticScrollTest.cpp',
-      'tests/LayoutGeometryMapTest.cpp',
-      'tests/ScrollingCoordinatorTest.cpp',
-      'tests/SpinLockTest.cpp',
-      'tests/TextFinderTest.cpp',
-      'tests/TopControlsTest.cpp',
-      'tests/TouchActionTest.cpp',
-      'tests/ViewportTest.cpp',
-      'tests/WebDocumentTest.cpp',
-      'tests/WebFrameTest.cpp',
-      'tests/WebHelperPluginTest.cpp',
-      'tests/WebImageTest.cpp',
-      'tests/WebInputEventConversionTest.cpp',
-      'tests/WebInputEventFactoryTestMac.mm',
-      'tests/WebPageNewSerializerTest.cpp',
-      'tests/WebPageSerializerTest.cpp',
-      'tests/WebPluginContainerTest.cpp',
-      'tests/WebScopedWindowFocusAllowedIndicatorTest.cpp',
-      'tests/WebSearchableFormDataTest.cpp',
-      'tests/WebSelectorTest.cpp',
-      'tests/WebURLRequestTest.cpp',
-      'tests/WebURLResponseTest.cpp',
-      'tests/WebUnitTests.cpp',
-      'tests/WebUserGestureTokenTest.cpp',
-      'tests/WebViewTest.cpp',
-    ],
-    'conditions': [
-      ['OS=="win"',
-        {
-          'web_unittest_files': [
-            'tests/LocaleWinTest.cpp',
-            'tests/WebPageNewSerializerTest.cpp',
-            'tests/WebPageSerializerTest.cpp',
-          ],
-        }
-      ],
-      ['OS=="mac"',
-        {
-          'web_unittest_files': [
-            'tests/LocaleMacTest.cpp',
-          ],
-        }
-      ],
-      ['OS!="mac"',
-        {
-          'web_unittest_files': [
-            # Mac uses ScrollAnimatorMac instead of ScrollAnimatorNone.
-            'tests/ScrollAnimatorNoneTest.cpp',
-          ],
-        }
-      ],
-      ['os_posix==1 and OS!="mac"',
-        {
-          'web_unittest_files': [
-            'tests/LocaleICUTest.cpp',
-          ],
-        }
-      ],
-    ],
   },
 }
diff --git a/Source/wtf/BUILD.gn b/Source/wtf/BUILD.gn
index c5a54de..bf42559 100644
--- a/third_party/WebKit/Source/wtf/BUILD.gn
+++ b/third_party/WebKit/Source/wtf/BUILD.gn
@@ -3,5 +3,4 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
 
 # The list of files is kept in the .gypi.
@@ -48,5 +47,5 @@ component("wtf") {
   configs += [
     "//third_party/WebKit/Source:config",
-    "//third_party/WebKit/Source:non_test_config",
+#    "//third_party/WebKit/Source:non_test_config",
   ]
 
@@ -98,44 +97,3 @@ component("wtf") {
 }
 
-test("wtf_unittests") {
-  sources = gypi_values.wtf_unittest_files
 
-  sources += [ "testing/RunAllTests.cpp" ]
-
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  if (is_win) {
-    cflags = [ "/wd4068" ]  # Unknown pragma.
-  }
-
-  configs += [ "//third_party/WebKit/Source:config", ]
-
-  deps = [
-    ":test_support",
-    ":wtf",
-    "//base",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//testing/gmock",
-    "//testing/gtest",
-  ]
-}
-
-component("test_support") {
-  output_name = "wtf_test_support"
-  sources = gypi_values.wtf_unittest_helper_files
-  defines = [ "WTF_UNITTEST_HELPERS_IMPLEMENTATION=1" ]
-
-  configs += [
-    ":wtf_config",
-    # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-    "//build/config/compiler:no_size_t_to_int_warning",
-    "//third_party/WebKit/Source:config",
-    "//third_party/WebKit/Source:non_test_config",
-  ]
-
-  deps = [
-    ":wtf",
-  ]
-}
diff --git a/Source/wtf/wtf.gypi b/Source/wtf/wtf.gypi
index a2f4a1d..fe71470 100644
--- a/third_party/WebKit/Source/wtf/wtf.gypi
+++ b/third_party/WebKit/Source/wtf/wtf.gypi
@@ -204,38 +204,4 @@
             'unicode/icu/UnicodeIcu.h',
         ],
-        'wtf_unittest_files': [
-            'ArrayBufferBuilderTest.cpp',
-            'CheckedArithmeticTest.cpp',
-            'DequeTest.cpp',
-            'DoubleBufferedDequeTest.cpp',
-            'FunctionalTest.cpp',
-            'HashMapTest.cpp',
-            'HashSetTest.cpp',
-            'ListHashSetTest.cpp',
-            'MathExtrasTest.cpp',
-            'PartitionAllocTest.cpp',
-            'RefPtrTest.cpp',
-            'SaturatedArithmeticTest.cpp',
-            'StringExtrasTest.cpp',
-            'StringHasherTest.cpp',
-            'TemporaryChangeTest.cpp',
-            'TreeNodeTest.cpp',
-            'VectorTest.cpp',
-            'testing/WTFTestHelpersTest.cpp',
-            'text/AtomicStringTest.cpp',
-            'text/CStringTest.cpp',
-            'text/StringBufferTest.cpp',
-            'text/StringBuilderTest.cpp',
-            'text/StringImplTest.cpp',
-            'text/StringOperatorsTest.cpp',
-            'text/TextCodecReplacementTest.cpp',
-            'text/TextCodecUTF8Test.cpp',
-            'text/WTFStringTest.cpp',
-        ],
-        'wtf_unittest_helper_files': [
-            'testing/WTFTestHelpers.cpp',
-            'testing/WTFTestHelpers.h',
-            'testing/WTFUnitTestHelpersExport.h',
-        ],
     },
 }
diff --git a/third_party/widevine/cdm/widevine_cdm.gyp b/third_party/widevine/cdm/widevine_cdm.gyp
index eacbdb3..824c990 100644
--- a/third_party/widevine/cdm/widevine_cdm.gyp
+++ b/third_party/widevine/cdm/widevine_cdm.gyp
@@ -150,5 +150,5 @@
     },
     {
-      'target_name': 'widevine_test_license_server',
+#      'target_name': 'widevine_test_license_server',
       'type': 'none',
       'conditions': [
diff --git a/tools/android/forwarder2/BUILD.gn b/tools/android/forwarder2/BUILD.gn
index acbd617..2881130 100644
--- a/tools/android/forwarder2/BUILD.gn
+++ b/tools/android/forwarder2/BUILD.gn
@@ -14,5 +14,5 @@ group("forwarder2") {
 
 if (current_toolchain == default_toolchain) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 
   # GYP: //tools/android/forwarder2/forwarder.gyp:device_forwarder
diff --git a/tools/android/heap_profiler/heap_profiler.gyp b/tools/android/heap_profiler/heap_profiler.gyp
index 50e6797..7ddb2ce 100644
--- a/tools/android/heap_profiler/heap_profiler.gyp
+++ b/tools/android/heap_profiler/heap_profiler.gyp
@@ -32,10 +32,10 @@
     },
     {
-      'target_name': 'heap_profiler_unittests',
+#      'target_name': 'heap_profiler_unittests',
       'type': '<(gtest_target_type)',
-      'sources': [ 'heap_profiler_unittest.cc' ],
+#      'sources': [ 'heap_profiler_unittest.cc' ],
       'dependencies': [
         'heap_profiler_core',
-        '../../../testing/android/native_test.gyp:native_test_native_code',
+#        '../../../testing/android/native_test.gyp:native_test_native_code',
         '../../../testing/gtest.gyp:gtest',
         '../../../testing/gtest.gyp:gtest_main',
@@ -44,11 +44,11 @@
     },
     {
-      'target_name': 'heap_profiler_unittests_apk',
+#      'target_name': 'heap_profiler_unittests_apk',
       'type': 'none',
       'dependencies': [
-        'heap_profiler_unittests',
+#        'heap_profiler_unittests',
       ],
       'variables': {
-        'test_suite_name': 'heap_profiler_unittests',
+#        'test_suite_name': 'heap_profiler_unittests',
       },
       'includes': [ '../../../build/apk_test.gypi' ],
diff --git a/tools/android/heap_profiler/heap_profiler_integrationtest.cc b/tools/android/heap_profiler/heap_profiler_integrationtest.cc
index ba7ebea..f1b4425 100644
--- a/tools/android/heap_profiler/heap_profiler_integrationtest.cc
+++ b/tools/android/heap_profiler/heap_profiler_integrationtest.cc
@@ -12,5 +12,5 @@
 
 #include "base/compiler_specific.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "tools/android/heap_profiler/heap_profiler.h"
 
diff --git a/tools/android/md5sum/BUILD.gn b/tools/android/md5sum/BUILD.gn
index 9b458c7..312d956 100644
--- a/tools/android/md5sum/BUILD.gn
+++ b/tools/android/md5sum/BUILD.gn
@@ -34,5 +34,5 @@ executable("md5sum_bin") {
 
 if (current_toolchain == default_toolchain) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 
   # GYP: //tools/android/md5sum/md5sum.gyp:md5sum_stripped_device_bin
diff --git a/tools/clang/rewrite_scoped_refptr/tests/gtest-expected.cc b/tools/clang/rewrite_scoped_refptr/tests/gtest-expected.cc
index bd07572..fd1b972 100644
--- a/tools/clang/rewrite_scoped_refptr/tests/gtest-expected.cc
+++ b/tools/clang/rewrite_scoped_refptr/tests/gtest-expected.cc
@@ -4,5 +4,5 @@
 
 #include "base/memory/ref_counted.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 struct Foo : public base::RefCounted<Foo> {
diff --git a/tools/clang/rewrite_scoped_refptr/tests/gtest-original.cc b/tools/clang/rewrite_scoped_refptr/tests/gtest-original.cc
index ac172e5..9fcb75d 100644
--- a/tools/clang/rewrite_scoped_refptr/tests/gtest-original.cc
+++ b/tools/clang/rewrite_scoped_refptr/tests/gtest-original.cc
@@ -4,5 +4,5 @@
 
 #include "base/memory/ref_counted.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 struct Foo : public base::RefCounted<Foo> {
diff --git a/tools/cygprofile/cygprofile.gyp b/tools/cygprofile/cygprofile.gyp
index 910ef54..e627f0a 100644
--- a/tools/cygprofile/cygprofile.gyp
+++ b/tools/cygprofile/cygprofile.gyp
@@ -22,9 +22,9 @@
     },
     {
-      'target_name': 'cygprofile_unittests',
+#      'target_name': 'cygprofile_unittests',
       'type': 'executable',
       'include_dirs': [ '../..', ],
       'sources': [
-        'cygprofile_unittest.cc',
+#        'cygprofile_unittest.cc',
       ],
       'cflags!': [ '-finstrument-functions' ],
diff --git a/tools/gn/BUILD.gn b/tools/gn/BUILD.gn
index bc37bc7..14cfdfe 100644
--- a/tools/gn/BUILD.gn
+++ b/tools/gn/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 defines = [ "GN_BUILD" ]
@@ -220,69 +220,3 @@ executable("gn") {
 }
 
-test("gn_unittests") {
-  sources = [
-    "action_target_generator_unittest.cc",
-    "builder_unittest.cc",
-    "c_include_iterator_unittest.cc",
-    "command_format_unittest.cc",
-    "config_values_extractors_unittest.cc",
-    "escape_unittest.cc",
-    "exec_process_unittest.cc",
-    "filesystem_utils_unittest.cc",
-    "function_foreach_unittest.cc",
-    "function_get_label_info_unittest.cc",
-    "function_get_path_info_unittest.cc",
-    "function_get_target_outputs_unittest.cc",
-    "function_process_file_template_unittest.cc",
-    "function_rebase_path_unittest.cc",
-    "function_write_file_unittest.cc",
-    "functions_target_unittest.cc",
-    "functions_unittest.cc",
-    "header_checker_unittest.cc",
-    "input_conversion_unittest.cc",
-    "label_pattern_unittest.cc",
-    "label_unittest.cc",
-    "loader_unittest.cc",
-    "ninja_action_target_writer_unittest.cc",
-    "ninja_binary_target_writer_unittest.cc",
-    "ninja_copy_target_writer_unittest.cc",
-    "ninja_group_target_writer_unittest.cc",
-    "ninja_target_writer_unittest.cc",
-    "ninja_toolchain_writer_unittest.cc",
-    "operators_unittest.cc",
-    "parse_tree_unittest.cc",
-    "parser_unittest.cc",
-    "path_output_unittest.cc",
-    "pattern_unittest.cc",
-    "run_all_unittests.cc",
-    "scope_per_file_provider_unittest.cc",
-    "scope_unittest.cc",
-    "source_dir_unittest.cc",
-    "string_utils_unittest.cc",
-    "substitution_pattern_unittest.cc",
-    "substitution_writer_unittest.cc",
-    "target_generator_unittest.cc",
-    "target_unittest.cc",
-    "template_unittest.cc",
-    "test_with_scope.cc",
-    "test_with_scope.h",
-    "tokenizer_unittest.cc",
-    "unique_vector_unittest.cc",
-    "value_unittest.cc",
-    "visibility_unittest.cc",
-  ]
-  deps = [
-    ":gn_lib",
-    "//base/test:test_support",
-    "//testing/gtest",
-  ]
-}
 
-executable("generate_test_gn_data") {
-  sources = [
-    "generate_test_gn_data.cc",
-  ]
-  deps = [
-    "//base",
-  ]
-}
diff --git a/tools/gn/format_test_data/030.gn b/tools/gn/format_test_data/030.gn
index adac9a82..49678a5 100644
--- a/tools/gn/format_test_data/030.gn
+++ b/tools/gn/format_test_data/030.gn
@@ -5,6 +5,6 @@ import("//testing/test.gni")
 test("something") {
   if (is_linux) {
-    sources -= [ "file_version_info_unittest.cc" ]
-    sources += [ "nix/xdg_util_unittest.cc" ]
+#    sources -= [ "file_version_info_unittest.cc" ]
+#    sources += [ "nix/xdg_util_unittest.cc" ]
     defines = [ "USE_SYMBOLIZE" ]
     configs += [ "//build/config/linux:glib" ]
diff --git a/tools/gn/format_test_data/062.gn b/tools/gn/format_test_data/062.gn
index d7fbb3c..850c20f 100644
--- a/tools/gn/format_test_data/062.gn
+++ b/tools/gn/format_test_data/062.gn
@@ -80,21 +80,21 @@ sources += [
 sources -= [
   # Fix this test to build on Windows.
-  "focus_cycler_unittest.cc",
+#  "focus_cycler_unittest.cc",
 
   # All tests for multiple displays: not supported on Windows Ash.
-  "wm/drag_window_resizer_unittest.cc",
+#  "wm/drag_window_resizer_unittest.cc",
 
   # Accelerometer is only available on Chrome OS.
-  "wm/maximize_mode/maximize_mode_controller_unittest.cc",
+#  "wm/maximize_mode/maximize_mode_controller_unittest.cc",
 
   # Can't resize on Windows Ash. http://crbug.com/165962
-  "autoclick/autoclick_unittest.cc",
-  "magnifier/magnification_controller_unittest.cc",
+#  "autoclick/autoclick_unittest.cc",
+#  "magnifier/magnification_controller_unittest.cc",
   # Attached 1.
   # Attached 2.
-  "wm/workspace/workspace_window_resizer_unittest.cc",
-  "sticky_keys/sticky_keys_overlay_unittest.cc",
-  "system/tray/media_security/multi_profile_media_tray_item_unittest.cc",
-  "virtual_keyboard_controller_unittest.cc",
+#  "wm/workspace/workspace_window_resizer_unittest.cc",
+#  "sticky_keys/sticky_keys_overlay_unittest.cc",
+#  "system/tray/media_security/multi_profile_media_tray_item_unittest.cc",
+#  "virtual_keyboard_controller_unittest.cc",
 
   # Separated at end.
diff --git a/tools/gn/gn.gyp b/tools/gn/gn.gyp
index 0b6d204..b15b73b 100644
--- a/tools/gn/gn.gyp
+++ b/tools/gn/gn.gyp
@@ -197,68 +197,68 @@
     },
     {
-      'target_name': 'gn_unittests',
+#      'target_name': 'gn_unittests',
       'type': '<(gtest_target_type)',
       'sources': [
-        'action_target_generator_unittest.cc',
-        'builder_unittest.cc',
-        'c_include_iterator_unittest.cc',
-        'command_format_unittest.cc',
-        'config_values_extractors_unittest.cc',
-        'escape_unittest.cc',
-        'exec_process_unittest.cc',
-        'filesystem_utils_unittest.cc',
-        'function_foreach_unittest.cc',
-        'function_get_label_info_unittest.cc',
-        'function_get_path_info_unittest.cc',
-        'function_get_target_outputs_unittest.cc',
-        'function_process_file_template_unittest.cc',
-        'function_rebase_path_unittest.cc',
-        'function_write_file_unittest.cc',
-        'functions_target_unittest.cc',
-        'functions_unittest.cc',
-        'header_checker_unittest.cc',
-        'input_conversion_unittest.cc',
-        'label_pattern_unittest.cc',
-        'label_unittest.cc',
-        'loader_unittest.cc',
-        'ninja_action_target_writer_unittest.cc',
-        'ninja_binary_target_writer_unittest.cc',
-        'ninja_copy_target_writer_unittest.cc',
-        'ninja_group_target_writer_unittest.cc',
-        'ninja_target_writer_unittest.cc',
-        'ninja_toolchain_writer_unittest.cc',
-        'operators_unittest.cc',
-        'parse_tree_unittest.cc',
-        'parser_unittest.cc',
-        'path_output_unittest.cc',
-        'pattern_unittest.cc',
-        'run_all_unittests.cc',
-        'scope_per_file_provider_unittest.cc',
-        'scope_unittest.cc',
-        'source_dir_unittest.cc',
-        'string_utils_unittest.cc',
-        'substitution_pattern_unittest.cc',
-        'substitution_writer_unittest.cc',
-        'target_generator_unittest.cc',
-        'target_unittest.cc',
-        'template_unittest.cc',
+#        'action_target_generator_unittest.cc',
+#        'builder_unittest.cc',
+#        'c_include_iterator_unittest.cc',
+#        'command_format_unittest.cc',
+#        'config_values_extractors_unittest.cc',
+#        'escape_unittest.cc',
+#        'exec_process_unittest.cc',
+#        'filesystem_utils_unittest.cc',
+#        'function_foreach_unittest.cc',
+#        'function_get_label_info_unittest.cc',
+#        'function_get_path_info_unittest.cc',
+#        'function_get_target_outputs_unittest.cc',
+#        'function_process_file_template_unittest.cc',
+#        'function_rebase_path_unittest.cc',
+#        'function_write_file_unittest.cc',
+#        'functions_target_unittest.cc',
+#        'functions_unittest.cc',
+#        'header_checker_unittest.cc',
+#        'input_conversion_unittest.cc',
+#        'label_pattern_unittest.cc',
+#        'label_unittest.cc',
+#        'loader_unittest.cc',
+#        'ninja_action_target_writer_unittest.cc',
+#        'ninja_binary_target_writer_unittest.cc',
+#        'ninja_copy_target_writer_unittest.cc',
+#        'ninja_group_target_writer_unittest.cc',
+#        'ninja_target_writer_unittest.cc',
+#        'ninja_toolchain_writer_unittest.cc',
+#        'operators_unittest.cc',
+#        'parse_tree_unittest.cc',
+#        'parser_unittest.cc',
+#        'path_output_unittest.cc',
+#        'pattern_unittest.cc',
+#        'run_all_unittests.cc',
+#        'scope_per_file_provider_unittest.cc',
+#        'scope_unittest.cc',
+#        'source_dir_unittest.cc',
+#        'string_utils_unittest.cc',
+#        'substitution_pattern_unittest.cc',
+#        'substitution_writer_unittest.cc',
+#        'target_generator_unittest.cc',
+#        'target_unittest.cc',
+#        'template_unittest.cc',
         'test_with_scope.cc',
         'test_with_scope.h',
-        'tokenizer_unittest.cc',
-        'unique_vector_unittest.cc',
-        'value_unittest.cc',
-        'visibility_unittest.cc',
+#        'tokenizer_unittest.cc',
+#        'unique_vector_unittest.cc',
+#        'value_unittest.cc',
+#        'visibility_unittest.cc',
       ],
       'dependencies': [
         'gn_lib',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../testing/gtest.gyp:gtest',
       ],
     },
     {
-      'target_name': 'generate_test_gn_data',
+#      'target_name': 'generate_test_gn_data',
       'type': 'executable',
       'sources': [
-        'generate_test_gn_data.cc',
+#        'generate_test_gn_data.cc',
       ],
       'dependencies': [
diff --git a/test/win/linker-flags/ltcg.gyp b/test/win/linker-flags/ltcg.gyp
index ddb0d9b..6213a52 100644
--- a/tools/gyp/test/win/linker-flags/ltcg.gyp
+++ b/tools/gyp/test/win/linker-flags/ltcg.gyp
@@ -19,5 +19,5 @@
         'inline_test.h',
         'inline_test.cc',
-        'inline_test_main.cc',
+#        'inline_test_main.cc',
       ],
     },
@@ -36,5 +36,5 @@
         'inline_test.h',
         'inline_test.cc',
-        'inline_test_main.cc',
+#        'inline_test_main.cc',
       ],
     },
diff --git a/test/win/linker-flags/pgo.gyp b/test/win/linker-flags/pgo.gyp
index da32639..f452844 100644
--- a/tools/gyp/test/win/linker-flags/pgo.gyp
+++ b/tools/gyp/test/win/linker-flags/pgo.gyp
@@ -51,5 +51,5 @@
         'inline_test.h',
         'inline_test.cc',
-        'inline_test_main.cc',
+#        'inline_test_main.cc',
       ],
     },
diff --git a/tools/emacs/testdata/media.gyp b/tools/emacs/testdata/media.gyp
index 29300fe..04e0834 100644
--- a/tools/gyp/tools/emacs/testdata/media.gyp
+++ b/tools/gyp/tools/emacs/testdata/media.gyp
@@ -632,13 +632,13 @@
     },
     {
-      'target_name': 'media_unittests',
+#      'target_name': 'media_unittests',
       'type': 'executable',
       'dependencies': [
         'media',
-        'media_test_support',
+#        'media_test_support',
         'yuv_convert',
         '../base/base.gyp:base',
         '../base/base.gyp:base_i18n',
-        '../base/base.gyp:test_support_base',
+#        '../base/base.gyp:test_support_base',
         '../testing/gmock.gyp:gmock',
         '../testing/gtest.gyp:gtest',
@@ -646,67 +646,67 @@
       ],
       'sources': [
-        'audio/async_socket_io_handler_unittest.cc',
-        'audio/audio_input_controller_unittest.cc',
-        'audio/audio_input_device_unittest.cc',
-        'audio/audio_input_unittest.cc',
-        'audio/audio_input_volume_unittest.cc',
-        'audio/audio_low_latency_input_output_unittest.cc',
-        'audio/audio_output_controller_unittest.cc',
-        'audio/audio_output_proxy_unittest.cc',
-        'audio/audio_parameters_unittest.cc',
-        'audio/audio_util_unittest.cc',
-        'audio/cross_process_notification_unittest.cc',
-        'audio/linux/alsa_output_unittest.cc',
-        'audio/mac/audio_low_latency_input_mac_unittest.cc',
-        'audio/mac/audio_output_mac_unittest.cc',
-        'audio/simple_sources_unittest.cc',
-        'audio/win/audio_low_latency_input_win_unittest.cc',
-        'audio/win/audio_low_latency_output_win_unittest.cc',
-        'audio/win/audio_output_win_unittest.cc',
-        'base/audio_renderer_mixer_unittest.cc',
-        'base/audio_renderer_mixer_input_unittest.cc',
-        'base/buffers_unittest.cc',
-        'base/clock_unittest.cc',
-        'base/composite_filter_unittest.cc',
-        'base/data_buffer_unittest.cc',
-        'base/decoder_buffer_unittest.cc',
-        'base/djb2_unittest.cc',
+#        'audio/async_socket_io_handler_unittest.cc',
+#        'audio/audio_input_controller_unittest.cc',
+#        'audio/audio_input_device_unittest.cc',
+#        'audio/audio_input_unittest.cc',
+#        'audio/audio_input_volume_unittest.cc',
+#        'audio/audio_low_latency_input_output_unittest.cc',
+#        'audio/audio_output_controller_unittest.cc',
+#        'audio/audio_output_proxy_unittest.cc',
+#        'audio/audio_parameters_unittest.cc',
+#        'audio/audio_util_unittest.cc',
+#        'audio/cross_process_notification_unittest.cc',
+#        'audio/linux/alsa_output_unittest.cc',
+#        'audio/mac/audio_low_latency_input_mac_unittest.cc',
+#        'audio/mac/audio_output_mac_unittest.cc',
+#        'audio/simple_sources_unittest.cc',
+#        'audio/win/audio_low_latency_input_win_unittest.cc',
+#        'audio/win/audio_low_latency_output_win_unittest.cc',
+#        'audio/win/audio_output_win_unittest.cc',
+#        'base/audio_renderer_mixer_unittest.cc',
+#        'base/audio_renderer_mixer_input_unittest.cc',
+#        'base/buffers_unittest.cc',
+#        'base/clock_unittest.cc',
+#        'base/composite_filter_unittest.cc',
+#        'base/data_buffer_unittest.cc',
+#        'base/decoder_buffer_unittest.cc',
+#        'base/djb2_unittest.cc',
         'base/fake_audio_render_callback.cc',
         'base/fake_audio_render_callback.h',
-        'base/filter_collection_unittest.cc',
-        'base/h264_bitstream_converter_unittest.cc',
-        'base/pipeline_unittest.cc',
-        'base/ranges_unittest.cc',
-        'base/run_all_unittests.cc',
-        'base/seekable_buffer_unittest.cc',
-        'base/state_matrix_unittest.cc',
+#        'base/filter_collection_unittest.cc',
+#        'base/h264_bitstream_converter_unittest.cc',
+#        'base/pipeline_unittest.cc',
+#        'base/ranges_unittest.cc',
+#        'base/run_all_unittests.cc',
+#        'base/seekable_buffer_unittest.cc',
+#        'base/state_matrix_unittest.cc',
         'base/test_data_util.cc',
         'base/test_data_util.h',
-        'base/video_frame_unittest.cc',
-        'base/video_util_unittest.cc',
-        'base/yuv_convert_unittest.cc',
-        'crypto/aes_decryptor_unittest.cc',
-        'ffmpeg/ffmpeg_common_unittest.cc',
-        'filters/audio_renderer_algorithm_unittest.cc',
-        'filters/audio_renderer_impl_unittest.cc',
-        'filters/bitstream_converter_unittest.cc',
-        'filters/chunk_demuxer_unittest.cc',
-        'filters/ffmpeg_audio_decoder_unittest.cc',
-        'filters/ffmpeg_decoder_unittest.h',
-        'filters/ffmpeg_demuxer_unittest.cc',
-        'filters/ffmpeg_glue_unittest.cc',
-        'filters/ffmpeg_h264_bitstream_converter_unittest.cc',
-        'filters/ffmpeg_video_decoder_unittest.cc',
-        'filters/file_data_source_unittest.cc',
+#        'base/video_frame_unittest.cc',
+#        'base/video_util_unittest.cc',
+#        'base/yuv_convert_unittest.cc',
+#        'crypto/aes_decryptor_unittest.cc',
+#        'ffmpeg/ffmpeg_common_unittest.cc',
+#        'filters/audio_renderer_algorithm_unittest.cc',
+#        'filters/audio_renderer_impl_unittest.cc',
+#        'filters/bitstream_converter_unittest.cc',
+#        'filters/chunk_demuxer_unittest.cc',
+#        'filters/ffmpeg_audio_decoder_unittest.cc',
+#        'filters/ffmpeg_decoder_unittest.h',
+#        'filters/ffmpeg_demuxer_unittest.cc',
+#        'filters/ffmpeg_glue_unittest.cc',
+#        'filters/ffmpeg_h264_bitstream_converter_unittest.cc',
+#        'filters/ffmpeg_video_decoder_unittest.cc',
+#        'filters/file_data_source_unittest.cc',
         'filters/pipeline_integration_test.cc',
-        'filters/pipeline_integration_test_base.cc',
-        'filters/source_buffer_stream_unittest.cc',
-        'filters/video_renderer_base_unittest.cc',
-        'video/capture/video_capture_device_unittest.cc',
+#        'filters/pipeline_integration_test_base.cc',
+#        'filters/source_buffer_stream_unittest.cc',
+#        'filters/video_renderer_base_unittest.cc',
+#        'video/capture/video_capture_device_unittest.cc',
         'webm/cluster_builder.cc',
         'webm/cluster_builder.h',
-        'webm/webm_cluster_parser_unittest.cc',
-        'webm/webm_content_encodings_client_unittest.cc',
-        'webm/webm_parser_unittest.cc',
+#        'webm/webm_cluster_parser_unittest.cc',
+#        'webm/webm_content_encodings_client_unittest.cc',
+#        'webm/webm_parser_unittest.cc',
       ],
       'conditions': [
@@ -727,19 +727,19 @@
         ['OS == "android"', {
           'sources!': [
-            'audio/audio_input_volume_unittest.cc',
+#            'audio/audio_input_volume_unittest.cc',
             'base/test_data_util.cc',
             'base/test_data_util.h',
-            'ffmpeg/ffmpeg_common_unittest.cc',
-            'filters/ffmpeg_audio_decoder_unittest.cc',
-            'filters/bitstream_converter_unittest.cc',
-            'filters/chunk_demuxer_unittest.cc',
-            'filters/ffmpeg_demuxer_unittest.cc',
-            'filters/ffmpeg_glue_unittest.cc',
-            'filters/ffmpeg_h264_bitstream_converter_unittest.cc',
-            'filters/ffmpeg_video_decoder_unittest.cc',
+#            'ffmpeg/ffmpeg_common_unittest.cc',
+#            'filters/ffmpeg_audio_decoder_unittest.cc',
+#            'filters/bitstream_converter_unittest.cc',
+#            'filters/chunk_demuxer_unittest.cc',
+#            'filters/ffmpeg_demuxer_unittest.cc',
+#            'filters/ffmpeg_glue_unittest.cc',
+#            'filters/ffmpeg_h264_bitstream_converter_unittest.cc',
+#            'filters/ffmpeg_video_decoder_unittest.cc',
             'filters/pipeline_integration_test.cc',
-            'filters/pipeline_integration_test_base.cc',
-            'mp4/mp4_stream_parser_unittest.cc',
-            'webm/webm_cluster_parser_unittest.cc',
+#            'filters/pipeline_integration_test_base.cc',
+#            'mp4/mp4_stream_parser_unittest.cc',
+#            'webm/webm_cluster_parser_unittest.cc',
           ],
         }],
@@ -748,5 +748,5 @@
             ['use_cras == 1', {
               'sources': [
-                'audio/linux/cras_output_unittest.cc',
+#                'audio/linux/cras_output_unittest.cc',
               ],
               'defines': [
@@ -758,13 +758,13 @@
         [ 'target_arch=="ia32" or target_arch=="x64"', {
           'sources': [
-            'base/simd/convert_rgb_to_yuv_unittest.cc',
+#            'base/simd/convert_rgb_to_yuv_unittest.cc',
           ],
         }],
         ['proprietary_codecs==1 or branding=="Chrome"', {
           'sources': [
-            'mp4/avc_unittest.cc',
-            'mp4/box_reader_unittest.cc',
-            'mp4/mp4_stream_parser_unittest.cc',
-            'mp4/offset_byte_queue_unittest.cc',
+#            'mp4/avc_unittest.cc',
+#            'mp4/box_reader_unittest.cc',
+#            'mp4/mp4_stream_parser_unittest.cc',
+#            'mp4/offset_byte_queue_unittest.cc',
           ],
         }],
@@ -772,5 +772,5 @@
     },
     {
-      'target_name': 'media_test_support',
+#      'target_name': 'media_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -1013,18 +1013,18 @@
       'targets': [
         {
-          'target_name': 'ffmpeg_unittests',
+#          'target_name': 'ffmpeg_unittests',
           'type': 'executable',
           'dependencies': [
             'media',
-            'media_test_support',
+#            'media_test_support',
             '../base/base.gyp:base',
             '../base/base.gyp:base_i18n',
-            '../base/base.gyp:test_support_base',
-            '../base/base.gyp:test_support_perf',
+#            '../base/base.gyp:test_support_base',
+#            '../base/base.gyp:test_support_perf',
             '../testing/gtest.gyp:gtest',
             '../third_party/ffmpeg/ffmpeg.gyp:ffmpeg',
           ],
           'sources': [
-            'ffmpeg/ffmpeg_unittest.cc',
+#            'ffmpeg/ffmpeg_unittest.cc',
           ],
           'conditions': [
@@ -1032,5 +1032,5 @@
               'dependencies': [
                 # Needed for the following #include chain:
-                #   base/run_all_unittests.cc
+#                #   base/run_all_unittests.cc
                 #   ../base/test_suite.h
                 #   gtk/gtk.h
@@ -1052,6 +1052,6 @@
           'dependencies': [
             'media',
-            'media_test_support',
-            '../base/base.gyp:test_support_base',
+#            'media_test_support',
+#            '../base/base.gyp:test_support_base',
             '../testing/gmock.gyp:gmock',
             '../testing/gtest.gyp:gtest',
@@ -1060,7 +1060,7 @@
           'sources': [
             'base/test_data_util.cc',
-            'base/run_all_unittests.cc',
+#            'base/run_all_unittests.cc',
             'ffmpeg/ffmpeg_regression_tests.cc',
-            'filters/pipeline_integration_test_base.cc',
+#            'filters/pipeline_integration_test_base.cc',
           ],
           'conditions': [
diff --git a/tools/json_schema_compiler/schema_loader.py b/tools/json_schema_compiler/schema_loader.py
index aad661e..95c4d99 100644
--- a/tools/json_schema_compiler/schema_loader.py
+++ b/tools/json_schema_compiler/schema_loader.py
@@ -85,4 +85,5 @@ class SchemaLoader(object):
 
     schema_path = os.path.join(self._root, schema)
+    print(schema_path)
     if schema_extension == '.json':
       api_defs = json_schema.Load(schema_path)
diff --git a/tools/json_schema_compiler/test/BUILD.gn b/tools/json_schema_compiler/test/BUILD.gn
index 33e6219..8031d14 100644
--- a/tools/json_schema_compiler/test/BUILD.gn
+++ b/tools/json_schema_compiler/test/BUILD.gn
@@ -28,5 +28,5 @@ json_schema_api("api") {
 
   schemas = true
-  root_namespace = "test::api::%(namespace)s"
+#  root_namespace = "test::api::%(namespace)s"
 }
 
diff --git a/tools/perf/clear_system_cache/BUILD.gn b/tools/perf/clear_system_cache/BUILD.gn
index 34cfad3..db4c935 100644
--- a/tools/perf/clear_system_cache/BUILD.gn
+++ b/tools/perf/clear_system_cache/BUILD.gn
@@ -14,5 +14,5 @@ if (is_linux && !is_chromeos) {
     deps = [
       "//base",
-      "//base/test:test_support",
+#      "//base/test:test_support",
     ]
   }
diff --git a/tools/perf/clear_system_cache/clear_system_cache.gyp b/tools/perf/clear_system_cache/clear_system_cache.gyp
index cf6299a..648ce7d 100644
--- a/tools/perf/clear_system_cache/clear_system_cache.gyp
+++ b/tools/perf/clear_system_cache/clear_system_cache.gyp
@@ -14,5 +14,5 @@
       'dependencies': [
         '../../../base/base.gyp:base',
-        '../../../base/base.gyp:test_support_base',
+#        '../../../base/base.gyp:test_support_base',
       ],
       'sources': [
diff --git a/tools/relocation_packer/BUILD.gn b/tools/relocation_packer/BUILD.gn
index 563a64d..beb6643 100644
--- a/tools/relocation_packer/BUILD.gn
+++ b/tools/relocation_packer/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("config.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 assert(relocation_packing_supported)
@@ -46,32 +46,32 @@ if (current_toolchain == host_toolchain) {
   }
 
-  # GYP: //tools/relocation_packer/relocation_packer.gyp:relocation_packer_unittests
+#  # GYP: //tools/relocation_packer/relocation_packer.gyp:relocation_packer_unittests
   test("relocation_packer_unittests") {
     sources = [
-      "src/debug_unittest.cc",
-      "src/delta_encoder_unittest.cc",
-      "src/elf_file_unittest.cc",
-      "src/leb128_unittest.cc",
-      "src/packer_unittest.cc",
-      "src/run_all_unittests.cc",
-      "src/run_length_encoder_unittest.cc",
-      "src/sleb128_unittest.cc",
+#      "src/debug_unittest.cc",
+#      "src/delta_encoder_unittest.cc",
+#      "src/elf_file_unittest.cc",
+#      "src/leb128_unittest.cc",
+#      "src/packer_unittest.cc",
+#      "src/run_all_unittests.cc",
+#      "src/run_length_encoder_unittest.cc",
+#      "src/sleb128_unittest.cc",
     ]
     rebased_test_data = rebase_path("test_data", root_build_dir)
     data = [
-      "test_data/elf_file_unittest_relocs_arm32.so",
-      "test_data/elf_file_unittest_relocs_arm32_packed.so",
-      "test_data/elf_file_unittest_relocs_arm64.so",
-      "test_data/elf_file_unittest_relocs_arm64_packed.so",
+#      "test_data/elf_file_unittest_relocs_arm32.so",
+#      "test_data/elf_file_unittest_relocs_arm32_packed.so",
+#      "test_data/elf_file_unittest_relocs_arm64.so",
+#      "test_data/elf_file_unittest_relocs_arm64_packed.so",
     ]
     defines = [
       target_define,
-      "INTERMEDIATE_DIR=\"$rebased_test_data\"",
+#      "INTERMEDIATE_DIR=\"$rebased_test_data\"",
     ]
     include_dirs = [ "//" ]
     deps = [
       ":lib_relocation_packer",
-      ":relocation_packer_test_data",
-      "//testing:gtest",
+#      ":relocation_packer_test_data",
+#      "//testing:gtest",
     ]
   }
@@ -81,12 +81,12 @@ if (current_toolchain == default_toolchain &&
     (target_cpu == "arm" || target_cpu == "arm64")) {
   # Targets to build test data.  These participate only in building test
-  # data for use with elf_file_unittest.cc, and are not part of the main
+#  # data for use with elf_file_unittest.cc, and are not part of the main
   # relocation packer build.  Unit test data files are checked in to the
   # source tree as 'golden' data, and are not generated 'on the fly' by
   # the build.
   #
-  # See test_data/generate_elf_file_unittest_relocs.sh for instructions.
+#  # See test_data/generate_elf_file_unittest_relocs.sh for instructions.
 
-  # GYP: //tools/relocation_packer/relocation_packer.gyp:relocation_packer_test_data
+#  # GYP: //tools/relocation_packer/relocation_packer.gyp:relocation_packer_test_data
   shared_library("relocation_packer_test_data") {
     cflags = [
@@ -95,20 +95,20 @@ if (current_toolchain == default_toolchain &&
     ]
     sources = [
-      "test_data/elf_file_unittest_relocs.cc",
+#      "test_data/elf_file_unittest_relocs.cc",
     ]
   }
 
-  # GYP: //tools/relocation_packer/relocation_packer.gyp:relocation_packer_unittests_test_data
-  action("relocation_packer_unittests_test_data") {
-    script = "test_data/generate_elf_file_unittest_relocs.py"
-    test_file = "$root_build_dir/librelocation_packer_test_data.so"
+#  # GYP: //tools/relocation_packer/relocation_packer.gyp:relocation_packer_unittests_test_data
+#  action("relocation_packer_unittests_test_data") {
+#    script = "test_data/generate_elf_file_unittest_relocs.py"
+#    test_file = "$root_build_dir/librelocation_packer_test_data.so"
     if (target_cpu == "arm") {
       added_section = ".android.rel.dyn"
-      packed_output = "elf_file_unittest_relocs_arm32_packed.so"
-      unpacked_output = "elf_file_unittest_relocs_arm32.so"
+#      packed_output = "elf_file_unittest_relocs_arm32_packed.so"
+#      unpacked_output = "elf_file_unittest_relocs_arm32.so"
     } else if (target_cpu == "arm64") {
       added_section = ".android.rela.dyn"
-      packed_output = "elf_file_unittest_relocs_arm64_packed.so"
-      unpacked_output = "elf_file_unittest_relocs_arm64.so"
+#      packed_output = "elf_file_unittest_relocs_arm64_packed.so"
+#      unpacked_output = "elf_file_unittest_relocs_arm64.so"
     } else {
       assert(false, "Unsupported target arch for relocation packer")
@@ -123,5 +123,5 @@ if (current_toolchain == default_toolchain &&
 
     deps = [
-      ":relocation_packer_test_data",
+#      ":relocation_packer_test_data",
       ":relocation_packer($host_toolchain)",
     ]
diff --git a/tools/relocation_packer/relocation_packer.gyp b/tools/relocation_packer/relocation_packer.gyp
index 1e9c1b9..d1b0639 100644
--- a/tools/relocation_packer/relocation_packer.gyp
+++ b/tools/relocation_packer/relocation_packer.gyp
@@ -54,6 +54,6 @@
     },
     {
-      # GN: //tools/relocation_packer:relocation_packer_unittests
-      'target_name': 'relocation_packer_unittests',
+#      # GN: //tools/relocation_packer:relocation_packer_unittests
+#      'target_name': 'relocation_packer_unittests',
       'toolsets': ['host'],
       'type': 'executable',
@@ -72,12 +72,12 @@
       ],
       'sources': [
-        'src/debug_unittest.cc',
-        'src/delta_encoder_unittest.cc',
-        'src/elf_file_unittest.cc',
-        'src/leb128_unittest.cc',
-        'src/packer_unittest.cc',
-        'src/sleb128_unittest.cc',
-        'src/run_length_encoder_unittest.cc',
-        'src/run_all_unittests.cc',
+#        'src/debug_unittest.cc',
+#        'src/delta_encoder_unittest.cc',
+#        'src/elf_file_unittest.cc',
+#        'src/leb128_unittest.cc',
+#        'src/packer_unittest.cc',
+#        'src/sleb128_unittest.cc',
+#        'src/run_length_encoder_unittest.cc',
+#        'src/run_all_unittests.cc',
       ],
       'copies': [
@@ -85,8 +85,8 @@
           'destination': '<(INTERMEDIATE_DIR)',
           'files': [
-            'test_data/elf_file_unittest_relocs_arm32.so',
-            'test_data/elf_file_unittest_relocs_arm32_packed.so',
-            'test_data/elf_file_unittest_relocs_arm64.so',
-            'test_data/elf_file_unittest_relocs_arm64_packed.so',
+#            'test_data/elf_file_unittest_relocs_arm32.so',
+#            'test_data/elf_file_unittest_relocs_arm32_packed.so',
+#            'test_data/elf_file_unittest_relocs_arm64.so',
+#            'test_data/elf_file_unittest_relocs_arm64_packed.so',
           ],
         },
@@ -95,13 +95,13 @@
 
     # Targets to build test data.  These participate only in building test
-    # data for use with elf_file_unittest.cc, and are not part of the main
+#    # data for use with elf_file_unittest.cc, and are not part of the main
     # relocation packer build.  Unit test data files are checked in to the
     # source tree as 'golden' data, and are not generated 'on the fly' by
     # the build.
     #
-    # See test_data/generate_elf_file_unittest_relocs.sh for instructions.
+#    # See test_data/generate_elf_file_unittest_relocs.sh for instructions.
     {
-      # GN: //tools/relocation_packer:relocation_packer_test_data
-      'target_name': 'relocation_packer_test_data',
+#      # GN: //tools/relocation_packer:relocation_packer_test_data
+#      'target_name': 'relocation_packer_test_data',
       'toolsets': ['target'],
       'type': 'shared_library',
@@ -111,10 +111,10 @@
       ],
       'sources': [
-        'test_data/elf_file_unittest_relocs.cc',
+#        'test_data/elf_file_unittest_relocs.cc',
       ],
     },
     {
-      # GN: //tools/relocation_packer:relocation_packer_unittests_test_data
-      'target_name': 'relocation_packer_unittests_test_data',
+#      # GN: //tools/relocation_packer:relocation_packer_unittests_test_data
+#      'target_name': 'relocation_packer_unittests_test_data',
       'toolsets': ['target'],
       'type': 'none',
@@ -122,21 +122,21 @@
         {
           'variables': {
-            'test_file': '<(SHARED_LIB_DIR)/librelocation_packer_test_data.so',
+#            'test_file': '<(SHARED_LIB_DIR)/librelocation_packer_test_data.so',
             'conditions': [
               [ 'target_arch == "arm"', {
                 'added_section': '.android.rel.dyn',
-                'unpacked_output': 'elf_file_unittest_relocs_arm32.so',
-                'packed_output': 'elf_file_unittest_relocs_arm32_packed.so',
+#                'unpacked_output': 'elf_file_unittest_relocs_arm32.so',
+#                'packed_output': 'elf_file_unittest_relocs_arm32_packed.so',
               }],
               [ 'target_arch == "arm64"', {
                 'added_section': '.android.rela.dyn',
-                'unpacked_output': 'elf_file_unittest_relocs_arm64.so',
-                'packed_output': 'elf_file_unittest_relocs_arm64_packed.so',
+#                'unpacked_output': 'elf_file_unittest_relocs_arm64.so',
+#                'packed_output': 'elf_file_unittest_relocs_arm64_packed.so',
               }],
             ],
           },
-          'action_name': 'generate_relocation_packer_test_data',
+#          'action_name': 'generate_relocation_packer_test_data',
           'inputs': [
-            'test_data/generate_elf_file_unittest_relocs.py',
+#            'test_data/generate_elf_file_unittest_relocs.py',
             '<(PRODUCT_DIR)/relocation_packer',
             '<(test_file)',
@@ -147,5 +147,5 @@
           ],
           'action': [
-              'python', 'test_data/generate_elf_file_unittest_relocs.py',
+#              'python', 'test_data/generate_elf_file_unittest_relocs.py',
               '--android-pack-relocations=<(PRODUCT_DIR)/relocation_packer',
               '--android-objcopy=<(android_objcopy)',
diff --git a/tools/set_default_handler/set_default_handler.gyp b/tools/set_default_handler/set_default_handler.gyp
index 84c637e..b4cd1c6 100644
--- a/tools/set_default_handler/set_default_handler.gyp
+++ b/tools/set_default_handler/set_default_handler.gyp
@@ -15,5 +15,5 @@
         '../../ui/gfx/gfx.gyp:gfx',
         '../../ui/gfx/gfx.gyp:gfx_geometry',
-        '../../win8/win8.gyp:test_support_win8',
+#        '../../win8/win8.gyp:test_support_win8',
       ],
       'include_dirs': [
diff --git a/ui/accessibility/accessibility.gyp b/ui/accessibility/accessibility.gyp
index 88613e6..5d7f13d 100644
--- a/ui/accessibility/accessibility.gyp
+++ b/ui/accessibility/accessibility.gyp
@@ -63,5 +63,5 @@
     },
     {
-      'target_name': 'accessibility_test_support',
+#      'target_name': 'accessibility_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -77,22 +77,22 @@
     },
     {
-      'target_name': 'accessibility_unittests',
+#      'target_name': 'accessibility_unittests',
       'type': 'executable',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:run_all_unittests',
+#        '../../base/base.gyp:run_all_unittests',
         '../../testing/gtest.gyp:gtest',
         '../gfx/gfx.gyp:gfx',
         '../gfx/gfx.gyp:gfx_geometry',
         'accessibility',
-        'accessibility_test_support',
+#        'accessibility_test_support',
         'ax_gen',
       ],
       'sources': [
-        'ax_generated_tree_unittest.cc',
-        'ax_text_utils_unittest.cc',
-        'ax_tree_serializer_unittest.cc',
-        'ax_tree_unittest.cc',
-	'platform/ax_platform_node_win_unittest.cc'
+#        'ax_generated_tree_unittest.cc',
+#        'ax_text_utils_unittest.cc',
+#        'ax_tree_serializer_unittest.cc',
+#        'ax_tree_unittest.cc',
+#	'platform/ax_platform_node_win_unittest.cc'
       ],
       'conditions': [
@@ -137,8 +137,8 @@
       'targets': [
         {
-          'target_name': 'accessibility_unittests_run',
+#          'target_name': 'accessibility_unittests_run',
           'type': 'none',
           'dependencies': [
-            'accessibility_unittests',
+#            'accessibility_unittests',
           ],
           'includes': [
@@ -146,5 +146,5 @@
           ],
           'sources': [
-            'accessibility_unittests.isolate',
+#            'accessibility_unittests.isolate',
           ],
           'conditions': [
diff --git a/ui/accessibility/BUILD.gn b/ui/accessibility/BUILD.gn
index d168b5e..8947bce 100644
--- a/ui/accessibility/BUILD.gn
+++ b/ui/accessibility/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/json_schema_api.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("accessibility") {
@@ -50,40 +50,5 @@ component("accessibility") {
 }
 
-source_set("test_support") {
-  sources = [
-    "platform/test_ax_node_wrapper.cc",
-    "platform/test_ax_node_wrapper.h",
-    "tree_generator.cc",
-    "tree_generator.h",
-  ]
-
-  deps = [
-    ":accessibility",
-  ]
-}
-
-test("accessibility_unittests") {
-  sources = [
-    "ax_generated_tree_unittest.cc",
-    "ax_text_utils_unittest.cc",
-    "ax_tree_serializer_unittest.cc",
-    "ax_tree_unittest.cc",
-    "platform/ax_platform_node_win_unittest.cc",
-  ]
 
-  deps = [
-    ":accessibility",
-    ":test_support",
-    "//base",
-    "//base/test:run_all_unittests",
-    "//testing/gtest",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-  ]
-
-  if (is_win) {
-    deps += [ "//third_party/iaccessible2" ]
-  }
-}
 
 json_schema_api("ax_gen") {
diff --git a/ui/android/BUILD.gn b/ui/android/BUILD.gn
index 213b8fc..33472e2 100644
--- a/ui/android/BUILD.gn
+++ b/ui/android/BUILD.gn
@@ -3,6 +3,6 @@
 # found in the LICENSE file.
 
-import("//build/config/android/rules.gni")
-import("//testing/test.gni")
+#import("//build/config/android/rules.gni")
+#import("//testing/test.gni")
 
 assert(is_android)
@@ -148,5 +148,5 @@ android_library("ui_javatests") {
     ":ui_java",
     "//base:base_java",
-    "//base:base_java_test_support",
+#    "//base:base_java_test_support",
   ]
 }
@@ -154,17 +154,17 @@ android_library("ui_javatests") {
 test("ui_android_unittests") {
   sources = [
-    "resources/resource_manager_impl_unittest.cc",
-    "run_all_unittests.cc",
+#    "resources/resource_manager_impl_unittest.cc",
+#    "run_all_unittests.cc",
   ]
   deps = [
     ":android",
     "//base",
-    "//base/test:test_support",
+#    "//base/test:test_support",
     "//cc",
     "//skia",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//ui/base",
     "//ui/gfx",
-    "//ui/resources:ui_test_pak",
+#    "//ui/resources:ui_test_pak",
   ]
   apk_deps = [ ":ui_java" ]
diff --git a/ui/android/ui_android.gyp b/ui/android/ui_android.gyp
index 5a155fc..868077d 100644
--- a/ui/android/ui_android.gyp
+++ b/ui/android/ui_android.gyp
@@ -142,5 +142,5 @@
       },
       'dependencies': [
-        '../../base/base.gyp:base_java_test_support',
+#        '../../base/base.gyp:base_java_test_support',
         'ui_java',
       ],
@@ -160,33 +160,33 @@
     },
     {
-      # GN version: //ui/android:ui_android_unittests
-      'target_name': 'ui_android_unittests',
+#      # GN version: //ui/android:ui_android_unittests
+#      'target_name': 'ui_android_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../cc/cc.gyp:cc',
         '../../skia/skia.gyp:skia',
-        '../../testing/android/native_test.gyp:native_test_native_code',
+#        '../../testing/android/native_test.gyp:native_test_native_code',
         '../../testing/gtest.gyp:gtest',
         '../base/ui_base.gyp:ui_base',
         '../gfx/gfx.gyp:gfx',
-        '../resources/ui_resources.gyp:ui_test_pak',
+#        '../resources/ui_resources.gyp:ui_test_pak',
         'ui_android',
       ],
       'sources': [
-        'resources/resource_manager_impl_unittest.cc',
-        'run_all_unittests.cc',
+#        'resources/resource_manager_impl_unittest.cc',
+#        'run_all_unittests.cc',
       ],
     },
     {
-      'target_name': 'ui_android_unittests_apk',
+#      'target_name': 'ui_android_unittests_apk',
       'type': 'none',
       'dependencies': [
-        'ui_android_unittests',
+#        'ui_android_unittests',
         'ui_java',
       ],
       'variables': {
-        'test_suite_name': 'ui_android_unittests',
+#        'test_suite_name': 'ui_android_unittests',
       },
       'includes': [ '../../build/apk_test.gypi' ],
diff --git a/ui/app_list/app_list.gyp b/ui/app_list/app_list.gyp
index d6c062d..f141ecc 100644
--- a/ui/app_list/app_list.gyp
+++ b/ui/app_list/app_list.gyp
@@ -215,6 +215,6 @@
     },
     {
-      # GN version: //ui/app_list:test_support
-      'target_name': 'app_list_test_support',
+#      # GN version: //ui/app_list:test_support
+#      'target_name': 'app_list_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -227,8 +227,8 @@
       'sources': [
         # Note: sources list duplicated in GN build.
-        'test/app_list_test_model.cc',
-        'test/app_list_test_model.h',
-        'test/app_list_test_view_delegate.cc',
-        'test/app_list_test_view_delegate.h',
+#        'test/app_list_test_model.cc',
+#        'test/app_list_test_model.h',
+#        'test/app_list_test_view_delegate.cc',
+#        'test/app_list_test_view_delegate.h',
         'test/test_search_result.cc',
         'test/test_search_result.h',
@@ -236,10 +236,10 @@
     },
     {
-      # GN version: //ui/app_list:app_list_unittests
-      'target_name': 'app_list_unittests',
+#      # GN version: //ui/app_list:app_list_unittests
+#      'target_name': 'app_list_unittests',
       'type': 'executable',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../skia/skia.gyp:skia',
         '../../testing/gtest.gyp:gtest',
@@ -247,39 +247,39 @@
         '../compositor/compositor.gyp:compositor',
         '../resources/ui_resources.gyp:ui_resources',
-        '../resources/ui_resources.gyp:ui_test_pak',
+#        '../resources/ui_resources.gyp:ui_test_pak',
         'app_list',
-        'app_list_test_support',
+#        'app_list_test_support',
       ],
       'sources': [
         # Note: sources list duplicated in GN build.
-        'app_list_item_list_unittest.cc',
-        'app_list_model_unittest.cc',
-        'cocoa/app_list_view_controller_unittest.mm',
-        'cocoa/app_list_window_controller_unittest.mm',
-        'cocoa/apps_grid_controller_unittest.mm',
-        'cocoa/apps_search_box_controller_unittest.mm',
-        'cocoa/apps_search_results_controller_unittest.mm',
-        'cocoa/test/apps_grid_controller_test_helper.h',
-        'cocoa/test/apps_grid_controller_test_helper.mm',
-        'folder_image_unittest.cc',
-        'pagination_model_unittest.cc',
-        'search/history_data_store_unittest.cc',
-        'search/mixer_unittest.cc',
-        'search/term_break_iterator_unittest.cc',
-        'search/tokenized_string_char_iterator_unittest.cc',
-        'search/tokenized_string_match_unittest.cc',
-        'search/tokenized_string_unittest.cc',
-        'test/run_all_unittests.cc',
-        'views/app_list_main_view_unittest.cc',
-        'views/app_list_view_unittest.cc',
-        'views/apps_grid_view_unittest.cc',
-        'views/contents_view_unittest.cc',
-        'views/folder_header_view_unittest.cc',
-        'views/search_box_view_unittest.cc',
-        'views/search_result_list_view_unittest.cc',
-        'views/search_result_page_view_unittest.cc',
-        'views/speech_view_unittest.cc',
-        'views/test/apps_grid_view_test_api.cc',
-        'views/test/apps_grid_view_test_api.h',
+#        'app_list_item_list_unittest.cc',
+#        'app_list_model_unittest.cc',
+#        'cocoa/app_list_view_controller_unittest.mm',
+#        'cocoa/app_list_window_controller_unittest.mm',
+#        'cocoa/apps_grid_controller_unittest.mm',
+#        'cocoa/apps_search_box_controller_unittest.mm',
+#        'cocoa/apps_search_results_controller_unittest.mm',
+#        'cocoa/test/apps_grid_controller_test_helper.h',
+#        'cocoa/test/apps_grid_controller_test_helper.mm',
+#        'folder_image_unittest.cc',
+#        'pagination_model_unittest.cc',
+#        'search/history_data_store_unittest.cc',
+#        'search/mixer_unittest.cc',
+#        'search/term_break_iterator_unittest.cc',
+#        'search/tokenized_string_char_iterator_unittest.cc',
+#        'search/tokenized_string_match_unittest.cc',
+#        'search/tokenized_string_unittest.cc',
+#        'test/run_all_unittests.cc',
+#        'views/app_list_main_view_unittest.cc',
+#        'views/app_list_view_unittest.cc',
+#        'views/apps_grid_view_unittest.cc',
+#        'views/contents_view_unittest.cc',
+#        'views/folder_header_view_unittest.cc',
+#        'views/search_box_view_unittest.cc',
+#        'views/search_result_list_view_unittest.cc',
+#        'views/search_result_page_view_unittest.cc',
+#        'views/speech_view_unittest.cc',
+#        'views/test/apps_grid_view_test_api.cc',
+#        'views/test/apps_grid_view_test_api.h',
       ],
       'conditions': [
@@ -287,5 +287,5 @@
           'dependencies': [
             '../views/views.gyp:views',
-            '../views/views.gyp:views_test_support',
+#            '../views/views.gyp:views_test_support',
           ],
         }, {  # toolkit_views==0
@@ -296,6 +296,6 @@
         ['OS=="mac"', {
           'dependencies': [
-            '../events/events.gyp:events_test_support',
-            '../gfx/gfx.gyp:gfx_test_support',
+#            '../events/events.gyp:events_test_support',
+#            '../gfx/gfx.gyp:gfx_test_support',
           ],
           'conditions': [
@@ -344,10 +344,10 @@
             '../events/events.gyp:events',
             '../resources/ui_resources.gyp:ui_resources',
-            '../resources/ui_resources.gyp:ui_test_pak',
+#            '../resources/ui_resources.gyp:ui_test_pak',
             '../views/controls/webview/webview.gyp:webview',
             '../views/views.gyp:views',
             '../views_content_client/views_content_client.gyp:views_content_client',
             'app_list',
-            'app_list_test_support',
+#            'app_list_test_support',
           ],
           'conditions': [
@@ -375,8 +375,8 @@
       'targets': [
         {
-          'target_name': 'app_list_unittests_run',
+#          'target_name': 'app_list_unittests_run',
           'type': 'none',
           'dependencies': [
-            'app_list_unittests',
+#            'app_list_unittests',
           ],
           'includes': [
@@ -384,5 +384,5 @@
           ],
           'sources': [
-            'app_list_unittests.isolate',
+#            'app_list_unittests.isolate',
           ],
           'conditions': [
diff --git a/ui/app_list/BUILD.gn b/ui/app_list/BUILD.gn
index 2709e3a..6f57f02 100644
--- a/ui/app_list/BUILD.gn
+++ b/ui/app_list/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("app_list") {
@@ -76,5 +76,5 @@ component("app_list") {
     "//components/keyed_service/core",
     "//skia",
-    "//sync",
+#    "//sync",
     "//third_party/icu",
     "//ui/accessibility",
@@ -200,124 +200,4 @@ component("app_list") {
 }
 
-static_library("test_support") {
-  sources = [
-    "test/app_list_test_model.cc",
-    "test/app_list_test_model.h",
-    "test/app_list_test_view_delegate.cc",
-    "test/app_list_test_view_delegate.h",
-    "test/test_search_result.cc",
-    "test/test_search_result.h",
-  ]
 
-  deps = [
-    ":app_list",
-    "//base",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/resources",
-  ]
-}
-
-if (is_linux && !is_chromeos) {
-  # TODO(GYP): Figure out which of these work and are needed on other platforms.
-  if (toolkit_views) {
-    executable("app_list_demo") {
-      testonly = true
 
-      sources = [
-        "demo/app_list_demo_views.cc",
-      ]
-
-      deps = [
-        ":app_list",
-        ":test_support",
-        "//base",
-        "//content",
-        "//content/public/browser",
-        "//skia",
-        "//url",
-        "//ui/base",
-        "//ui/events",
-        "//ui/resources",
-        "//ui/resources:ui_test_pak",
-        "//ui/views",
-        "//ui/views_content_client",
-        "//ui/views/controls/webview",
-      ]
-      if (is_win) {
-        configs -= [ "//build/config/win:console" ]
-        configs += [ "//build/config/win:windowed" ]
-
-        deps += [
-          "//sandbox",
-          "//content:content_startup_helper_win",
-        ]
-      }
-    }
-  }
-}
-
-test("app_list_unittests") {
-  sources = [
-    "app_list_item_list_unittest.cc",
-    "app_list_model_unittest.cc",
-    "folder_image_unittest.cc",
-    "pagination_model_unittest.cc",
-    "search/history_data_store_unittest.cc",
-    "search/mixer_unittest.cc",
-    "search/term_break_iterator_unittest.cc",
-    "search/tokenized_string_char_iterator_unittest.cc",
-    "search/tokenized_string_match_unittest.cc",
-    "search/tokenized_string_unittest.cc",
-    "test/run_all_unittests.cc",
-  ]
-
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":app_list",
-    ":test_support",
-    "//base",
-    "//base/test:test_support",
-    "//skia",
-    "//testing/gtest",
-    "//ui/base",
-    "//ui/compositor",
-    "//ui/events",
-    "//ui/events:test_support",
-    "//ui/gl",
-    "//ui/resources",
-    "//ui/resources:ui_test_pak",
-  ]
-
-  if (toolkit_views) {
-    sources += [
-      "views/app_list_main_view_unittest.cc",
-      "views/app_list_view_unittest.cc",
-      "views/apps_grid_view_unittest.cc",
-      "views/contents_view_unittest.cc",
-      "views/folder_header_view_unittest.cc",
-      "views/search_box_view_unittest.cc",
-      "views/search_result_list_view_unittest.cc",
-      "views/speech_view_unittest.cc",
-      "views/test/apps_grid_view_test_api.cc",
-      "views/test/apps_grid_view_test_api.h",
-    ]
-    deps += [
-      "//ui/views",
-      "//ui/views:test_support",
-    ]
-  }
-
-  if (is_mac) {
-    sources += [
-      "cocoa/app_list_view_controller_unittest.mm",
-      "cocoa/app_list_window_controller_unittest.mm",
-      "cocoa/apps_grid_controller_unittest.mm",
-      "cocoa/apps_search_box_controller_unittest.mm",
-      "cocoa/apps_search_results_controller_unittest.mm",
-      "cocoa/test/apps_grid_controller_test_helper.h",
-      "cocoa/test/apps_grid_controller_test_helper.mm",
-    ]
-  }
-}
diff --git a/ui/app_list/search_box_model.cc b/ui/app_list/search_box_model.cc
index 87632d5..a31ca49 100644
--- a/ui/app_list/search_box_model.cc
+++ b/ui/app_list/search_box_model.cc
@@ -5,5 +5,5 @@
 #include "ui/app_list/search_box_model.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "ui/app_list/search_box_model_observer.h"
 
diff --git a/ui/app_list/search_controller.cc b/ui/app_list/search_controller.cc
index 0b1639e..cde4fb6 100644
--- a/ui/app_list/search_controller.cc
+++ b/ui/app_list/search_controller.cc
@@ -10,6 +10,6 @@
 #include "base/bind.h"
 #include "base/memory/scoped_ptr.h"
-#include "base/metrics/histogram_macros.h"
-#include "base/metrics/user_metrics.h"
+//#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/user_metrics.h"
 #include "base/strings/string_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/ui/app_list/views/all_apps_tile_item_view.cc b/ui/app_list/views/all_apps_tile_item_view.cc
index c7e10f7..16eca3d 100644
--- a/ui/app_list/views/all_apps_tile_item_view.cc
+++ b/ui/app_list/views/all_apps_tile_item_view.cc
@@ -5,5 +5,5 @@
 #include "ui/app_list/views/all_apps_tile_item_view.h"
 
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "ui/app_list/app_list_constants.h"
 #include "ui/app_list/views/contents_view.h"
diff --git a/ui/app_list/views/app_list_view.cc b/ui/app_list/views/app_list_view.cc
index 216abf4..e4a17f0 100644
--- a/ui/app_list/views/app_list_view.cc
+++ b/ui/app_list/views/app_list_view.cc
@@ -8,5 +8,5 @@
 
 #include "base/command_line.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/profiler/scoped_tracker.h"
 #include "base/strings/string_util.h"
diff --git a/ui/app_list/views/start_page_view.cc b/ui/app_list/views/start_page_view.cc
index 401aae1..77e1e76 100644
--- a/ui/app_list/views/start_page_view.cc
+++ b/ui/app_list/views/start_page_view.cc
@@ -8,5 +8,5 @@
 
 #include "base/i18n/rtl.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/strings/utf_string_conversions.h"
 #include "ui/accessibility/ax_view_state.h"
diff --git a/ui/aura/aura.gyp b/ui/aura/aura.gyp
index 1385482..f4bc1b7 100644
--- a/ui/aura/aura.gyp
+++ b/ui/aura/aura.gyp
@@ -145,6 +145,6 @@
     },
     {
-      # GN version: //ui/aura:test_support
-      'target_name': 'aura_test_support',
+#      # GN version: //ui/aura:test_support
+#      'target_name': 'aura_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -153,9 +153,9 @@
         '../base/ime/ui_base_ime.gyp:ui_base_ime',
         '../base/ui_base.gyp:ui_base',
-        '../base/ui_base.gyp:ui_base_test_support',
-        '../compositor/compositor.gyp:compositor_test_support',
+#        '../base/ui_base.gyp:ui_base_test_support',
+#        '../compositor/compositor.gyp:compositor_test_support',
         '../events/events.gyp:events',
         '../events/events.gyp:events_base',
-        '../events/events.gyp:events_test_support',
+#        '../events/events.gyp:events_test_support',
         '../gfx/gfx.gyp:gfx',
         '../gfx/gfx.gyp:gfx_geometry',
@@ -166,11 +166,11 @@
       ],
       'sources': [
-        'test/aura_test_base.cc',
-        'test/aura_test_base.h',
-        'test/aura_test_helper.cc',
-        'test/aura_test_helper.h',
-        'test/aura_test_utils.cc',
-        'test/aura_test_utils.h',
-        'test/env_test_helper.h',
+#        'test/aura_test_base.cc',
+#        'test/aura_test_base.h',
+#        'test/aura_test_helper.cc',
+#        'test/aura_test_helper.h',
+#        'test/aura_test_utils.cc',
+#        'test/aura_test_utils.h',
+#        'test/env_test_helper.h',
         'test/event_generator_delegate_aura.cc',
         'test/event_generator_delegate_aura.h',
@@ -191,8 +191,8 @@
         'test/ui_controls_factory_aurax11.cc',
         'test/ui_controls_factory_ozone.cc',
-        'test/window_event_dispatcher_test_api.cc',
-        'test/window_event_dispatcher_test_api.h',
-        'test/window_test_api.cc',
-        'test/window_test_api.h',
+#        'test/window_event_dispatcher_test_api.cc',
+#        'test/window_event_dispatcher_test_api.h',
+#        'test/window_test_api.cc',
+#        'test/window_test_api.h',
         'test/x11_event_sender.cc',
         'test/x11_event_sender.h',
@@ -212,10 +212,10 @@
         '../base/ui_base.gyp:ui_base',
         '../compositor/compositor.gyp:compositor',
-        '../compositor/compositor.gyp:compositor_test_support',
+#        '../compositor/compositor.gyp:compositor_test_support',
         '../events/events.gyp:events',
         '../gfx/gfx.gyp:gfx',
         '../gfx/gfx.gyp:gfx_geometry',
         'aura',
-        'aura_test_support',
+#        'aura_test_support',
       ],
       'include_dirs': [
@@ -246,10 +246,10 @@
         '../base/ui_base.gyp:ui_base',
         '../compositor/compositor.gyp:compositor',
-        '../compositor/compositor.gyp:compositor_test_support',
+#        '../compositor/compositor.gyp:compositor_test_support',
         '../events/events.gyp:events',
         '../gfx/gfx.gyp:gfx',
         '../gfx/gfx.gyp:gfx_geometry',
         'aura',
-        'aura_test_support',
+#        'aura_test_support',
       ],
       'include_dirs': [
@@ -268,15 +268,15 @@
     },
     {
-      'target_name': 'aura_unittests',
+#      'target_name': 'aura_unittests',
       'type': 'executable',
       'dependencies': [
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../skia/skia.gyp:skia',
         '../../testing/gtest.gyp:gtest',
         '../base/ime/ui_base_ime.gyp:ui_base_ime',
         '../base/ui_base.gyp:ui_base',
-        '../base/ui_base.gyp:ui_base_test_support',
+#        '../base/ui_base.gyp:ui_base_test_support',
         '../compositor/compositor.gyp:compositor',
-        '../compositor/compositor.gyp:compositor_test_support',
+#        '../compositor/compositor.gyp:compositor_test_support',
         '../events/events.gyp:events',
         '../events/events.gyp:events_base',
@@ -285,5 +285,5 @@
         '../gfx/gfx.gyp:gfx_geometry',
         '../gl/gl.gyp:gl',
-        'aura_test_support',
+#        'aura_test_support',
         'aura',
       ],
@@ -292,9 +292,9 @@
       ],
       'sources': [
-        'gestures/gesture_recognizer_unittest.cc',
-        'test/run_all_unittests.cc',
-        'window_event_dispatcher_unittest.cc',
-        'window_targeter_unittest.cc',
-        'window_unittest.cc',
+#        'gestures/gesture_recognizer_unittest.cc',
+#        'test/run_all_unittests.cc',
+#        'window_event_dispatcher_unittest.cc',
+#        'window_targeter_unittest.cc',
+#        'window_unittest.cc',
       ],
       'conditions': [
diff --git a/ui/aura/BUILD.gn b/ui/aura/BUILD.gn
index 83e65f0..2352ab5 100644
--- a/ui/aura/BUILD.gn
+++ b/ui/aura/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("aura") {
@@ -146,159 +146,4 @@ component("aura") {
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "test/aura_test_base.cc",
-    "test/aura_test_base.h",
-    "test/aura_test_helper.cc",
-    "test/aura_test_helper.h",
-    "test/aura_test_utils.cc",
-    "test/aura_test_utils.h",
-    "test/env_test_helper.h",
-    "test/event_generator_delegate_aura.cc",
-    "test/event_generator_delegate_aura.h",
-    "test/test_cursor_client.cc",
-    "test/test_cursor_client.h",
-    "test/test_focus_client.cc",
-    "test/test_focus_client.h",
-    "test/test_screen.cc",
-    "test/test_screen.h",
-    "test/test_window_delegate.cc",
-    "test/test_window_delegate.h",
-    "test/test_window_tree_client.cc",
-    "test/test_window_tree_client.h",
-    "test/test_windows.cc",
-    "test/test_windows.h",
-    "test/ui_controls_factory_aura.h",
-    "test/window_event_dispatcher_test_api.cc",
-    "test/window_event_dispatcher_test_api.h",
-    "test/window_test_api.cc",
-    "test/window_test_api.h",
-  ]
 
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
 
-  public_deps = [
-    ":aura",
-  ]
-  deps = [
-    "//skia",
-    "//testing/gtest",
-    "//ui/base:test_support",
-    "//ui/base/ime",
-    "//ui/compositor:test_support",
-    "//ui/events",
-    "//ui/events:events_base",
-    "//ui/events:test_support",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/wm",
-  ]
-
-  if (is_win) {
-    sources += [ "test/ui_controls_factory_aurawin.cc" ]
-  }
-
-  if (use_x11) {
-    sources += [
-      "test/ui_controls_factory_aurax11.cc",
-      "test/x11_event_sender.cc",
-      "test/x11_event_sender.h",
-    ]
-
-    deps += [ "//ui/gfx/x" ]
-  }
-
-  if (use_ozone) {
-    sources += [ "test/ui_controls_factory_ozone.cc" ]
-  }
-}
-
-executable("demo") {
-  output_name = "aura_demo"
-  testonly = true
-
-  sources = [
-    "demo/demo_main.cc",
-  ]
-
-  deps = [
-    ":aura",
-    ":test_support",
-    "//base",
-    "//base:i18n",
-    "//skia",
-    "//third_party/icu",
-    "//ui/base",
-    "//ui/compositor",
-    "//ui/compositor:test_support",
-    "//ui/events",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-  ]
-
-  if (use_x11) {
-    deps += [ "//ui/gfx/x" ]
-  }
-}
-
-executable("bench") {
-  output_name = "aura_bench"
-  testonly = true
-
-  sources = [
-    "bench/bench_main.cc",
-  ]
-
-  deps = [
-    ":test_support",
-    "//base",
-    "//base:i18n",
-    "//cc",
-    "//gpu/command_buffer/client:gles2_interface",
-    "//skia",
-    "//third_party/icu",
-    "//ui/base",
-    "//ui/compositor",
-    "//ui/compositor:test_support",
-    "//ui/events",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-  ]
-
-  if (use_x11) {
-    deps += [ "//ui/gfx/x" ]
-  }
-}
-
-test("aura_unittests") {
-  sources = [
-    "gestures/gesture_recognizer_unittest.cc",
-    "test/run_all_unittests.cc",
-    "window_event_dispatcher_unittest.cc",
-    "window_targeter_unittest.cc",
-    "window_unittest.cc",
-  ]
-
-  deps = [
-    ":test_support",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//skia",
-    "//testing/gtest",
-    "//ui/base:test_support",
-    "//ui/compositor:test_support",
-    "//ui/events:test_support",
-    "//ui/events:gesture_detection",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-  ]
-
-  if (is_linux) {
-    deps += [ "//third_party/mesa" ]
-  }
-}
diff --git a/ui/base/BUILD.gn b/ui/base/BUILD.gn
index 9b91d20..f86d2e5 100644
--- a/ui/base/BUILD.gn
+++ b/ui/base/BUILD.gn
@@ -4,12 +4,11 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 if (is_android) {
-  import("//build/config/android/config.gni")
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/config.gni")
+#  import("//build/config/android/rules.gni")
 }
 
-build_ime = !is_ios
 
 component("base") {
@@ -561,245 +560,4 @@ component("base") {
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "test/test_clipboard.cc",
-    "test/test_clipboard.h",
-    "test/ui_controls.h",
-    "test/ui_controls_aura.cc",
-    "test/ui_controls_internal_win.cc",
-    "test/ui_controls_internal_win.h",
-    "test/ui_controls_mac.mm",
-    "test/ui_controls_win.cc",
-  ]
 
-  public_deps = [
-    ":base",
-  ]
-  deps = [
-    "//base",
-    "//skia",
-    "//testing/gtest",
-    "//ui/events:events_base",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-  ]
 
-  if (build_ime) {
-    sources += [
-      "ime/dummy_input_method.cc",
-      "ime/dummy_input_method.h",
-      "ime/dummy_text_input_client.cc",
-      "ime/dummy_text_input_client.h",
-    ]
-
-    deps += [ "//ui/base/ime" ]
-  }
-
-  if (!use_aura) {
-    sources -= [ "test/ui_controls_aura.cc" ]
-  } else if (is_win) {
-    sources -= [ "test/ui_controls_win.cc" ]
-  }
-}
-
-if (is_android) {
-  generate_jni("ui_base_jni_headers") {
-    sources = [
-      "../android/java/src/org/chromium/ui/base/Clipboard.java",
-      "../android/java/src/org/chromium/ui/base/DeviceFormFactor.java",
-      "../android/java/src/org/chromium/ui/base/LocalizationUtils.java",
-      "../android/java/src/org/chromium/ui/base/ResourceBundle.java",
-      "../android/java/src/org/chromium/ui/base/SelectFileDialog.java",
-      "../android/java/src/org/chromium/ui/base/TouchDevice.java",
-    ]
-    jni_package = "base"
-  }
-}
-
-# GYP version: ui/base/ui_base_tests.gyp:ui_base_unittests
-test("ui_base_unittests") {
-  sources = [
-    "l10n/l10n_util_mac_unittest.mm",
-    "l10n/l10n_util_unittest.cc",
-    "l10n/l10n_util_win_unittest.cc",
-    "l10n/time_format_unittest.cc",
-    "layout_unittest.cc",
-    "models/tree_node_iterator_unittest.cc",
-    "resource/data_pack_literal.cc",
-    "resource/data_pack_unittest.cc",
-    "resource/resource_bundle_unittest.cc",
-    "test/run_all_unittests.cc",
-    "test/test_clipboard_unittest.cc",
-    "user_activity/user_activity_detector_unittest.cc",
-  ]
-
-  if (is_android) {
-    sources -= [ "user_activity/user_activity_detector_unittest.cc" ]
-  }
-
-  if (is_ios) {
-    # Compile this Mac file on iOS as well.
-    set_sources_assignment_filter([])
-    sources += [ "l10n/l10n_util_mac_unittest.mm" ]
-    set_sources_assignment_filter(sources_assignment_filter)
-  } else {  # !is_ios
-    sources += [
-      "accelerators/accelerator_manager_unittest.cc",
-      "accelerators/menu_label_accelerator_util_linux_unittest.cc",
-      "clipboard/custom_data_helper_unittest.cc",
-      "cocoa/base_view_unittest.mm",
-      "cocoa/cocoa_base_utils_unittest.mm",
-      "cocoa/controls/blue_label_button_unittest.mm",
-      "cocoa/controls/hover_image_menu_button_unittest.mm",
-      "cocoa/controls/hyperlink_button_cell_unittest.mm",
-      "cocoa/controls/hyperlink_text_view_unittest.mm",
-      "cocoa/focus_tracker_unittest.mm",
-      "cocoa/fullscreen_window_manager_unittest.mm",
-      "cocoa/hover_image_button_unittest.mm",
-      "cocoa/menu_controller_unittest.mm",
-      "cocoa/nsgraphics_context_additions_unittest.mm",
-      "cocoa/nsview_additions_unittest.mm",
-      "cocoa/three_part_image_unittest.mm",
-      "cocoa/tracking_area_unittest.mm",
-      "models/list_model_unittest.cc",
-      "models/list_selection_model_unittest.cc",
-      "models/tree_node_model_unittest.cc",
-      "test/data/resource.h",
-      "text/bytes_formatting_unittest.cc",
-      "touch/selection_bound_unittest.cc",
-      "view_prop_unittest.cc",
-      "webui/web_ui_util_unittest.cc",
-    ]
-  }
-
-  if (build_ime) {
-    sources += [
-      "ime/candidate_window_unittest.cc",
-      "ime/chromeos/character_composer_unittest.cc",
-      "ime/input_method_base_unittest.cc",
-      "ime/input_method_chromeos_unittest.cc",
-      "ime/remote_input_method_win_unittest.cc",
-      "ime/win/imm32_manager_unittest.cc",
-      "ime/win/tsf_input_scope_unittest.cc",
-    ]
-    if (use_x11) {
-      sources += [ "ime/composition_text_util_pango_unittest.cc" ]
-    }
-    if (!use_x11 && is_chromeos) {
-      # These were already removed in the non-chromeos case.
-      sources -= [
-        "ime/chromeos/character_composer_unittest.cc",
-        "ime/input_method_chromeos_unittest.cc",
-      ]
-    }
-  }
-
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    "//base",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//net",
-    "//skia",
-    "//testing/gmock",
-    "//testing/gtest",
-    "//third_party/icu",
-    "//ui/base",
-    "//ui/base:test_support",
-    "//ui/events:events_base",
-    "//ui/events:test_support",
-    "//ui/gfx:test_support",
-    "//ui/resources",
-    "//ui/resources:ui_test_pak",
-    "//ui/strings",
-    "//url",
-  ]
-
-  if (is_ios) {
-    # TODO(GYP) lots of iOS-only steps for ui_base_unittests
-  }
-
-  if (build_ime) {
-    deps += [ "//ui/base/ime" ]
-  }
-
-  if (is_win) {
-    sources += [
-      "dragdrop/os_exchange_data_win_unittest.cc",
-      "win/hwnd_subclass_unittest.cc",
-      "win/open_file_name_win_unittest.cc",
-    ]
-
-    ldflags = [
-      "/DELAYLOAD:d2d1.dll",
-      "/DELAYLOAD:d3d10_1.dll",
-    ]
-    libs = [
-      "d2d1.lib",
-      "d3d10_1.lib",
-      "imm32.lib",
-      "oleacc.lib",
-    ]
-  }
-
-  if (!is_win || !use_aura) {
-    sources -= [ "view_prop_unittest.cc" ]
-  }
-
-  if (is_android) {
-    apk_deps = [ "//chrome:resources" ]
-  }
-
-  if (use_pango) {
-    configs += [ "//build/config/linux:pangocairo" ]
-  }
-
-  if (use_x11) {
-    sources += [ "cursor/cursor_loader_x11_unittest.cc" ]
-
-    configs += [ "//build/config/linux:x11" ]
-
-    deps += [
-      "//ui/events/platform/x11",
-      "//ui/gfx/x",
-    ]
-
-    datadeps = [
-      "//tools/xdisplaycheck",
-    ]
-  }
-
-  if (is_mac) {
-    deps += [
-      "//third_party/mozilla",
-      #'ui_base_tests_bundle',  TODO(GYP)
-    ]
-  }
-
-  if (use_aura || toolkit_views) {
-    sources += [ "dragdrop/os_exchange_data_unittest.cc" ]
-
-    deps += [
-      "//ui/events",
-      "//ui/events/platform",
-    ]
-  }
-
-  if (use_x11 && !is_chromeos) {
-    sources += [
-      "dragdrop/os_exchange_data_provider_aurax11_unittest.cc",
-      "x/selection_requestor_unittest.cc",
-    ]
-  }
-
-  if (is_chromeos) {
-    deps += [
-      "//chromeos",
-      "//ui/events:dom4_keycode_converter",
-    ]
-  }
-}
-# TODO(GYP) Mac (ui_base_tests_bundle)
diff --git a/ui/base/clipboard/clipboard_aurax11.cc b/ui/base/clipboard/clipboard_aurax11.cc
index de56858..bce5196 100644
--- a/ui/base/clipboard/clipboard_aurax11.cc
+++ b/ui/base/clipboard/clipboard_aurax11.cc
@@ -16,5 +16,5 @@
 #include "base/memory/scoped_ptr.h"
 #include "base/memory/singleton.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/stl_util.h"
 #include "base/strings/utf_string_conversions.h"
diff --git a/ui/base/ime/BUILD.gn b/ui/base/ime/BUILD.gn
index e697402..69dfb13 100644
--- a/ui/base/ime/BUILD.gn
+++ b/ui/base/ime/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("ime") {
diff --git a/ui/base/resource/data_pack.cc b/ui/base/resource/data_pack.cc
index f9fe9b8..2244e05 100644
--- a/ui/base/resource/data_pack.cc
+++ b/ui/base/resource/data_pack.cc
@@ -11,5 +11,5 @@
 #include "base/logging.h"
 #include "base/memory/ref_counted_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_piece.h"
 
diff --git a/ui/base/resource/resource_bundle.cc b/ui/base/resource/resource_bundle.cc
index 755307c..6ca16e3 100644
--- a/ui/base/resource/resource_bundle.cc
+++ b/ui/base/resource/resource_bundle.cc
@@ -14,5 +14,5 @@
 #include "base/logging.h"
 #include "base/memory/ref_counted_memory.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/path_service.h"
 #include "base/stl_util.h"
diff --git a/ui/base/ui_base.gyp b/ui/base/ui_base.gyp
index ed52cca..a9effe6 100644
--- a/ui/base/ui_base.gyp
+++ b/ui/base/ui_base.gyp
@@ -630,6 +630,6 @@
     },
     {
-      # GN version: //ui/base:test_support
-      'target_name': 'ui_base_test_support',
+#      # GN version: //ui/base:test_support
+#      'target_name': 'ui_base_test_support',
       'dependencies': [
         '../../base/base.gyp:base',
diff --git a/ui/base/x/x11_util.cc b/ui/base/x/x11_util.cc
index a931f27..093b56e 100644
--- a/ui/base/x/x11_util.cc
+++ b/ui/base/x/x11_util.cc
@@ -27,5 +27,5 @@
 #include "base/memory/singleton.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_number_conversions.h"
 #include "base/strings/string_util.h"
diff --git a/ui/chromeos/BUILD.gn b/ui/chromeos/BUILD.gn
index 7ec3dc8..e62e201 100644
--- a/ui/chromeos/BUILD.gn
+++ b/ui/chromeos/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("ui_chromeos") {
@@ -67,26 +67,26 @@ component("ui_chromeos") {
 test("ui_chromeos_unittests") {
   sources = [
-    "ime/candidate_view_unittest.cc",
-    "ime/candidate_window_view_unittest.cc",
-    "ime/input_method_menu_item_unittest.cc",
-    "ime/input_method_menu_manager_unittest.cc",
-    "network/network_state_notifier_unittest.cc",
-    "run_all_unittests.cc",
-    "touch_exploration_controller_unittest.cc",
+#    "ime/candidate_view_unittest.cc",
+#    "ime/candidate_window_view_unittest.cc",
+#    "ime/input_method_menu_item_unittest.cc",
+#    "ime/input_method_menu_manager_unittest.cc",
+#    "network/network_state_notifier_unittest.cc",
+#    "run_all_unittests.cc",
+#    "touch_exploration_controller_unittest.cc",
   ]
   deps = [
     ":ui_chromeos",
-    "//base/test:test_support",
+#    "//base/test:test_support",
     "//chromeos",
     "//skia",
-    "//testing/gtest",
-    "//ui/aura:test_support",
+#    "//testing/gtest",
+#    "//ui/aura:test_support",
     "//ui/compositor",
-    "//ui/events:test_support",
+#    "//ui/events:test_support",
     "//ui/gl",
     "//ui/message_center",
-    "//ui/resources:ui_test_pak",
+#    "//ui/resources:ui_test_pak",
     "//ui/views",
-    "//ui/views:test_support",
+#    "//ui/views:test_support",
   ]
 }
diff --git a/ui/chromeos/ui_chromeos.gyp b/ui/chromeos/ui_chromeos.gyp
index f55823e..6d109d2 100644
--- a/ui/chromeos/ui_chromeos.gyp
+++ b/ui/chromeos/ui_chromeos.gyp
@@ -105,29 +105,29 @@
     },  # target_name: ui_chromeos
     {
-      'target_name': 'ui_chromeos_unittests',
+#      'target_name': 'ui_chromeos_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../chromeos/chromeos.gyp:chromeos',
         '../../skia/skia.gyp:skia',
         '../../testing/gtest.gyp:gtest',
-        '../aura/aura.gyp:aura_test_support',
+#        '../aura/aura.gyp:aura_test_support',
         '../compositor/compositor.gyp:compositor',
         '../message_center/message_center.gyp:message_center',
-        '../resources/ui_resources.gyp:ui_test_pak',
+#        '../resources/ui_resources.gyp:ui_test_pak',
         '../views/views.gyp:views',
-        '../views/views.gyp:views_test_support',
+#        '../views/views.gyp:views_test_support',
         'ui_chromeos',
       ],
       'sources': [
-        '../chromeos/ime/candidate_view_unittest.cc',
-        '../chromeos/ime/candidate_window_view_unittest.cc',
-        '../chromeos/ime/input_method_menu_item_unittest.cc',
-        '../chromeos/ime/input_method_menu_manager_unittest.cc',
-        '../chromeos/network/network_state_notifier_unittest.cc',
-        '../chromeos/touch_exploration_controller_unittest.cc',
-        'run_all_unittests.cc',
+#        '../chromeos/ime/candidate_view_unittest.cc',
+#        '../chromeos/ime/candidate_window_view_unittest.cc',
+#        '../chromeos/ime/input_method_menu_item_unittest.cc',
+#        '../chromeos/ime/input_method_menu_manager_unittest.cc',
+#        '../chromeos/network/network_state_notifier_unittest.cc',
+#        '../chromeos/touch_exploration_controller_unittest.cc',
+#        'run_all_unittests.cc',
       ],
-    },  # target_name: ui_chromeos_unittests
+#    },  # target_name: ui_chromeos_unittests
   ],
 }
diff --git a/ui/compositor/BUILD.gn b/ui/compositor/BUILD.gn
index dcc4782..f345b76 100644
--- a/ui/compositor/BUILD.gn
+++ b/ui/compositor/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("compositor") {
@@ -80,98 +80,3 @@ component("compositor") {
 }
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "test/context_factories_for_test.cc",
-    "test/context_factories_for_test.h",
-    "test/draw_waiter_for_test.cc",
-    "test/draw_waiter_for_test.h",
-    "test/in_process_context_factory.cc",
-    "test/in_process_context_factory.h",
-    "test/in_process_context_provider.cc",
-    "test/in_process_context_provider.h",
-    "test/layer_animator_test_controller.cc",
-    "test/layer_animator_test_controller.h",
-    "test/test_compositor_host.h",
-    "test/test_compositor_host_mac.mm",
-    "test/test_compositor_host_win.cc",
-    "test/test_layer_animation_delegate.cc",
-    "test/test_layer_animation_delegate.h",
-    "test/test_layer_animation_observer.cc",
-    "test/test_layer_animation_observer.h",
-    "test/test_layers.cc",
-    "test/test_layers.h",
-    "test/test_suite.cc",
-    "test/test_suite.h",
-    "test/test_utils.cc",
-    "test/test_utils.h",
-  ]
-
-  public_deps = [
-    ":compositor",
-  ]
-  deps = [
-    "//base/test:test_support",
-    "//cc",
-    "//cc/surfaces",
-    "//cc:test_support",
-    "//gpu/command_buffer/client:gl_in_process_context",
-    "//gpu/command_buffer/client:gles2_c_lib",
-    "//gpu/command_buffer/client:gles2_implementation",
-    "//gpu/command_buffer/common:gles2_utils",
-    "//gpu/skia_bindings",
-    "//skia",
-    "//testing/gtest",
-    "//third_party/WebKit/public:blink_minimal",
-    "//ui/base",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-  ]
 
-  if (use_x11) {
-    configs += [ "//build/config/linux:x11" ]
-    deps += [ "//ui/gfx/x" ]
-  }
-
-  if (use_ozone) {
-    sources += [ "test/test_compositor_host_ozone.cc" ]
-  } else if (use_x11) {
-    sources += [ "test/test_compositor_host_x11.cc" ]
-  }
-}
-
-if (!is_android) {
-  test("compositor_unittests") {
-    sources = [
-      "layer_animation_element_unittest.cc",
-      "layer_animation_sequence_unittest.cc",
-      "layer_animator_unittest.cc",
-      "layer_owner_unittest.cc",
-      "layer_unittest.cc",
-      "run_all_unittests.cc",
-      "transform_animation_curve_adapter_unittest.cc",
-    ]
-
-    deps = [
-      ":compositor",
-      ":test_support",
-      "//base",
-      "//base/allocator",
-      "//base/test:test_support",
-      "//cc",
-      "//cc:test_support",
-      "//skia",
-      "//testing/gtest",
-      "//ui/base",
-      "//ui/gfx",
-      "//ui/gfx/geometry",
-      "//ui/gl",
-      "//ui/resources",
-    ]
-
-    if (is_linux) {
-      deps += [ "//third_party/mesa:osmesa" ]
-    }
-  }
-}
diff --git a/ui/compositor/compositor.cc b/ui/compositor/compositor.cc
index 6293c2c..8c18119 100644
--- a/ui/compositor/compositor.cc
+++ b/ui/compositor/compositor.cc
@@ -11,5 +11,5 @@
 #include "base/command_line.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string_util.h"
 #include "base/sys_info.h"
diff --git a/ui/compositor/compositor.gyp b/ui/compositor/compositor.gyp
index 440b123..ff49714 100644
--- a/ui/compositor/compositor.gyp
+++ b/ui/compositor/compositor.gyp
@@ -84,5 +84,5 @@
     },
     {
-      'target_name': 'compositor_test_support',
+#      'target_name': 'compositor_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -90,5 +90,5 @@
         '<(DEPTH)/cc/cc.gyp:cc',
         '<(DEPTH)/cc/cc.gyp:cc_surfaces',
-        '<(DEPTH)/cc/cc_tests.gyp:cc_test_support',
+#        '<(DEPTH)/cc/cc_tests.gyp:cc_test_support',
         '<(DEPTH)/skia/skia.gyp:skia',
         '<(DEPTH)/testing/gtest.gyp:gtest',
@@ -109,6 +109,6 @@
         'test/in_process_context_provider.cc',
         'test/in_process_context_provider.h',
-        'test/layer_animator_test_controller.cc',
-        'test/layer_animator_test_controller.h',
+#        'test/layer_animator_test_controller.cc',
+#        'test/layer_animator_test_controller.h',
         'test/test_compositor_host.h',
         'test/test_compositor_host_mac.mm',
@@ -137,11 +137,11 @@
     },
     {
-      'target_name': 'compositor_unittests',
+#      'target_name': 'compositor_unittests',
       'type': 'executable',
       'dependencies': [
         '<(DEPTH)/base/base.gyp:base',
-        '<(DEPTH)/base/base.gyp:test_support_base',
+#        '<(DEPTH)/base/base.gyp:test_support_base',
         '<(DEPTH)/cc/cc.gyp:cc',
-        '<(DEPTH)/cc/cc_tests.gyp:cc_test_support',
+#        '<(DEPTH)/cc/cc_tests.gyp:cc_test_support',
         '<(DEPTH)/skia/skia.gyp:skia',
         '<(DEPTH)/testing/gtest.gyp:gtest',
@@ -152,14 +152,14 @@
         '<(DEPTH)/ui/resources/ui_resources.gyp:ui_resources',
         'compositor',
-        'compositor_test_support',
+#        'compositor_test_support',
       ],
       'sources': [
-        'layer_animation_element_unittest.cc',
-        'layer_animation_sequence_unittest.cc',
-        'layer_animator_unittest.cc',
-        'layer_owner_unittest.cc',
-        'layer_unittest.cc',
-        'run_all_unittests.cc',
-        'transform_animation_curve_adapter_unittest.cc',
+#        'layer_animation_element_unittest.cc',
+#        'layer_animation_sequence_unittest.cc',
+#        'layer_animator_unittest.cc',
+#        'layer_owner_unittest.cc',
+#        'layer_unittest.cc',
+#        'run_all_unittests.cc',
+#        'transform_animation_curve_adapter_unittest.cc',
       ],
       'conditions': [
diff --git a/ui/compositor/test/test_utils.cc b/ui/compositor/test/test_utils.cc
index 50f48fd..e1fb4a0 100644
--- a/ui/compositor/test/test_utils.cc
+++ b/ui/compositor/test/test_utils.cc
@@ -5,5 +5,5 @@
 #include "ui/compositor/test/test_utils.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "ui/gfx/geometry/rect.h"
 #include "ui/gfx/transform.h"
diff --git a/ui/display/BUILD.gn b/ui/display/BUILD.gn
index 9b5f2ba..7197ae6 100644
--- a/ui/display/BUILD.gn
+++ b/ui/display/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("display") {
@@ -83,5 +83,5 @@ component("display") {
 
 component("test_util") {
-  output_name = "display_test_util"
+#  output_name = "display_test_util"
   sources = [
     "chromeos/test/test_display_snapshot.cc",
@@ -129,11 +129,11 @@ source_set("test_support") {
 test("display_unittests") {
   sources = [
-    "chromeos/configure_displays_task_unittest.cc",
-    "chromeos/display_configurator_unittest.cc",
-    "chromeos/update_display_configuration_task_unittest.cc",
-    "chromeos/x11/display_util_x11_unittest.cc",
-    "chromeos/x11/native_display_event_dispatcher_x11_unittest.cc",
-    "util/display_util_unittest.cc",
-    "util/edid_parser_unittest.cc",
+#    "chromeos/configure_displays_task_unittest.cc",
+#    "chromeos/display_configurator_unittest.cc",
+#    "chromeos/update_display_configuration_task_unittest.cc",
+#    "chromeos/x11/display_util_x11_unittest.cc",
+#    "chromeos/x11/native_display_event_dispatcher_x11_unittest.cc",
+#    "util/display_util_unittest.cc",
+#    "util/edid_parser_unittest.cc",
   ]
 
@@ -141,6 +141,6 @@ test("display_unittests") {
     ":test_util",
     "//base",
-    "//base/test:run_all_unittests",
-    "//testing/gtest",
+#    "//base/test:run_all_unittests",
+#    "//testing/gtest",
     "//ui/display/util",
     "//ui/gfx/geometry",
@@ -150,6 +150,6 @@ test("display_unittests") {
     deps += [
       ":display",
-      ":test_support",
-      "//base/test:test_support",
+#      ":test_support",
+#      "//base/test:test_support",
       "//ui/display/types",
     ]
@@ -158,6 +158,6 @@ test("display_unittests") {
   if (use_ozone && is_chromeos) {
     sources -= [
-      "chromeos/x11/display_util_x11_unittest.cc",
-      "chromeos/x11/native_display_event_dispatcher_x11_unittest.cc",
+#      "chromeos/x11/display_util_x11_unittest.cc",
+#      "chromeos/x11/native_display_event_dispatcher_x11_unittest.cc",
     ]
   }
diff --git a/ui/display/display.gyp b/ui/display/display.gyp
index ad17901..31edb57 100644
--- a/ui/display/display.gyp
+++ b/ui/display/display.gyp
@@ -137,5 +137,5 @@
       #
       # GN version: //ui/display:test_util
-      'target_name': 'display_test_util',
+#      'target_name': 'display_test_util',
       'type': '<(component)',
       'dependencies': [
@@ -160,7 +160,7 @@
       ],
     },
-    # Internal utilities used by display_unittests
+#    # Internal utilities used by display_unittests
     {
-      'target_name': 'display_test_support',
+#      'target_name': 'display_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -179,9 +179,9 @@
     },
     {
-      # GN version: //ui/display:display_unittests
-      'target_name': 'display_unittests',
+#      # GN version: //ui/display:display_unittests
+#      'target_name': 'display_unittests',
       'type': 'executable',
       'dependencies': [
-        '../../base/base.gyp:run_all_unittests',
+#        '../../base/base.gyp:run_all_unittests',
         '../../testing/gtest.gyp:gtest',
         '../../ui/gfx/gfx.gyp:gfx_geometry',
@@ -192,11 +192,11 @@
       ],
       'sources': [
-        'chromeos/configure_displays_task_unittest.cc',
-        'chromeos/display_configurator_unittest.cc',
-        'chromeos/update_display_configuration_task_unittest.cc',
-        'chromeos/x11/display_util_x11_unittest.cc',
-        'chromeos/x11/native_display_event_dispatcher_x11_unittest.cc',
-        'util/display_util_unittest.cc',
-        'util/edid_parser_unittest.cc',
+#        'chromeos/configure_displays_task_unittest.cc',
+#        'chromeos/display_configurator_unittest.cc',
+#        'chromeos/update_display_configuration_task_unittest.cc',
+#        'chromeos/x11/display_util_x11_unittest.cc',
+#        'chromeos/x11/native_display_event_dispatcher_x11_unittest.cc',
+#        'util/display_util_unittest.cc',
+#        'util/edid_parser_unittest.cc',
       ],
       'conditions': [
@@ -204,6 +204,6 @@
           'dependencies': [
             'display',
-            'display_test_support',
-            'display_test_util',
+#            'display_test_support',
+#            'display_test_util',
             'display_types',
           ],
diff --git a/ui/events/BUILD.gn b/ui/events/BUILD.gn
index c856716..1a5f792 100644
--- a/ui/events/BUILD.gn
+++ b/ui/events/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 static_library("dom4_keycode_converter") {
@@ -226,128 +226,5 @@ component("gesture_detection") {
 }
 
-source_set("test_support") {
-  sources = [
-    "test/cocoa_test_event_utils.h",
-    "test/cocoa_test_event_utils.mm",
-    "test/event_generator.cc",
-    "test/event_generator.h",
-    "test/events_test_utils.cc",
-    "test/events_test_utils.h",
-    "test/motion_event_test_utils.cc",
-    "test/motion_event_test_utils.h",
-    "test/platform_event_waiter.cc",
-    "test/platform_event_waiter.h",
-    "test/test_event_handler.cc",
-    "test/test_event_handler.h",
-    "test/test_event_processor.cc",
-    "test/test_event_processor.h",
-    "test/test_event_target.cc",
-    "test/test_event_target.h",
-  ]
-
-  public_deps = [
-    ":events",
-    ":events_base",
-    ":gesture_detection",
-  ]
-  deps = [
-    "//base",
-    "//skia",
-    "//ui/events/platform",
-    "//ui/gfx/geometry",
-  ]
-
-  if (is_ios) {
-    sources -= [
-      "test/cocoa_test_event_utils.h",
-      "test/cocoa_test_event_utils.mm",
-    ]
-  }
-
-  if (use_x11) {
-    sources += [
-      "test/events_test_utils_x11.cc",
-      "test/events_test_utils_x11.h",
-    ]
-    deps += [
-      "//ui/events/devices",
-      "//ui/gfx/x",
-    ]
-  }
-}
-
-test("events_unittests") {
-  sources = [
-    "android/scroller_unittest.cc",
-    "cocoa/events_mac_unittest.mm",
-    "devices/x11/device_data_manager_x11_unittest.cc",
-    "event_dispatcher_unittest.cc",
-    "event_processor_unittest.cc",
-    "event_rewriter_unittest.cc",
-    "event_unittest.cc",
-    "gesture_detection/bitset_32_unittest.cc",
-    "gesture_detection/filtered_gesture_provider_unittest.cc",
-    "gesture_detection/gesture_event_data_packet_unittest.cc",
-    "gesture_detection/gesture_provider_unittest.cc",
-    "gesture_detection/motion_event_buffer_unittest.cc",
-    "gesture_detection/motion_event_generic_unittest.cc",
-    "gesture_detection/snap_scroll_controller_unittest.cc",
-    "gesture_detection/touch_disposition_gesture_filter_unittest.cc",
-    "gesture_detection/velocity_tracker_unittest.cc",
-    "gestures/fling_curve_unittest.cc",
-    "keycodes/dom4/keycode_converter_unittest.cc",
-    "latency_info_unittest.cc",
-    "platform/platform_event_source_unittest.cc",
-    "x/events_x_unittest.cc",
-  ]
-
-  deps = [
-    ":dom4_keycode_converter",
-    ":events",
-    ":events_base",
-    ":gesture_detection",
-    ":test_support",
-    "//base",
-    "//base/test:run_all_unittests",
-    "//skia",
-    "//testing/gtest",
-    "//ui/events/devices",
-    "//ui/events/platform",
-    "//ui/gfx:test_support",
-  ]
-
-  include_dirs = [ "//testing/gmock/include" ]
-
-  if (use_x11) {
-    configs += [ "//build/config/linux:x11" ]
-    deps += [ "//ui/gfx/x" ]
-  } else {
-    sources -= [
-      "devices/x11/device_data_manager_x11_unittest.cc",
-      "x/events_x_unittest.cc",
-    ]
-  }
-
-  if (use_ozone) {
-    sources += [
-      "ozone/chromeos/cursor_controller_unittest.cc",
-      "ozone/evdev/event_converter_evdev_impl_unittest.cc",
-      "ozone/evdev/event_converter_test_util.cc",
-      "ozone/evdev/input_injector_evdev_unittest.cc",
-      "ozone/evdev/tablet_event_converter_evdev_unittest.cc",
-      "ozone/evdev/touch_event_converter_evdev_unittest.cc",
-      "ozone/layout/xkb/xkb_keyboard_layout_engine_unittest.cc",
-    ]
-    deps += [
-      "//ui/events/ozone:events_ozone",
-      "//ui/events/ozone:events_ozone_evdev",
-      "//ui/events/ozone:events_ozone_layout",
-    ]
-  }
 
-  if (use_aura) {
-    sources += [ "gestures/gesture_provider_aura_unittest.cc" ]
-  }
-}
 
 if (is_nacl) {
diff --git a/ui/events/event.cc b/ui/events/event.cc
index 5e7d8c8..2d1f29f 100644
--- a/ui/events/event.cc
+++ b/ui/events/event.cc
@@ -14,5 +14,5 @@
 #include <cstring>
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/stringprintf.h"
 #include "ui/events/event_utils.h"
@@ -222,21 +222,21 @@ Event::Event(const base::NativeEvent& native_event,
       result_(ER_UNHANDLED),
       source_device_id_(ED_UNKNOWN_DEVICE) {
-  base::TimeDelta delta = EventTimeForNow() - time_stamp_;
-  if (type_ < ET_LAST)
-    name_ = EventTypeName(type_);
-  base::HistogramBase::Sample delta_sample =
-      static_cast<base::HistogramBase::Sample>(delta.InMicroseconds());
-  UMA_HISTOGRAM_CUSTOM_COUNTS("Event.Latency.Browser", delta_sample, 1, 1000000,
-                              100);
-  std::string name_for_event =
-      base::StringPrintf("Event.Latency.Browser.%s", name_.c_str());
-  base::HistogramBase* counter_for_type =
-      base::Histogram::FactoryGet(
-          name_for_event,
-          1,
-          1000000,
-          100,
-          base::HistogramBase::kUmaTargetedHistogramFlag);
-  counter_for_type->Add(delta_sample);
+//  base::TimeDelta delta = EventTimeForNow() - time_stamp_;
+//  if (type_ < ET_LAST)
+//    name_ = EventTypeName(type_);
+//  base::HistogramBase::Sample delta_sample =
+//      static_cast<base::HistogramBase::Sample>(delta.InMicroseconds());
+//  UMA_HISTOGRAM_CUSTOM_COUNTS("Event.Latency.Browser", delta_sample, 1, 1000000,
+//                              100);
+//  std::string name_for_event =
+//      base::StringPrintf("Event.Latency.Browser.%s", name_.c_str());
+//  base::HistogramBase* counter_for_type =
+//      base::Histogram::FactoryGet(
+//          name_for_event,
+//          1,
+//          1000000,
+//          100,
+//          base::HistogramBase::kUmaTargetedHistogramFlag);
+//  counter_for_type->Add(delta_sample);
 
 #if defined(USE_X11)
diff --git a/ui/events/events.gyp b/ui/events/events.gyp
index e817c0e..89029a9 100644
--- a/ui/events/events.gyp
+++ b/ui/events/events.gyp
@@ -250,6 +250,6 @@
     },
     {
-      # GN version: //ui/events:test_support
-      'target_name': 'events_test_support',
+#      # GN version: //ui/events:test_support
+#      'target_name': 'events_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -264,14 +264,14 @@
       'sources': [
         # Note: sources list duplicated in GN build.
-        'test/cocoa_test_event_utils.h',
-        'test/cocoa_test_event_utils.mm',
+#        'test/cocoa_test_event_utils.h',
+#        'test/cocoa_test_event_utils.mm',
         'test/event_generator.cc',
         'test/event_generator.h',
-        'test/events_test_utils.cc',
-        'test/events_test_utils.h',
-        'test/events_test_utils_x11.cc',
-        'test/events_test_utils_x11.h',
-        'test/motion_event_test_utils.cc',
-        'test/motion_event_test_utils.h',
+#        'test/events_test_utils.cc',
+#        'test/events_test_utils.h',
+#        'test/events_test_utils_x11.cc',
+#        'test/events_test_utils_x11.h',
+#        'test/motion_event_test_utils.cc',
+#        'test/motion_event_test_utils.h',
         'test/platform_event_waiter.cc',
         'test/platform_event_waiter.h',
@@ -296,11 +296,11 @@
     },
     {
-      # GN version: //ui/events:events_unittests
-      'target_name': 'events_unittests',
+#      # GN version: //ui/events:events_unittests
+#      'target_name': 'events_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '<(DEPTH)/base/base.gyp:base',
-        '<(DEPTH)/base/base.gyp:run_all_unittests',
-        '<(DEPTH)/base/base.gyp:test_support_base',
+#        '<(DEPTH)/base/base.gyp:run_all_unittests',
+#        '<(DEPTH)/base/base.gyp:test_support_base',
         '<(DEPTH)/skia/skia.gyp:skia',
         '<(DEPTH)/testing/gtest.gyp:gtest',
@@ -308,10 +308,10 @@
         '../gfx/gfx.gyp:gfx',
         '../gfx/gfx.gyp:gfx_geometry',
-        '../gfx/gfx.gyp:gfx_test_support',
+#        '../gfx/gfx.gyp:gfx_test_support',
         'devices/events_devices.gyp:events_devices',
         'dom4_keycode_converter',
         'events',
         'events_base',
-        'events_test_support',
+#        'events_test_support',
         'gesture_detection',
         'platform/events_platform.gyp:events_platform',
@@ -319,27 +319,27 @@
       'sources': [
         # Note: sources list duplicated in GN build.
-        'android/scroller_unittest.cc',
-        'cocoa/events_mac_unittest.mm',
-        'devices/x11/device_data_manager_x11_unittest.cc',
-        'event_dispatcher_unittest.cc',
-        'event_processor_unittest.cc',
-        'event_rewriter_unittest.cc',
-        'event_unittest.cc',
-        'gesture_detection/bitset_32_unittest.cc',
-        'gesture_detection/filtered_gesture_provider_unittest.cc',
-        'gesture_detection/gesture_event_data_packet_unittest.cc',
-        'gesture_detection/gesture_provider_unittest.cc',
-        'gesture_detection/motion_event_buffer_unittest.cc',
-        'gesture_detection/motion_event_generic_unittest.cc',
-        'gesture_detection/snap_scroll_controller_unittest.cc',
-        'gesture_detection/touch_disposition_gesture_filter_unittest.cc',
-        'gesture_detection/velocity_tracker_unittest.cc',
-        'gestures/fling_curve_unittest.cc',
-        'gestures/gesture_provider_aura_unittest.cc',
-        'gestures/motion_event_aura_unittest.cc',
-        'keycodes/dom4/keycode_converter_unittest.cc',
-        'latency_info_unittest.cc',
-        'platform/platform_event_source_unittest.cc',
-        'x/events_x_unittest.cc',
+#        'android/scroller_unittest.cc',
+#        'cocoa/events_mac_unittest.mm',
+#        'devices/x11/device_data_manager_x11_unittest.cc',
+#        'event_dispatcher_unittest.cc',
+#        'event_processor_unittest.cc',
+#        'event_rewriter_unittest.cc',
+#        'event_unittest.cc',
+#        'gesture_detection/bitset_32_unittest.cc',
+#        'gesture_detection/filtered_gesture_provider_unittest.cc',
+#        'gesture_detection/gesture_event_data_packet_unittest.cc',
+#        'gesture_detection/gesture_provider_unittest.cc',
+#        'gesture_detection/motion_event_buffer_unittest.cc',
+#        'gesture_detection/motion_event_generic_unittest.cc',
+#        'gesture_detection/snap_scroll_controller_unittest.cc',
+#        'gesture_detection/touch_disposition_gesture_filter_unittest.cc',
+#        'gesture_detection/velocity_tracker_unittest.cc',
+#        'gestures/fling_curve_unittest.cc',
+#        'gestures/gesture_provider_aura_unittest.cc',
+#        'gestures/motion_event_aura_unittest.cc',
+#        'keycodes/dom4/keycode_converter_unittest.cc',
+#        'latency_info_unittest.cc',
+#        'platform/platform_event_source_unittest.cc',
+#        'x/events_x_unittest.cc',
       ],
       'include_dirs': [
@@ -355,10 +355,10 @@
         ['use_ozone==1', {
           'sources': [
-            'ozone/chromeos/cursor_controller_unittest.cc',
-            'ozone/evdev/event_converter_evdev_impl_unittest.cc',
-            'ozone/evdev/event_converter_test_util.cc',
-            'ozone/evdev/input_injector_evdev_unittest.cc',
-            'ozone/evdev/tablet_event_converter_evdev_unittest.cc',
-            'ozone/evdev/touch_event_converter_evdev_unittest.cc',
+#            'ozone/chromeos/cursor_controller_unittest.cc',
+#            'ozone/evdev/event_converter_evdev_impl_unittest.cc',
+#            'ozone/evdev/event_converter_test_util.cc',
+#            'ozone/evdev/input_injector_evdev_unittest.cc',
+#            'ozone/evdev/tablet_event_converter_evdev_unittest.cc',
+#            'ozone/evdev/touch_event_converter_evdev_unittest.cc',
           ],
           'dependencies': [
@@ -370,11 +370,11 @@
         ['use_xkbcommon==1', {
           'sources': [
-            'ozone/layout/xkb/xkb_keyboard_layout_engine_unittest.cc',
+#            'ozone/layout/xkb/xkb_keyboard_layout_engine_unittest.cc',
           ]
         }],
         ['use_aura==0', {
           'sources!': [
-            'gestures/gesture_provider_aura_unittest.cc',
-            'gestures/motion_event_aura_unittest.cc',
+#            'gestures/gesture_provider_aura_unittest.cc',
+#            'gestures/motion_event_aura_unittest.cc',
           ],
         }],
@@ -388,10 +388,10 @@
         ['OS!="win" and use_x11!=1 and use_ozone!=1', {
           'sources!': [
-            'event_unittest.cc',
+#            'event_unittest.cc',
           ],
         }],
         ['OS == "android"', {
           'dependencies': [
-            '../../testing/android/native_test.gyp:native_test_native_code',
+#            '../../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -403,11 +403,11 @@
       'targets': [
         {
-          'target_name': 'events_unittests_apk',
+#          'target_name': 'events_unittests_apk',
           'type': 'none',
           'dependencies': [
-            'events_unittests',
+#            'events_unittests',
           ],
           'variables': {
-            'test_suite_name': 'events_unittests',
+#            'test_suite_name': 'events_unittests',
           },
           'includes': [ '../../build/apk_test.gypi' ],
@@ -418,8 +418,8 @@
       'targets': [
         {
-          'target_name': 'events_unittests_run',
+#          'target_name': 'events_unittests_run',
           'type': 'none',
           'dependencies': [
-            'events_unittests',
+#            'events_unittests',
           ],
           'includes': [
@@ -427,5 +427,5 @@
           ],
           'sources': [
-            'events_unittests.isolate',
+#            'events_unittests.isolate',
           ],
           'conditions': [
diff --git a/ui/events/gesture_detection/gesture_touch_uma_histogram.cc b/ui/events/gesture_detection/gesture_touch_uma_histogram.cc
index b8275aa..affdd89 100644
--- a/ui/events/gesture_detection/gesture_touch_uma_histogram.cc
+++ b/ui/events/gesture_detection/gesture_touch_uma_histogram.cc
@@ -5,5 +5,5 @@
 #include "ui/events/gesture_detection/gesture_touch_uma_histogram.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 
 namespace ui {
diff --git a/ui/events/ozone/BUILD.gn b/ui/events/ozone/BUILD.gn
index 5a1282f..74a1279 100644
--- a/ui/events/ozone/BUILD.gn
+++ b/ui/events/ozone/BUILD.gn
@@ -51,5 +51,5 @@ component("events_ozone") {
 
   if (use_ozone_evdev && use_udev) {
-    deps += [ "//device/udev_linux" ]
+#    deps += [ "//device/udev_linux" ]
   }
 }
diff --git a/ui/gfx/BUILD.gn b/ui/gfx/BUILD.gn
index 07915fa..5b17407 100644
--- a/ui/gfx/BUILD.gn
+++ b/ui/gfx/BUILD.gn
@@ -4,9 +4,9 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 if (is_android) {
-  import("//build/config/android/config.gni")
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/config.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -349,182 +349,4 @@ component("gfx") {
 # Looking for gfx_geometry? It's //ui/gfx/geometry:geometry
 
-source_set("test_support") {
-  testonly = true
-  sources = [
-    "image/image_unittest_util.cc",
-    "image/image_unittest_util.h",
-    "image/image_unittest_util_ios.mm",
-    "image/image_unittest_util_mac.mm",
-    "test/fontconfig_util_linux.cc",
-    "test/fontconfig_util_linux.h",
-    "test/gfx_util.cc",
-    "test/gfx_util.h",
-    "test/ui_cocoa_test_helper.h",
-    "test/ui_cocoa_test_helper.mm",
-  ]
-
-  public_deps = [
-    ":gfx",
-  ]
-
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "//skia",
-    "//testing/gtest",
-    "//ui/gfx/geometry",
-  ]
-
-  if (is_ios) {
-    # The cocoa files don't apply to iOS.
-    sources -= [
-      "test/ui_cocoa_test_helper.h",
-      "test/ui_cocoa_test_helper.mm",
-    ]
-  }
-  if (is_linux) {
-    configs += [ "//build/config/linux:fontconfig" ]
-  }
-}
-
-test("gfx_unittests") {
-  sources = [
-    "font_render_params_linux_unittest.cc",
-    "font_unittest.cc",
-    "image/image_family_unittest.cc",
-    "image/image_ios_unittest.mm",
-    "image/image_skia_unittest.cc",
-    "image/image_unittest.cc",
-    "platform_font_linux_unittest.cc",
-    "screen_unittest.cc",
-    "test/run_all_unittests.cc",
-    "text_elider_unittest.cc",
-    "text_utils_unittest.cc",
-  ]
-
-  if (!is_ios) {
-    sources += [
-      "animation/animation_container_unittest.cc",
-      "animation/animation_unittest.cc",
-      "animation/multi_animation_unittest.cc",
-      "animation/slide_animation_unittest.cc",
-      "animation/tween_unittest.cc",
-      "blit_unittest.cc",
-      "break_list_unittest.cc",
-      "canvas_unittest.cc",
-      "canvas_unittest_mac.mm",
-      "codec/jpeg_codec_unittest.cc",
-      "codec/png_codec_unittest.cc",
-      "color_analysis_unittest.cc",
-      "color_profile_mac_unittest.mm",
-      "color_utils_unittest.cc",
-      "display_change_notifier_unittest.cc",
-      "display_unittest.cc",
-      "font_fallback_mac_unittest.cc",
-      "font_list_unittest.cc",
-      "geometry/box_unittest.cc",
-      "geometry/cubic_bezier_unittest.cc",
-      "geometry/insets_unittest.cc",
-      "geometry/matrix3_unittest.cc",
-      "geometry/point3_unittest.cc",
-      "geometry/point_unittest.cc",
-      "geometry/quad_unittest.cc",
-      "geometry/r_tree_unittest.cc",
-      "geometry/rect_unittest.cc",
-      "geometry/safe_integer_conversions_unittest.cc",
-      "geometry/scroll_offset_unittest.cc",
-      "geometry/size_unittest.cc",
-      "geometry/vector2d_unittest.cc",
-      "geometry/vector3d_unittest.cc",
-      "image/image_mac_unittest.mm",
-      "image/image_util_unittest.cc",
-      "mac/coordinate_conversion_unittest.mm",
-      "platform_font_mac_unittest.mm",
-      "range/range_mac_unittest.mm",
-      "range/range_unittest.cc",
-      "range/range_win_unittest.cc",
-      "render_text_unittest.cc",
-      "sequential_id_generator_unittest.cc",
-      "shadow_value_unittest.cc",
-      "skbitmap_operations_unittest.cc",
-      "skrect_conversion_unittest.cc",
-      "transform_util_unittest.cc",
-      "utf16_indexing_unittest.cc",
-    ]
-  }
-
-  # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-  configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-  deps = [
-    ":gfx",
-    ":test_support",
-    "//base",
-    "//base/test:test_support",
-    "//skia",
-    "//third_party/icu:icuuc",
-    "//third_party/libpng",
-    "//third_party/zlib",
-    "//testing/gtest",
-    "//ui/base",
-    "//ui/gfx/geometry",
-    "//ui/resources:ui_test_pak",
-  ]
 
-  if (!is_mac && !is_ios) {
-    sources += [
-      "interpolated_transform_unittest.cc",
-      "transform_unittest.cc",
-    ]
-  }
 
-  if (is_android) {
-    sources -= [
-      # Do not run display_change_notifier_unittest.cc on Android because it
-      # does not compile display_observer.cc
-      "display_change_notifier_unittest.cc",
-    ]
-  }
-
-  if (is_android || is_ios) {
-    sources -= [ "render_text_unittest.cc" ]
-  }
-
-  if (use_aura) {
-    sources -= [ "screen_unittest.cc" ]
-  }
-
-  if (is_win) {
-    sources += [
-      "color_profile_win_unittest.cc",
-      "font_fallback_win_unittest.cc",
-      "icon_util_unittest.cc",
-      "icon_util_unittests.rc",
-      "path_win_unittest.cc",
-      "platform_font_win_unittest.cc",
-    ]
-
-    ldflags = [
-      "/DELAYLOAD:d2d1.dll",
-      "/DELAYLOAD:d3d10_1.dll",
-    ]
-
-    libs = [
-      "d2d1.lib",
-      "d3d10_1.lib",
-      "imm32.lib",
-      "oleacc.lib",
-    ]
-  }
-}
-
-if (is_android) {
-  generate_jni("gfx_jni_headers") {
-    sources = [
-      "../android/java/src/org/chromium/ui/gfx/BitmapHelper.java",
-      "../android/java/src/org/chromium/ui/gfx/DeviceDisplayInfo.java",
-      "../android/java/src/org/chromium/ui/gfx/ViewConfigurationHelper.java",
-    ]
-    jni_package = "gfx"
-  }
-}
diff --git a/ui/gfx/gfx.gyp b/ui/gfx/gfx.gyp
index 84e53d7..ffba579 100644
--- a/ui/gfx/gfx.gyp
+++ b/ui/gfx/gfx.gyp
@@ -430,17 +430,17 @@
     },
     {
-      'target_name': 'gfx_test_support',
+#      'target_name': 'gfx_test_support',
       'type': 'static_library',
       'sources': [
-        'image/image_unittest_util.cc',
-        'image/image_unittest_util.h',
-        'image/image_unittest_util_ios.mm',
-        'image/image_unittest_util_mac.mm',
+#        'image/image_unittest_util.cc',
+#        'image/image_unittest_util.h',
+#        'image/image_unittest_util_ios.mm',
+#        'image/image_unittest_util_mac.mm',
         'test/fontconfig_util_linux.cc',
         'test/fontconfig_util_linux.h',
         'test/gfx_util.cc',
         'test/gfx_util.h',
-        'test/ui_cocoa_test_helper.h',
-        'test/ui_cocoa_test_helper.mm',
+#        'test/ui_cocoa_test_helper.h',
+#        'test/ui_cocoa_test_helper.mm',
       ],
       'dependencies': [
diff --git a/ui/gfx/test/gfx_util.h b/ui/gfx/test/gfx_util.h
index 1401d5c..f38d4c5 100644
--- a/ui/gfx/test/gfx_util.h
+++ b/ui/gfx/test/gfx_util.h
@@ -9,5 +9,5 @@
 #include <string>
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 #include "third_party/skia/include/core/SkColor.h"
 #include "ui/gfx/geometry/box_f.h"
diff --git a/ui/gfx/win/direct_write.cc b/ui/gfx/win/direct_write.cc
index 38c926a..bc4ef4f 100644
--- a/ui/gfx/win/direct_write.cc
+++ b/ui/gfx/win/direct_write.cc
@@ -9,5 +9,5 @@
 #include "base/basictypes.h"
 #include "base/command_line.h"
-#include "base/metrics/field_trial.h"
+//#include "base/metrics/field_trial.h"
 #include "base/win/registry.h"
 #include "base/win/scoped_comptr.h"
diff --git a/ui/gl/BUILD.gn b/ui/gl/BUILD.gn
index 88b4c36..434b979 100644
--- a/ui/gl/BUILD.gn
+++ b/ui/gl/BUILD.gn
@@ -5,6 +5,6 @@
 import("//build/config/ui.gni")
 if (is_android) {
-  import("//build/config/android/config.gni")
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/config.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -270,5 +270,5 @@ source_set("gl_unittest_utils") {
   deps = [
     ":gl",
-    "//testing/gmock",
+#    "//testing/gmock",
   ]
 }
diff --git a/ui/gl/gl.gyp b/ui/gl/gl.gyp
index d62950a..c99b003 100644
--- a/ui/gl/gl.gyp
+++ b/ui/gl/gl.gyp
@@ -277,5 +277,5 @@
     },
     {
-      'target_name': 'gl_unittest_utils',
+#      'target_name': 'gl_unittest_utils',
       'type': 'static_library',
       'dependencies': [
diff --git a/ui/gl/gl_mock.h b/ui/gl/gl_mock.h
index b678a5e..26d6865 100644
--- a/ui/gl/gl_mock.h
+++ b/ui/gl/gl_mock.h
@@ -10,5 +10,5 @@
 #define UI_GL_GL_MOCK_H_
 
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 #include "ui/gl/gl_bindings.h"
 
diff --git a/ui/keyboard/BUILD.gn b/ui/keyboard/BUILD.gn
index 66a98a4..dd357fb 100644
--- a/ui/keyboard/BUILD.gn
+++ b/ui/keyboard/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//third_party/google_input_tools/closure.gni")
 import("//third_party/google_input_tools/inputview.gni")
@@ -94,30 +94,2 @@ build_closure("inputview") {
 }
 
-test("keyboard_unittests") {
-  sources = [
-    "keyboard_controller_unittest.cc",
-    "test/run_all_unittests.cc",
-  ]
-
-  deps = [
-    ":keyboard",
-    "//base",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//content",
-    "//skia",
-    "//testing/gtest",
-    "//ui/aura:test_support",
-    "//ui/base",
-    "//ui/base/ime",
-    "//ui/base:test_support",
-    "//ui/compositor:test_support",
-    "//ui/events:test_support",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-    "//ui/resources:ui_test_pak",
-    "//ui/wm",
-    "//url",
-  ]
-}
diff --git a/ui/keyboard/keyboard.gyp b/ui/keyboard/keyboard.gyp
index 6570908..c272c79 100644
--- a/ui/keyboard/keyboard.gyp
+++ b/ui/keyboard/keyboard.gyp
@@ -88,9 +88,9 @@
     },
     {
-      'target_name': 'keyboard_unittests',
+#      'target_name': 'keyboard_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../content/content.gyp:content',
         '../../skia/skia.gyp:skia',
@@ -98,18 +98,18 @@
         '../../url/url.gyp:url_lib',
         '../aura/aura.gyp:aura',
-        '../aura/aura.gyp:aura_test_support',
+#        '../aura/aura.gyp:aura_test_support',
         '../base/ime/ui_base_ime.gyp:ui_base_ime',
         '../base/ui_base.gyp:ui_base',
         '../compositor/compositor.gyp:compositor',
-        '../compositor/compositor.gyp:compositor_test_support',
+#        '../compositor/compositor.gyp:compositor_test_support',
         '../gfx/gfx.gyp:gfx',
         '../gfx/gfx.gyp:gfx_geometry',
-        '../resources/ui_resources.gyp:ui_test_pak',
+#        '../resources/ui_resources.gyp:ui_test_pak',
         '../wm/wm.gyp:wm',
         'keyboard',
       ],
       'sources': [
-        'keyboard_controller_unittest.cc',
-        'test/run_all_unittests.cc',
+#        'keyboard_controller_unittest.cc',
+#        'test/run_all_unittests.cc',
       ],
       'conditions': [
diff --git a/ui/keyboard/keyboard_util.cc b/ui/keyboard/keyboard_util.cc
index 4054a37..8e19f51 100644
--- a/ui/keyboard/keyboard_util.cc
+++ b/ui/keyboard/keyboard_util.cc
@@ -10,5 +10,5 @@
 #include "base/lazy_instance.h"
 #include "base/logging.h"
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/strings/string16.h"
 #include "grit/keyboard_resources.h"
diff --git a/ui/message_center/BUILD.gn b/ui/message_center/BUILD.gn
index cedc5b9..dce2d33 100644
--- a/ui/message_center/BUILD.gn
+++ b/ui/message_center/BUILD.gn
@@ -5,5 +5,5 @@
 import("//build/config/features.gni")
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("message_center") {
@@ -82,5 +82,5 @@ component("message_center") {
 
     # On Mac, toolkit-views builds still use the Cocoa UI. Keep this in sync
-    # with message_center_unittests below.
+#    # with message_center_unittests below.
     if (toolkit_views && !is_mac) {
       sources += [
@@ -153,86 +153,3 @@ component("message_center") {
 }
 
-static_library("test_support") {
-  testonly = true
-  sources = [
-    "fake_message_center.cc",
-    "fake_message_center.h",
-    "fake_message_center_tray_delegate.cc",
-    "fake_message_center_tray_delegate.h",
-    "fake_notifier_settings_provider.cc",
-    "fake_notifier_settings_provider.h",
-  ]
-
-  public_deps = [
-    ":message_center",
-  ]
-
-  deps = [
-    "//base",
-    "//base/test:test_support",
-    "//skia",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-  ]
-}
-
-test("message_center_unittests") {
-  sources = [
-    "test/run_all_unittests.cc",
-  ]
-
-  deps = [
-    ":message_center",
-    ":test_support",
-    "//base",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//skia",
-    "//testing/gtest",
-    "//ui/base",
-    "//ui/events",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-    "//ui/resources",
-    "//ui/resources:ui_test_pak",
-    "//url",
-  ]
-
-  if (enable_notifications && !is_android) {
-    sources += [
-      "cocoa/notification_controller_unittest.mm",
-      "cocoa/popup_collection_unittest.mm",
-      "cocoa/popup_controller_unittest.mm",
-      "cocoa/settings_controller_unittest.mm",
-      "cocoa/status_item_view_unittest.mm",
-      "cocoa/tray_controller_unittest.mm",
-      "cocoa/tray_view_controller_unittest.mm",
-      "message_center_impl_unittest.cc",
-      "message_center_tray_unittest.cc",
-      "notification_delegate_unittest.cc",
-      "notification_list_unittest.cc",
-    ]
-
-    if (is_mac) {
-      deps += [ "//ui/gfx:test_support" ]
-    }
 
-    if (toolkit_views && !is_mac) {
-      sources += [
-        "views/bounded_label_unittest.cc",
-        "views/message_center_view_unittest.cc",
-        "views/message_popup_collection_unittest.cc",
-        "views/notification_view_unittest.cc",
-        "views/notifier_settings_view_unittest.cc",
-      ]
-      deps += [
-        # Compositor is needed by message_center_view_unittest.cc and for the
-        # fonts used by bounded_label_unittest.cc.
-        "//ui/compositor",
-        "//ui/views",
-        "//ui/views:test_support",
-      ]
-    }
-  }  # enable_notifications && !is_android
-}
diff --git a/ui/message_center/dummy_message_center.cc b/ui/message_center/dummy_message_center.cc
index df49992..01bddeb 100644
--- a/ui/message_center/dummy_message_center.cc
+++ b/ui/message_center/dummy_message_center.cc
@@ -9,7 +9,7 @@
 // notification systems yet. This is to avoid spreading compile-time flags
 // everywhere in the code.
-#if !defined(OS_ANDROID) && !defined(OS_IOS)
-#error This file should only be used in Android or iOS builds.
-#endif
+
+
+
 
 namespace message_center {
diff --git a/ui/message_center/message_center.gyp b/ui/message_center/message_center.gyp
index 7319b31..6eb57e3 100644
--- a/ui/message_center/message_center.gyp
+++ b/ui/message_center/message_center.gyp
@@ -121,5 +121,5 @@
         }],
         # On Mac, toolkit-views builds still use the Cocoa UI. Keep this in sync
-        # with message_center_unittests below.
+#        # with message_center_unittests below.
         ['toolkit_views==1 and OS!="mac"', {
           'dependencies': [
@@ -163,10 +163,10 @@
     },  # target_name: message_center
     {
-      # GN version: //ui/message_center:test_support
-      'target_name': 'message_center_test_support',
+#      # GN version: //ui/message_center:test_support
+#      'target_name': 'message_center_test_support',
       'type': 'static_library',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../skia/skia.gyp:skia',
         '../base/ui_base.gyp:ui_base',
@@ -184,12 +184,12 @@
         'fake_notifier_settings_provider.h',
       ],
-    },  # target_name: message_center_test_support
+#    },  # target_name: message_center_test_support
     {
-      # GN version: //ui/message_center:message_center_unittests
-      'target_name': 'message_center_unittests',
+#      # GN version: //ui/message_center:message_center_unittests
+#      'target_name': 'message_center_unittests',
       'type': 'executable',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../skia/skia.gyp:skia',
         '../../testing/gtest.gyp:gtest',
@@ -199,43 +199,43 @@
         '../gfx/gfx.gyp:gfx_geometry',
         '../resources/ui_resources.gyp:ui_resources',
-        '../resources/ui_resources.gyp:ui_test_pak',
+#        '../resources/ui_resources.gyp:ui_test_pak',
         'message_center',
-        'message_center_test_support',
+#        'message_center_test_support',
       ],
       'sources': [
         # Note: file list duplicated in GN build.
-        'cocoa/notification_controller_unittest.mm',
-        'cocoa/popup_collection_unittest.mm',
-        'cocoa/popup_controller_unittest.mm',
-        'cocoa/settings_controller_unittest.mm',
-        'cocoa/status_item_view_unittest.mm',
-        'cocoa/tray_controller_unittest.mm',
-        'cocoa/tray_view_controller_unittest.mm',
-        'message_center_impl_unittest.cc',
-        'message_center_tray_unittest.cc',
-        'notification_delegate_unittest.cc',
-        'notification_list_unittest.cc',
-        'test/run_all_unittests.cc',
+#        'cocoa/notification_controller_unittest.mm',
+#        'cocoa/popup_collection_unittest.mm',
+#        'cocoa/popup_controller_unittest.mm',
+#        'cocoa/settings_controller_unittest.mm',
+#        'cocoa/status_item_view_unittest.mm',
+#        'cocoa/tray_controller_unittest.mm',
+#        'cocoa/tray_view_controller_unittest.mm',
+#        'message_center_impl_unittest.cc',
+#        'message_center_tray_unittest.cc',
+#        'notification_delegate_unittest.cc',
+#        'notification_list_unittest.cc',
+#        'test/run_all_unittests.cc',
       ],
       'conditions': [
         ['OS=="mac"', {
           'dependencies': [
-            '../gfx/gfx.gyp:gfx_test_support',
+#            '../gfx/gfx.gyp:gfx_test_support',
           ],
         }],
         ['toolkit_views==1 and OS!="mac"', {
           'dependencies': [
-            # Compositor is needed by message_center_view_unittest.cc
-            # and for the fonts used by bounded_label_unittest.cc.
+#            # Compositor is needed by message_center_view_unittest.cc
+#            # and for the fonts used by bounded_label_unittest.cc.
             '../compositor/compositor.gyp:compositor',
             '../views/views.gyp:views',
-            '../views/views.gyp:views_test_support',
+#            '../views/views.gyp:views_test_support',
           ],
           'sources': [
-            'views/bounded_label_unittest.cc',
-            'views/message_center_view_unittest.cc',
-            'views/message_popup_collection_unittest.cc',
-            'views/notification_view_unittest.cc',
-            'views/notifier_settings_view_unittest.cc',
+#            'views/bounded_label_unittest.cc',
+#            'views/message_center_view_unittest.cc',
+#            'views/message_popup_collection_unittest.cc',
+#            'views/notification_view_unittest.cc',
+#            'views/notifier_settings_view_unittest.cc',
           ],
         }],
@@ -244,5 +244,5 @@
             # Exclude everything except main().
             ['exclude', '\\.(cc|mm)$'],
-            ['include', '^test/run_all_unittests\\.cc$'],
+#            ['include', '^test/run_all_unittests\\.cc$'],
           ],
         }],
@@ -254,5 +254,5 @@
         }],
       ],
-    },  # target_name: message_center_unittests
+#    },  # target_name: message_center_unittests
   ],
   'conditions': [
@@ -260,8 +260,8 @@
       'targets': [
         {
-          'target_name': 'message_center_unittests_run',
+#          'target_name': 'message_center_unittests_run',
           'type': 'none',
           'dependencies': [
-            'message_center_unittests',
+#            'message_center_unittests',
           ],
           'includes': [
@@ -269,5 +269,5 @@
           ],
           'sources': [
-            'message_center_unittests.isolate',
+#            'message_center_unittests.isolate',
           ],
           'conditions': [
diff --git a/ui/native_theme/native_theme.gyp b/ui/native_theme/native_theme.gyp
index 7791468..082a4a6 100644
--- a/ui/native_theme/native_theme.gyp
+++ b/ui/native_theme/native_theme.gyp
@@ -49,9 +49,9 @@
     },
     {
-      'target_name': 'native_theme_unittests',
+#      'target_name': 'native_theme_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../skia/skia.gyp:skia',
         '../../testing/gtest.gyp:gtest',
@@ -59,6 +59,6 @@
       ],
       'sources': [
-        '../../base/test/run_all_unittests.cc',
-        'native_theme_mac_unittest.cc',
+#        '../../base/test/run_all_unittests.cc',
+#        'native_theme_mac_unittest.cc',
       ],
     },
diff --git a/ui/ozone/BUILD.gn b/ui/ozone/BUILD.gn
index 2fbc1f3..0ab9108 100644
--- a/ui/ozone/BUILD.gn
+++ b/ui/ozone/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//ui/ozone/ozone.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 # The list of platforms that will be built.
@@ -13,5 +13,5 @@ ozone_platform_deps = []
 
 # Extra dependencies to pull into ozone_unittests for built platforms.
-ozone_platform_test_deps = []
+#ozone_platform_test_deps = []
 
 if (ozone_platform_egltest) {
@@ -33,5 +33,5 @@ if (ozone_platform_dri) {
   ozone_platforms += [ "dri" ]
   ozone_platform_deps += [ "platform/drm" ]
-  ozone_platform_test_deps += [ "platform/drm:drm_unittests" ]
+#  ozone_platform_test_deps += [ "platform/drm:drm_unittests" ]
 }
 
@@ -95,6 +95,6 @@ component("ozone") {
     "public/input_controller.cc",
     "public/input_controller.h",
-    "public/ozone_gpu_test_helper.cc",
-    "public/ozone_gpu_test_helper.h",
+#    "public/ozone_gpu_test_helper.cc",
+#    "public/ozone_gpu_test_helper.h",
     "public/ozone_platform.cc",
     "public/ozone_platform.h",
@@ -173,12 +173,12 @@ action("generate_constructor_list") {
 test("ozone_unittests") {
   sources = [
-    "common/display_util_unittest.cc",
-    "run_all_unittests.cc",
+#    "common/display_util_unittest.cc",
+#    "run_all_unittests.cc",
   ]
 
   deps = [
-           "//base/test:test_support",
-           "//testing/gtest",
+#           "//base/test:test_support",
+#           "//testing/gtest",
            "//ui/gfx/geometry",
-         ] + ozone_platform_test_deps
+#         ] + ozone_platform_test_deps
 }
diff --git a/ui/ozone/ozone.gyp b/ui/ozone/ozone.gyp
index 346b3db..dc8a914 100644
--- a/ui/ozone/ozone.gyp
+++ b/ui/ozone/ozone.gyp
@@ -13,8 +13,8 @@
     'external_ozone_platform_files%': [],
     'external_ozone_platform_deps%': [],
-    'external_ozone_platform_unittest_deps%': [],
+#    'external_ozone_platform_unittest_deps%': [],
     'internal_ozone_platforms': [],
     'internal_ozone_platform_deps': [],
-    'internal_ozone_platform_unittest_deps': [],
+#    'internal_ozone_platform_unittest_deps': [],
   },
   'targets': [
@@ -108,6 +108,6 @@
         'public/input_controller.cc',
         'public/input_controller.h',
-        'public/ozone_gpu_test_helper.cc',
-        'public/ozone_gpu_test_helper.h',
+#        'public/ozone_gpu_test_helper.cc',
+#        'public/ozone_gpu_test_helper.h',
         'public/ozone_platform.cc',
         'public/ozone_platform.h',
@@ -174,18 +174,18 @@
     },
     {
-      'target_name': 'ozone_unittests',
+#      'target_name': 'ozone_unittests',
       'type': '<(gtest_target_type)',
       'sources': [
-        'common/display_util_unittest.cc',
-        'run_all_unittests.cc',
+#        'common/display_util_unittest.cc',
+#        'run_all_unittests.cc',
       ],
       'dependencies': [
         'ozone',
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../testing/gtest.gyp:gtest',
         '../gfx/gfx.gyp:gfx_geometry',
-        '<@(external_ozone_platform_unittest_deps)',
-        '<@(internal_ozone_platform_unittest_deps)',
+#        '<@(external_ozone_platform_unittest_deps)',
+#        '<@(internal_ozone_platform_unittest_deps)',
       ],
     },
diff --git a/ui/ozone/platform/drm/BUILD.gn b/ui/ozone/platform/drm/BUILD.gn
index 60ef0ad..8db7cbf 100644
--- a/ui/ozone/platform/drm/BUILD.gn
+++ b/ui/ozone/platform/drm/BUILD.gn
@@ -119,9 +119,9 @@ if (ozone_platform_dri) {
     testonly = true
     sources = [
-      "gpu/drm_surface_unittest.cc",
-      "gpu/drm_window_unittest.cc",
-      "gpu/hardware_display_controller_unittest.cc",
-      "gpu/hardware_display_plane_manager_unittest.cc",
-      "gpu/screen_manager_unittest.cc",
+#      "gpu/drm_surface_unittest.cc",
+#      "gpu/drm_window_unittest.cc",
+#      "gpu/hardware_display_controller_unittest.cc",
+#      "gpu/hardware_display_plane_manager_unittest.cc",
+#      "gpu/screen_manager_unittest.cc",
       "test/mock_drm_wrapper.cc",
       "test/mock_drm_wrapper.h",
@@ -130,5 +130,5 @@ if (ozone_platform_dri) {
     deps = [
       "//skia",
-      "//testing/gtest",
+#      "//testing/gtest",
       "//ui/ozone",
     ]
diff --git a/ui/ozone/platform/drm/drm.gypi b/ui/ozone/platform/drm/drm.gypi
index 9128a6e..bc5de51 100644
--- a/ui/ozone/platform/drm/drm.gypi
+++ b/ui/ozone/platform/drm/drm.gypi
@@ -8,6 +8,6 @@
       'ozone_platform_drm',
     ],
-    'internal_ozone_platform_unittest_deps': [
-      'ozone_platform_drm_unittests',
+#    'internal_ozone_platform_unittest_deps': [
+#      'ozone_platform_drm_unittests',
     ],
     'internal_ozone_platforms': [
@@ -104,5 +104,5 @@
     },
     {
-      'target_name': 'ozone_platform_drm_unittests',
+#      'target_name': 'ozone_platform_drm_unittests',
       'type': 'none',
       'dependencies': [
@@ -119,9 +119,9 @@
       'direct_dependent_settings': {
         'sources': [
-          'gpu/drm_surface_unittest.cc',
-          'gpu/drm_window_unittest.cc',
-          'gpu/hardware_display_controller_unittest.cc',
-          'gpu/hardware_display_plane_manager_unittest.cc',
-          'gpu/screen_manager_unittest.cc',
+#          'gpu/drm_surface_unittest.cc',
+#          'gpu/drm_window_unittest.cc',
+#          'gpu/hardware_display_controller_unittest.cc',
+#          'gpu/hardware_display_plane_manager_unittest.cc',
+#          'gpu/screen_manager_unittest.cc',
           'test/mock_drm_device.cc',
           'test/mock_drm_device.h',
diff --git a/ui/resources/BUILD.gn b/ui/resources/BUILD.gn
index 4487e03..2c982da 100644
--- a/ui/resources/BUILD.gn
+++ b/ui/resources/BUILD.gn
@@ -60,78 +60,4 @@ if (!is_mac) {
 }
 
-# On iOS and Mac the string resources need to go into a locale subfolder, which
-# introduces an extra dependency.
-#
-# GYP version: ui/resources/ui_resources.gyp:ui_test_pak
-#              (copy_ui_test_pak action)
-if (is_ios || is_mac) {
-  group("ui_test_pak") {
-    deps = [
-      ":repack_ui_test_pak",
-      ":repack_ui_test_mac_locale_pack",
-    ]
-  }
-} else {
-  group("ui_test_pak") {
-    deps = [
-      ":repack_ui_test_pak",
-    ]
-  }
-}
 
-# GYP version: ui/resources/ui_resources.gyp:ui_test_pak
-repack("repack_ui_test_pak") {
-  # Depend on ui_test_pak instead of this one.
-  visibility = [ ":ui_test_pak" ]
 
-  sources = [
-    "$root_gen_dir/ui/resources/ui_resources_100_percent.pak",
-    "$root_gen_dir/ui/resources/webui_resources.pak",
-    "$root_gen_dir/ui/strings/app_locale_settings_en-US.pak",
-    "$root_gen_dir/ui/strings/ui_strings_en-US.pak",
-  ]
-
-  if (is_chromeos) {
-    sources += [
-      "$root_gen_dir/ui/chromeos/resources/ui_chromeos_resources_100_percent.pak",
-      "$root_gen_dir/ui/chromeos/strings/ui_chromeos_strings_en-US.pak",
-    ]
-  }
-
-  output = "$root_out_dir/ui_test.pak"
-
-  deps = [
-    "//ui/resources",
-    "//ui/strings",
-  ]
-
-  if (!is_mac) {
-    deps += [ ":copy_ui_resources_100_percent" ]
-  }
-
-  if (is_chromeos) {
-    deps += [
-      "//ui/chromeos/resources",
-      "//ui/chromeos/strings",
-    ]
-  }
-}
-
-# Repack just the strings for the framework locales on Mac and iOS. This
-# emulates repack_locales.py, but just for en-US. Note ui_test.pak is not simply
-# copied, because it causes leaks from allocations within system libraries when
-# trying to load non-string resources. http://crbug.com/413034.
-repack("repack_ui_test_mac_locale_pack") {
-  visibility = [ ":ui_test_pak" ]
-
-  sources = [
-    "$root_gen_dir/ui/strings/app_locale_settings_en-US.pak",
-    "$root_gen_dir/ui/strings/ui_strings_en-US.pak",
-  ]
-
-  output = "$root_out_dir/ui/en.lproj/locale.pak"
-
-  deps = [
-    "//ui/strings",
-  ]
-}
diff --git a/ui/resources/ui_resources.gyp b/ui/resources/ui_resources.gyp
index 10eb97d..6533956 100644
--- a/ui/resources/ui_resources.gyp
+++ b/ui/resources/ui_resources.gyp
@@ -41,6 +41,6 @@
       # This pak file can be used by tests.
       #
-      # GN version: //ui/resources:ui_test_pak
-      'target_name': 'ui_test_pak',
+#      # GN version: //ui/resources:ui_test_pak
+#      'target_name': 'ui_test_pak',
       'type': 'none',
       'dependencies': [
@@ -50,5 +50,5 @@
       'actions': [
         {
-          'action_name': 'repack_ui_test_pack',
+#          'action_name': 'repack_ui_test_pack',
           'variables': {
             'pak_inputs': [
@@ -92,5 +92,5 @@
           'actions': [
             {
-              # GN version: //ui/resources:repack_ui_test_mac_locale_pack
+#              # GN version: //ui/resources:repack_ui_test_mac_locale_pack
               # Repack just the strings for the framework locales on Mac and
               # iOS. This emulates repack_locales.py, but just for en-US. Note
@@ -98,5 +98,5 @@
               # allocations within system libraries when trying to load non-
               # string resources. http://crbug.com/413034.
-              'action_name': 'repack_ui_test_mac_locale_pack',
+#              'action_name': 'repack_ui_test_mac_locale_pack',
               'variables': {
                 'pak_inputs': [
@@ -113,5 +113,5 @@
           'actions': [
             {
-              'action_name': 'copy_ui_test_pak',
+#              'action_name': 'copy_ui_test_pak',
               'message': 'Copying ui_test.pak into en-US.pak',
               'inputs': [
diff --git a/ui/shell_dialogs/BUILD.gn b/ui/shell_dialogs/BUILD.gn
index 77897ff..26bc0dd 100644
--- a/ui/shell_dialogs/BUILD.gn
+++ b/ui/shell_dialogs/BUILD.gn
@@ -4,7 +4,7 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 if (is_android) {
-  import("//build/config/android/config.gni")
+#  import("//build/config/android/config.gni")
 }
 
@@ -71,15 +71,2 @@ component("shell_dialogs") {
 }
 
-test("shell_dialogs_unittests") {
-  sources = [
-    "select_file_dialog_win_unittest.cc",
-  ]
-
-  deps = [
-    ":shell_dialogs",
-    "//base",
-    "//base/test:test_support",
-    "//base/test:run_all_unittests",
-    "//testing/gtest",
-  ]
-}
diff --git a/ui/shell_dialogs/shell_dialogs.gyp b/ui/shell_dialogs/shell_dialogs.gyp
index 5f91eef..96259dc 100644
--- a/ui/shell_dialogs/shell_dialogs.gyp
+++ b/ui/shell_dialogs/shell_dialogs.gyp
@@ -91,11 +91,11 @@
     },  # target_name: shell_dialogs
     {
-      # GN version: //ui/shell_dialogs:shell_dialogs_unittests
-      'target_name': 'shell_dialogs_unittests',
+#      # GN version: //ui/shell_dialogs:shell_dialogs_unittests
+#      'target_name': 'shell_dialogs_unittests',
       'type': 'executable',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
-        '../../base/base.gyp:run_all_unittests',
+#        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:run_all_unittests',
         '../../testing/gtest.gyp:gtest',
         'shell_dialogs',
@@ -103,5 +103,5 @@
       'sources': [
         # Note: file list duplicated in GN build.
-        'select_file_dialog_win_unittest.cc',
+#        'select_file_dialog_win_unittest.cc',
       ],
     },
diff --git a/ui/snapshot/BUILD.gn b/ui/snapshot/BUILD.gn
index a9e5b0b..ba01b86 100644
--- a/ui/snapshot/BUILD.gn
+++ b/ui/snapshot/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("snapshot") {
@@ -57,34 +57,2 @@ component("snapshot") {
 }
 
-test("snapshot_unittests") {
-  sources = [
-    "snapshot_aura_unittest.cc",
-    "snapshot_mac_unittest.mm",
-    "test/run_all_unittests.cc",
-  ]
-
-  deps = [
-    ":snapshot",
-    "//base",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//skia",
-    "//testing/gtest",
-    "//ui/base",
-    "//ui/compositor:test_support",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-  ]
-
-  if (use_aura) {
-    deps += [
-      "//ui/aura:test_support",
-      "//ui/compositor",
-      "//ui/compositor:test_support",
-      "//ui/wm",
-    ]
-  } else {
-    sources -= [ "snapshot_aura_unittest.cc" ]
-  }
-}
diff --git a/ui/snapshot/snapshot.gyp b/ui/snapshot/snapshot.gyp
index ab78afe..8c5e2f7 100644
--- a/ui/snapshot/snapshot.gyp
+++ b/ui/snapshot/snapshot.gyp
@@ -64,10 +64,10 @@
     },
     {
-      'target_name': 'snapshot_unittests',
+#      'target_name': 'snapshot_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../../skia/skia.gyp:skia',
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../testing/gtest.gyp:gtest',
         '../base/ui_base.gyp:ui_base',
@@ -77,15 +77,15 @@
       ],
       'sources': [
-        'snapshot_aura_unittest.cc',
-        'snapshot_mac_unittest.mm',
-        'test/run_all_unittests.cc',
+#        'snapshot_aura_unittest.cc',
+#        'snapshot_mac_unittest.mm',
+#        'test/run_all_unittests.cc',
       ],
       'conditions': [
         ['use_aura==1', {
           'dependencies': [
-            '../../base/base.gyp:test_support_base',
-            '../aura/aura.gyp:aura_test_support',
+#            '../../base/base.gyp:test_support_base',
+#            '../aura/aura.gyp:aura_test_support',
             '../compositor/compositor.gyp:compositor',
-            '../compositor/compositor.gyp:compositor_test_support',
+#            '../compositor/compositor.gyp:compositor_test_support',
             '../wm/wm.gyp:wm',
           ],
diff --git a/ui/touch_selection/BUILD.gn b/ui/touch_selection/BUILD.gn
index ede552f..b2cf230 100644
--- a/ui/touch_selection/BUILD.gn
+++ b/ui/touch_selection/BUILD.gn
@@ -4,8 +4,8 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 if (is_android) {
-  import("//build/config/android/rules.gni")
+#  import("//build/config/android/rules.gni")
 }
 
@@ -34,21 +34,4 @@ component("touch_selection") {
 }
 
-test("ui_touch_selection_unittests") {
-  sources = [
-    "touch_handle_unittest.cc",
-    "touch_selection_controller_unittest.cc",
-  ]
-
-  deps = [
-    ":touch_selection",
-    "//base/test:run_all_unittests",
-    "//testing/gmock:gmock",
-    "//testing/gtest:gtest",
-    "//ui/base:base",
-    "//ui/events:test_support",
-    "//ui/gfx:gfx",
-    "//ui/gfx:test_support",
-  ]
-}
 
 if (is_android) {
diff --git a/ui/touch_selection/touch_selection_controller.cc b/ui/touch_selection/touch_selection_controller.cc
index 71dcce8..8f5246b 100644
--- a/ui/touch_selection/touch_selection_controller.cc
+++ b/ui/touch_selection/touch_selection_controller.cc
@@ -7,5 +7,5 @@
 #include "base/auto_reset.h"
 #include "base/logging.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 
 namespace ui {
diff --git a/ui/touch_selection/ui_touch_selection.gyp b/ui/touch_selection/ui_touch_selection.gyp
index 851c26f..4e532ba 100644
--- a/ui/touch_selection/ui_touch_selection.gyp
+++ b/ui/touch_selection/ui_touch_selection.gyp
@@ -35,21 +35,21 @@
     },
     {
-      'target_name': 'ui_touch_selection_unittests',
+#      'target_name': 'ui_touch_selection_unittests',
       'type': '<(gtest_target_type)',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:run_all_unittests',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:run_all_unittests',
+#        '../../base/base.gyp:test_support_base',
         '../../testing/gmock.gyp:gmock',
         '../../testing/gtest.gyp:gtest',
         '../base/ui_base.gyp:ui_base',
-        '../events/events.gyp:events_test_support',
+#        '../events/events.gyp:events_test_support',
         '../gfx/gfx.gyp:gfx',
-        '../gfx/gfx.gyp:gfx_test_support',
+#        '../gfx/gfx.gyp:gfx_test_support',
         'ui_touch_selection',
       ],
       'sources': [
-        'touch_handle_unittest.cc',
-        'touch_selection_controller_unittest.cc',
+#        'touch_handle_unittest.cc',
+#        'touch_selection_controller_unittest.cc',
       ],
       'include_dirs': [
@@ -59,5 +59,5 @@
         ['OS == "android"', {
           'dependencies': [
-            '../../testing/android/native_test.gyp:native_test_native_code',
+#            '../../testing/android/native_test.gyp:native_test_native_code',
           ],
         }],
@@ -85,11 +85,11 @@
         },
         {
-          'target_name': 'ui_touch_selection_unittests_apk',
+#          'target_name': 'ui_touch_selection_unittests_apk',
           'type': 'none',
           'dependencies': [
-            'ui_touch_selection_unittests',
+#            'ui_touch_selection_unittests',
           ],
           'variables': {
-            'test_suite_name': 'ui_touch_selection_unittests',
+#            'test_suite_name': 'ui_touch_selection_unittests',
           },
           'includes': [ '../../build/apk_test.gypi' ],
@@ -100,8 +100,8 @@
       'targets': [
         {
-          'target_name': 'ui_touch_selection_unittests_run',
+#          'target_name': 'ui_touch_selection_unittests_run',
           'type': 'none',
           'dependencies': [
-            'ui_touch_selection_unittests',
+#            'ui_touch_selection_unittests',
           ],
           'includes': [
@@ -109,5 +109,5 @@
           ],
           'sources': [
-            'ui_touch_selection_unittests.isolate',
+#            'ui_touch_selection_unittests.isolate',
           ],
           'conditions': [
diff --git a/ui/views/BUILD.gn b/ui/views/BUILD.gn
index 922ce0c..aba623d 100644
--- a/ui/views/BUILD.gn
+++ b/ui/views/BUILD.gn
@@ -5,5 +5,5 @@
 import("//build/config/features.gni")
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 gypi_values = exec_script("//build/gypi_to_gn.py",
@@ -119,168 +119,4 @@ component("views") {
 }
 
-static_library("test_support") {
-  testonly = true
-  sources = gypi_values.views_test_support_sources
 
-  public_deps = [
-    ":views",
-  ]
-  deps = [
-    "//base",
-    "//ipc:test_support",
-    "//skia",
-    "//testing/gtest",
-    "//ui/aura",
-    "//ui/base",
-    "//ui/base/ime",
-    "//ui/compositor",
-    "//ui/compositor:test_support",
-    "//ui/events",
-    "//ui/events:events_base",
-    "//ui/events:test_support",
-    "//ui/events/platform",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/wm",
-  ]
 
-  if (is_chromeos || !use_x11) {
-    sources -= [
-      "test/ui_controls_factory_desktop_aurax11.cc",
-      "test/ui_controls_factory_desktop_aurax11.h",
-    ]
-  }
-  if (use_aura) {
-    sources += gypi_values.views_test_support_aura_sources
-    deps += [ "//ui/aura:test_support" ]
-  }
-  if (use_x11) {
-    deps += [ "//ui/gfx/x" ]
-  }
-  if (use_ozone || !use_x11) {
-    sources -= [ "test/x11_property_change_waiter.cc" ]
-  }
-}
-
-test("views_unittests") {
-  sources = gypi_values.views_unittests_sources
-
-  deps = [
-    ":test_support",
-    "//base",
-    "//base:i18n",
-    "//base/allocator",
-    "//base/test:test_support",
-    "//skia",
-    "//testing/gtest",
-    "//third_party/icu",
-    "//ui/accessibility",
-    "//ui/aura",
-    "//ui/base",
-    "//ui/base/ime",
-    "//ui/base:test_support",
-    "//ui/compositor:test_support",
-    "//ui/events:test_support",
-    "//ui/events:events_base",
-    "//ui/events/platform",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-    "//ui/resources",
-    "//ui/strings",
-    "//ui/wm",
-    "//url",
-  ]
-
-  if (is_win) {
-    deps += [
-      "//third_party/iaccessible2",
-      "//third_party/wtl",
-    ]
-    libs = [
-      "imm32.lib",
-      "oleacc.lib",
-      "comctl32.lib",
-    ]
-
-    # TOOD(GYP)
-    #'msvs_settings': {
-    #  'VCManifestTool': {
-    #    'AdditionalManifestFiles': [
-    #      '$(ProjectDir)\\test\\views_unittest.manifest',
-    #    ],
-    #  },
-    #},
-  }
-
-  if (use_x11) {
-    configs += [
-      "//build/config/linux:x11",
-      "//build/config/linux:xext",
-    ]
-    deps += [
-      "//ui/events/devices",
-      "//ui/events/platform/x11",
-      "//ui/gfx/x",
-    ]
-  }
-
-  if (use_aura) {
-    sources += gypi_values.views_unittests_aura_sources
-    deps += [ "//ui/aura:test_support" ]
-    if (!is_chromeos) {
-      sources += gypi_values.views_unittests_desktop_aura_sources
-      if (use_x11) {
-        sources += gypi_values.views_unittests_desktop_aurax11_sources
-      }
-    }
-  }
-  if (!is_chromeos) {
-    sources += gypi_values.views_unittests_desktop_sources
-  }
-  if (use_x11) {
-    deps += [
-      "//ui/events/platform/x11",
-      "//ui/gfx/x",
-    ]
-  }
-
-  if (is_mac) {
-    # views_unittests not yet compiling on Mac. http://crbug.com/378134
-    sources -= [
-      "bubble/bubble_window_targeter_unittest.cc",
-      "controls/button/custom_button_unittest.cc",
-      "controls/button/menu_button_unittest.cc",
-      "controls/menu/menu_controller_unittest.cc",
-      "controls/native/native_view_host_unittest.cc",
-      "focus/focus_manager_unittest.cc",
-      "ime/input_method_bridge_unittest.cc",
-      "widget/widget_unittest.cc",
-      "widget/window_reorderer_unittest.cc",
-    ]
-  }
-}
-
-if (is_mac) {
-  test("macviews_interactive_ui_tests") {
-    sources = [
-      "cocoa/bridged_native_widget_interactive_uitest.mm",
-      "run_all_unittests.cc",
-      "widget/native_widget_mac_interactive_uitest.mm",
-    ]
-    deps = [
-      ":test_support",
-      ":views",
-      "//base",
-      "//base/test:test_support",
-      "//skia",
-      "//testing/gtest",
-      "//ui/aura",
-      "//ui/compositor",
-      "//ui/resources",
-      "//ui/resources:ui_test_pak",
-      "//ui/strings",
-      "//ui/wm",
-    ]
-  }
-}
diff --git a/ui/views_content_client/BUILD.gn b/ui/views_content_client/BUILD.gn
index 101d793..4a1be40 100644
--- a/ui/views_content_client/BUILD.gn
+++ b/ui/views_content_client/BUILD.gn
@@ -33,7 +33,7 @@ component("views_content_client") {
     "//ui/gfx/geometry",
     "//ui/resources",
-    "//ui/resources:ui_test_pak",
+#    "//ui/resources:ui_test_pak",
     "//ui/views",
-    "//ui/views:test_support",
+#    "//ui/views:test_support",
     "//ui/wm",
   ]
@@ -54,6 +54,6 @@ component("views_content_client") {
   if (is_chromeos) {
     deps += [
-      "//ui/aura:test_support",
-      "//ui/wm:test_support",
+#      "//ui/aura:test_support",
+#      "//ui/wm:test_support",
     ]
   }
diff --git a/ui/views_content_client/views_content_client.gyp b/ui/views_content_client/views_content_client.gyp
index cd53207..a009d92 100644
--- a/ui/views_content_client/views_content_client.gyp
+++ b/ui/views_content_client/views_content_client.gyp
@@ -23,7 +23,7 @@
         '../gfx/gfx.gyp:gfx_geometry',
         '../resources/ui_resources.gyp:ui_resources',
-        '../resources/ui_resources.gyp:ui_test_pak',
+#        '../resources/ui_resources.gyp:ui_test_pak',
         '../views/views.gyp:views',
-        '../views/views.gyp:views_test_support',
+#        '../views/views.gyp:views_test_support',
       ],
       'defines': [
diff --git a/ui/views/controls/webview/BUILD.gn b/ui/views/controls/webview/BUILD.gn
index ddb380d..5ee4fd5 100644
--- a/ui/views/controls/webview/BUILD.gn
+++ b/ui/views/controls/webview/BUILD.gn
@@ -45,6 +45,6 @@ source_set("test_support") {
   testonly = true
   sources = [
-    "../../test/webview_test_helper.cc",
-    "../../test/webview_test_helper.h",
+#    "../../test/webview_test_helper.cc",
+#    "../../test/webview_test_helper.h",
   ]
 
@@ -55,8 +55,8 @@ source_set("test_support") {
     "//base",
     "//content",
-    "//content/test:test_support",
-    "//ipc:test_support",
+#    "//content/test:test_support",
+#    "//ipc:test_support",
     "//skia",
-    "//testing/gtest",
+#    "//testing/gtest",
     "//ui/base",
     "//ui/events",
@@ -64,5 +64,5 @@ source_set("test_support") {
     "//ui/gfx/geometry",
     "//ui/views",
-    "//ui/views:test_support",
+#    "//ui/views:test_support",
   ]
 }
diff --git a/ui/views/examples/BUILD.gn b/ui/views/examples/BUILD.gn
index b908eb1..a10afc2 100644
--- a/ui/views/examples/BUILD.gn
+++ b/ui/views/examples/BUILD.gn
@@ -76,5 +76,5 @@ component("views_examples_lib") {
     "//ui/gfx/geometry",
     "//ui/resources",
-    "//ui/resources:ui_test_pak",
+#    "//ui/resources:ui_test_pak",
     "//ui/views",
   ]
@@ -102,10 +102,10 @@ executable("views_examples_exe") {
     "//ui/base",
     "//ui/compositor",
-    "//ui/compositor:test_support",
+#    "//ui/compositor:test_support",
     "//ui/gfx",
     "//ui/gl",
-    "//ui/resources:ui_test_pak",
+#    "//ui/resources:ui_test_pak",
     "//ui/views",
-    "//ui/views:test_support",
+#    "//ui/views:test_support",
     "//ui/wm",
   ]
diff --git a/ui/views/examples/examples.gyp b/ui/views/examples/examples.gyp
index 2791867..608fcdf 100644
--- a/ui/views/examples/examples.gyp
+++ b/ui/views/examples/examples.gyp
@@ -21,5 +21,5 @@
         '../../gfx/gfx.gyp:gfx_geometry',
         '../../resources/ui_resources.gyp:ui_resources',
-        '../../resources/ui_resources.gyp:ui_test_pak',
+#        '../../resources/ui_resources.gyp:ui_test_pak',
         '../views.gyp:views',
       ],
@@ -108,9 +108,9 @@
         '../../base/ui_base.gyp:ui_base',
         '../../compositor/compositor.gyp:compositor',
-        '../../compositor/compositor.gyp:compositor_test_support',
+#        '../../compositor/compositor.gyp:compositor_test_support',
         '../../gfx/gfx.gyp:gfx',
-        '../../resources/ui_resources.gyp:ui_test_pak',
+#        '../../resources/ui_resources.gyp:ui_test_pak',
         '../views.gyp:views',
-        '../views.gyp:views_test_support',
+#        '../views.gyp:views_test_support',
         'views_examples_lib',
       ],
diff --git a/ui/views/touchui/touch_selection_controller_impl.cc b/ui/views/touchui/touch_selection_controller_impl.cc
index ffb5366..b09988c 100644
--- a/ui/views/touchui/touch_selection_controller_impl.cc
+++ b/ui/views/touchui/touch_selection_controller_impl.cc
@@ -5,5 +5,5 @@
 #include "ui/views/touchui/touch_selection_controller_impl.h"
 
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/time/time.h"
 #include "ui/aura/client/cursor_client.h"
diff --git a/ui/views/views.gyp b/ui/views/views.gyp
index 0b92a2c..88b5e4c 100644
--- a/ui/views/views.gyp
+++ b/ui/views/views.gyp
@@ -460,129 +460,4 @@
       'widget/desktop_aura/desktop_window_tree_host_ozone.cc',
     ],
-    'views_test_support_sources': [
-      'controls/textfield/textfield_test_api.cc',
-      'controls/textfield/textfield_test_api.h',
-      'test/capture_tracking_view.cc',
-      'test/capture_tracking_view.h',
-      'test/desktop_test_views_delegate.h',
-      'test/desktop_test_views_delegate_aura.cc',
-      'test/desktop_test_views_delegate_mac.mm',
-      'test/event_generator_delegate_mac.h',
-      'test/event_generator_delegate_mac.mm',
-      'test/focus_manager_test.cc',
-      'test/focus_manager_test.h',
-      'test/menu_runner_test_api.cc',
-      'test/menu_runner_test_api.h',
-      'test/slider_test_api.cc',
-      'test/slider_test_api.h',
-      'test/test_views.cc',
-      'test/test_views.h',
-      'test/test_views_delegate.h',
-      'test/test_views_delegate_aura.cc',
-      'test/test_views_delegate_mac.mm',
-      'test/test_widget_observer.cc',
-      'test/test_widget_observer.h',
-      'test/ui_controls_factory_desktop_aurax11.cc',
-      'test/ui_controls_factory_desktop_aurax11.h',
-      'test/views_test_base.cc',
-      'test/views_test_base.h',
-      'test/views_test_helper.cc',
-      'test/views_test_helper.h',
-      'test/views_test_helper_aura.cc',
-      'test/views_test_helper_aura.h',
-      'test/views_test_helper_mac.h',
-      'test/views_test_helper_mac.mm',
-      'test/widget_test.cc',
-      'test/widget_test.h',
-      'test/widget_test_aura.cc',
-      'test/widget_test_mac.mm',
-      'test/x11_property_change_waiter.cc',
-      'test/x11_property_change_waiter.h',
-    ],
-    'views_test_support_aura_sources': [
-      'corewm/tooltip_controller_test_helper.cc',
-      'corewm/tooltip_controller_test_helper.h',
-    ],
-    'views_unittests_sources': [
-      'accessibility/native_view_accessibility_unittest.cc',
-      'accessibility/native_view_accessibility_win_unittest.cc',
-      'accessible_pane_view_unittest.cc',
-      'animation/bounds_animator_unittest.cc',
-      'bubble/bubble_border_unittest.cc',
-      'bubble/bubble_delegate_unittest.cc',
-      'bubble/bubble_frame_view_unittest.cc',
-      'bubble/bubble_window_targeter_unittest.cc',
-      'cocoa/bridged_native_widget_unittest.mm',
-      'cocoa/cocoa_mouse_capture_unittest.mm',
-      'controls/button/blue_button_unittest.cc',
-      'controls/button/custom_button_unittest.cc',
-      'controls/button/image_button_unittest.cc',
-      'controls/button/label_button_unittest.cc',
-      'controls/button/menu_button_unittest.cc',
-      'controls/combobox/combobox_unittest.cc',
-      'controls/label_unittest.cc',
-      'controls/menu/menu_controller_unittest.cc',
-      'controls/menu/menu_item_view_unittest.cc',
-      'controls/menu/menu_model_adapter_unittest.cc',
-      'controls/menu/menu_runner_cocoa_unittest.mm',
-      'controls/native/native_view_host_aura_unittest.cc',
-      'controls/native/native_view_host_mac_unittest.mm',
-      'controls/native/native_view_host_test_base.cc',
-      'controls/native/native_view_host_test_base.h',
-      'controls/native/native_view_host_unittest.cc',
-      'controls/prefix_selector_unittest.cc',
-      'controls/progress_bar_unittest.cc',
-      'controls/scroll_view_unittest.cc',
-      'controls/scrollbar/scrollbar_unittest.cc',
-      'controls/single_split_view_unittest.cc',
-      'controls/slider_unittest.cc',
-      'controls/styled_label_unittest.cc',
-      'controls/tabbed_pane/tabbed_pane_unittest.cc',
-      'controls/table/table_utils_unittest.cc',
-      'controls/table/table_view_unittest.cc',
-      'controls/table/test_table_model.cc',
-      'controls/table/test_table_model.h',
-      'controls/textfield/textfield_model_unittest.cc',
-      'controls/textfield/textfield_unittest.cc',
-      'controls/tree/tree_view_unittest.cc',
-      'event_monitor_unittest.cc',
-      'focus/focus_manager_unittest.cc',
-      'focus/focus_traversal_unittest.cc',
-      'layout/box_layout_unittest.cc',
-      'layout/grid_layout_unittest.cc',
-      'rect_based_targeting_utils_unittest.cc',
-      'run_all_unittests.cc',
-      'view_model_unittest.cc',
-      'view_model_utils_unittest.cc',
-      'view_targeter_unittest.cc',
-      'view_unittest.cc',
-      'view_unittest_aura.cc',
-      'widget/native_widget_aura_unittest.cc',
-      'widget/native_widget_mac_unittest.mm',
-      'widget/native_widget_unittest.cc',
-      'widget/root_view_unittest.cc',
-      'widget/widget_unittest.cc',
-      'widget/window_reorderer_unittest.cc',
-      'window/custom_frame_view_unittest.cc',
-      'window/dialog_client_view_unittest.cc',
-      'window/dialog_delegate_unittest.cc',
-    ],
-    'views_unittests_desktop_sources': [
-      'ime/input_method_bridge_unittest.cc',
-      'widget/desktop_widget_unittest.cc',
-    ],
-    'views_unittests_aura_sources': [
-      'corewm/tooltip_controller_unittest.cc',
-      'touchui/touch_selection_controller_impl_unittest.cc',
-    ],
-    'views_unittests_desktop_aura_sources': [
-      'widget/desktop_aura/desktop_focus_rules_unittest.cc',
-      'widget/desktop_aura/desktop_native_widget_aura_unittest.cc',
-    ],
-    'views_unittests_desktop_aurax11_sources': [
-      'widget/desktop_aura/desktop_drag_drop_client_aurax11_unittest.cc',
-      'widget/desktop_aura/desktop_screen_x11_unittest.cc',
-      'widget/desktop_aura/desktop_window_tree_host_x11_unittest.cc',
-    ],
   },
   'targets': [
@@ -723,162 +598,4 @@
       ],
     }, # target_name: views
-    {
-      # GN version: //ui/views:test_support
-      'target_name': 'views_test_support',
-      'type': 'static_library',
-      'dependencies': [
-        '../../base/base.gyp:base',
-        '../../ipc/ipc.gyp:test_support_ipc',
-        '../../skia/skia.gyp:skia',
-        '../../testing/gtest.gyp:gtest',
-        '../base/ime/ui_base_ime.gyp:ui_base_ime',
-        '../base/ui_base.gyp:ui_base',
-        '../compositor/compositor.gyp:compositor',
-        '../compositor/compositor.gyp:compositor_test_support',
-        '../events/events.gyp:events',
-        '../events/events.gyp:events_test_support',
-        '../events/platform/events_platform.gyp:events_platform',
-        '../gfx/gfx.gyp:gfx',
-        '../gfx/gfx.gyp:gfx_geometry',
-        'views',
-      ],
-      'include_dirs': [
-        '..',
-      ],
-      'sources': [
-        '<@(views_test_support_sources)',
-      ],
-      'conditions': [
-        ['chromeos==1', {
-          'sources!': [
-            'test/ui_controls_factory_desktop_aurax11.cc',
-            'test/ui_controls_factory_desktop_aurax11.h',
-          ],
-        }],
-        ['use_aura==1', {
-          'sources': [ '<@(views_test_support_aura_sources)' ],
-          'dependencies': [
-            '../aura/aura.gyp:aura',
-            '../aura/aura.gyp:aura_test_support',
-            '../wm/wm.gyp:wm',
-          ],
-        }],
-      ],
-    },  # target_name: views_test_support
-    {
-      # GN version: //ui/views:views_unittests
-      'target_name': 'views_unittests',
-      'type': 'executable',
-      'dependencies': [
-        '../../base/base.gyp:base',
-        '../../base/base.gyp:base_i18n',
-        '../../base/base.gyp:test_support_base',
-        '../../skia/skia.gyp:skia',
-        '../../testing/gtest.gyp:gtest',
-        '../../third_party/icu/icu.gyp:icui18n',
-        '../../third_party/icu/icu.gyp:icuuc',
-        '../../url/url.gyp:url_lib',
-        '../accessibility/accessibility.gyp:accessibility',
-        '../base/ime/ui_base_ime.gyp:ui_base_ime',
-        '../base/ui_base.gyp:ui_base',
-        '../base/ui_base.gyp:ui_base_test_support',
-        '../compositor/compositor.gyp:compositor',
-        '../events/events.gyp:events',
-        '../events/events.gyp:events_base',
-        '../events/events.gyp:events_test_support',
-        '../gfx/gfx.gyp:gfx',
-        '../gfx/gfx.gyp:gfx_geometry',
-        '../resources/ui_resources.gyp:ui_resources',
-        '../resources/ui_resources.gyp:ui_test_pak',
-        '../strings/ui_strings.gyp:ui_strings',
-        'views',
-        'views_test_support',
-      ],
-      'include_dirs': [
-        '..',
-      ],
-      'sources': [
-        '<@(views_unittests_sources)',
-      ],
-      'conditions': [
-        ['OS=="win"', {
-          'dependencies': [
-            '../../third_party/iaccessible2/iaccessible2.gyp:iaccessible2',
-          ],
-          'link_settings': {
-            'libraries': [
-              '-limm32.lib',
-              '-loleacc.lib',
-              '-lcomctl32.lib',
-            ]
-          },
-          'include_dirs': [
-            '../third_party/wtl/include',
-          ],
-          'msvs_settings': {
-            'VCManifestTool': {
-              'AdditionalManifestFiles': [
-                '$(ProjectDir)\\test\\views_unittest.manifest',
-              ],
-            },
-          },
-        }],
-        ['OS=="win" and win_use_allocator_shim==1', {
-          'dependencies': [
-            '../../base/allocator/allocator.gyp:allocator',
-          ],
-        }],
-        ['OS=="linux" and use_allocator!="none"', {
-           # See http://crbug.com/162998#c4 for why this is needed.
-          'dependencies': [
-            '../../base/allocator/allocator.gyp:allocator',
-          ],
-        }],
-        ['use_x11==1', {
-          'dependencies': [
-            '../../build/linux/system.gyp:x11',
-            '../../build/linux/system.gyp:xext',
-            '../events/devices/events_devices.gyp:events_devices',
-            '../events/platform/x11/x11_events_platform.gyp:x11_events_platform',
-          ],
-        }],
-        ['use_aura==1', {
-          'sources': [ '<@(views_unittests_aura_sources)' ],
-          'dependencies': [
-            '../aura/aura.gyp:aura',
-            '../aura/aura.gyp:aura_test_support',
-            '../wm/wm.gyp:wm',
-          ],
-          'conditions': [
-            ['chromeos == 0', {
-              'sources': [ '<@(views_unittests_desktop_aura_sources)' ],
-            }],
-            ['chromeos == 0 and use_x11==1', {
-              'sources': [ '<@(views_unittests_desktop_aurax11_sources)' ],
-            }],
-          ]
-        }],
-        ['chromeos==0', {
-          'sources': [ '<@(views_unittests_desktop_sources)' ],
-        }],
-        ['use_x11==1', {
-          'dependencies': [
-            '../events/platform/x11/x11_events_platform.gyp:x11_events_platform',
-          ],
-        }],
-        ['OS=="mac"', {
-          # views_unittests not yet compiling on Mac. http://crbug.com/378134
-          'sources!': [
-            'bubble/bubble_window_targeter_unittest.cc',
-            'controls/button/custom_button_unittest.cc',
-            'controls/menu/menu_controller_unittest.cc',
-            'controls/native/native_view_host_unittest.cc',
-            'focus/focus_manager_unittest.cc',
-            'ime/input_method_bridge_unittest.cc',
-            'widget/window_reorderer_unittest.cc',
-          ]
-        }],
-      ],
-    },  # target_name: views_unittests
   ],  # targets
   'conditions': [
@@ -891,17 +608,17 @@
           'dependencies': [
             '../../base/base.gyp:base',
-            '../../base/base.gyp:test_support_base',
+#            '../../base/base.gyp:test_support_base',
             '../../skia/skia.gyp:skia',
             '../../testing/gtest.gyp:gtest',
-            '../compositor/compositor.gyp:compositor_test_support',
+#            '../compositor/compositor.gyp:compositor_test_support',
             '../resources/ui_resources.gyp:ui_resources',
-            '../resources/ui_resources.gyp:ui_test_pak',
+#            '../resources/ui_resources.gyp:ui_test_pak',
             '../strings/ui_strings.gyp:ui_strings',
             'views',
-            'views_test_support',
+#            'views_test_support',
           ],
           'sources': [
             'cocoa/bridged_native_widget_interactive_uitest.mm',
-            'run_all_unittests.cc',
+#            'run_all_unittests.cc',
             'widget/native_widget_mac_interactive_uitest.mm',
           ],
diff --git a/ui/views/widget/desktop_aura/desktop_drag_drop_client_aurax11.cc b/ui/views/widget/desktop_aura/desktop_drag_drop_client_aurax11.cc
index cf15425..260327f 100644
--- a/ui/views/widget/desktop_aura/desktop_drag_drop_client_aurax11.cc
+++ b/ui/views/widget/desktop_aura/desktop_drag_drop_client_aurax11.cc
@@ -10,5 +10,5 @@
 #include "base/lazy_instance.h"
 #include "base/message_loop/message_loop.h"
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "third_party/skia/include/core/SkBitmap.h"
 #include "ui/aura/client/capture_client.h"
diff --git a/ui/views/widget/desktop_aura/desktop_drag_drop_client_win.cc b/ui/views/widget/desktop_aura/desktop_drag_drop_client_win.cc
index 8afa69b..d48bf0e 100644
--- a/ui/views/widget/desktop_aura/desktop_drag_drop_client_win.cc
+++ b/ui/views/widget/desktop_aura/desktop_drag_drop_client_win.cc
@@ -5,5 +5,5 @@
 #include "ui/views/widget/desktop_aura/desktop_drag_drop_client_win.h"
 
-#include "base/metrics/histogram_macros.h"
+//#include "base/metrics/histogram_macros.h"
 #include "base/tracked_objects.h"
 #include "ui/base/dragdrop/drag_drop_types.h"
diff --git a/ui/views/widget/desktop_aura/desktop_drop_target_win.cc b/ui/views/widget/desktop_aura/desktop_drop_target_win.cc
index f10fc1f..cd6295c 100644
--- a/ui/views/widget/desktop_aura/desktop_drop_target_win.cc
+++ b/ui/views/widget/desktop_aura/desktop_drop_target_win.cc
@@ -5,5 +5,5 @@
 #include "ui/views/widget/desktop_aura/desktop_drop_target_win.h"
 
-#include "base/metrics/histogram.h"
+//#include "base/metrics/histogram.h"
 #include "base/win/win_util.h"
 #include "ui/aura/window.h"
diff --git a/ui/web_dialogs/BUILD.gn b/ui/web_dialogs/BUILD.gn
index 3f8f4cd..1f42b2c 100644
--- a/ui/web_dialogs/BUILD.gn
+++ b/ui/web_dialogs/BUILD.gn
@@ -28,21 +28,2 @@ component("web_dialogs") {
 }
 
-static_library("test_support") {
-  sources = [
-    "test/test_web_contents_handler.cc",
-    "test/test_web_contents_handler.h",
-    "test/test_web_dialog_delegate.cc",
-    "test/test_web_dialog_delegate.h",
-  ]
-
-  public_deps = [
-    ":web_dialogs",
-  ]
-  deps = [
-    "//base",
-    "//content/public/browser",
-    "//skia",
-    "//ui/gfx/geometry",
-    "//url",
-  ]
-}
diff --git a/ui/web_dialogs/web_dialogs.gyp b/ui/web_dialogs/web_dialogs.gyp
index cd7530d..d41b6cc 100644
--- a/ui/web_dialogs/web_dialogs.gyp
+++ b/ui/web_dialogs/web_dialogs.gyp
@@ -32,5 +32,5 @@
     },
     {
-      'target_name': 'web_dialogs_test_support',
+#      'target_name': 'web_dialogs_test_support',
       'type': 'static_library',
       'dependencies': [
diff --git a/ui/webui/resources/webui_resources.grd b/ui/webui/resources/webui_resources.grd
index d314ccc..7274ed5 100644
--- a/ui/webui/resources/webui_resources.grd
+++ b/ui/webui/resources/webui_resources.grd
@@ -17,5 +17,6 @@ without changes to the corresponding grd file. -->
       <include name="IDR_WEBUI_I18N_TEMPLATE2_JS" file="js/i18n_template2.js" flattenhtml="true" type="BINDATA" />
       <include name="IDR_WEBUI_JSTEMPLATE_JS" file="js/jstemplate_compiled.js" flattenhtml="true" type="BINDATA" />
-      <include name="IDR_WEBUI_ANALYTICS_JS" file="js/analytics.js" flattenhtml="true" type="BINDATA" />
+<!--      <include name="IDR_WEBUI_ANALYTICS_JS" file="js/analytics.js" flattenhtml="true" type="BINDATA" />
+-->
       <!-- Roboto Font -->
       <include name="IDR_WEBUI_ROBOTO_ROBOTO_WOFF"  file="roboto/roboto.woff" type="BINDATA" />
diff --git a/ui/wm/BUILD.gn b/ui/wm/BUILD.gn
index d149b48..8202b44 100644
--- a/ui/wm/BUILD.gn
+++ b/ui/wm/BUILD.gn
@@ -4,5 +4,5 @@
 
 import("//build/config/ui.gni")
-import("//testing/test.gni")
+#import("//testing/test.gni")
 
 component("wm") {
@@ -97,56 +97,2 @@ component("wm") {
 }
 
-static_library("test_support") {
-  testonly = true
-  sources = [
-    "test/wm_test_helper.cc",
-    "test/wm_test_helper.h",
-  ]
-
-  deps = [
-    ":wm",
-    "//skia",
-    "//ui/aura",
-    "//ui/aura:test_support",
-    "//ui/base",
-    "//ui/base/ime",
-    "//ui/events",
-    "//ui/events:events_base",
-  ]
-}
-
-test("wm_unittests") {
-  sources = [
-    "core/capture_controller_unittest.cc",
-    "core/compound_event_filter_unittest.cc",
-    "core/cursor_manager_unittest.cc",
-    "core/focus_controller_unittest.cc",
-    "core/image_grid_unittest.cc",
-    "core/input_method_event_filter_unittest.cc",
-    "core/nested_accelerator_controller_unittest.cc",
-    "core/shadow_controller_unittest.cc",
-    "core/transient_window_manager_unittest.cc",
-    "core/transient_window_stacking_client_unittest.cc",
-    "core/visibility_controller_unittest.cc",
-    "core/window_animations_unittest.cc",
-    "test/run_all_unittests.cc",
-  ]
-
-  deps = [
-    ":test_support",
-    ":wm",
-    "//base",
-    "//base/test:test_support",
-    "//skia",
-    "//testing/gtest",
-    "//ui/aura:test_support",
-    "//ui/base:test_support",
-    "//ui/base/ime",
-    "//ui/compositor:test_support",
-    "//ui/events:test_support",
-    "//ui/events/platform",
-    "//ui/gfx",
-    "//ui/gfx/geometry",
-    "//ui/gl",
-  ]
-}
diff --git a/ui/wm/wm.gyp b/ui/wm/wm.gyp
index 8ce5e51..4289836 100644
--- a/ui/wm/wm.gyp
+++ b/ui/wm/wm.gyp
@@ -106,6 +106,6 @@
     },
     {
-      # GN version: //ui/wm:test_support
-      'target_name': 'wm_test_support',
+#      # GN version: //ui/wm:test_support
+#      'target_name': 'wm_test_support',
       'type': 'static_library',
       'dependencies': [
@@ -116,19 +116,19 @@
       ],
       'sources': [
-        'test/wm_test_helper.cc',
-        'test/wm_test_helper.h',
+#        'test/wm_test_helper.cc',
+#        'test/wm_test_helper.h',
       ],
     },
     {
-      # GN version: //ui/wm:wm_unittests
-      'target_name': 'wm_unittests',
+#      # GN version: //ui/wm:wm_unittests
+#      'target_name': 'wm_unittests',
       'type': 'executable',
       'dependencies': [
         '../../base/base.gyp:base',
-        '../../base/base.gyp:test_support_base',
+#        '../../base/base.gyp:test_support_base',
         '../../skia/skia.gyp:skia',
         '../../testing/gtest.gyp:gtest',
         '../aura/aura.gyp:aura',
-        '../aura/aura.gyp:aura_test_support',
+#        '../aura/aura.gyp:aura_test_support',
         '../base/ime/ui_base_ime.gyp:ui_base_ime',
         '../base/ui_base.gyp:ui_base',
@@ -140,22 +140,22 @@
         '../gfx/gfx.gyp:gfx_geometry',
         'wm',
-        'wm_test_support',
+#        'wm_test_support',
       ],
       'sources': [
-        'core/capture_controller_unittest.cc',
-        'core/compound_event_filter_unittest.cc',
-        'core/cursor_manager_unittest.cc',
-        'core/focus_controller_unittest.cc',
-        'core/image_grid_unittest.cc',
-        'core/input_method_event_filter_unittest.cc',
-        'core/nested_accelerator_controller_unittest.cc',
-        'core/shadow_controller_unittest.cc',
-        'core/shadow_unittest.cc',
-        'core/transient_window_manager_unittest.cc',
-        'core/transient_window_stacking_client_unittest.cc',
-        'core/visibility_controller_unittest.cc',
-        'core/window_animations_unittest.cc',
-        'core/window_util_unittest.cc',
-        'test/run_all_unittests.cc',
+#        'core/capture_controller_unittest.cc',
+#        'core/compound_event_filter_unittest.cc',
+#        'core/cursor_manager_unittest.cc',
+#        'core/focus_controller_unittest.cc',
+#        'core/image_grid_unittest.cc',
+#        'core/input_method_event_filter_unittest.cc',
+#        'core/nested_accelerator_controller_unittest.cc',
+#        'core/shadow_controller_unittest.cc',
+#        'core/shadow_unittest.cc',
+#        'core/transient_window_manager_unittest.cc',
+#        'core/transient_window_stacking_client_unittest.cc',
+#        'core/visibility_controller_unittest.cc',
+#        'core/window_animations_unittest.cc',
+#        'core/window_util_unittest.cc',
+#        'test/run_all_unittests.cc',
       ],
     },
diff --git a/url/BUILD.gn b/url/BUILD.gn
index 4f6b637..7a7bd45 100644
--- a/url/BUILD.gn
+++ b/url/BUILD.gn
@@ -3,5 +3,5 @@
 # found in the LICENSE file.
 
-import("//testing/test.gni")
+#import("//testing/test.gni")
 import("//url/config.gni")
 
@@ -90,38 +90,2 @@ component("url") {
 }
 
-# TODO(dpranke): crbug.com/360936. Get this to build and run on Android.
-if (!is_android) {
-  test("url_unittests") {
-    sources = [
-      "gurl_unittest.cc",
-      "origin_unittest.cc",
-      "url_canon_icu_unittest.cc",
-      "url_canon_unittest.cc",
-      "url_parse_unittest.cc",
-      "url_test_utils.h",
-      "url_util_unittest.cc",
-    ]
-
-    # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
-    configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
-
-    #if (is_posix && !is_mac && !is_ios) {
-    #  if (use_allocator!="none") {
-    #    deps += "//base/allocator"
-    #  }
-    #}
-
-    deps = [
-      ":url",
-      "//base",
-      "//base/test:run_all_unittests",
-      "//testing/gtest",
-      "//third_party/icu:icuuc",
-    ]
-
-    if (use_icu_alternatives_on_android) {
-      sources -= [ "url_canon_icu_unittest.cc" ]
-      deps -= [ "//third_party/icu:icuuc" ]
-    }
-  }
-}
diff --git a/url/url.gyp b/url/url.gyp
index 0ffc51a..1b608a1 100644
--- a/url/url.gyp
+++ b/url/url.gyp
@@ -60,8 +60,8 @@
     },
     {
-      'target_name': 'url_unittests',
+#      'target_name': 'url_unittests',
       'type': 'executable',
       'dependencies': [
-        '../base/base.gyp:run_all_unittests',
+#        '../base/base.gyp:run_all_unittests',
         '../testing/gtest.gyp:gtest',
         '../third_party/icu/icu.gyp:icuuc',
@@ -69,11 +69,11 @@
       ],
       'sources': [
-        'gurl_unittest.cc',
-        'origin_unittest.cc',
-        'url_canon_icu_unittest.cc',
-        'url_canon_unittest.cc',
-        'url_parse_unittest.cc',
-        'url_test_utils.h',
-        'url_util_unittest.cc',
+#        'gurl_unittest.cc',
+#        'origin_unittest.cc',
+#        'url_canon_icu_unittest.cc',
+#        'url_canon_unittest.cc',
+#        'url_parse_unittest.cc',
+#        'url_test_utils.h',
+#        'url_util_unittest.cc',
       ],
       'conditions': [
@@ -88,5 +88,5 @@
           {
             'sources!': [
-              'url_canon_icu_unittest.cc',
+#              'url_canon_icu_unittest.cc',
             ],
             'dependencies!': [
diff --git a/BUILD.gn b/BUILD.gn
index eaf56dd..71bee7a 100644
--- a/v8/BUILD.gn
+++ b/v8/BUILD.gn
@@ -121,5 +121,5 @@ config("toolchain") {
     }
 
-    # TODO(jochen): Add support for arm_test_noprobe.
+#    # TODO(jochen): Add support for arm_test_noprobe.
 
     # TODO(jochen): Add support for cpu_arch != v8_target_arch/
diff --git a/build/toolchain.gypi b/build/toolchain.gypi
index b8c7317..bc51dc9 100644
--- a/v8/build/toolchain.gypi
+++ b/v8/build/toolchain.gypi
@@ -54,5 +54,5 @@
     # on the target.
     'v8_can_use_vfp32dregs%': 'false',
-    'arm_test_noprobe%': 'off',
+#    'arm_test_noprobe%': 'off',
 
     # Similar to vfp but on MIPS.
@@ -195,5 +195,5 @@
             ],
           }],
-          [ 'arm_test_noprobe=="on"', {
+#          [ 'arm_test_noprobe=="on"', {
             'defines': [
               'ARM_TEST_NO_FEATURE_PROBE',
diff --git a/testing/gmock-support.h b/testing/gmock-support.h
index d00468e..0152be9 100644
--- a/v8/testing/gmock-support.h
+++ b/v8/testing/gmock-support.h
@@ -10,5 +10,5 @@
 #include <string>
 
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace testing {
diff --git a/testing/gtest-support.h b/testing/gtest-support.h
index ba0e2f4..aa5a272 100644
--- a/v8/testing/gtest-support.h
+++ b/v8/testing/gtest-support.h
@@ -6,5 +6,5 @@
 #define V8_TESTING_GTEST_SUPPORT_H_
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace testing {
diff --git a/test/unittests/base/bits-unittest.cc b/test/unittests/base/bits-unittest.cc
index 9caba84..880969a 100644
--- a/v8/test/unittests/base/bits-unittest.cc
+++ b/v8/test/unittests/base/bits-unittest.cc
@@ -7,5 +7,5 @@
 #include "src/base/bits.h"
 #include "src/base/macros.h"
-#include "testing/gtest-support.h"
+//#include "testing/gtest-support.h"
 
 #ifdef DEBUG
diff --git a/test/unittests/base/cpu-unittest.cc b/test/unittests/base/cpu-unittest.cc
index c12e339..63bb5a7 100644
--- a/v8/test/unittests/base/cpu-unittest.cc
+++ b/v8/test/unittests/base/cpu-unittest.cc
@@ -4,5 +4,5 @@
 
 #include "src/base/cpu.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/base/division-by-constant-unittest.cc b/test/unittests/base/division-by-constant-unittest.cc
index 58816db..619e95e 100644
--- a/v8/test/unittests/base/division-by-constant-unittest.cc
+++ b/v8/test/unittests/base/division-by-constant-unittest.cc
@@ -11,5 +11,5 @@
 #include <ostream>  // NOLINT
 
-#include "testing/gtest-support.h"
+//#include "testing/gtest-support.h"
 
 namespace v8 {
diff --git a/test/unittests/base/flags-unittest.cc b/test/unittests/base/flags-unittest.cc
index 6f19399..b59744c 100644
--- a/v8/test/unittests/base/flags-unittest.cc
+++ b/v8/test/unittests/base/flags-unittest.cc
@@ -5,5 +5,5 @@
 #include <stdint.h>
 #include "src/base/flags.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/base/logging-unittest.cc b/test/unittests/base/logging-unittest.cc
index 918feb1..46c28b0 100644
--- a/v8/test/unittests/base/logging-unittest.cc
+++ b/v8/test/unittests/base/logging-unittest.cc
@@ -4,5 +4,5 @@
 
 #include "src/base/logging.h"
-#include "testing/gtest-support.h"
+//#include "testing/gtest-support.h"
 
 namespace v8 {
diff --git a/test/unittests/base/platform/condition-variable-unittest.cc b/test/unittests/base/platform/condition-variable-unittest.cc
index fe0ad2a..120d6c3 100644
--- a/v8/test/unittests/base/platform/condition-variable-unittest.cc
+++ b/v8/test/unittests/base/platform/condition-variable-unittest.cc
@@ -7,5 +7,5 @@
 #include "src/base/platform/platform.h"
 #include "src/base/platform/time.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/base/platform/mutex-unittest.cc b/test/unittests/base/platform/mutex-unittest.cc
index 5af5efb..95f75c3 100644
--- a/v8/test/unittests/base/platform/mutex-unittest.cc
+++ b/v8/test/unittests/base/platform/mutex-unittest.cc
@@ -5,5 +5,5 @@
 #include "src/base/platform/mutex.h"
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/base/platform/platform-unittest.cc b/test/unittests/base/platform/platform-unittest.cc
index 8392b55..8340659 100644
--- a/v8/test/unittests/base/platform/platform-unittest.cc
+++ b/v8/test/unittests/base/platform/platform-unittest.cc
@@ -12,5 +12,5 @@
 #include "src/base/win32-headers.h"
 #endif
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if V8_OS_ANDROID
diff --git a/test/unittests/base/platform/semaphore-unittest.cc b/test/unittests/base/platform/semaphore-unittest.cc
index c68435f..573be10 100644
--- a/v8/test/unittests/base/platform/semaphore-unittest.cc
+++ b/v8/test/unittests/base/platform/semaphore-unittest.cc
@@ -8,5 +8,5 @@
 #include "src/base/platform/semaphore.h"
 #include "src/base/platform/time.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/base/platform/time-unittest.cc b/test/unittests/base/platform/time-unittest.cc
index b3bfbab..a7d4460 100644
--- a/v8/test/unittests/base/platform/time-unittest.cc
+++ b/v8/test/unittests/base/platform/time-unittest.cc
@@ -17,5 +17,5 @@
 
 #include "src/base/platform/elapsed-timer.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/base/sys-info-unittest.cc b/test/unittests/base/sys-info-unittest.cc
index a760f94..f9277c8 100644
--- a/v8/test/unittests/base/sys-info-unittest.cc
+++ b/v8/test/unittests/base/sys-info-unittest.cc
@@ -4,5 +4,5 @@
 
 #include "src/base/sys-info.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 #if V8_OS_NACL
diff --git a/test/unittests/base/utils/random-number-generator-unittest.cc b/test/unittests/base/utils/random-number-generator-unittest.cc
index 7c533db..970545a 100644
--- a/v8/test/unittests/base/utils/random-number-generator-unittest.cc
+++ b/v8/test/unittests/base/utils/random-number-generator-unittest.cc
@@ -6,5 +6,5 @@
 
 #include "src/base/utils/random-number-generator.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/char-predicates-unittest.cc b/test/unittests/char-predicates-unittest.cc
index d1ba2c5..b9a30d7 100644
--- a/v8/test/unittests/char-predicates-unittest.cc
+++ b/v8/test/unittests/char-predicates-unittest.cc
@@ -5,5 +5,5 @@
 #include "src/char-predicates.h"
 #include "src/unicode.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/compiler/change-lowering-unittest.cc b/test/unittests/compiler/change-lowering-unittest.cc
index 50119ec..964cb69 100644
--- a/v8/test/unittests/compiler/change-lowering-unittest.cc
+++ b/v8/test/unittests/compiler/change-lowering-unittest.cc
@@ -12,5 +12,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::_;
diff --git a/test/unittests/compiler/compiler-test-utils.h b/test/unittests/compiler/compiler-test-utils.h
index 6ce28f9..434ce5d 100644
--- a/v8/test/unittests/compiler/compiler-test-utils.h
+++ b/v8/test/unittests/compiler/compiler-test-utils.h
@@ -6,5 +6,5 @@
 #define V8_UNITTESTS_COMPILER_COMPILER_TEST_UTILS_H_
 
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/compiler/control-flow-optimizer-unittest.cc b/test/unittests/compiler/control-flow-optimizer-unittest.cc
index f300d07..f28bc9c 100644
--- a/v8/test/unittests/compiler/control-flow-optimizer-unittest.cc
+++ b/v8/test/unittests/compiler/control-flow-optimizer-unittest.cc
@@ -9,5 +9,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::AllOf;
diff --git a/test/unittests/compiler/control-reducer-unittest.cc b/test/unittests/compiler/control-reducer-unittest.cc
index 5e9b0ef..342933a 100644
--- a/v8/test/unittests/compiler/control-reducer-unittest.cc
+++ b/v8/test/unittests/compiler/control-reducer-unittest.cc
@@ -10,5 +10,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::_;
diff --git a/test/unittests/compiler/diamond-unittest.cc b/test/unittests/compiler/diamond-unittest.cc
index c14886f..590312a 100644
--- a/v8/test/unittests/compiler/diamond-unittest.cc
+++ b/v8/test/unittests/compiler/diamond-unittest.cc
@@ -7,5 +7,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::AllOf;
diff --git a/test/unittests/compiler/graph-reducer-unittest.cc b/test/unittests/compiler/graph-reducer-unittest.cc
index 9643d23..a32aa9c 100644
--- a/v8/test/unittests/compiler/graph-reducer-unittest.cc
+++ b/v8/test/unittests/compiler/graph-reducer-unittest.cc
@@ -8,5 +8,5 @@
 #include "src/compiler/operator.h"
 #include "test/unittests/test-utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::_;
diff --git a/test/unittests/compiler/graph-unittest.h b/test/unittests/compiler/graph-unittest.h
index 21f8ebf..afe9340 100644
--- a/v8/test/unittests/compiler/graph-unittest.h
+++ b/v8/test/unittests/compiler/graph-unittest.h
@@ -10,5 +10,5 @@
 #include "src/compiler/typer.h"
 #include "test/unittests/test-utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace v8 {
diff --git a/test/unittests/compiler/instruction-sequence-unittest.cc b/test/unittests/compiler/instruction-sequence-unittest.cc
index 3fed64e..c99465b 100644
--- a/v8/test/unittests/compiler/instruction-sequence-unittest.cc
+++ b/v8/test/unittests/compiler/instruction-sequence-unittest.cc
@@ -7,5 +7,5 @@
 #include "test/unittests/compiler/instruction-sequence-unittest.h"
 #include "test/unittests/test-utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace v8 {
diff --git a/test/unittests/compiler/instruction-sequence-unittest.h b/test/unittests/compiler/instruction-sequence-unittest.h
index 2d75da7..6f732f3 100644
--- a/v8/test/unittests/compiler/instruction-sequence-unittest.h
+++ b/v8/test/unittests/compiler/instruction-sequence-unittest.h
@@ -8,5 +8,5 @@
 #include "src/compiler/instruction.h"
 #include "test/unittests/test-utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace v8 {
diff --git a/test/unittests/compiler/js-builtin-reducer-unittest.cc b/test/unittests/compiler/js-builtin-reducer-unittest.cc
index 1809d40..ddc435b 100644
--- a/v8/test/unittests/compiler/js-builtin-reducer-unittest.cc
+++ b/v8/test/unittests/compiler/js-builtin-reducer-unittest.cc
@@ -9,5 +9,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::BitEq;
diff --git a/test/unittests/compiler/js-intrinsic-lowering-unittest.cc b/test/unittests/compiler/js-intrinsic-lowering-unittest.cc
index 1b8a87e..99af51a 100644
--- a/v8/test/unittests/compiler/js-intrinsic-lowering-unittest.cc
+++ b/v8/test/unittests/compiler/js-intrinsic-lowering-unittest.cc
@@ -9,5 +9,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::_;
diff --git a/test/unittests/compiler/js-typed-lowering-unittest.cc b/test/unittests/compiler/js-typed-lowering-unittest.cc
index 4fb4b24..c658b87 100644
--- a/v8/test/unittests/compiler/js-typed-lowering-unittest.cc
+++ b/v8/test/unittests/compiler/js-typed-lowering-unittest.cc
@@ -12,5 +12,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::BitEq;
diff --git a/test/unittests/compiler/loop-peeling-unittest.cc b/test/unittests/compiler/loop-peeling-unittest.cc
index dd0c46c..93a2506 100644
--- a/v8/test/unittests/compiler/loop-peeling-unittest.cc
+++ b/v8/test/unittests/compiler/loop-peeling-unittest.cc
@@ -14,5 +14,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::AllOf;
diff --git a/test/unittests/compiler/machine-operator-reducer-unittest.cc b/test/unittests/compiler/machine-operator-reducer-unittest.cc
index 11c679c..a900bd5 100644
--- a/v8/test/unittests/compiler/machine-operator-reducer-unittest.cc
+++ b/v8/test/unittests/compiler/machine-operator-reducer-unittest.cc
@@ -10,5 +10,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::AllOf;
diff --git a/test/unittests/compiler/node-properties-unittest.cc b/test/unittests/compiler/node-properties-unittest.cc
index edaf430..817ef9a 100644
--- a/v8/test/unittests/compiler/node-properties-unittest.cc
+++ b/v8/test/unittests/compiler/node-properties-unittest.cc
@@ -6,5 +6,5 @@
 #include "src/compiler/node-properties.h"
 #include "test/unittests/test-utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::AnyOf;
diff --git a/test/unittests/compiler/node-test-utils.h b/test/unittests/compiler/node-test-utils.h
index c1d580c..188ee34 100644
--- a/v8/test/unittests/compiler/node-test-utils.h
+++ b/v8/test/unittests/compiler/node-test-utils.h
@@ -8,5 +8,5 @@
 #include "src/compiler/machine-operator.h"
 #include "src/compiler/machine-type.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 namespace v8 {
diff --git a/test/unittests/compiler/node-unittest.cc b/test/unittests/compiler/node-unittest.cc
index f56d7d6..af73e2b 100644
--- a/v8/test/unittests/compiler/node-unittest.cc
+++ b/v8/test/unittests/compiler/node-unittest.cc
@@ -6,5 +6,5 @@
 #include "src/compiler/operator.h"
 #include "test/unittests/test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::ElementsAre;
diff --git a/test/unittests/compiler/opcodes-unittest.cc b/test/unittests/compiler/opcodes-unittest.cc
index 3bb65c2..ad51e5d 100644
--- a/v8/test/unittests/compiler/opcodes-unittest.cc
+++ b/v8/test/unittests/compiler/opcodes-unittest.cc
@@ -4,5 +4,5 @@
 
 #include "src/compiler/opcodes.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/compiler/scheduler-unittest.cc b/test/unittests/compiler/scheduler-unittest.cc
index eeb5bbc..d5961a1 100644
--- a/v8/test/unittests/compiler/scheduler-unittest.cc
+++ b/v8/test/unittests/compiler/scheduler-unittest.cc
@@ -17,5 +17,5 @@
 #include "test/unittests/compiler/compiler-test-utils.h"
 #include "test/unittests/test-utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::AnyOf;
diff --git a/test/unittests/compiler/schedule-unittest.cc b/test/unittests/compiler/schedule-unittest.cc
index bc82535..8b5e1a1 100644
--- a/v8/test/unittests/compiler/schedule-unittest.cc
+++ b/v8/test/unittests/compiler/schedule-unittest.cc
@@ -6,5 +6,5 @@
 #include "src/compiler/schedule.h"
 #include "test/unittests/test-utils.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::ElementsAre;
diff --git a/test/unittests/compiler/select-lowering-unittest.cc b/test/unittests/compiler/select-lowering-unittest.cc
index 51efc83..04f1221 100644
--- a/v8/test/unittests/compiler/select-lowering-unittest.cc
+++ b/v8/test/unittests/compiler/select-lowering-unittest.cc
@@ -6,5 +6,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::AllOf;
diff --git a/test/unittests/compiler/simplified-operator-reducer-unittest.cc b/test/unittests/compiler/simplified-operator-reducer-unittest.cc
index 3892412..87fa5e1 100644
--- a/v8/test/unittests/compiler/simplified-operator-reducer-unittest.cc
+++ b/v8/test/unittests/compiler/simplified-operator-reducer-unittest.cc
@@ -12,5 +12,5 @@
 #include "test/unittests/compiler/graph-unittest.h"
 #include "test/unittests/compiler/node-test-utils.h"
-#include "testing/gmock-support.h"
+//#include "testing/gmock-support.h"
 
 using testing::BitEq;
diff --git a/test/unittests/heap/gc-idle-time-handler-unittest.cc b/test/unittests/heap/gc-idle-time-handler-unittest.cc
index 2076e60..59aedde 100644
--- a/v8/test/unittests/heap/gc-idle-time-handler-unittest.cc
+++ b/v8/test/unittests/heap/gc-idle-time-handler-unittest.cc
@@ -6,5 +6,5 @@
 
 #include "src/heap/gc-idle-time-handler.h"
-#include "testing/gtest/include/gtest/gtest.h"
+//#include "testing/gtest/include/gtest/gtest.h"
 
 namespace v8 {
diff --git a/test/unittests/libplatform/default-platform-unittest.cc b/test/unittests/libplatform/default-platform-unittest.cc
index d2c160e..ecbac0f 100644
--- a/v8/test/unittests/libplatform/default-platform-unittest.cc
+++ b/v8/test/unittests/libplatform/default-platform-unittest.cc
@@ -4,5 +4,5 @@
 
 #include "src/libplatform/default-platform.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::InSequence;
diff --git a/test/unittests/libplatform/task-queue-unittest.cc b/test/unittests/libplatform/task-queue-unittest.cc
index 9a18658..6087f00 100644
--- a/v8/test/unittests/libplatform/task-queue-unittest.cc
+++ b/v8/test/unittests/libplatform/task-queue-unittest.cc
@@ -6,5 +6,5 @@
 #include "src/base/platform/platform.h"
 #include "src/libplatform/task-queue.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::InSequence;
diff --git a/test/unittests/libplatform/worker-thread-unittest.cc b/test/unittests/libplatform/worker-thread-unittest.cc
index 175b311..689b2e1 100644
--- a/v8/test/unittests/libplatform/worker-thread-unittest.cc
+++ b/v8/test/unittests/libplatform/worker-thread-unittest.cc
@@ -6,5 +6,5 @@
 #include "src/libplatform/task-queue.h"
 #include "src/libplatform/worker-thread.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 using testing::InSequence;
diff --git a/test/unittests/run-all-unittests.cc b/test/unittests/run-all-unittests.cc
index d2cc7dd..9c2e177 100644
--- a/v8/test/unittests/run-all-unittests.cc
+++ b/v8/test/unittests/run-all-unittests.cc
@@ -6,5 +6,5 @@
 #include "include/v8.h"
 #include "src/base/compiler-specific.h"
-#include "testing/gmock/include/gmock/gmock.h"
+//#include "testing/gmock/include/gmock/gmock.h"
 
 #ifdef V8_USE_EXTERNAL_STARTUP_DATA
diff --git a/test/unittests/test-utils.h b/test/unittests/test-utils.h
index 42831a7..684bfe8 100644
--- a/v8/test/unittests/test-utils.h
+++ b/v8/test/unittests/test-utils.h
@@ -10,5 +10,5 @@
 #include "src/base/utils/random-number-generator.h"
 #include "src/zone.h"
-#include "testing/gtest-support.h"
+//#include "testing/gtest-support.h"
 
 namespace v8 {
